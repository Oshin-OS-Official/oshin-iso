{"version":3,"file":"BlockedPageOnboardingRequiredOverlayView.js","sources":["../src/components/BlockedPageOnboardingRequiredOverlay/BlockedPageOnboardingRequiredOverlayView.js"],"sourcesContent":["import API from '~/core/CoreAPI'\nimport Browser from 'webextension-polyfill'\n\nvar log = API.Utils.createScopedLog('BlockedPageOnboardingRequiredOverlayView')\n\nexport default class BlockedPageOnboardingRequiredOverlayView {\n  iframe = null\n\n  constructor() {\n    log('constructor', 'Constructing view', null, 'DEBUG')\n  }\n\n  init() {\n    log('init', 'Initializing view', null, 'DEBUG')\n\n    // Create the URL\n    const url = new URL(\n      Browser.runtime.getURL(\n        '/components/BlockedPageOnboardingRequired/onboarding-required.html',\n      ),\n    )\n    const existing = document.querySelector(`iframe[src=\"${url}\"]`)\n    if (existing) {\n      log('init', 'View already initialized', null, 'DEBUG')\n      return\n    }\n\n    // Create the iframe\n    const iframe = document.createElement('iframe')\n    iframe.src = url\n\n    iframe.style.zIndex = 9999\n    iframe.style.width = '423px'\n    iframe.style.height = '292px' // enough for 3 lines of text\n    iframe.style.right = 0\n    iframe.style.top = 0\n    iframe.style.position = 'fixed'\n    iframe.style.backgroundColor = 'transparent'\n    iframe.setAttribute('allowtransparency', 'true')\n    iframe.setAttribute('frameBorder', '0')\n\n    document.body.append(iframe)\n    this.iframe = iframe\n\n    void API.Analytics.event('SHOW_BLOCKED_PAGE_ACTION_REQUIRED')\n  }\n\n  remove() {\n    this.iframe.remove()\n  }\n}\n"],"names":["log","API","BlockedPageOnboardingRequiredOverlayView","__publicField","url","Browser","iframe"],"mappings":"yOAGA,IAAIA,EAAMC,EAAI,MAAM,gBAAgB,0CAA0C,EAE/D,MAAMC,CAAyC,CAG5D,aAAc,CAFdC,EAAA,cAAS,MAGPH,EAAI,cAAe,oBAAqB,KAAM,OAAO,CACtD,CAED,MAAO,CACLA,EAAI,OAAQ,oBAAqB,KAAM,OAAO,EAG9C,MAAMI,EAAM,IAAI,IACdC,EAAQ,QAAQ,OACd,oEACD,CACF,EAED,GADiB,SAAS,cAAc,eAAeD,CAAG,IAAI,EAChD,CACZJ,EAAI,OAAQ,2BAA4B,KAAM,OAAO,EACrD,MACD,CAGD,MAAMM,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,IAAMF,EAEbE,EAAO,MAAM,OAAS,KACtBA,EAAO,MAAM,MAAQ,QACrBA,EAAO,MAAM,OAAS,QACtBA,EAAO,MAAM,MAAQ,EACrBA,EAAO,MAAM,IAAM,EACnBA,EAAO,MAAM,SAAW,QACxBA,EAAO,MAAM,gBAAkB,cAC/BA,EAAO,aAAa,oBAAqB,MAAM,EAC/CA,EAAO,aAAa,cAAe,GAAG,EAEtC,SAAS,KAAK,OAAOA,CAAM,EAC3B,KAAK,OAASA,EAETL,EAAI,UAAU,MAAM,mCAAmC,CAC7D,CAED,QAAS,CACP,KAAK,OAAO,OAAQ,CACrB,CACH"}