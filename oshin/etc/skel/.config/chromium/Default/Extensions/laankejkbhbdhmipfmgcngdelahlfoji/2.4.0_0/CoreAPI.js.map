{"version":3,"file":"CoreAPI.js","sources":["../src/core/ObjectUtils.ts","../src/core/GeneralUtils.ts","../src/core/API.ts","../node_modules/.pnpm/@babel+runtime@7.24.4/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/toInteger/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/requiredArgs/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/toDate/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/addMilliseconds/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/defaultOptions/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/isDate/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/isValid/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/subMilliseconds/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCWeek/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/addLeadingZeros/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/format/lightFormatters/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/format/formatters/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/format/longFormatters/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/protectedTokens/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/index.js","../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/format/index.js","../node_modules/.pnpm/@sensortower+panel-api-utils@1.2.6_chance@1.1.11/node_modules/@sensortower/panel-api-utils/dist/index.mjs","../node_modules/.pnpm/ua-parser-js@1.0.37/node_modules/ua-parser-js/src/ua-parser.js","../src/core/Amplitude.ts","../src/core/AmplitudeAPI.ts","../src/core/ChromeAPI.ts","../src/core/DateUtils.ts","../src/core/DomainParser.ts","../src/core/IncrementalRollout.ts","../src/core/Requirements.ts","../src/core/Storage.ts","../src/core/Settings.ts","../src/core/Time.ts","../src/core/RemoteConfig.ts","../node_modules/.pnpm/@sensortower+web-ext-usage@2.1.0_7ym2mnjylomc6kk2sgp3nhwrju/node_modules/@sensortower/web-ext-usage/dist/index.mjs","../src/core/AppConsts.ts","../node_modules/.pnpm/@sensortower+ad-finder@2.4.9_krx4milwcm7copkrlki2bk4huu/node_modules/@sensortower/ad-finder/dist/index.mjs","../src/core/WebUsage.ts","../node_modules/.pnpm/destr@2.0.3/node_modules/destr/dist/index.mjs","../node_modules/.pnpm/ufo@1.5.3/node_modules/ufo/dist/index.mjs","../node_modules/.pnpm/ofetch@1.3.4/node_modules/ofetch/dist/shared/ofetch.37386b05.mjs","../node_modules/.pnpm/ofetch@1.3.4/node_modules/ofetch/dist/index.mjs","../node_modules/.pnpm/@sensortower+panel-api@2.10.0_t6aiv4xuc4hyw7ldb5ubdjntwe/node_modules/@sensortower/panel-api/dist/index.mjs","../src/core/ScheduleJobs.ts","../src/core/vendor/DropletJS.PubSub.min.js","../src/core/Notification.ts","../src/core/badge-icons.ts","../src/core/NuclearOption.ts","../src/core/BlockedGroupsTimer.ts","../src/core/BlockedAllWebsites.ts","../src/utils/isHostnameBlocked.ts","../src/core/BlockedGroupsRepository.ts","../src/core/Message.ts","../src/core/StayFocusd.ts","../src/core/WhitelistRepository.ts","../src/core/CoreAPI.ts"],"sourcesContent":["import { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Object: ReturnType<typeof ObjectUtils.initAPI>\n  }\n}\n\n/**\n * ObjectUtils singleton definition\n */\nconst ObjectUtils = {\n  /**\n   * Initializes the Object API\n   *\n   * @param API\n   */\n  initAPI(API: API) {\n    return API.mixin('Object', this)\n  },\n\n  /**\n   * Merges source object into target object\n   *\n   * @param target The target object\n   * @param source The source object\n   * @param deep If true, deep merge is conducted\n   * @return {Object} Merged object\n   */\n  merge: function (\n    target: Record<string, any>,\n    source: Record<string, any>,\n    deep: boolean = false,\n  ): Record<string, any> {\n    return deep\n      ? Object.assign(true, target, source)\n      : Object.assign(target, source)\n  },\n\n  /**\n   * Looks up the value of nested object based on dot notation.\n   *\n   * For example:\n   *\n   * var foo = {\n   *     bar : {\n   *         baz : 'yay!'\n   *     }\n   * };\n   *\n   * ObjectUtils.lookup('bar.baz',foo); // returns 'yay!'\n   *\n   * @param dotPath Dot-notated path to nested object\n   * @param sourceObj\n   * @return {*}\n   */\n  lookup: function (dotPath: string, sourceObj: Record<string, any>) {\n    const parts = dotPath.split('.')\n    const lastPart = parts.pop()!\n    const len = parts.length\n    let counter = 1\n    let current = parts[0]\n\n    while ((sourceObj = sourceObj[current]) && counter < len) {\n      current = parts[counter]\n      counter += 1\n    }\n\n    if (sourceObj) {\n      return sourceObj[lastPart]\n    }\n  },\n\n  /**\n   * Checks whether an object is an object literal\n   *\n   * @param obj\n   * @returns {boolean}\n   */\n  isObjLiteral: function (obj: Record<string, any>) {\n    return (\n      typeof obj === 'object' &&\n      obj !== null &&\n      typeof obj.length === 'undefined'\n    )\n  },\n\n  /**\n   * Checks whether an object is an array\n   *\n   * @param obj\n   * @returns {boolean}\n   */\n  isArray: function (obj: any) {\n    return (\n      typeof obj === 'object' &&\n      obj !== null &&\n      typeof obj.length !== 'undefined'\n    )\n  },\n\n  /**\n   * Checks whether a string can be parsed as JSON\n   *\n   * @param str The string to check\n   * @returns {boolean}\n   */\n  isJSON: function (str: any) {\n    try {\n      JSON.parse(str)\n    } catch (e) {\n      return false\n    }\n\n    return true\n  },\n\n  /**\n   * Sorts object by property name\n   *\n   * @param obj The object to sort\n   * @returns {Object} The sorted object\n   */\n  sort: function (obj: Record<string, any>) {\n    const keys = []\n    const sortedObj: Record<string, any> = {}\n\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        keys.push(key)\n      }\n    }\n\n    keys.sort()\n\n    for (let i = 0; i < keys.length; i++) {\n      const key2 = keys[i]\n      sortedObj[key2] = obj[key2]\n    }\n\n    return sortedObj\n  },\n}\n\nexport default ObjectUtils\n","import Logger, { LogLevel } from './Logger'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Utils: ReturnType<typeof Utils.initAPI>\n  }\n}\n\n/**\n * ObjectUtils singleton definition\n */\nconst Utils = {\n  firstToLower: function (str: string) {\n    return typeof str === 'string' ? str.toLowerCase()[0] + str.slice(1) : str\n  },\n\n  firstToUpper: function (str: string) {\n    return typeof str === 'string' ? str.toUpperCase()[0] + str.slice(1) : str\n  },\n\n  isEmpty: function (value: string) {\n    return (\n      value === null ||\n      value === '' ||\n      typeof value === 'undefined' ||\n      Object.keys(value).length === 0\n    )\n  },\n\n  /**\n   * Replaces commonly-used Windows 1252 encoded chars that do not exist in\n   * ASCII or ISO-8859-1 with ISO-8859-1 cognates.\n   *\n   * @param text Text to sanitize\n   * @returns {*}\n   */\n  sanitizeMSWordChars: function (text: string) {\n    let s = text\n    // smart single quotes and apostrophe\n    s = s.replace(/[\\u2018\\u2019\\u201A]/g, \"'\")\n    // smart double quotes\n    s = s.replace(/[\\u201C\\u201D\\u201E]/g, '\"')\n    // ellipsis\n    s = s.replace(/\\u2026/g, '...')\n    // dashes\n    s = s.replace(/[\\u2013\\u2014]/g, '--')\n    // circumflex\n    s = s.replace(/\\u02C6/g, '^')\n    // open angle bracket\n    s = s.replace(/\\u2039/g, '<')\n    // close angle bracket\n    s = s.replace(/\\u203A/g, '>')\n    // spaces\n    s = s.replace(/[\\u02DC\\u00A0]/g, ' ')\n\n    return s\n  },\n\n  /**\n   * Returns all the components of a promise separately (promise, resolve, reject).\n   * @returns {{ resolve: (value: any) => void; reject: (err: unknown) => void; promise: Promise<any> }}\n   */\n  getDecoupledPromise<T = void>(): {\n    resolve: (t?: T) => void\n    reject: (err?: any) => void\n    promise: Promise<T>\n  } {\n    let resolve: (value?: unknown) => void\n    let reject: () => void\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    // TODO - make this work happily with TS\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    return { resolve, reject, promise }\n  },\n\n  /**\n   * Creates a log function that prefixes the function name with the given scope.\n   *\n   * @param {string} scope\n   * @returns {(funcName: string, message: string, payload: any | undefined, level: 'ERROR' | 'WARN' | 'INFO' | 'DEBUG') => void}\n   */\n  createScopedLog(scope: string) {\n    return (\n      funcName: string,\n      message: string,\n      payload: any = undefined,\n      level: LogLevel = 'INFO',\n    ) => {\n      Logger.log(`${scope}.${funcName}`, message, payload, level)\n    }\n  },\n\n  /**\n   * Returns true if the current window is the top frame of a web page. Iframes will return\n   * false.\n   */\n  isTopFrame() {\n    return window.self === window.top\n  },\n\n  initAPI(API: API) {\n    return API.mixin('Utils', {\n      firstToLower: this.firstToLower.bind(this),\n      firstToUpper: this.firstToUpper.bind(this),\n      isEmpty: this.isEmpty.bind(this),\n      sanitizeMSWordChars: this.sanitizeMSWordChars.bind(this),\n      getDecoupledPromise: this.getDecoupledPromise.bind(this),\n      createScopedLog: this.createScopedLog.bind(this),\n      isTopFrame: this.isTopFrame.bind(this),\n    })\n  },\n}\n\nexport default Utils\n","import ObjectUtils from './ObjectUtils'\nimport GeneralUtils from './GeneralUtils'\n\nconst log = GeneralUtils.createScopedLog('API')\n\n/**\n * API singleton\n *\n * Mixins can be added to the API by calling:\n *\n * K.API.mixin('MixinName',{ someFunc : function(){ ... } })\n * K.API.mixin('foo.bar.Baz',{ someFunc : function(){ ... } })\n * K.API.mixin({ someFunc : function(){ ... } })\n * K.API.mixin(function(){ return { ... } })\n */\n\n// TODO - Refactor to classes for standard public/private, autogenerate this interface from the classes array in CoreAPI.ts, and remove inline module augmentation\nexport interface API {\n  mixin<TFunctions>(name: keyof API, functions: TFunctions): TFunctions\n  mixin<T>(entries: T): T\n}\n\nconst api = (() => {\n  const _api = (() => {\n    let mixins = {} as API\n    let mixinTemp: null | Record<string, any> = null\n\n    const mixin = function (...args: any[]) {\n      let name = ''\n      let mixinObj: null | Record<string, any> = null\n\n      if (args.length === 0) {\n        throw new TypeError('Mixin has no arguments')\n      }\n\n      log('mixin', 'Adding mixin to API', args, 'DEBUG')\n\n      if (args.length === 2 && typeof args[0] === 'string') {\n        name = args[0]\n\n        if (typeof args[1] === 'object' && args[1] !== null) {\n          mixinObj = args[1]\n        } else if (typeof args[1] === 'function') {\n          mixinObj = args[1]()\n        }\n\n        if (mixinObj) {\n          /* If mixin name uses dot notation, recursively call mixin() to create nested object */\n          if (name.indexOf('.') > -1) {\n            const parts = name.split('.')\n            const lastPart = parts.pop()!\n            const result: Record<string, any> = {}\n\n            /* If it's not already there, look up current value of the nested object\n             * referenced by this dot notation, and persist it in a temp variable */\n            if (!mixinTemp) {\n              mixinTemp = ObjectUtils.lookup(name, mixins)\n            }\n\n            /* Deep merge the mixin with the existing object (if any) */\n            result[lastPart] = mixinTemp\n              ? ObjectUtils.merge(mixinTemp, mixinObj, true)\n              : mixinObj\n\n            /* Recursively call mixin() to create nested object */\n            mixin(parts.join('.'), result)\n          } else {\n            /* Otherwise, assign mixin to name on root mixins object */\n            /* If the mixin already exists, merge this mixin into it */\n            const mixinName = name as keyof API\n            if (name in mixins) {\n              mixins[mixinName] = ObjectUtils.merge(\n                mixins[mixinName],\n                mixinObj,\n              ) as any\n            } else {\n              /* Otherwise, add mixin directly to root mixins obj */\n              mixins[mixinName] = mixinObj as any\n            }\n\n            mixinTemp = null\n          }\n        }\n      } else if (\n        args.length === 1 &&\n        typeof args[0] === 'object' &&\n        args[0] !== null\n      ) {\n        mixins = ObjectUtils.merge(mixins, args[0]) as API\n      } else if (args.length === 1 && typeof args[0] === 'function') {\n        mixinObj = args[0]()\n\n        if (typeof mixinObj === 'object' && mixinObj !== null) {\n          mixins = ObjectUtils.merge(mixins, mixinObj) as API\n        }\n      }\n    }\n\n    mixin({\n      mixin: mixin,\n    })\n\n    return mixins\n  })()\n  return _api\n})()\n\nexport const API = api\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}","var defaultOptions = {};\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param {*} value - the value to check\n * @returns {boolean} true if the given value is a date\n * @throws {TypeError} 1 arguments required\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport default function isDate(value) {\n  requiredArgs(1, arguments);\n  return value instanceof Date || _typeof(value) === 'object' && Object.prototype.toString.call(value) === '[object Date]';\n}","import isDate from \"../isDate/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport default function isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  if (!isDate(dirtyDate) && typeof dirtyDate !== 'number') {\n    return false;\n  }\n  var date = toDate(dirtyDate);\n  return !isNaN(Number(date));\n}","import addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\nexport default function getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function getUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, options);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, options);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n  var year = getUTCWeekYear(dirtyDate, options);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, options);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n  return sign + output;\n}","import addLeadingZeros from \"../../addLeadingZeros/index.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\nvar formatters = {\n  // Year\n  y: function y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    var signedYear = date.getUTCFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function M(date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function d(date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function a(date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n      case 'aaa':\n        return dayPeriodEnumValue;\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function H(date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function m(date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function s(date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;","import getUTCDayOfYear from \"../../../_lib/getUTCDayOfYear/index.js\";\nimport getUTCISOWeek from \"../../../_lib/getUTCISOWeek/index.js\";\nimport getUTCISOWeekYear from \"../../../_lib/getUTCISOWeekYear/index.js\";\nimport getUTCWeek from \"../../../_lib/getUTCWeek/index.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport addLeadingZeros from \"../../addLeadingZeros/index.js\";\nimport lightFormatters from \"../lightFormatters/index.js\";\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n};\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nvar formatters = {\n  // Era\n  G: function G(date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function y(date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function Y(date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function R(date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function u(date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function Q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function M(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function L(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function w(date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function I(date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function d(date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function D(date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function E(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function e(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function c(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function i(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function a(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function b(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function B(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function H(date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function K(date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function k(date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function m(date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function s(date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function X(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function x(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function O(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function z(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function t(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function T(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, dirtyDelimiter);\n}\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\nexport default formatters;","var dateLongFormatter = function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n};\nvar timeLongFormatter = function timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n};\nvar dateTimeLongFormatter = function dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/) || [];\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n  var dateTimeFormat;\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n};\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;","var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  }\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nvar formatDistance = function formatDistance(token, count, options) {\n  var result;\n  var tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === 'string') {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace('{{count}}', count.toString());\n  }\n  if (options !== null && options !== void 0 && options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n  return result;\n};\nexport default formatDistance;","export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nvar formatRelative = function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n};\nexport default formatRelative;","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, options) {\n    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n  var number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n      case 2:\n        return number + 'nd';\n      case 3:\n        return number + 'rd';\n    }\n  }\n  return number + 'th';\n};\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n    if (!matchResult) {\n      return null;\n    }\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}","export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}","import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import isValid from \"../isValid/index.js\";\nimport subMilliseconds from \"../subMilliseconds/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport formatters from \"../_lib/format/formatters/index.js\";\nimport longFormatters from \"../_lib/format/longFormatters/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from \"../_lib/protectedTokens/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\"; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * >  Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, options) {\n  var _ref, _options$locale, _ref2, _ref3, _ref4, _options$firstWeekCon, _options$locale2, _options$locale2$opti, _defaultOptions$local, _defaultOptions$local2, _ref5, _ref6, _ref7, _options$weekStartsOn, _options$locale3, _options$locale3$opti, _defaultOptions$local3, _defaultOptions$local4;\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n  var firstWeekContainsDate = toInteger((_ref2 = (_ref3 = (_ref4 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale2 = options.locale) === null || _options$locale2 === void 0 ? void 0 : (_options$locale2$opti = _options$locale2.options) === null || _options$locale2$opti === void 0 ? void 0 : _options$locale2$opti.firstWeekContainsDate) !== null && _ref4 !== void 0 ? _ref4 : defaultOptions.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var weekStartsOn = toInteger((_ref5 = (_ref6 = (_ref7 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale3 = options.locale) === null || _options$locale3 === void 0 ? void 0 : (_options$locale3$opti = _options$locale3.options) === null || _options$locale3$opti === void 0 ? void 0 : _options$locale3$opti.weekStartsOn) !== null && _ref7 !== void 0 ? _ref7 : defaultOptions.weekStartsOn) !== null && _ref6 !== void 0 ? _ref6 : (_defaultOptions$local3 = defaultOptions.locale) === null || _defaultOptions$local3 === void 0 ? void 0 : (_defaultOptions$local4 = _defaultOptions$local3.options) === null || _defaultOptions$local4 === void 0 ? void 0 : _defaultOptions$local4.weekStartsOn) !== null && _ref5 !== void 0 ? _ref5 : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n  var originalDate = toDate(dirtyDate);\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong);\n    }\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n    var firstCharacter = substring[0];\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n    var formatter = formatters[firstCharacter];\n    if (formatter) {\n      if (!(options !== null && options !== void 0 && options.useAdditionalWeekYearTokens) && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));\n      }\n      if (!(options !== null && options !== void 0 && options.useAdditionalDayOfYearTokens) && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));\n      }\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n    return substring;\n  }).join('');\n  return result;\n}\nfunction cleanEscapedString(input) {\n  var matched = input.match(escapedStringRegExp);\n  if (!matched) {\n    return input;\n  }\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}","import{format as a}from\"date-fns\";function l(){return a(new Date,\"OOOO\")}function u(){let e=/^.+?(-|_)(.+?)($|-|_)/,t=[...typeof navigator<\"u\"?navigator.languages:[],Intl.DateTimeFormat().resolvedOptions().locale].map(r=>{var n;return(n=r.match(e))==null?void 0:n[2]}).find(r=>!!r);return t==null?void 0:t.toUpperCase()}var i=13,o=\"abcdefghijklmnopqrstuvwxyz0123456789\",c=o.length;function f(){let e=\"\";for(let t=0;t<i;t++)e+=o.charAt(Math.floor(Math.random()*c));return e}function p(e,t){if(typeof e==\"string\"&&(e=s(e.trim())),!e)return;let r=(t==null?void 0:t.removeGenericPrefixes)??!0,n=e.hostname;return r&&(n=n.replace(/^(m|mobile|amp|www|www1|www2|www3|tab|item|checkout|secure|user|account|accounts|web|app|open|i|v|preview|cdn|l|id|nid|user|sso|signin|login|auth0|play|api|click|detail|dashboard|console|manage|support|help)\\./,\"\").replace(/.*\\.zoom\\.us/,\"zoom.us\").replace(/.*\\.slack\\.com/,\"slack.com\").replace(/.*\\.wikipedia\\.org/,\"wikipedia.org\").replace(/.*\\.amazonaws\\.com/,\"amazonaws.com\").replace(/.*\\.netsuite\\.com/,\"netsuite.com\").replace(/.*\\.tumblr\\.com/,\"tumblr.com\").replace(/.*\\.deviantart\\.com/,\"deviantart.com\")),{hostname:n,path:m(e.pathname)}}function s(e){if(!e)return;let t=r=>{let n=new URL(r);if(!/^https?:/.test(n.protocol))throw Error(\"Invalid URL, ignored protocol found\");if(!n.hostname)throw Error(\"Invalid URL, no hostname\");if(n.hostname.lastIndexOf(\".\")>=n.hostname.length-2)throw Error(\"Invalid URL, bad domain ending\");return n};try{return t(e)}catch{}if(!e.includes(\"://\"))try{return t(\"https://\"+e)}catch{}}function m(e){return e.endsWith(\"/\")?e.substring(0,Math.max(1,e.length-1)):e}export{f as generateInstallId,u as getCountryCode,l as getGmtTimeZone,p as parseUrl};\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.37\n   Copyright  2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.37',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 500;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant|iemobile|slim)\\s?(?:browser)?[\\/ ]?([\\w\\.]*)/i,             // Avant/IEMobile/SlimBrowser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(heytap|ovi)browser\\/([\\d\\.]+)/i,                                  // Heytap/Ovi\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart Lenovo '+BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 ' + BROWSER]], [\n            /(oculus|sailfish|huawei|vivo)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 ' + BROWSER], VERSION], [                    // Oculus/Sailfish/HuaweiBrowser/VivoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, 'Sogou Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, 'Sogou Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345Explorer)[\\/ ]?([\\w\\.]+)/i                        // QQBrowser/2345 Browser\n            ], [NAME, VERSION], [\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(Klarna)\\/([\\w\\.]+)/i,                                             // Klarna Shopping Browser for iOS & Android\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i                     // Chromium/Instagram/Snapchat\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i,                                             // Links\n            /panasonic;(viera)/i                                                // Panasonic Viera\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,                  // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,        // Xiaomi Redmi 'numeric' models\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /oid[^\\)]+; (2\\d{4}(283|rpbf)[cgl])( bui|\\))/i,                     // Redmi Pad\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,                             // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2| pro)?)/i                                                // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i    // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i             // Windows Phone\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /windows nt 6\\.2; (arm)/i,                                        // Windows RT\n            /windows[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n            /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[VERSION, strMapper, windowsVersionMap], [NAME, 'Windows']], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","/**\n * Use Amplitude via the `core/CoreAPI` module. It is registered under the `Analytics` field.\n *\n * 1. Make sure to call `API.Analytics.init()` first. It returns a promise, so you can use `.then`\n *    to run something as soon as it is initialized.\n *\n * 2. Call `API.Analytics.event('EVENT_NAME', { event: \"properties\" })` to report an event. The\n *    second parameter for event properties is optional.\n *\n * 3. To report events on the DOM, call `API.Analytics.bindHtmlEvents()`. Then you can add\n *    attributes to your HTML to automatically report events, like on click.\n */\n\nimport * as PanelAPIUtils from '@sensortower/panel-api-utils'\nimport UAParser, { IBrowser, IOS } from 'ua-parser-js'\nimport { API } from './API'\nimport GeneralUtils from './GeneralUtils'\n\ndeclare module '~/core/API' {\n  interface API {\n    Analytics: ReturnType<typeof Amplitude.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('Amplitude')\n\nlet api: API\n\nconst Amplitude = {\n  installIdKey: 'install-id',\n\n  initialized: null as Promise<void> | null,\n\n  installId: null as string | null, // Unique identifier per install\n  browser: null as IBrowser | null, // Name of the browser being used\n  os: null as IOS | null, // Operating System in use\n  version: null as string | null, // Extension's version\n  sessionId: null as number | null, // Session start time in MS since epoch\n  sampleGroup: null as number | null, // Number from 0-100, used to decide if an event should be sampled.\n  enabled: null as boolean | null, // Whether the user has enabled analytics\n\n  /**\n   * Sets Amplitude as the provided Analytics API, defining the public fields on the API\n   * object.\n   */\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('Analytics', {\n      init: this.init.bind(this),\n      event: this.event.bind(this),\n      bindHtmlEvents: this.bindHtmlEvents.bind(this),\n    })\n  },\n\n  /**\n   * Initialize the Amplitude API, loading the details.\n   */\n  async init() {\n    if (this.initialized != null) {\n      log?.(\n        'init',\n        'Amplitude already initialized',\n        { sessionId: this.sessionId },\n        'DEBUG',\n      )\n    } else {\n      const { promise, resolve } = api.Utils.getDecoupledPromise()\n      this.initialized = promise as Promise<void>\n\n      const parser = new UAParser(navigator.userAgent)\n      this.sessionId = Date.now()\n      this.os = parser.getOS()\n      this.browser = parser.getBrowser()\n      this.version = api.Chrome.Extension.getVersion()\n      this.sampleGroup = await api.Storage.getOrSet(\n        'analyticsSamplingGroup',\n        100 * Math.random(),\n      )\n      const canUpload = api.Settings.get('hasAcceptedPrivacyPolicy') ?? true\n      const isProduction = !!MINIFIED\n      this.enabled = canUpload && isProduction\n\n      this.installId = await api.Storage.get(this.installIdKey)\n      if (!this.installId) {\n        this.installId = PanelAPIUtils.generateInstallId()\n        await api.Storage.set({\n          [this.installIdKey]: this.installId,\n        })\n      }\n\n      resolve()\n      log?.('init', 'Initialized Amplitude', this, 'INFO')\n    }\n  },\n\n  /**\n   * Send an event to Amplitude.\n   *\n   * @param {string} eventType The event's type or name.\n   * @param {Record<string, any>} eventProperties Additional properties that should be listed on the event.\n   */\n  async event(\n    eventType: string,\n    eventProperties?: Record<string, any>,\n  ): Promise<void> {\n    if (!this.initialized) {\n      log?.('event', 'Cannot report event until initialized', this, 'WARN')\n      return\n    }\n\n    const timestamp = Date.now()\n    await this.initialized\n    const amplitudeSampling = api.RemoteConfig.get('amplitudeSampling')\n    const defaultSampling = api.RemoteConfig.get('defaultAmplitudeSampling')\n    const samplePercentInt = amplitudeSampling[eventType] ?? defaultSampling\n    const isSampled = this.sampleGroup! < samplePercentInt\n    const enabled = this.enabled && isSampled\n\n    const event = {\n      event_type: eventType,\n      user_id: this.installId,\n      user_properties: {\n        hasAcceptedToS: !!api.Settings.get('hasAcceptedToS'),\n        hasAcceptedPrivacyPolicy: !!api.Settings.get(\n          'hasAcceptedPrivacyPolicy',\n        ),\n        explicitlyDeclinedPrivacyPolicy: !!api.Settings.get(\n          'explicitlyDeclinedPrivacyPolicy',\n        ),\n        isNewUser: !!api.Settings.get('isNewUser'),\n        is18OrOlder: api.Settings.get('is18OrOlder'),\n        age: api.Settings.get('age'),\n      },\n      time: timestamp,\n      event_properties: {\n        page: `${location.protocol}//${location.hostname}${location.pathname}`,\n        ...eventProperties,\n      },\n      app_version: this.version,\n      // Amplitude wants the browser for the os_name, so we pass the os to the\n      // platform field instead.\n      os_name: this.browser!.name,\n      os_version: this.browser!.version,\n      platform: this.os!.name,\n    }\n    log?.(\n      'event',\n      enabled ? 'Reported event' : 'Skipped event',\n      { event, samplePercentInt, isSampled, thisEnabled: this.enabled },\n      'DEBUG',\n    )\n    if (!enabled) return\n\n    await api.AmplitudeAPI.uploadEvents(event)\n  },\n\n  /**\n   * Queries all elements matching `*[data-analytics-click]` and adds events to their\n   * click handlers.\n   *\n   * For example, if you want to submit the `SIGN_UP` event when clicking on a sign up\n   * buttons, add the attribute the the element:\n   *\n   * ```html\n   * <button data-analytics-click=\"SIGN_UP\">Sign Up</button>\n   * ```\n   *\n   * Then call `API.Analytics.bindHtmlEvents()`.\n   */\n  bindHtmlEvents() {\n    log?.(\n      'bindHtmlEvents',\n      'Binding amplitude events to DOM',\n      undefined,\n      'DEBUG',\n    )\n\n    const clickAttr = 'data-analytics-click'\n    document.querySelectorAll(`*[${clickAttr}]`).forEach((element) => {\n      element.addEventListener('click', (event) => {\n        const target = event.target as HTMLElement\n        const eventType = target?.getAttribute?.(clickAttr)\n        if (!eventType) return\n\n        this.event(eventType!)\n      })\n    })\n\n    const toggledAttr = 'data-analytics-toggle'\n    document.querySelectorAll(`*[${toggledAttr}]`).forEach((element) => {\n      element.addEventListener('change', (event) => {\n        const target = event.target as HTMLInputElement\n        const checked = target?.checked\n        const eventType = target?.getAttribute?.(toggledAttr)\n        if (!eventType) return\n\n        this.event(eventType, { checked })\n      })\n    })\n  },\n}\n\nexport default Amplitude\n","/**\n * Provides raw API calls for Amplitude.\n */\nimport { API } from './API'\nimport GeneralUtils from './GeneralUtils'\n\ndeclare module '~/core/API' {\n  interface API {\n    AmplitudeAPI: ReturnType<typeof AmplitudeAPI.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('AmplitudeAPI')\n\nconst AmplitudeAPI = {\n  baseUrl: 'https://api2.amplitude.com',\n  apiKey: '07de81d51a94380a82c075614cd12f6e',\n\n  // eslint-disable-next-line no-undef\n  initAPI(API: API) {\n    return API.mixin('AmplitudeAPI', {\n      uploadEvents: this.uploadEvents.bind(this),\n    })\n  },\n\n  async uploadEvents(...events: any[]) {\n    return await fetch(`${this.baseUrl}/batch`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: '*/*',\n      },\n      body: JSON.stringify({\n        api_key: this.apiKey,\n        events,\n      }),\n    }).catch((err) => {\n      log('uploadEvents', 'Failed to upload event', err, 'WARN')\n    })\n  },\n}\n\nexport default AmplitudeAPI\n","import { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Chrome: ReturnType<typeof ChromeAPI.initAPI>\n  }\n}\n\nconst ChromeAPI = {\n  /**\n   * Initializes the Chrome API\n   *\n   * @param API\n   */\n  initAPI(API: API) {\n    return API.mixin('Chrome', {\n      Extension: {\n        addListener: this.exists('runtime')\n          ? this.addRuntimeListener.bind(this)\n          : this.throwMisusedAPIException,\n        connect: this.exists('runtime', 'connect')\n          ? chrome.runtime.connect.bind(chrome.runtime)\n          : this.throwMisusedAPIException,\n        getID: this.exists('runtime')\n          ? function () {\n              return chrome.runtime.id\n            }\n          : this.throwMisusedAPIException,\n        getURL: this.exists('extension', 'getURL')\n          ? chrome.extension.getURL.bind(chrome.extension)\n          : this.throwMisusedAPIException,\n        reload: this.exists('runtime', 'reload')\n          ? chrome.runtime.reload.bind(chrome.runtime)\n          : this.throwMisusedAPIException,\n        getVersion: this.exists('runtime', 'getManifest')\n          ? this.getVersion.bind(this)\n          : this.throwMisusedAPIException,\n        setUninstallURL: this.exists('runtime', 'setUninstallURL')\n          ? chrome.runtime.setUninstallURL.bind(chrome.runtime)\n          : this.throwMisusedAPIException,\n      },\n\n      Message: {\n        on: chrome.runtime.onMessage,\n        send: this.exists('runtime', 'sendMessage')\n          ? chrome.runtime.sendMessage.bind(chrome.runtime)\n          : this.throwMisusedAPIException,\n        sendToTab: this.exists('tabs', 'sendMessage')\n          ? chrome.tabs.sendMessage.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n      },\n\n      Notification: {\n        create: this.exists('notifications', 'create')\n          ? chrome.notifications.create.bind(chrome.notifications)\n          : this.throwMisusedAPIException,\n        clear: this.exists('notifications', 'clear')\n          ? chrome.notifications.clear.bind(chrome.notifications)\n          : this.throwMisusedAPIException,\n      },\n\n      Storage: {\n        addListener: this.exists('storage')\n          ? this.addStorageListener.bind(this)\n          : this.throwMisusedAPIException,\n        getLocal: this.exists('storage')\n          ? chrome.storage.local.get.bind(chrome.storage.local)\n          : this.throwMisusedAPIException,\n        getSync: this.exists('storage')\n          ? chrome.storage.sync.get.bind(chrome.storage.sync)\n          : this.throwMisusedAPIException,\n        removeLocal: this.exists('storage')\n          ? chrome.storage.local.remove.bind(chrome.storage.local)\n          : this.throwMisusedAPIException,\n        removeSync: this.exists('storage')\n          ? chrome.storage.sync.remove.bind(chrome.storage.sync)\n          : this.throwMisusedAPIException,\n        setLocal: this.exists('storage')\n          ? chrome.storage.local.set.bind(chrome.storage.local)\n          : this.throwMisusedAPIException,\n        setSync: this.exists('storage')\n          ? chrome.storage.sync.set.bind(chrome.storage.sync)\n          : this.throwMisusedAPIException,\n      },\n\n      Tab: {\n        addListener: this.exists('tabs')\n          ? this.addTabsListener.bind(this)\n          : this.throwMisusedAPIException,\n        create: this.exists('tabs', 'create')\n          ? chrome.tabs.create.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n        getAllInWindow: this.exists('tabs', 'query')\n          ? this.getAllTabsInWindow.bind(this)\n          : this.throwMisusedAPIException,\n        getCurrent: this.exists('tabs', 'getCurrent')\n          ? chrome.tabs.getCurrent.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n        getSelected: this.exists('tabs', 'query')\n          ? this.getSelectedTab.bind(this)\n          : this.throwMisusedAPIException,\n        remove: this.exists('tabs', 'remove')\n          ? chrome.tabs.remove.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n        update: this.exists('tabs', 'update')\n          ? chrome.tabs.update.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n        get: this.exists('tabs', 'get')\n          ? chrome.tabs.get.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n      },\n\n      Translation: {\n        get: this.exists('i18n', 'getMessage')\n          ? chrome.i18n.getMessage.bind(chrome.i18n)\n          : this.throwMisusedAPIException,\n      },\n\n      Window: {\n        addListener: this.exists('windows')\n          ? this.addWindowsListener.bind(this)\n          : this.throwMisusedAPIException,\n        getLastFocused: this.exists('windows', 'getLastFocused')\n          ? chrome.windows.getLastFocused.bind(chrome.windows)\n          : this.throwMisusedAPIException,\n      },\n\n      Alarms: {\n        addListener: this.exists('alarms')\n          ? this.addAlarmsListener.bind(this)\n          : this.throwMisusedAPIException,\n        ensure: this.exists('alarms')\n          ? this.ensureAlarm.bind(this)\n          : this.throwMisusedAPIException,\n      },\n    })\n  },\n\n  /**\n   * Gets the selected tab\n   *\n   * @param windowID The id of the window to get, or null for current window\n   * @param callback Function to which to return the selected tab\n   */\n  getSelectedTab: function (\n    windowID: number | undefined,\n    callback: (tab: chrome.tabs.Tab | undefined) => void,\n  ) {\n    const query: chrome.tabs.QueryInfo = {\n      active: true,\n    }\n\n    if (windowID) {\n      query.windowId = windowID\n    } else {\n      query.currentWindow = true\n    }\n\n    chrome.tabs.query(query, function (tabs) {\n      const tab = tabs[0]\n\n      if (typeof callback === 'function') {\n        callback(tab)\n      }\n    })\n  },\n\n  /**\n   * Gets all the tabs in the specified window, or current window if none specified\n   *\n   * @param windowID The id of the window to get, or null for current window\n   * @param callback Function to which to return an array of tabs\n   */\n  getAllTabsInWindow: function (\n    windowID: number | undefined,\n    callback: (tabs: chrome.tabs.Tab[]) => void,\n  ) {\n    const query: { windowId?: number; currentWindow?: boolean } = {}\n\n    if (windowID) {\n      query.windowId = windowID\n    } else {\n      query.currentWindow = true\n    }\n\n    chrome.tabs.query(query, function (tabs) {\n      if (typeof callback === 'function') {\n        callback(tabs)\n      }\n    })\n  },\n\n  /**\n   * Get the extension's version listed in the manifest.\n   *\n   * @returns {string}\n   */\n  getVersion() {\n    return chrome.runtime.getManifest().version\n  },\n\n  /**\n   * Ensure an alarm exists.\n   *\n   * @param {string} name the alarm name.\n   * @param {AlarmCreateInfo} alarmInfo The details to create the alarm with if it doesn't exist.\n   * @returns {Promise<void>}\n   */\n  async ensureAlarm(name: string, alarmInfo: any) {\n    return new Promise((res: Function) => {\n      chrome.alarms.get(name, (alarm) => {\n        if (!alarm) chrome.alarms.create(name, alarmInfo)\n        res()\n      })\n    })\n  },\n\n  /**\n   * Adds listener for chrome.runtime\n   *\n   * @param listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addRuntimeListener: function (listenTo: string, listener: Function) {\n    this.addListener('runtime', listenTo, listener)\n  },\n\n  /**\n   * Adds listener for chrome.storage\n   *\n   * @param listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addStorageListener: function (listenTo: any, listener: any) {\n    this.addListener('storage', listenTo, listener)\n  },\n\n  /**\n   * Adds listener for chrome.tabs\n   *\n   * @param listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addTabsListener: function (listenTo: any, listener: any) {\n    this.addListener('tabs', listenTo, listener)\n  },\n\n  /**\n   * Adds listener for chrome.windows\n   *\n   * @param listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addWindowsListener: function (listenTo: any, listener: any) {\n    this.addListener('windows', listenTo, listener)\n  },\n\n  /**\n   * Adds listener for chrome.alarms\n   *\n   * @param listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addAlarmsListener(listenTo: any, listener: any) {\n    this.addListener('alarms', listenTo, listener)\n  },\n\n  /**\n   * Adds listener\n   *\n   * @param _type The type of chrome API\n   * @param _listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addListener: function (_type: string, _listenTo: string, listener: Function) {\n    const typed = _type as keyof typeof chrome\n    const listenTo = _listenTo as keyof (typeof chrome)[typeof typed]\n    if (typeof chrome[typed][listenTo] !== 'undefined') {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      chrome[typed][listenTo].addListener(listener)\n    }\n  },\n\n  /**\n   * Checks whether a Chrome API exists\n   *\n   * @param _apiName The name of the API to check\n   * @param _method The API method to check\n   * @returns {*|boolean}\n   */\n  exists: function (_apiName: string | number, _method?: string | number) {\n    const apiName = _apiName as keyof typeof chrome\n    const method = _method as keyof (typeof chrome)[typeof apiName]\n\n    let exists = chrome && typeof chrome[apiName] === 'object'\n\n    if (exists && method) {\n      exists = typeof chrome[apiName][method] === 'function'\n    }\n\n    return exists\n  },\n\n  /**\n   * Throws exception to warn of improper use of Chrome API\n   */\n  throwMisusedAPIException: function () {\n    throw new Error('Improper use of chrome API in content script!')\n  },\n}\n\nexport default ChromeAPI\n","import { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Date: ReturnType<typeof DateUtils.initAPI>\n  }\n}\n\nexport type AmPm = 'am' | 'pm'\nexport interface LocalizedDate {\n  month: string\n  day: string\n  year: number\n  hours: number\n  minutes: string\n  ampm: AmPm\n}\n\n/**\n * Functions for manipulating dates and times\n *\n * @author              Warren Benedetto <wmbenedetto@gmail.com>\n * @since               March 12, 2011\n * @version             1.1.0\n */\nconst DateUtils = {\n  /**\n   * Initializes the Date API\n   *\n   * @param API\n   */\n  initAPI(API: API) {\n    return API.mixin('Date', this)\n  },\n\n  /**\n   * Parses military time (i.e. 23:44) into hour, minute, AM/PM,\n   * and display time (i.e 11:44 PM)\n   *\n   * @param militaryTime The military time to parse\n   */\n  parseMilitaryTime: function (militaryTime: string) {\n    const timeArray = militaryTime.split(':')\n    let hour = parseInt(timeArray[0], 10)\n    const min = parseInt(timeArray[1], 10)\n\n    const ampm = hour >= 12 ? 'pm' : 'am'\n    hour = hour >= 12 ? hour - 12 : hour\n\n    const displayHour = hour === 0 ? 12 : hour\n    const ampmString =\n      ampm === 'pm'\n        ? API.Chrome.Translation.get('timePM')\n        : API.Chrome.Translation.get('timeAM')\n\n    return {\n      hour: this.toTwoDigits(displayHour),\n      min: this.toTwoDigits(min),\n      ampm: ampm,\n      display: displayHour + ':' + this.toTwoDigits(min) + ' ' + ampmString,\n    }\n  },\n\n  /**\n   * Converts timestamp to display date object\n   *\n   * @param timestamp Unix timestamp\n   */\n  timestampToDisplayDate: function (timestamp: number): LocalizedDate {\n    const date = new Date(timestamp)\n    const dateObj = {} as LocalizedDate\n\n    const month = date.getMonth() + 1\n    const day = date.getDate()\n    const hours = date.getHours()\n    const minutes = date.getMinutes()\n\n    dateObj.year = date.getFullYear()\n    dateObj.month = this.toTwoDigits(month)\n    dateObj.day = this.toTwoDigits(day)\n    dateObj.minutes = this.toTwoDigits(minutes)\n\n    dateObj.ampm = (\n      hours >= 12\n        ? API.Chrome.Translation.get('timePM')\n        : API.Chrome.Translation.get('timeAM')\n    ) as AmPm\n    dateObj.hours = hours > 12 ? hours - 12 : hours\n\n    if (dateObj.hours === 0) {\n      dateObj.hours = 12\n      dateObj.ampm = API.Chrome.Translation.get('timeAM') as AmPm\n    }\n\n    return dateObj\n  },\n\n  /**\n   * Checks whether the given time has passed\n   *\n   * @param hour The hour to check\n   * @param min The minutes to check\n   * @param ampm AM or PM\n   * @param nowDate Date obj for the date to test against\n   */\n  hasTimePassed: function (\n    hour: any,\n    min: any,\n    ampm: AmPm,\n    nowDate: Date = new Date(),\n  ) {\n    hour = ampm === 'pm' ? parseInt(hour, 10) + 12 : hour\n\n    const dateString = nowDate.toDateString()\n    const testDate = new Date(dateString + ' ' + hour + ':' + min)\n\n    return testDate < nowDate\n  },\n\n  /**\n   * Checks how many seconds remain until the given time\n   *\n   * @param hour The hour to check\n   * @param min The minutes to check\n   * @param ampm AM or PM\n   * @param nowDate Date obj for the date to test against\n   */\n  secondsUntilTime: function (\n    hour: any,\n    min: any,\n    ampm: AmPm,\n    nowDate: Date = new Date(),\n  ) {\n    hour = ampm === 'pm' ? parseInt(hour, 10) + 12 : hour\n\n    const dateString = nowDate.toDateString()\n    const testDate = new Date(dateString + ' ' + hour + ':' + min)\n\n    const msRemaining = testDate.getTime() - nowDate.getTime()\n\n    return Math.floor(msRemaining / 1000)\n  },\n\n  /**\n   * Checks how many minutes remain until the given time\n   *\n   * @param hour The hour to check\n   * @param min The minutes to check\n   * @param ampm AM or PM\n   * @param nowDate Date obj for the date to test against\n   */\n  minutesUntilTime: function (hour: any, min: any, ampm: AmPm, nowDate: Date) {\n    const seconds = this.secondsUntilTime(hour, min, ampm, nowDate)\n\n    return Math.floor(seconds / 60)\n  },\n\n  /**\n   * Gets a Date object for today at the given time\n   *\n   * @param hour The hour today\n   * @param min The minutes today\n   * @param ampm AM or PM\n   * @param nowDate Date obj for the date to test against\n   */\n  getTodayDateObj: function (\n    hour: any,\n    min: any,\n    ampm: AmPm,\n    nowDate: Date = new Date(),\n  ) {\n    hour = ampm === 'pm' ? parseInt(hour, 10) + 12 : hour\n\n    const dateString = nowDate.toDateString()\n\n    return new Date(dateString + ' ' + hour + ':' + min)\n  },\n\n  /**\n   * Converts hours to milliseconds\n   *\n   * @param hours The hours to convert\n   */\n  hoursToMilliseconds: function (hours: any) {\n    return parseFloat(hours) * 60 * 60 * 1000\n  },\n\n  /**\n   * Converts time unit to milliseconds, i.e. \"2 hours\", \"12 mins\", \"4 s\"\n   *\n   * @param num The number of units\n   * @param unit The time unit\n   */\n  timeUnitToMilliseconds: function (num: any, unit: string) {\n    if (!this.isValidTimeUnit(unit)) {\n      throw new Error(\n        '[DateUtils.timeUnitToMilliseconds()] Could not convert time unit to milliseconds. \"' +\n          unit +\n          '\" is not a valid time unit.',\n      )\n    }\n\n    num = parseFloat(num)\n\n    if (this.isValidHourUnit(unit)) {\n      return num * 60 * 60 * 1000\n    } else if (this.isValidMinUnit(unit)) {\n      return num * 60 * 1000\n    } else if (this.isValidSecUnit(unit)) {\n      return num * 1000\n    } else {\n      return num\n    }\n  },\n\n  /**\n   * Checks whether string is a properly-formatted time string,\n   * in either 12-hour or 24-hour format. (i.e. 10:00 or 14:00)\n   *\n   * @param time The time to check\n   * @param format The time format. Either 12 or 24.\n   */\n  isValidTime: function (time: any, format: 12 | 24) {\n    if (\n      typeof time !== 'string' ||\n      time.indexOf(':') !== 2 ||\n      time.length !== 5\n    ) {\n      return false\n    }\n\n    format = format === 12 ? 12 : 24\n\n    const timeArray = time.split(':')\n    const hour = parseInt(timeArray[0])\n    const min = parseInt(timeArray[1])\n\n    return (\n      min >= 0 &&\n      min <= 59 &&\n      ((format === 12 && hour >= 1 && hour <= 12) ||\n        (format === 24 && hour >= 0 && hour <= 23))\n    )\n  },\n\n  /**\n   * Checks whether time unit is valid.\n   *\n   * Singular: hour, minute, second, millisecond\n   * Plural: hours, minutes, seconds, milliseconds\n   * Abbreviated: hr, min, sec, hrs, mins, secs, ms\n   *\n   * @param unit\n   */\n  isValidTimeUnit: function (unit: string) {\n    return (\n      this.isValidHourUnit(unit) ||\n      this.isValidMinUnit(unit) ||\n      this.isValidSecUnit(unit) ||\n      this.isValidMSUnit(unit)\n    )\n  },\n\n  isValidHourUnit: function (unit: string) {\n    return (\n      typeof unit === 'string' &&\n      (unit.indexOf('hour') === 0 || unit.indexOf('hr') === 0 || unit === 'h')\n    )\n  },\n\n  isValidMinUnit: function (unit: string) {\n    return (\n      typeof unit === 'string' && (unit.indexOf('min') === 0 || unit === 'm')\n    )\n  },\n\n  isValidSecUnit: function (unit: string) {\n    return (\n      typeof unit === 'string' && (unit.indexOf('sec') === 0 || unit === 's')\n    )\n  },\n\n  isValidMSUnit: function (unit: string) {\n    return (\n      typeof unit === 'string' &&\n      (unit.indexOf('millis') === 0 || unit === 'ms')\n    )\n  },\n\n  /**\n   * Converts the day number to the day word, full-length or abbreviated (i.e., Monday or Mon)\n   *\n   * @param dayNum The day number to convert\n   * @param abbreviated If true, day will be abbreviated\n   * @returns {string}\n   */\n  dayNumToDay: function (dayNum: number, abbreviated: boolean) {\n    if (dayNum < 0 || dayNum > 6) {\n      throw new Error(\n        '[DateUtils.dayNumToDay()] Day num must be between 0 and 6',\n      )\n    }\n\n    // @todo Needs to be localized\n    const days = [\n      'Sunday',\n      'Monday',\n      'Tuesday',\n      'Wednesday',\n      'Thursday',\n      'Friday',\n      'Saturday',\n    ]\n    const shortDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n\n    return abbreviated === true ? shortDays[dayNum] : days[dayNum]\n  },\n\n  /**\n   * Gets the number of days in a month\n   *\n   * @param month\n   * @param year\n   * @returns {number}\n   */\n  getDaysInMonth: function (month: number, year: any) {\n    const todayDate = new Date()\n    month = month || todayDate.getMonth()\n    // TODO: `Date.getYear()` is not a cross-browser method. It returns the year minus 1900.\n    // eslint-disable-next-line\n    // @ts-ignore\n    year = year || todayDate.getYear()\n\n    return 32 - new Date(year, month, 32).getDate()\n  },\n\n  /**\n   * Converts seconds to minutes and seconds\n   *\n   * @param totalSeconds The seconds to convert\n   * @returns {string}\n   */\n  secondsToMinsAndSecs: function (totalSeconds: number) {\n    if (totalSeconds / 60 === Math.floor(totalSeconds / 60)) {\n      // @todo Needs to be localized\n      return totalSeconds / 60 + ' minutes'\n    } else {\n      // @todo Needs to be localized\n      return (\n        Math.floor(totalSeconds / 60) +\n        ' minutes and ' +\n        (totalSeconds - Math.floor(totalSeconds / 60) * 60) +\n        ' seconds'\n      )\n    }\n  },\n\n  /**\n   * Converts number to two digits\n   *\n   * @param num The number to convert\n   */\n  toTwoDigits: function (num: number) {\n    return num < 10 ? '0' + num : num.toString()\n  },\n\n  /**\n   * Gets date in 0000-00-00 format\n   *\n   * @param date The date object to convert\n   */\n  getYMD: function (date: Date) {\n    date = date || new Date()\n    const month = this.toTwoDigits(date.getMonth() + 1)\n    const day = this.toTwoDigits(date.getDate())\n    const year = date.getFullYear()\n\n    return year + '-' + month + '-' + day\n  },\n}\n\nexport default DateUtils\n","import { API } from '~/core/API'\nimport GeneralUtils from './GeneralUtils'\n\ndeclare module '~/core/API' {\n  interface API {\n    Domain: ReturnType<typeof DomainParser.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('DomainParser')\n\n/**\n * Functions for parsing web domains: extracting base domains, full domains,\n * subdomains, url segments, etc.\n *\n * @author              Warren Benedetto <wmbenedetto@gmail.com>\n * @since               January 15, 2010\n * @version             1.0.0\n */\nconst DomainParser = {\n  /**\n   * Initializes Domain API\n   *\n   * @param API\n   */\n  initAPI(API: API) {\n    return API.mixin('Domain', {\n      extractBaseDomain: this.extractBaseDomain.bind(this),\n      extractFullDomain: this.extractFullDomain.bind(this),\n      isMoreGeneralURL: this.isMoreGeneralURL.bind(this),\n      matchesWildcard: this.matchesWildcard.bind(this),\n    })\n  },\n\n  /**\n   * Extracts the full domain from the url, including subdomain\n   *\n   * @param url The url from which to get the domain\n   * @return The domain\n   */\n  extractFullDomain: function (url: string) {\n    if (!url) {\n      return null\n    }\n\n    log('extractFullDomain', 'Extracting full domain from', url, 'TRACE')\n\n    const matches = url.match(/^(.[^/]*?:\\/\\/)?(.[^/]+)/)\n\n    if (matches === null || matches.length < 2) {\n      const urlArray = url.split('/')\n\n      return urlArray[0]\n    }\n\n    let match = matches[2]\n    if (match.startsWith('www.')) {\n      match = match.replace('www.', '')\n    }\n\n    return match\n  },\n\n  /**\n   * Extracts the base domain from the url, with subdomain stripped\n   *\n   * @param url The url from which to get the domain\n   * @return The domain\n   */\n  extractBaseDomain: function (url: string) {\n    log('extractBaseDomain', 'Extracting base domain from', url, 'TRACE')\n\n    const fullDomain = this.extractFullDomain(url)\n\n    if (!fullDomain || fullDomain.length === 0) {\n      return ''\n    }\n\n    const domainArray = fullDomain.split('.')\n\n    if (domainArray.length === 1) {\n      return fullDomain\n    }\n\n    /* Add last element from full domain to base domain. Could be like .com, or the .uk from .co.uk */\n    let baseDomain = domainArray[domainArray.length - 1]\n\n    /* Add penultimate element from full domain to base domain. Could be like stayfocusd from stayfocusd.com,\n     * or the .co from .co.uk */\n    baseDomain = domainArray[domainArray.length - 2] + '.' + baseDomain\n\n    /* If this is a multi-part domain like stayfocusd.co.uk or stayfocusd.com.mx, include the third\n     * part in the base domain. */\n    if (this.isMultiPartDomain(fullDomain)) {\n      baseDomain = domainArray[domainArray.length - 3] + '.' + baseDomain\n    }\n\n    return baseDomain\n  },\n\n  /**\n   * Checks whether domain is a multi-part domain like .co.uk, .com.mx,\n   * .mil.jp, etc.\n   *\n   * This will not catch every domain known to man. There are thousands\n   * of possibilities, especially when getting into international domains\n   * with longer words, foreign spellings, and special characters.\n   *\n   * This will only to catch the most common patterns, which is fine for\n   * the purposes of this extension.\n   *\n   * @param fullDomain The full domain, i.e. www.stayfocusd.com or www.foo.bar.co.jp\n   */\n  isMultiPartDomain: function (fullDomain: string) {\n    const logMsg = 'Is ' + fullDomain + ' multi-part domain?'\n\n    const domainArray = fullDomain.split('.')\n    let domainTokens = []\n\n    if (domainArray.length === 1) {\n      log('isMultiPartDomain', logMsg, 'NO', 'TRACE')\n\n      return false\n    }\n\n    /* Get penultimate element from full domain. Could be like the stayfocusd from stayfocusd.com,\n     * or the .co from .co.uk */\n    const penultimate = domainArray[domainArray.length - 2]\n\n    /* Penultimate can be a single character, like .a.se (yes, this exists) */\n    if (penultimate.length === 1) {\n      log('isMultiPartDomain', logMsg, 'YES', 'TRACE')\n      return true\n    }\n\n    /* Penultimate can be two characters, like .co.uk. However, domains can be two characters\n     * as well, like go.com. Therefore, we look for two chars plus more than 3 parts to a domain.\n     * That would exclude go.com or www.go.com, while including www.go.co.uk */\n    if (penultimate.length === 2 && domainArray.length > 3) {\n      log('isMultiPartDomain', logMsg, 'YES', 'TRACE')\n      return true\n    }\n\n    /* Penultimate can be a tld, like .com.cn or .net.mx. There are other 3-letter possibilities,\n     * but these are the most common */\n    if (penultimate.length === 3 && domainArray.length >= 3) {\n      domainTokens = [\n        'com',\n        'edu',\n        'gov',\n        'mil',\n        'net',\n        'org',\n        'biz',\n        'www',\n        'pro',\n        'int',\n        'web',\n        'xxx',\n      ]\n\n      for (const key in domainTokens) {\n        if (\n          domainTokens.hasOwnProperty(key) &&\n          penultimate === domainTokens[key]\n        ) {\n          log('isMultiPartDomain', logMsg, 'YES', 'TRACE')\n          return true\n        }\n      }\n    }\n\n    /* Penultimate can occasionally be four letters. There are other possibilities,\n     * but these are the most common */\n    if (penultimate.length === 4 && domainArray.length >= 3) {\n      domainTokens = [\n        'info',\n        'mobi',\n        'name',\n        'jobs',\n        'kiwi',\n        'aero',\n        'asia',\n        'coop',\n      ]\n\n      for (const key2 in domainTokens) {\n        if (\n          domainTokens.hasOwnProperty(key2) &&\n          penultimate === domainTokens[key2]\n        ) {\n          log('isMultiPartDomain', logMsg, 'YES', 'TRACE')\n\n          return true\n        }\n      }\n    }\n\n    /**\n     * Ugh. This is rough. If we got this far, we might have something like bbc.co.uk ... but we might have\n     * something like www.dn.se. The first is a multi-part domain; the second isn't. But they both have a\n     * 3-letter antepenultimate. Therefore, the only way to distinguish them is to see if the antepenultimate\n     * is www. Of course, this rule will break if the domain is foo.dn.se. Let's hope that never happens. :-P\n     */\n    if (domainArray.length >= 3) {\n      const antepenultimate = domainArray[domainArray.length - 3]\n\n      if (\n        penultimate.length === 2 &&\n        domainArray.length === 3 &&\n        antepenultimate.length > 2 &&\n        antepenultimate !== 'www'\n      ) {\n        log('isMultiPartDomain', logMsg, 'YES', 'TRACE')\n\n        return true\n      }\n    }\n\n    /* There are other rare or international domains that may have longer penultimates,\n     * but there's no point in trying to capture all of the thousands of possibilities */\n\n    log('isMultiPartDomain', logMsg, 'NO', 'TRACE')\n\n    return false\n  },\n\n  /**\n   * Checks whether one domain is more general than another\n   *\n   * @param domainToCheck The domain to check\n   * @param domainToCompare The domain to compare against\n   */\n  isMoreGeneralURL: function (\n    domainToCheck?: string,\n    domainToCompare?: string,\n  ) {\n    /* Make comparison case-insensitive */\n    domainToCheck =\n      typeof domainToCheck === 'string'\n        ? domainToCheck.toLowerCase()\n        : domainToCheck\n    domainToCompare =\n      typeof domainToCompare === 'string'\n        ? domainToCompare.toLowerCase()\n        : domainToCompare\n\n    const logMsg =\n      'Is ' + domainToCheck + ' more general than ' + domainToCompare + '?'\n\n    if (\n      domainToCheck == 'chrome-extension://' &&\n      domainToCompare?.indexOf(domainToCheck) == 0\n    )\n      return true\n\n    domainToCheck = this.stripProtocol(domainToCheck)\n    domainToCompare = this.stripProtocol(domainToCompare)\n\n    if (domainToCheck == '' && domainToCompare != '') return false\n\n    const baseDomainToCompare = this.extractBaseDomain(domainToCompare)\n\n    if (domainToCheck === domainToCompare) {\n      log('isMoreGeneralURL', logMsg, 'YES', 'TRACE')\n\n      return true\n    }\n\n    if (domainToCheck === baseDomainToCompare) {\n      log('isMoreGeneralURL', logMsg, 'YES', 'TRACE')\n\n      return true\n    }\n\n    /* For example, if the domainToCheck is stayfocusd.com, and the domainToCompare\n     * is stayfocusd.com/foo, then the indexOf domainToCheck would be 0 */\n    if (domainToCompare.indexOf(domainToCheck) === 0) {\n      log('isMoreGeneralURL', logMsg, 'YES', 'TRACE')\n\n      return true\n    }\n\n    const baseDomainToCheck = this.extractBaseDomain(domainToCheck)\n\n    /**\n     * If both domains are from the same base domain, and the domain to check is\n     * shorter than, and is a substring of, the domain to compare, and the domain\n     * to check contains either a path or query params, then the domain to check\n     * is more general.\n     *\n     * For example:\n     *\n     * domainToCheck                    = google.com/reader\n     * domainToCompare                  = www.google.com/reader/view/#stream/feed%2Fhttp%3A%2F%2Ffeedproxy.google.com%2FTechcrunch\n     *\n     * Base domains are the same?                           Yes.\n     * domainToCheck is shorter?                            Yes.\n     * domainToCheck is substring of domainToCompare?       Yes.\n     * domainToCheck has a slash or question mark?          Yes.\n     *\n     * Therefore, domainToCheck is more general.\n     */\n    if (\n      baseDomainToCheck === baseDomainToCompare &&\n      domainToCheck.length <= domainToCompare.length &&\n      domainToCompare.indexOf(domainToCheck) >= 0 &&\n      (domainToCompare.indexOf('/') >= 0 || domainToCompare.indexOf('?') >= 0)\n    ) {\n      log('isMoreGeneralURL', logMsg, 'YES', 'TRACE')\n\n      return true\n    }\n\n    /**\n     * Check if the base domain to check is a substring of the domain to compare,\n     * i.e. google.com is a substring of google.com.hk\n     */\n    if (\n      baseDomainToCompare.length > baseDomainToCheck.length &&\n      baseDomainToCompare.indexOf(domainToCheck) > -1\n    ) {\n      log('isMoreGeneralURL', logMsg, 'YES', 'TRACE')\n\n      return true\n    }\n\n    log('isMoreGeneralURL', logMsg, 'NO', 'TRACE')\n\n    return false\n  },\n\n  /**\n   * Checks whether a domain matches a wildcard rule\n   *\n   * @param wildcard The wildcard rule to match\n   * @param domainToCompare The domain to compare to the wildcard rule\n   */\n  matchesWildcard: function (wildcard: string, domainToCompare: string) {\n    if (wildcard.indexOf('*') == -1) return\n    const logMsg =\n      'Does ' + domainToCompare + ' match wildcard ' + wildcard + '?'\n\n    wildcard = wildcard.toLowerCase()\n    domainToCompare = domainToCompare.toLowerCase()\n\n    const rawWildcardString = wildcard.replace('*', '')\n    domainToCompare = domainToCompare || ''\n\n    if (domainToCompare.indexOf(rawWildcardString) === -1) {\n      log('matchesWildcard', logMsg, 'NO', 'TRACE')\n\n      return false\n    }\n\n    const domainUpToWildcard = domainToCompare.substring(\n      0,\n      domainToCompare.indexOf(rawWildcardString) + rawWildcardString.length,\n    )\n    const domainSubstring = domainToCompare.substring(\n      domainUpToWildcard.length - rawWildcardString.length,\n      domainUpToWildcard.length,\n    )\n    const result = domainSubstring === rawWildcardString\n\n    log('matchesWildcard', logMsg, result ? 'YES' : 'NO', 'TRACE')\n\n    return result\n  },\n\n  /**\n   * Strips http:// or https:// from url\n   *\n   * @param url The url to strip\n   */\n  stripProtocol: function (url?: string) {\n    if (url) {\n      return url.indexOf('://') > -1\n        ? url.slice(url.indexOf('://') + 3, url.length)\n        : url\n    } else {\n      return ''\n    }\n  },\n}\n\nexport default DomainParser\n","import Logger from '~/core/Logger'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    IncrementalRollout: ReturnType<typeof IncrementalRollout.initAPI>\n  }\n}\n\nlet api: API\n\nfunction getRemoteConfigFeatures() {\n  return api.RemoteConfig.get('incrementalRollout')\n}\n\n/**\n * Creates an object with incremental rollout utils for a given feature.\n * @param {String} feature The name of the feature.\n */\nconst defineFeature = (feature: string) => ({\n  storageKey: `@incrementalRollout/${feature}`,\n\n  /**\n   * Returns the random number that was generated for this user.\n   * @returns {Promise<Number>} A random number between 0 and 1.\n   */\n  async getMyPercent() {\n    return api.Storage.getOrSet(this.storageKey, Math.random())\n  },\n\n  /**\n   * Returns the percentage of users that should have the feature enabled.\n   * @returns {Promise<Number>} A number between 0 and 1.\n   */\n  async getEnabledPercent() {\n    const features = await getRemoteConfigFeatures()\n    return features[feature] ?? 0\n  },\n\n  /**\n   * @returns {Promise<Boolean>} Whether or not the feature is enabled.\n   */\n  async isEnabled() {\n    const enabledPercent = await this.getEnabledPercent()\n    const myPercent = await this.getMyPercent()\n    return myPercent < enabledPercent\n  },\n\n  /**\n   * Prints debug info to the console.\n   */\n  async debug() {\n    Logger.log(\n      'IncrementalRollout',\n      `Incremental rollout info:`,\n      {\n        isEnabled: await this.isEnabled(),\n        myPercent: await this.getMyPercent(),\n        enabledPercent: await this.getEnabledPercent(),\n        remoteConfig: await getRemoteConfigFeatures(),\n      },\n      'DEBUG',\n    )\n  },\n\n  /**\n   * @deprecated Should only be used only for debugging purposes.\n   *\n   * Enables the feature for this user.\n   *\n   * @example\n   * API.IncrementalRollout.AdFinder.enable();\n   */\n  async enable() {\n    await api.Storage.set({ [this.storageKey]: -1 })\n  },\n\n  /**\n   * @deprecated Should only be used only for debugging purposes.\n   *\n   * Disables the feature for this user.\n   *\n   * @example\n   * API.IncrementalRollout.AdFinder.disable();\n   */\n  async disable() {\n    await api.Storage.set({ [this.storageKey]: 2 })\n  },\n\n  /**\n   * @deprecated Should only be used only for debugging purposes.\n   *\n   * Randomly assigns a new percentage to this user.\n   *\n   * @example\n   * API.IncrementalRollout.AdFinder.randomize();\n   */\n  async randomize() {\n    await api.Storage.set({ [this.storageKey]: Math.random() })\n  },\n})\n\nconst IncrementalRollout = {\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('IncrementalRollout', {\n      AdFinder: defineFeature('ad-finder'),\n    })\n  },\n}\n\nexport default IncrementalRollout\n","import { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Requirements: ReturnType<typeof Requirements.initAPI>\n  }\n}\n\nlet api: API\n\nconst Requirements = {\n  /** @type {Promise<void> | null} */\n  initialized: null as null | Promise<void>,\n\n  onboardingSampleGroup: null,\n\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('Requirements', {\n      init: this.init.bind(this),\n      isOnboardingCompleted: this.isOnboardingCompleted.bind(this),\n      getPromptAgainAt: this.getPromptAgainAt.bind(this),\n      setPromptAgainAt: this.setPromptAgainAt.bind(this),\n      getOnboardingShownCount: this.getOnboardingShownCount.bind(this),\n      incrementOnboardingShownCount:\n        this.incrementOnboardingShownCount.bind(this),\n      getConfirmationCount: this.getConfirmationCount.bind(this),\n      incrementConfirmationCount: this.incrementConfirmationCount.bind(this),\n      isUnder18: this.isUnder18.bind(this),\n    })\n  },\n\n  /**\n   * @returns {Promise<void>}\n   */\n  async init() {\n    if (this.initialized != null) return\n\n    const { promise, resolve, reject } = api.Utils.getDecoupledPromise()\n    this.initialized = promise\n\n    this.onboardingSampleGroup = await api.Storage.getOrSet(\n      'onboardingSampleGroup',\n      100 * Math.random(),\n    )\n\n    try {\n      await Promise.all([api.Settings.initAsync(), api.RemoteConfig.init()])\n      resolve()\n    } catch (err) {\n      reject(err)\n    }\n  },\n\n  /**\n   * Checks if the user needs to complete onboarding. Based off the A/B onboarding enabled\n   * percent, and the options selected when the user last performed onboarding.\n   * @returns {Promise<boolean>}\n   */\n  async isOnboardingCompleted() {\n    const now = Date.now()\n\n    if (this.initialized == null) {\n      throw Error(\n        'You must call `API.Requirements.init()` before calling `isOnboardingCompleted()`',\n      )\n    }\n    await this.initialized\n\n    const enabledPercentInt = api.RemoteConfig.get(\n      'onboardingEnabledPercentInt2',\n    )\n    const isGroupEnabled = this.onboardingSampleGroup! < enabledPercentInt\n    if (!isGroupEnabled) return true\n\n    const isUnder18 = this.isUnder18()\n    if (isUnder18) return true\n\n    const hasDeclinedPP = api.Settings.get('explicitlyDeclinedPrivacyPolicy')\n    if (hasDeclinedPP) return true\n\n    const hasAcceptedToS = api.Settings.get('hasAcceptedToS')\n    if (!hasAcceptedToS) return false\n\n    const hasAcceptedPP = api.Settings.get('hasAcceptedPrivacyPolicy')\n    const promptAgainAt = await this.getPromptAgainAt()\n    const confirmationCount = await this.getConfirmationCount()\n    return !!hasAcceptedPP || now < promptAgainAt || confirmationCount > 3\n  },\n\n  /**\n   * Gets the next time the onboarding prompt should be shown if user clicked delayed their\n   * decision.\n   *\n   * @returns {Promise<number>}\n   */\n  async getPromptAgainAt() {\n    const time = await api.Storage.get('showOnboardingAgainAt')\n    return time ?? 0\n  },\n\n  /**\n   * @param {number} time The time in MS since Epoch that the user should be prompted again at.\n   * @returns {Promise<void>}\n   */\n  setPromptAgainAt(time: number) {\n    return api.Storage.set({ showOnboardingAgainAt: time })\n  },\n\n  /**\n   * @returns {Promise<number>} The total number of times the user has seen the onboarding\n   */\n  async getOnboardingShownCount(): Promise<number> {\n    const count = await api.Storage.get('onboardingShownCount')\n    return count ?? 0\n  },\n\n  /**\n   * Adds 1 to the onboarding shown count.\n   *\n   * @returns {Promise<void>}\n   */\n  async incrementOnboardingShownCount() {\n    const count = await this.getOnboardingShownCount()\n    await api.Storage.set({ onboardingShownCount: count + 1 })\n  },\n\n  /**\n   * @returns {Promise<number>} The total number of times the user has declined the privacy policy confirmation\n   */\n  async getConfirmationCount() {\n    const count = await api.Storage.get('privacyPolicyConfirmationCount')\n    return count ?? 0\n  },\n\n  /**\n   * Adds 1 to the privacy policy confirmation count.\n   *\n   * @returns {Promise<void>}\n   */\n  async incrementConfirmationCount() {\n    const count = await this.getConfirmationCount()\n    await api.Storage.set({ privacyPolicyConfirmationCount: count + 1 })\n  },\n\n  /**\n   * Returns true when the user is under 18. Returns false when not selected, or has checked \"is 18 or older box\"\n   * @returns {Promise<boolean>}\n   */\n  isUnder18() {\n    const is18OrOlder = api.Settings.get('is18OrOlder')\n    if (is18OrOlder) return false\n\n    const age = api.Settings.get('age')\n    return age && age < 18\n  },\n\n  /**\n   * @returns {boolean} True if the current hour is known to be an effective time of day for prompting the user to complete onboarding.\n   */\n  isEffectiveHourOfDay() {\n    const ineffectiveHours = [3, 22, 13, 9, 8, 5, 11, 2, 12, 14, 4, 1]\n    const currentHour = new Date().getHours()\n    return !ineffectiveHours.includes(currentHour)\n  },\n}\n\nexport default Requirements\n","import ObjectUtils from './ObjectUtils'\nimport GeneralUtils from './GeneralUtils'\nimport { API } from './API'\n\nconst log = GeneralUtils.createScopedLog('Storage')\n\ndeclare module '~/core/API' {\n  interface API {\n    Storage: ReturnType<typeof Storage.initAPI>\n  }\n}\n\nlet api: API\n\nexport type BucketType = 'SYNC' | 'LOCAL'\n\n/**\n * Storage singleton definition\n */\nconst Storage = {\n  LOCAL: 1 as const,\n  SYNC: 2 as const,\n\n  /**\n   * Storage map. Map of storage keys to the\n   * bucket in which they should be stored\n   */\n  map: null as Record<string, any> | null,\n\n  /**\n   * Cache of values from storage, so we don't have to\n   * hit Chrome's storage API on every request.\n   */\n  cache: {} as Record<string, any>,\n\n  /**\n   * Initializes Storage API\n   *\n   * @param theAPI\n   */\n  initAPI: function (theAPI: API) {\n    api = theAPI\n\n    return api.mixin('Storage', {\n      addOnChangeListener: this.addOnChangeListener.bind(this),\n      init: this.init.bind(this),\n      initAsync: this.initAsync.bind(this),\n      get: this.get.bind(this),\n      getOrSet: this.getOrSet.bind(this),\n      getAll: this.getAll.bind(this),\n      set: this.set.bind(this),\n      merge: this.merge.bind(this),\n      remove: this.remove.bind(this),\n      setBucket: this.setBucket.bind(this),\n    })\n  },\n\n  /**\n   * Loads storage map from sync storage\n   *\n   * @param {() => void} callback Function to call once map is loaded\n   */\n  init: async function (callback: Function) {\n    log('init', 'Initializing storage', null, 'DEBUG')\n\n    this.cache = {}\n    this.map = null\n\n    const map: Record<string, any> = await this.getSynced('storageMap')\n    log('init', 'Storage initialization complete', map, 'DEBUG')\n\n    if (typeof map !== 'undefined') {\n      this.map = map\n    } else {\n      this.map = {}\n      await this.saveMap()\n    }\n\n    if (typeof callback === 'function') {\n      callback()\n    }\n  },\n  /**\n   * @returns {Promise<void>}\n   */\n  initAsync(): Promise<void> {\n    return new Promise((res) => this.init(res))\n  },\n\n  /**\n   * Gets value from storage\n   *\n   * @param key The key to retrieve\n   * @param callback Function to which retrieved value is returned\n   * @param forceRefresh If true, won't pull from cache\n   */\n  get: async function (key: string, forceRefresh: boolean = false) {\n    let data: any\n    if (this.inCache(key) && !forceRefresh) {\n      data = this.getCached(key)\n    } else if (this.inSync(key)) {\n      data = await this.getSynced(key)\n    } else {\n      data = await this.getLocal(key)\n    }\n    return data\n  },\n\n  /**\n   * Gets a value from storage, or if the value is null or undefined, sets and returns a\n   * default value.\n   *\n   * @param {string} key The storage key\n   * @param {T} defaultValue The value to set and return if the key doesn't exist yet\n   * @param {boolean?} forceRefresh If true, won't pull from cache when getting the value\n   * @returns {Promise<T>}\n   */\n  async getOrSet(\n    key: string,\n    defaultValue: any,\n    forceRefresh: boolean = false,\n  ) {\n    let value = await this.get(key, forceRefresh)\n    if (value == null) {\n      value = defaultValue\n      await this.set({ [key]: value })\n    }\n    return value\n  },\n\n  /**\n   * Gets value from storage, forcing it to bypass the cache\n   *\n   * @param key The key to retrieve\n   * @param callback Function to which retrieved value is returned\n   */\n  refresh: async function (key: string) {\n    const data = await this.get(key, true)\n    return data\n  },\n\n  /**\n   * Gets all values from bucket\n   *\n   * @param _bucket SYNC, LOCAL, or HTML5. If null, gets object with data from all three buckets\n   * @param callback Function to which to return values\n   */\n  getAll: async function (\n    _bucket: BucketType | null,\n  ): Promise<Record<string, any>> {\n    const bucket = (\n      typeof _bucket === 'string' ? _bucket.toUpperCase() : _bucket\n    ) as BucketType | null\n\n    if (!bucket) {\n      const settings: Record<string, any> = {}\n\n      const [sync, local]: Record<string, any>[] = await Promise.all([\n        api.Chrome.Storage.getSync(null),\n        api.Chrome.Storage.getLocal(null),\n      ])\n      settings.SYNC = sync\n      settings.LOCAL = local\n\n      return settings\n    } else if (bucket === 'SYNC') {\n      return await api.Chrome.Storage.getSync(null)\n    } else if (bucket === 'LOCAL') {\n      return await api.Chrome.Storage.getLocal(null)\n    }\n    return {}\n  },\n\n  /**\n   * Stores key:value pairs, routing each pair into\n   * the appropriate storage bucket\n   *\n   * @param obj Object contains key:value pairs to save\n   * @param callback Function to call once value is set\n   * @param bucket Specifies a bucket to which the pairs should be routed.\n   *               Overrides (but doesn't replace) values set by setBucket()\n   */\n  set: async function (obj: any, _bucket: null | string = null) {\n    const bucket = typeof _bucket === 'string' ? _bucket.toUpperCase() : null\n\n    const sync: Record<string, any> = {}\n    const local: Record<string, any> = {}\n    let hasSync = false\n    let hasLocal = false\n\n    /* Split pairs into local and sync storage buckets\n     * based on the keys' value in the storage map */\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        if (this.inSync(key) || bucket === 'SYNC') {\n          sync[key] = obj[key]\n          hasSync = true\n        } else {\n          local[key] = obj[key]\n          hasLocal = true\n        }\n      }\n    }\n\n    /**\n     * Separately save pairs to sync and local storage,\n     * only calling callback when both processes are complete\n     */\n    const promises: Promise<void>[] = []\n    if (hasSync) {\n      promises.push(this.setSynced(sync))\n    }\n\n    if (hasLocal) {\n      promises.push(this.setLocal(local))\n    }\n\n    await Promise.all(promises)\n  },\n\n  /**\n   * Removes value from storage\n   *\n   * @param key The key to remove\n   * @param callback Function to call once value is removed\n   * @param bucket Specifies a bucket from which to remove value\n   *               Overrides (but doesn't replace) values set by setBucket()\n   */\n  remove: async function (key: string, bucket?: null | BucketType) {\n    if (this.inSync(key) || bucket === 'SYNC') {\n      await this.removeSynced(key)\n    } else {\n      await this.removeLocal(key)\n    }\n\n    if (typeof this.map?.[key] !== 'undefined') {\n      delete this.map[key]\n      await this.saveMap()\n    }\n  },\n\n  /**\n   * Merges object properties of a value in one bucket into the object\n   * properties of the value in another bucket.\n   *\n   * For example:\n   *\n   * IN SYNC:\n   *\n   * foo = { a : 1, b : 2 }\n   *\n   * IN LOCAL:\n   *\n   * foo = { c : 3 }\n   *\n   * Merging to SYNC from LOCAL would result in:\n   *\n   * foo = { a : 1, b : 2, c : 3 }\n   *\n   * @param key The key to merge\n   * @param to The bucket to which to merge\n   * @param from The bucket from which to merge\n   */\n  merge: async function (key: string, to: BucketType, from: BucketType) {\n    log(\n      'merge',\n      'Merging ' + key + ' from ' + from + ' to ' + to,\n      null,\n      'TRACE',\n    )\n\n    if (from === 'SYNC') {\n      const source: Record<string, any> = await this.getSynced(key)\n      const target: Record<string, any> = await this.getLocal(key)\n      await this.doMerge(key, to, target, source)\n    } else if (from === 'LOCAL') {\n      const source: Record<string, any> = await this.getLocal(key)\n      const target: Record<string, any> = await this.getSynced(key)\n      await this.doMerge(key, to, target, source)\n    }\n  },\n\n  /**\n   * Merges source object into target object, saving target object\n   * to bucket specified by \"to\" argument\n   *\n   * @param key The key to use when saving merged object\n   * @param to The bucket to which to save the merged object\n   * @param target The target object\n   * @param source The source object\n   * @param callback Function to call when merge is complete\n   */\n  doMerge: async function (\n    key: string,\n    to: BucketType,\n    target: Record<string, any>,\n    source: Record<string, any>,\n  ) {\n    target = ObjectUtils.isObjLiteral(target) ? target : {}\n    source = ObjectUtils.isObjLiteral(source) ? source : {}\n\n    await this.remove(key)\n    await this.setBucket(key, to, true)\n\n    const obj: Record<string, any> = {}\n    obj[key] = ObjectUtils.merge(target, source, true)\n\n    await this.set(obj)\n  },\n\n  /**\n   * Adds a key (or array of keys) to the specified storage bucket\n   *\n   * @param key The key (or array of keys) to add\n   * @param bucket The bucket to which the keys should be added\n   * @param skipMigration If true, value is not migrated from one bucket to the other\n   */\n  setBucket: async function (\n    _key: string | string[],\n    bucket?: BucketType,\n    skipMigration: boolean = false,\n  ) {\n    /* If array of keys is sent, set the bucket for each individually */\n    if (this.isArray(_key)) {\n      const key = _key as string[]\n      for (let i = 0; i < key.length; i++) {\n        await this.setBucket(key[i], bucket, skipMigration)\n      }\n    } else if (typeof _key === 'string') {\n      const key = _key as string\n      /* Set bucket for individual key */\n      if (typeof bucket === 'string') {\n        bucket = bucket.toUpperCase() as BucketType\n      }\n\n      bucket =\n        typeof this[bucket as keyof typeof this] !== 'undefined'\n          ? bucket\n          : 'LOCAL'\n\n      log(\n        'setBucket',\n        'Adding ' + key + ' to ' + bucket + ' storage bucket',\n        null,\n        'TRACE',\n      )\n\n      this.map![key] = this[bucket as keyof typeof this]\n      await this.saveMap()\n\n      if (skipMigration !== true) {\n        await this.migrate(key, bucket!)\n      }\n    }\n  },\n\n  /**\n   * Saves storage map to sync storage\n   */\n  saveMap: async function (_map?: Record<string, any>) {\n    const map = (_map ?? this.map) as Record<string, any>\n\n    await this.setSynced({\n      storageMap: map,\n    })\n  },\n\n  /**\n   * Migrates value from one storage bucket to another (LOCAL to SYNC or vice versa)\n   *\n   * @param key The key to migrate\n   * @param to The target storage bucket\n   */\n  migrate: async function (key: string, to: BucketType) {\n    const from = to === 'SYNC' ? 'LOCAL' : 'SYNC'\n\n    log(\n      'migrate',\n      'Migrating ' + key + ' from ' + from + ' to ' + to,\n      null,\n      'DEBUG',\n    )\n\n    if (to === 'SYNC') {\n      const value: any = await this.getLocal(key)\n      const obj: Record<string, any> = {}\n      obj[key] = value\n\n      await this.removeLocal(key)\n      await this.setSynced(obj)\n    } else if (to === 'LOCAL') {\n      const value: any = await this.getSynced(key)\n      const obj: Record<string, any> = {}\n      obj[key] = value\n      await this.removeSynced(key)\n      await this.setLocal(obj)\n    }\n  },\n\n  /**\n   * Adds listener for when storage changes\n   *\n   * @param listener Function to call when storage changes\n   */\n  addOnChangeListener: function (\n    listener: (changes: Record<string, any>, areaName: string) => void,\n  ) {\n    listener = typeof listener === 'function' ? listener : function () {}\n\n    api.Chrome.Storage.addListener('onChanged', listener)\n  },\n\n  /**\n   * Checks whether the value has been cached\n   *\n   * @param key The key to check\n   * @returns {boolean}\n   */\n  inCache: function (key: string) {\n    return typeof this.cache[key] !== 'undefined'\n  },\n\n  /**\n   * Checks whether key is stored in sync storage\n   *\n   * @param key The key to check\n   * @returns {boolean}\n   */\n  inSync: function (key: string) {\n    return this.map![key] === this.SYNC\n  },\n\n  /**\n   * Checks whether key is stored in local storage\n   *\n   * @param key The key to check\n   * @returns {boolean}\n   */\n  inLocal: function (key: string) {\n    return this.map![key] === this.LOCAL\n  },\n\n  /**\n   * Stores value in cache\n   *\n   * @param items Object with key:value pairs to store\n   */\n  setCached: function (items: Record<string, any>) {\n    log('setCached', 'Storing items in cache', items, 'TRACE')\n\n    for (const i in items) {\n      if (items.hasOwnProperty(i)) {\n        this.cache[i] = items[i]\n      }\n    }\n  },\n\n  /**\n   * Gets value from cache\n   *\n   * @param key The key to retrieve\n   * @returns {*}\n   */\n  getCached: function (key: string) {\n    log('getCached', 'Getting ' + key + ' from cache', null, 'TRACE')\n\n    return this.cache[key]\n  },\n\n  /**\n   * Removes value from cache\n   *\n   * @param key The key to remove\n   */\n  removeCached: function (key: string) {\n    log('removeCached', 'Removing ' + key + ' from cache', null, 'TRACE')\n\n    delete this.cache[key]\n  },\n\n  /**\n   * Stores items in sync storage, with a backup stored in localStorage\n   *\n   * @param items Object with key:value pairs to store\n   * @param callback Function to call after value is stored\n   */\n  setSynced: async function (\n    items: Record<string, any>,\n    callback: () => void = () => {},\n  ) {\n    log('setSynced', 'Storing items in sync storage', items, 'TRACE')\n\n    this.setCached(items)\n\n    await api.Chrome.Storage.setSync(items, callback)\n  },\n\n  /**\n   * Gets value from sync storage\n   *\n   * @param key The key to retrieve from storage\n   * @param callback Function to which retrieved value is returned\n   */\n  getSynced: async function (key: string) {\n    log('getSynced', 'Getting ' + key + ' from sync storage', null, 'TRACE')\n\n    const items: Record<string, any> = await api.Chrome.Storage.getSync(key)\n    if (typeof key === 'string') {\n      log(\n        'getSynced',\n        key + ' retrieved from sync storage:',\n        items[key],\n        'TRACE',\n      )\n\n      this.setCached(items)\n\n      return items[key]\n    } else {\n      log('getSynced', 'Data retrieved from sync storage:', items, 'TRACE')\n      return items\n    }\n  },\n\n  /**\n   * Removes value from sync storage\n   *\n   * @param key The key to remove from storage\n   * @param callback Function to call once value is removed\n   */\n  removeSynced: async function (key: string) {\n    log('removeSynced', 'Removing ' + key + ' from sync storage', null, 'TRACE')\n\n    this.removeCached(key)\n\n    await api.Chrome.Storage.removeSync(key)\n  },\n\n  /**\n   * Stores items in Chrome local storage\n   *\n   * @param items Object with key:value pairs to store\n   * @param callback Function to call after value is stored\n   */\n  setLocal: async function (items: Record<string, any>) {\n    log('setLocal', 'Storing items in Chrome local storage', items, 'TRACE')\n\n    this.setCached(items)\n\n    await api.Chrome.Storage.setLocal(items)\n  },\n\n  /**\n   * Gets value from Chrome local storage\n   *\n   * If value is not found in Chrome local storage, tries to find it in HTML5 localStorage\n   * (for legacy support). If value is found in HTML5 localStorage, it is saved to Chrome local\n   * storage so it will be there from now on.\n   *\n   * @param key The key to retrieve from storage\n   */\n  getLocal: async function (key: string) {\n    log('getLocal', 'Getting data from Chrome local storage', key, 'TRACE')\n\n    /* Try to get value from Chrome local storage */\n    let items: Record<string, any> = await api.Chrome.Storage.getLocal(key)\n    if (typeof key === 'string') {\n      items = items || {}\n      let value = items[key]\n\n      /* If value is not found in Chrome local storage, try to get it from\n       * HTML5 localStorage */\n      if (typeof value === 'undefined' || value === null) {\n        value = await this.getFromLocalStorageBackup(key)\n      }\n\n      log('getLocal', key + ' retrieved from local storage:', value, 'TRACE')\n\n      const cacheObj: Record<string, any> = {}\n      cacheObj[key] = value\n\n      this.setCached(cacheObj)\n\n      return value\n    } else {\n      log('getLocal', 'Data retrieved from local storage:', items, 'TRACE')\n\n      return items\n    }\n  },\n\n  /**\n   * Retrieves value from HTML5 local storage backup\n   *\n   * @param key The key to retrieve\n   * @returns {*}\n   */\n  getFromLocalStorageBackup: async function (key: string): Promise<any> {\n    log(\n      'getFromLocalStorageBackup',\n      'Getting ' + key + ' from HTML5 localStorage',\n      null,\n      'TRACE',\n    )\n\n    let value = null\n    const val = await chrome.storage.local.get(key)\n    if (val == null) return null\n    const lsValue = val[key]\n\n    /* If value found in HTML5 localStorage, save it in Chrome local\n     * storage for future retrieval requests */\n    if (typeof lsValue !== 'undefined' && lsValue !== null) {\n      log('getLocal', key + ' found in HTML5 localStorage:', lsValue, 'TRACE')\n\n      /* Try to decode localStorage value as JSON */\n      try {\n        value = JSON.parse(lsValue)\n      } catch (e) {\n        /* If JSON decode fails, use raw localStorage value */\n        value = lsValue\n      }\n\n      /* Store HTML5 localStorage value in Chrome local storage */\n      const obj: Record<string, any> = {}\n      obj[key] = value\n\n      await this.setLocal(obj)\n    }\n\n    return value\n  },\n\n  /**\n   * Removes value from Chrome local storage (not HTML5 localStorage)\n   *\n   * @param key The key to remove from storage\n   * @param callback Function to call once value is removed\n   */\n  removeLocal: async function (key: string) {\n    log(\n      'removeLocal',\n      'Removing ' + key + ' from Chrome local storage',\n      null,\n      'TRACE',\n    )\n\n    this.removeCached(key)\n\n    await api.Chrome.Storage.removeLocal(key)\n  },\n\n  /**\n   * Checks whether object is an array\n   *\n   * @param obj The object to check\n   * @returns {boolean}\n   */\n  isArray: function (obj: any) {\n    return (\n      typeof obj === 'object' && obj !== null && typeof obj.length === 'number'\n    )\n  },\n}\n\nexport default Storage\n","import Storage, { BucketType } from './Storage'\nimport { API } from './API'\nimport GeneralUtils from './GeneralUtils'\n\ndeclare module '~/core/API' {\n  interface API {\n    Settings: ReturnType<typeof Settings.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('Settings')\n\nlet api: API\n\nconst keys = [\n  'activeDays',\n  'activeHours',\n  'activeHoursQueue',\n  'blacklist',\n  'challengeRequired',\n  'challengeText',\n  'customStayFocusdMsg',\n  'disableActivityMonitor',\n  'disableSync',\n  'disableUpdatePopup',\n  'firstInstallDate',\n  'firstInstallAllowanceExpiration',\n  'hideAllowSiteLink',\n  'maxTimeAllowed',\n  'notificationSettings',\n  'nuclearOptionSettings',\n  'productivityBypass',\n  'resetTimeQueue',\n  'resetTimestamp',\n  'resetTime',\n  'whitelist',\n  'hasAcceptedToS', // boolean | undefined | null\n  'hasAcceptedPrivacyPolicy', // boolean | undefined | null\n  'explicitlyDeclinedPrivacyPolicy', // boolean | undefined | null\n  'is18OrOlder', // boolean | undefined | null\n  'age', // number | undefined | null\n  'isNewUser', // boolean | undefined | null\n  'promptBirthYearAt', // number | undefined | null\n  'promptBirthYearInterval', // number | undefined | null\n  'promptReview', // boolean | undefined | null\n  'promptReviewAt', // number | undefined | null\n  'promptReviewInterval', // number | undefined | null\n  'promptSurvey', // boolean | undefined | null\n  'promptSurveyAt', // number | undefined | null\n  'promptSurveyInterval', // number | undefined | null\n  'debugActivityMonitor', // boolean | undefined | null - will be used for e2e testing\n  'blockedGroups', // BlockGroup[] | undefined\n  'isBlockAllWebsites', // boolean | undefined | null\n  'blockAllWebsitesAllowedTime', // number | undefined | null\n  'blockAllWebsitesElapsedTime', // number | undefined | null\n  'showedInitialTutorial', // boolean | undefined | null\n  'desktopPromoDismissed', // boolean | undefined | null\n  'whitelistNew', // string[] | undefined | null\n  'activated', // boolean | undefined | null\n  'isActivateSwitchShown',\n]\n\ntype SettingsKey = (typeof keys)[number]\n\n/**\n * Settings singleton definition\n */\nconst Settings = {\n  /* Maximum number of backup versions to maintain */\n  MAX_BACKUP_VERSIONS: 5,\n  keys: keys,\n  cache: {} as Record<string, any>,\n  backupKeys: [] as string[],\n  initialized: false,\n\n  /**\n   * Initializes Settings API\n   *\n   * @param theAPI\n   */\n  initAPI: function (theAPI: API) {\n    api = theAPI\n\n    return api.mixin('Settings', {\n      init: this.init.bind(this),\n      initAsync: this.initAsync.bind(this),\n      get: this.get.bind(this),\n      set: this.set.bind(this),\n      setAsync: this.setAsync.bind(this),\n      refresh: this.refresh.bind(this),\n      remove: this.remove.bind(this),\n      restoreBackup: this.restoreBackup.bind(this),\n      isInitialized: this.isInitialized.bind(this),\n    })\n  },\n\n  /**\n   * Initializes settings by retrieving keys from storage and\n   * caching them in this object.\n   *\n   * @param {() => void} callback Function to call when all settings are loaded\n   */\n  init: function (callback: Function | undefined) {\n    /* If settings are already initialized, just execute callback */\n    if (this.initialized) {\n      log('init', 'Settings already initialized', this.keys, 'DEBUG')\n\n      if (typeof callback === 'function') {\n        callback()\n      }\n    } else {\n      log('init', 'Initializing Settings', this.keys, 'DEBUG')\n\n      this.initialized = true\n      this.cache = {}\n\n      Storage.init(() => {\n        this.initBackups()\n        this.refresh(callback)\n      })\n    }\n  },\n  /**\n   * @returns {Promise<void>}\n   */\n  initAsync() {\n    return new Promise((res) => this.init(res))\n  },\n\n  /**\n   * Refreshes settings from Storage\n   *\n   * @param callback Function to call when all settings have been refreshed\n   */\n  refresh: function (callback?: Function) {\n    log('refresh', 'Refreshing Settings', this.keys, 'TRACE')\n\n    let initCount = 0\n    const numKeys = this.keys.length\n\n    const refreshKey = (key: string) => {\n      /* Gets each value and caches it in memory */\n      Storage.refresh(key).then((value: any) => {\n        this.cache[key] = typeof value !== 'undefined' ? value : null\n        initCount++\n\n        if (initCount === numKeys) {\n          log('refresh', 'Settings refreshed', null, 'TRACE')\n\n          if (typeof callback === 'function') {\n            callback()\n          }\n        }\n      })\n    }\n\n    for (let i = 0; i < numKeys; i++) {\n      refreshKey(this.keys[i])\n    }\n  },\n\n  /**\n   * Retrieves settings value\n   *\n   * @param key The setting to retrieve\n   * @param defaultValue\n   * @returns {*}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  get: function (key: SettingsKey, defaultValue?: any) {\n    if (!this.inCache(key)) {\n      throw new Error(\n        '[Settings.get()] ' +\n          key +\n          ' is not registered as a key in Settings.js',\n      )\n    }\n\n    return this.cache[key] !== null ? this.cache[key] : defaultValue\n  },\n\n  /**\n   * Stores setting value(s)\n   *\n   * @param items Object with key:value pairs to store\n   * @param callback Function to call once settings are saved\n   * @param bucket Specifies a bucket to which the value(s) should be routed.\n   * @param allowUnregisteredSettings If true, unregistered settings will be allowed\n   */\n  set(\n    items: Record<SettingsKey, any>,\n    callback?: Function,\n    bucket?: BucketType | null,\n    allowUnregisteredSettings?: boolean,\n  ) {\n    this.saveBackup()\n\n    for (const _key in items) {\n      const key = _key as SettingsKey\n      if (items.hasOwnProperty(key)) {\n        if (!this.inCache(key) && !allowUnregisteredSettings) {\n          throw new Error(\n            '[Settings.get()] ' +\n              key +\n              ' is not registered as a key in Settings.js',\n          )\n        }\n\n        this.cache[key] = items[key]\n      }\n    }\n\n    Storage.set(items, bucket).then(() => {\n      if (typeof callback === 'function') {\n        callback()\n      }\n    })\n  },\n  /**\n   * Same as `set`, but async.\n   */\n  setAsync(\n    items: Record<SettingsKey, any>,\n    bucket?: BucketType,\n    allowUnregisteredSettings?: boolean,\n  ): Promise<unknown> {\n    return new Promise((res) =>\n      this.set(items, res, bucket, allowUnregisteredSettings),\n    )\n  },\n\n  /**\n   * Removes value from settings\n   *\n   * @param key The key to remove\n   */\n  remove: function (key: SettingsKey) {\n    if (this.inCache(key)) {\n      this.cache[key] = null\n    }\n\n    Storage.remove(key)\n  },\n\n  /**\n   * Initializes backups by loading backup keys and deleting\n   * and orphaned backups\n   */\n  initBackups: function () {\n    Storage.get('backupKeys').then((backupKeys: string | undefined) => {\n      this.backupKeys =\n        typeof backupKeys === 'string' ? JSON.parse(backupKeys) : []\n\n      this.deleteOrphanedBackups(this.backupKeys)\n    })\n  },\n\n  /**\n   * Saves backup of settings\n   */\n  saveBackup: async function () {\n    const key = 'backup-' + new Date().getTime()\n\n    log('saveBackup', 'Saving backup: ' + key, this.cache, 'TRACE')\n\n    /* If the max number of backup versions has been reached, prune backups */\n    if (this.backupKeys.length >= this.MAX_BACKUP_VERSIONS) {\n      this.pruneBackups()\n    }\n\n    this.backupKeys.unshift(key)\n\n    const obj: Record<string, any> = {}\n    obj[key] = JSON.stringify(this.cache)\n    obj.backupKeys = JSON.stringify(this.backupKeys)\n\n    await Storage.setBucket(key)\n    await Storage.set(obj)\n    log('saveBackup', 'Backup saved', null, 'TRACE')\n  },\n\n  /**\n   * Restores settings backup\n   *\n   * @returns {boolean}\n   * @param _version\n   */\n  restoreBackup: function (_version = undefined) {\n    const version = _version || this.backupKeys.shift()\n\n    if (!version) {\n      log('restoreBackup', 'No backup available to restore', null, 'WARN')\n      return false\n    }\n\n    log('restoreBackup', 'Restoring backup', version, 'DEBUG')\n\n    Storage.get(version).then((backupString?: string) => {\n      log('restoreBackup', 'Backup loaded', version, 'DEBUG')\n\n      if (typeof backupString === 'string') {\n        try {\n          const backup = JSON.parse(backupString)\n\n          Storage.set(backup).then(async () => {\n            await Storage.remove(version)\n\n            log('restoreBackup', 'Backup restored', version, 'DEBUG')\n\n            await Storage.set({ backupKeys: JSON.stringify(this.backupKeys) })\n            api.Chrome.Extension.reload()\n          })\n        } catch (e) {\n          log(\n            'restoreBackup',\n            'Backup failed. Error parsing backup JSON.',\n            version,\n            'DEBUG',\n          )\n\n          /* Try to roll back to earlier version */\n          this.restoreBackup()\n        }\n      } else {\n        log(\n          'restoreBackup',\n          \"Backup failed. Backup wasn't a string.\",\n          version,\n          'DEBUG',\n        )\n\n        /* Try to roll back to earlier version */\n        this.restoreBackup()\n      }\n    })\n    return true\n  },\n\n  /**\n   * Deletes oldest backup from storage\n   */\n  pruneBackups: function () {\n    if (this.isArray(this.backupKeys)) {\n      const oldKey = this.backupKeys.pop()\n\n      log('pruneBackups', 'Pruning backup: ' + oldKey, null, 'TRACE')\n\n      Storage.remove(oldKey!)\n    }\n  },\n\n  /**\n   * Deletes any backups in HTML5 localStorage which aren't currently in the\n   * backupKeys array\n   *\n   * @param backupKeys Array of keys for valid backups\n   */\n  deleteOrphanedBackups: function (backupKeys: string[]) {\n    log('deleteOrphanedBackups', 'Deleting orphaned backups', null, 'TRACE')\n\n    const validBackupKeys: Record<string, any> = {}\n\n    /* Create object to use as lookup for backup keys from local storage */\n    for (let i = 0; i < backupKeys.length; i++) {\n      validBackupKeys[backupKeys[i]] = 1\n    }\n\n    /* Gets storage map */\n    Storage.get('storageMap').then((data: Record<string, any>) => {\n      let hasChanged = false\n\n      for (const item in data) {\n        if (data.hasOwnProperty(item)) {\n          /* If it's a backup key but isn't a valid backup, delete it */\n          if (item.indexOf('backup-') === 0 && !(item in validBackupKeys)) {\n            delete data[item]\n            hasChanged = true\n          }\n        }\n      }\n\n      /* Updated storage map if needed */\n      if (hasChanged) {\n        Storage.saveMap(data)\n      }\n    })\n  },\n\n  /**\n   * Checks whether setting is in cache\n   *\n   * @param key The setting to check\n   * @returns {boolean}\n   */\n  inCache: function (key: SettingsKey) {\n    return typeof this.cache[key] !== 'undefined'\n  },\n\n  /**\n   * Checks whether object is an array\n   *\n   * @param obj The object to check\n   * @returns {boolean}\n   */\n  isArray: function (obj: any) {\n    return (\n      typeof obj === 'object' && obj !== null && typeof obj.length === 'number'\n    )\n  },\n\n  isInitialized() {\n    return this.initialized\n  },\n}\n\nexport default Settings\n","import { API } from '~/core/API'\n\nexport const SECOND = 1000\nexport const MINUTE = 60 * SECOND\nexport const HOUR = 60 * MINUTE\nexport const DAY = 24 * HOUR\nexport const WEEK = 7 * DAY\nexport const MONTH = 30 * DAY\nexport const MINUTE_IN_SEC = 60\nexport const HOUR_IN_SEC = 60 * MINUTE_IN_SEC\nexport const DAY_IN_SEC = 24 * HOUR_IN_SEC\n\nexport const MAX_TIME_ALLOWED_DEFAULT = MINUTE_IN_SEC * 10\n\nexport type TimeInterval =\n  | typeof DAY\n  | typeof HOUR\n  | typeof MINUTE\n  | typeof SECOND\n  | typeof WEEK\n  | typeof MONTH\n\nexport type DetailedTime = {\n  hours: number\n  minutes: number\n  seconds: number\n}\n\nconst Time = {\n  /**\n   * Returns the milliseconds since Epoch for the start of today.\n   */\n  getToday() {\n    return Time.getStartOfDay(new Date())\n  },\n\n  /**\n   * Returns the milliseconds since Epoch for the end of today.\n   */\n  getEndOfToday() {\n    return Time.getEndOfDay(new Date())\n  },\n\n  /**\n   * Returns the milliseconds since Epoch for the start of the day of the given\n   * @param {Date|string|number} date\n   */\n  getStartOfDay(date: Date) {\n    const d = new Date(date)\n    d.setMilliseconds(0)\n    d.setSeconds(0)\n    d.setMinutes(0)\n    d.setHours(0)\n    return d.getTime()\n  },\n\n  /**\n   * Returns the milliseconds since Epoch for the end of the day of the given\n   * @param {Date|string|number} date\n   */\n  getEndOfDay(date: Date) {\n    const d = new Date(date)\n    d.setMilliseconds(999)\n    d.setSeconds(59)\n    d.setMinutes(59)\n    d.setHours(23)\n    return d.getTime()\n  },\n\n  formatDurationInSeconds(durationInSec: number) {\n    if (durationInSec === 0 || durationInSec < 0) {\n      return '00:00'\n    }\n\n    const hoursNum = Math.floor(durationInSec / HOUR_IN_SEC)\n    const minutesNum = Math.floor((durationInSec - hoursNum * HOUR_IN_SEC) / 60)\n    const secondsNum = Math.floor(\n      durationInSec - (hoursNum * HOUR_IN_SEC + minutesNum * 60),\n    )\n\n    const hours = API.Date.toTwoDigits(hoursNum)\n    const minutes = API.Date.toTwoDigits(minutesNum)\n    const seconds = API.Date.toTwoDigits(secondsNum)\n\n    return (hours == '00' ? '' : `${hours}:`) + `${minutes}:${seconds}`\n  },\n\n  formatTimeToString(time: number) {\n    return time >= 0 && time < 10 ? `0${time}` : time\n  },\n\n  getTimeFromSeconds(seconds: number): DetailedTime {\n    if (seconds < 0)\n      return {\n        hours: 0,\n        minutes: 0,\n        seconds: 0,\n      }\n\n    const hours = Math.floor(seconds / HOUR_IN_SEC)\n    const minutes = Math.floor((seconds - hours * HOUR_IN_SEC) / 60)\n    const returnSeconds = seconds - (hours * HOUR_IN_SEC + minutes * 60)\n    return {\n      hours: hours,\n      minutes: minutes,\n      seconds: returnSeconds,\n    }\n  },\n\n  getTimeFromMilliseconds(milliseconds: number) {\n    const blockMinInTotal = milliseconds / MINUTE\n    const blockHours =\n      blockMinInTotal < 60 ? 0 : Math.floor(blockMinInTotal / 60)\n    let blockMinutes = 0\n    if (blockHours > 0) {\n      blockMinutes = blockMinInTotal - blockHours * 60\n    } else blockMinutes = Math.floor(blockMinInTotal)\n    return {\n      hours: blockHours,\n      minutes: blockMinutes,\n    }\n  },\n\n  getTimeInMilliseconds(hours: number, minutes: number) {\n    return hours * HOUR + minutes * MINUTE\n  },\n\n  getTimeInSeconds(hours: number, minutes: number) {\n    return hours * HOUR_IN_SEC + minutes * MINUTE_IN_SEC\n  },\n}\n\nexport default Time\n","import { API } from './API'\nimport GeneralUtils from './GeneralUtils'\nimport { DAY } from './Time'\n\ndeclare module '~/core/API' {\n  interface API {\n    RemoteConfig: ReturnType<typeof RemoteConfig.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('RemoteConfig')\n\nlet api: API\n\ninterface RemoteConfigDefaults {\n  onboardingEnabledPercentInt2: number\n  bugsnagSampling: number\n  pageViewAllowlist: any[]\n  bugsnagIgnoreMatches: string[]\n  usageUploadBatchSize: number\n  newTabTimeout: number\n  uploadWebUsage: boolean\n  defaultAmplitudeSampling: number\n  amplitudeSampling: {}\n  incrementalRollout: {}\n  instacartSelectors: {}\n  forbiddenPromptWords: string[]\n  chatGptUrl: string\n  chatGptConversationUrl: string\n}\n\nconst RemoteConfig = {\n  cache: {} as Record<string, any>,\n  initialized: false,\n  defaults: {\n    onboardingEnabledPercentInt2: 0,\n    defaultAmplitudeSampling: 0.1, // 0-100  0=disabled  100=fully enabled\n    amplitudeSampling: {}, // 0-100  0=disabled  100=fully enabled\n    newTabTimeout: 3 * DAY,\n    uploadWebUsage: true,\n    usageUploadBatchSize: 500,\n    pageViewAllowlist: [],\n    incrementalRollout: {},\n    bugsnagSampling: 0.01, // 0-100  0=disabled  100=fully enabled\n    bugsnagIgnoreMatches: [\n      'Extension context invalidated.',\n      'Could not establish connection. Receiving end does not exist.',\n      'The browser is shutting down.',\n      '{\\\\s*\"?isTrusted\"?:\\\\s*true\\\\s*}',\n      \"Failed to execute 'abort' on 'IDBTransaction': The transaction has finished.\",\n      \"Failed to execute 'transaction' on 'IDBDatabase': The database connection is closing.\",\n      '^IO error: \\\\.\\\\.\\\\.\\\\/.+?: .*? \\\\(ChromeMethodBFE: .*\\\\)$',\n      'Cannot access contents of the page. Extension manifest must request permission to access the respective host.',\n      'The extensions gallery cannot be scripted.',\n    ], // Regexes to ignore in Bugsnag  ignore errors that are not actionable\n    instacartSelectors: {\n      productSelector: ['div[aria-label=\"Product\"]'],\n      sponsoredRegex: ['/s\\\\s*p\\\\s*o\\\\s*n\\\\s*s\\\\s*o\\\\s*r\\\\s*/i'],\n      companyName: ['.e-1f1gsmn', '.e-1opt332'],\n      searchTerm: ['#search-bar-input'],\n      productTitle: ['.e-th3ch3', '.e-u2e78b', '.e-1exr31r', '.e-wrmemy'],\n      productSize: ['.e-k9ly30', '.e-owckh2', '.e-1hb8rq9', '.e-1188c9v'],\n      productPrice: [\n        '.e-1jioxed > span.screen-reader-only',\n        '.e-1ybpdrh > span.screen-reader-only',\n        '.e-1ghw7u1 > span.screen-reader-only',\n        '.e-hlbpyw > span.screen-reader-only',\n        '.e-t5lw1y > span.e-13d1dsr',\n      ],\n    },\n    forbiddenPromptWords: ['drug', 'alcohol', 'porn'],\n    chatGptUrl: 'https://chatgpt.com/',\n    chatGptConversationUrl: 'https://chatgpt.com/c/',\n  } as RemoteConfigDefaults,\n  url: `https://stayfocusd.st-panel-api.com/v1/remote_config/stayfocusd${\n    MINIFIED ? '' : '-dev'\n  }`,\n  sharedConfigUrl:\n    'https://stayfocusd.st-panel-api.com/v1/remote_config/shared-web-config',\n  storageKey: 'remote-config',\n\n  /**\n   * Initializes RemoteConfig API\n   *\n   * @param theAPI\n   */\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('RemoteConfig', {\n      storageKey: this.storageKey,\n      init: this.init.bind(this),\n      get: this.get.bind(this),\n      refresh: this.refresh.bind(this),\n    })\n  },\n\n  /**\n   * Restart the remote config from storage and refresh to grab the latest config.\n   */\n  async init() {\n    if (this.initialized) {\n      log?.('init', 'RemoteConfig already initialized', this.cache, 'DEBUG')\n      return\n    }\n\n    log?.('init', 'Initializing RemoteConfig', this.defaults, 'DEBUG')\n\n    this.initialized = true\n    this.cache = { ...this.defaults }\n    this.cache = {\n      ...this.cache,\n      ...(await api.Storage.get(this.storageKey)),\n    }\n\n    log?.('init', 'Initialized', this.cache, 'DEBUG')\n  },\n\n  /**\n   * Refreshes remote config from the remote API\n   */\n  async refresh() {\n    log?.('refresh', 'Refreshing...', { currentConfig: this.cache }, 'DEBUG')\n\n    try {\n      const latestConfig = await fetch(this.url).then((res) => res.json())\n      const latestSharedConfig = await fetch(this.sharedConfigUrl).then((res) =>\n        res.json(),\n      )\n      log?.('refresh', 'Fetched config', latestConfig, 'DEBUG')\n\n      this.cache = {\n        ...this.defaults,\n        ...latestConfig,\n        ...latestSharedConfig,\n      }\n      await api.Storage.set({ [this.storageKey]: this.cache })\n      log?.('refresh', 'Saved config', this.cache, 'DEBUG')\n    } catch (err) {\n      log?.('refresh', 'Failed to fetch remote config', err, 'WARN')\n    }\n  },\n\n  /**\n   * Retrieves a field from remote config value\n   *\n   * @param {string} key The field to retrieve\n   * @returns {any}\n   */\n  get(key: string) {\n    if (!this.inCache(key)) {\n      throw new Error(\n        '[RemoteConfig.get()] ' +\n          key +\n          ' is not registered as a key in RemoteConfig.js',\n      )\n    }\n    return this.cache[key]\n  },\n\n  /**\n   * Checks whether a field is in the cache\n   *\n   * @param key The field to check\n   * @returns {boolean}\n   */\n  inCache(key: string) {\n    return typeof this.cache[key] !== 'undefined'\n  },\n}\n\nexport default RemoteConfig\n","var ua = Object.defineProperty;\nvar ha = (t, e, s) => e in t ? ua(t, e, { enumerable: !0, configurable: !0, writable: !0, value: s }) : t[e] = s;\nvar Q = (t, e, s) => (ha(t, typeof e != \"symbol\" ? e + \"\" : e, s), s), Bs = (t, e, s) => {\n  if (!e.has(t))\n    throw TypeError(\"Cannot \" + s);\n};\nvar p = (t, e, s) => (Bs(t, e, \"read from private field\"), s ? s.call(t) : e.get(t)), he = (t, e, s) => {\n  if (e.has(t))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  e instanceof WeakSet ? e.add(t) : e.set(t, s);\n}, G = (t, e, s, n) => (Bs(t, e, \"write to private field\"), n ? n.call(t, s) : e.set(t, s), s);\nvar gt = (t, e, s) => (Bs(t, e, \"access private method\"), s);\nvar L;\n(function(t) {\n  t.assertEqual = (r) => r;\n  function e(r) {\n  }\n  t.assertIs = e;\n  function s(r) {\n    throw new Error();\n  }\n  t.assertNever = s, t.arrayToEnum = (r) => {\n    const i = {};\n    for (const a of r)\n      i[a] = a;\n    return i;\n  }, t.getValidEnumValues = (r) => {\n    const i = t.objectKeys(r).filter((o) => typeof r[r[o]] != \"number\"), a = {};\n    for (const o of i)\n      a[o] = r[o];\n    return t.objectValues(a);\n  }, t.objectValues = (r) => t.objectKeys(r).map(function(i) {\n    return r[i];\n  }), t.objectKeys = typeof Object.keys == \"function\" ? (r) => Object.keys(r) : (r) => {\n    const i = [];\n    for (const a in r)\n      Object.prototype.hasOwnProperty.call(r, a) && i.push(a);\n    return i;\n  }, t.find = (r, i) => {\n    for (const a of r)\n      if (i(a))\n        return a;\n  }, t.isInteger = typeof Number.isInteger == \"function\" ? (r) => Number.isInteger(r) : (r) => typeof r == \"number\" && isFinite(r) && Math.floor(r) === r;\n  function n(r, i = \" | \") {\n    return r.map((a) => typeof a == \"string\" ? `'${a}'` : a).join(i);\n  }\n  t.joinValues = n, t.jsonStringifyReplacer = (r, i) => typeof i == \"bigint\" ? i.toString() : i;\n})(L || (L = {}));\nconst A = L.arrayToEnum([\n  \"string\",\n  \"nan\",\n  \"number\",\n  \"integer\",\n  \"float\",\n  \"boolean\",\n  \"date\",\n  \"bigint\",\n  \"symbol\",\n  \"function\",\n  \"undefined\",\n  \"null\",\n  \"array\",\n  \"object\",\n  \"unknown\",\n  \"promise\",\n  \"void\",\n  \"never\",\n  \"map\",\n  \"set\"\n]), Ke = (t) => {\n  switch (typeof t) {\n    case \"undefined\":\n      return A.undefined;\n    case \"string\":\n      return A.string;\n    case \"number\":\n      return isNaN(t) ? A.nan : A.number;\n    case \"boolean\":\n      return A.boolean;\n    case \"function\":\n      return A.function;\n    case \"bigint\":\n      return A.bigint;\n    case \"symbol\":\n      return A.symbol;\n    case \"object\":\n      return Array.isArray(t) ? A.array : t === null ? A.null : t.then && typeof t.then == \"function\" && t.catch && typeof t.catch == \"function\" ? A.promise : typeof Map < \"u\" && t instanceof Map ? A.map : typeof Set < \"u\" && t instanceof Set ? A.set : typeof Date < \"u\" && t instanceof Date ? A.date : A.object;\n    default:\n      return A.unknown;\n  }\n}, y = L.arrayToEnum([\n  \"invalid_type\",\n  \"invalid_literal\",\n  \"custom\",\n  \"invalid_union\",\n  \"invalid_union_discriminator\",\n  \"invalid_enum_value\",\n  \"unrecognized_keys\",\n  \"invalid_arguments\",\n  \"invalid_return_type\",\n  \"invalid_date\",\n  \"invalid_string\",\n  \"too_small\",\n  \"too_big\",\n  \"invalid_intersection_types\",\n  \"not_multiple_of\",\n  \"not_finite\"\n]), fa = (t) => JSON.stringify(t, null, 2).replace(/\"([^\"]+)\":/g, \"$1:\");\nclass Be extends Error {\n  constructor(e) {\n    super(), this.issues = [], this.addIssue = (n) => {\n      this.issues = [...this.issues, n];\n    }, this.addIssues = (n = []) => {\n      this.issues = [...this.issues, ...n];\n    };\n    const s = new.target.prototype;\n    Object.setPrototypeOf ? Object.setPrototypeOf(this, s) : this.__proto__ = s, this.name = \"ZodError\", this.issues = e;\n  }\n  get errors() {\n    return this.issues;\n  }\n  format(e) {\n    const s = e || function(i) {\n      return i.message;\n    }, n = { _errors: [] }, r = (i) => {\n      for (const a of i.issues)\n        if (a.code === \"invalid_union\")\n          a.unionErrors.map(r);\n        else if (a.code === \"invalid_return_type\")\n          r(a.returnTypeError);\n        else if (a.code === \"invalid_arguments\")\n          r(a.argumentsError);\n        else if (a.path.length === 0)\n          n._errors.push(s(a));\n        else {\n          let o = n, d = 0;\n          for (; d < a.path.length; ) {\n            const l = a.path[d];\n            d === a.path.length - 1 ? (o[l] = o[l] || { _errors: [] }, o[l]._errors.push(s(a))) : o[l] = o[l] || { _errors: [] }, o = o[l], d++;\n          }\n        }\n    };\n    return r(this), n;\n  }\n  toString() {\n    return this.message;\n  }\n  get message() {\n    return JSON.stringify(this.issues, L.jsonStringifyReplacer, 2);\n  }\n  get isEmpty() {\n    return this.issues.length === 0;\n  }\n  flatten(e = (s) => s.message) {\n    const s = {}, n = [];\n    for (const r of this.issues)\n      r.path.length > 0 ? (s[r.path[0]] = s[r.path[0]] || [], s[r.path[0]].push(e(r))) : n.push(e(r));\n    return { formErrors: n, fieldErrors: s };\n  }\n  get formErrors() {\n    return this.flatten();\n  }\n}\nBe.create = (t) => new Be(t);\nconst $t = (t, e) => {\n  let s;\n  switch (t.code) {\n    case y.invalid_type:\n      t.received === A.undefined ? s = \"Required\" : s = `Expected ${t.expected}, received ${t.received}`;\n      break;\n    case y.invalid_literal:\n      s = `Invalid literal value, expected ${JSON.stringify(t.expected, L.jsonStringifyReplacer)}`;\n      break;\n    case y.unrecognized_keys:\n      s = `Unrecognized key(s) in object: ${L.joinValues(t.keys, \", \")}`;\n      break;\n    case y.invalid_union:\n      s = \"Invalid input\";\n      break;\n    case y.invalid_union_discriminator:\n      s = `Invalid discriminator value. Expected ${L.joinValues(t.options)}`;\n      break;\n    case y.invalid_enum_value:\n      s = `Invalid enum value. Expected ${L.joinValues(t.options)}, received '${t.received}'`;\n      break;\n    case y.invalid_arguments:\n      s = \"Invalid function arguments\";\n      break;\n    case y.invalid_return_type:\n      s = \"Invalid function return type\";\n      break;\n    case y.invalid_date:\n      s = \"Invalid date\";\n      break;\n    case y.invalid_string:\n      typeof t.validation == \"object\" ? \"startsWith\" in t.validation ? s = `Invalid input: must start with \"${t.validation.startsWith}\"` : \"endsWith\" in t.validation ? s = `Invalid input: must end with \"${t.validation.endsWith}\"` : L.assertNever(t.validation) : t.validation !== \"regex\" ? s = `Invalid ${t.validation}` : s = \"Invalid\";\n      break;\n    case y.too_small:\n      t.type === \"array\" ? s = `Array must contain ${t.exact ? \"exactly\" : t.inclusive ? \"at least\" : \"more than\"} ${t.minimum} element(s)` : t.type === \"string\" ? s = `String must contain ${t.exact ? \"exactly\" : t.inclusive ? \"at least\" : \"over\"} ${t.minimum} character(s)` : t.type === \"number\" ? s = `Number must be ${t.exact ? \"exactly equal to \" : t.inclusive ? \"greater than or equal to \" : \"greater than \"}${t.minimum}` : t.type === \"date\" ? s = `Date must be ${t.exact ? \"exactly equal to \" : t.inclusive ? \"greater than or equal to \" : \"greater than \"}${new Date(t.minimum)}` : s = \"Invalid input\";\n      break;\n    case y.too_big:\n      t.type === \"array\" ? s = `Array must contain ${t.exact ? \"exactly\" : t.inclusive ? \"at most\" : \"less than\"} ${t.maximum} element(s)` : t.type === \"string\" ? s = `String must contain ${t.exact ? \"exactly\" : t.inclusive ? \"at most\" : \"under\"} ${t.maximum} character(s)` : t.type === \"number\" ? s = `Number must be ${t.exact ? \"exactly\" : t.inclusive ? \"less than or equal to\" : \"less than\"} ${t.maximum}` : t.type === \"date\" ? s = `Date must be ${t.exact ? \"exactly\" : t.inclusive ? \"smaller than or equal to\" : \"smaller than\"} ${new Date(t.maximum)}` : s = \"Invalid input\";\n      break;\n    case y.custom:\n      s = \"Invalid input\";\n      break;\n    case y.invalid_intersection_types:\n      s = \"Intersection results could not be merged\";\n      break;\n    case y.not_multiple_of:\n      s = `Number must be a multiple of ${t.multipleOf}`;\n      break;\n    case y.not_finite:\n      s = \"Number must be finite\";\n      break;\n    default:\n      s = e.defaultError, L.assertNever(t);\n  }\n  return { message: s };\n};\nlet dr = $t;\nfunction pa(t) {\n  dr = t;\n}\nfunction ps() {\n  return dr;\n}\nconst gs = (t) => {\n  const { data: e, path: s, errorMaps: n, issueData: r } = t, i = [...s, ...r.path || []], a = {\n    ...r,\n    path: i\n  };\n  let o = \"\";\n  const d = n.filter((l) => !!l).slice().reverse();\n  for (const l of d)\n    o = l(a, { data: e, defaultError: o }).message;\n  return {\n    ...r,\n    path: i,\n    message: r.message || o\n  };\n}, ga = [];\nfunction w(t, e) {\n  const s = gs({\n    issueData: e,\n    data: t.data,\n    path: t.path,\n    errorMaps: [\n      t.common.contextualErrorMap,\n      t.schemaErrorMap,\n      ps(),\n      $t\n    ].filter((n) => !!n)\n  });\n  t.common.issues.push(s);\n}\nclass fe {\n  constructor() {\n    this.value = \"valid\";\n  }\n  dirty() {\n    this.value === \"valid\" && (this.value = \"dirty\");\n  }\n  abort() {\n    this.value !== \"aborted\" && (this.value = \"aborted\");\n  }\n  static mergeArray(e, s) {\n    const n = [];\n    for (const r of s) {\n      if (r.status === \"aborted\")\n        return E;\n      r.status === \"dirty\" && e.dirty(), n.push(r.value);\n    }\n    return { status: e.value, value: n };\n  }\n  static async mergeObjectAsync(e, s) {\n    const n = [];\n    for (const r of s)\n      n.push({\n        key: await r.key,\n        value: await r.value\n      });\n    return fe.mergeObjectSync(e, n);\n  }\n  static mergeObjectSync(e, s) {\n    const n = {};\n    for (const r of s) {\n      const { key: i, value: a } = r;\n      if (i.status === \"aborted\" || a.status === \"aborted\")\n        return E;\n      i.status === \"dirty\" && e.dirty(), a.status === \"dirty\" && e.dirty(), (typeof a.value < \"u\" || r.alwaysSet) && (n[i.value] = a.value);\n    }\n    return { status: e.value, value: n };\n  }\n}\nconst E = Object.freeze({\n  status: \"aborted\"\n}), lr = (t) => ({ status: \"dirty\", value: t }), de = (t) => ({ status: \"valid\", value: t }), Ys = (t) => t.status === \"aborted\", Js = (t) => t.status === \"dirty\", ms = (t) => t.status === \"valid\", ys = (t) => typeof Promise !== void 0 && t instanceof Promise;\nvar M;\n(function(t) {\n  t.errToObj = (e) => typeof e == \"string\" ? { message: e } : e || {}, t.toString = (e) => typeof e == \"string\" ? e : e == null ? void 0 : e.message;\n})(M || (M = {}));\nclass Le {\n  constructor(e, s, n, r) {\n    this.parent = e, this.data = s, this._path = n, this._key = r;\n  }\n  get path() {\n    return this._path.concat(this._key);\n  }\n}\nconst Wn = (t, e) => {\n  if (ms(e))\n    return { success: !0, data: e.value };\n  {\n    if (!t.common.issues.length)\n      throw new Error(\"Validation failed but no issues detected.\");\n    const s = new Be(t.common.issues);\n    return { success: !1, error: s };\n  }\n};\nfunction k(t) {\n  if (!t)\n    return {};\n  const { errorMap: e, invalid_type_error: s, required_error: n, description: r } = t;\n  if (e && (s || n))\n    throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n  return e ? { errorMap: e, description: r } : { errorMap: (a, o) => a.code !== \"invalid_type\" ? { message: o.defaultError } : typeof o.data > \"u\" ? { message: n != null ? n : o.defaultError } : { message: s != null ? s : o.defaultError }, description: r };\n}\nclass N {\n  constructor(e) {\n    this.spa = this.safeParseAsync, this._def = e, this.parse = this.parse.bind(this), this.safeParse = this.safeParse.bind(this), this.parseAsync = this.parseAsync.bind(this), this.safeParseAsync = this.safeParseAsync.bind(this), this.spa = this.spa.bind(this), this.refine = this.refine.bind(this), this.refinement = this.refinement.bind(this), this.superRefine = this.superRefine.bind(this), this.optional = this.optional.bind(this), this.nullable = this.nullable.bind(this), this.nullish = this.nullish.bind(this), this.array = this.array.bind(this), this.promise = this.promise.bind(this), this.or = this.or.bind(this), this.and = this.and.bind(this), this.transform = this.transform.bind(this), this.brand = this.brand.bind(this), this.default = this.default.bind(this), this.catch = this.catch.bind(this), this.describe = this.describe.bind(this), this.pipe = this.pipe.bind(this), this.isNullable = this.isNullable.bind(this), this.isOptional = this.isOptional.bind(this);\n  }\n  get description() {\n    return this._def.description;\n  }\n  _getType(e) {\n    return Ke(e.data);\n  }\n  _getOrReturnCtx(e, s) {\n    return s || {\n      common: e.parent.common,\n      data: e.data,\n      parsedType: Ke(e.data),\n      schemaErrorMap: this._def.errorMap,\n      path: e.path,\n      parent: e.parent\n    };\n  }\n  _processInputParams(e) {\n    return {\n      status: new fe(),\n      ctx: {\n        common: e.parent.common,\n        data: e.data,\n        parsedType: Ke(e.data),\n        schemaErrorMap: this._def.errorMap,\n        path: e.path,\n        parent: e.parent\n      }\n    };\n  }\n  _parseSync(e) {\n    const s = this._parse(e);\n    if (ys(s))\n      throw new Error(\"Synchronous parse encountered promise.\");\n    return s;\n  }\n  _parseAsync(e) {\n    const s = this._parse(e);\n    return Promise.resolve(s);\n  }\n  parse(e, s) {\n    const n = this.safeParse(e, s);\n    if (n.success)\n      return n.data;\n    throw n.error;\n  }\n  safeParse(e, s) {\n    var n;\n    const r = {\n      common: {\n        issues: [],\n        async: (n = s == null ? void 0 : s.async) !== null && n !== void 0 ? n : !1,\n        contextualErrorMap: s == null ? void 0 : s.errorMap\n      },\n      path: (s == null ? void 0 : s.path) || [],\n      schemaErrorMap: this._def.errorMap,\n      parent: null,\n      data: e,\n      parsedType: Ke(e)\n    }, i = this._parseSync({ data: e, path: r.path, parent: r });\n    return Wn(r, i);\n  }\n  async parseAsync(e, s) {\n    const n = await this.safeParseAsync(e, s);\n    if (n.success)\n      return n.data;\n    throw n.error;\n  }\n  async safeParseAsync(e, s) {\n    const n = {\n      common: {\n        issues: [],\n        contextualErrorMap: s == null ? void 0 : s.errorMap,\n        async: !0\n      },\n      path: (s == null ? void 0 : s.path) || [],\n      schemaErrorMap: this._def.errorMap,\n      parent: null,\n      data: e,\n      parsedType: Ke(e)\n    }, r = this._parse({ data: e, path: n.path, parent: n }), i = await (ys(r) ? r : Promise.resolve(r));\n    return Wn(n, i);\n  }\n  refine(e, s) {\n    const n = (r) => typeof s == \"string\" || typeof s > \"u\" ? { message: s } : typeof s == \"function\" ? s(r) : s;\n    return this._refinement((r, i) => {\n      const a = e(r), o = () => i.addIssue({\n        code: y.custom,\n        ...n(r)\n      });\n      return typeof Promise < \"u\" && a instanceof Promise ? a.then((d) => d ? !0 : (o(), !1)) : a ? !0 : (o(), !1);\n    });\n  }\n  refinement(e, s) {\n    return this._refinement((n, r) => e(n) ? !0 : (r.addIssue(typeof s == \"function\" ? s(n, r) : s), !1));\n  }\n  _refinement(e) {\n    return new ke({\n      schema: this,\n      typeName: T.ZodEffects,\n      effect: { type: \"refinement\", refinement: e }\n    });\n  }\n  superRefine(e) {\n    return this._refinement(e);\n  }\n  optional() {\n    return Ce.create(this);\n  }\n  nullable() {\n    return ft.create(this);\n  }\n  nullish() {\n    return this.optional().nullable();\n  }\n  array() {\n    return Oe.create(this);\n  }\n  promise() {\n    return bt.create(this);\n  }\n  or(e) {\n    return zt.create([this, e]);\n  }\n  and(e) {\n    return Ft.create(this, e);\n  }\n  transform(e) {\n    return new ke({\n      schema: this,\n      typeName: T.ZodEffects,\n      effect: { type: \"transform\", transform: e }\n    });\n  }\n  default(e) {\n    const s = typeof e == \"function\" ? e : () => e;\n    return new Kt({\n      innerType: this,\n      defaultValue: s,\n      typeName: T.ZodDefault\n    });\n  }\n  brand() {\n    return new hr({\n      typeName: T.ZodBranded,\n      type: this,\n      ...k(void 0)\n    });\n  }\n  catch(e) {\n    const s = typeof e == \"function\" ? e : () => e;\n    return new bs({\n      innerType: this,\n      defaultValue: s,\n      typeName: T.ZodCatch\n    });\n  }\n  describe(e) {\n    const s = this.constructor;\n    return new s({\n      ...this._def,\n      description: e\n    });\n  }\n  pipe(e) {\n    return es.create(this, e);\n  }\n  isOptional() {\n    return this.safeParse(void 0).success;\n  }\n  isNullable() {\n    return this.safeParse(null).success;\n  }\n}\nconst ma = /^c[^\\s-]{8,}$/i, ya = /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i, _a = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i, Aa = (t) => t.precision ? t.offset ? new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${t.precision}}(([+-]\\\\d{2}:\\\\d{2})|Z)$`) : new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${t.precision}}Z$`) : t.precision === 0 ? t.offset ? new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(([+-]\\\\d{2}:\\\\d{2})|Z)$\") : new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z$\") : t.offset ? new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?(([+-]\\\\d{2}:\\\\d{2})|Z)$\") : new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?Z$\");\nclass ze extends N {\n  constructor() {\n    super(...arguments), this._regex = (e, s, n) => this.refinement((r) => e.test(r), {\n      validation: s,\n      code: y.invalid_string,\n      ...M.errToObj(n)\n    }), this.nonempty = (e) => this.min(1, M.errToObj(e)), this.trim = () => new ze({\n      ...this._def,\n      checks: [...this._def.checks, { kind: \"trim\" }]\n    });\n  }\n  _parse(e) {\n    if (this._def.coerce && (e.data = String(e.data)), this._getType(e) !== A.string) {\n      const i = this._getOrReturnCtx(e);\n      return w(\n        i,\n        {\n          code: y.invalid_type,\n          expected: A.string,\n          received: i.parsedType\n        }\n      ), E;\n    }\n    const n = new fe();\n    let r;\n    for (const i of this._def.checks)\n      if (i.kind === \"min\")\n        e.data.length < i.value && (r = this._getOrReturnCtx(e, r), w(r, {\n          code: y.too_small,\n          minimum: i.value,\n          type: \"string\",\n          inclusive: !0,\n          exact: !1,\n          message: i.message\n        }), n.dirty());\n      else if (i.kind === \"max\")\n        e.data.length > i.value && (r = this._getOrReturnCtx(e, r), w(r, {\n          code: y.too_big,\n          maximum: i.value,\n          type: \"string\",\n          inclusive: !0,\n          exact: !1,\n          message: i.message\n        }), n.dirty());\n      else if (i.kind === \"length\") {\n        const a = e.data.length > i.value, o = e.data.length < i.value;\n        (a || o) && (r = this._getOrReturnCtx(e, r), a ? w(r, {\n          code: y.too_big,\n          maximum: i.value,\n          type: \"string\",\n          inclusive: !0,\n          exact: !0,\n          message: i.message\n        }) : o && w(r, {\n          code: y.too_small,\n          minimum: i.value,\n          type: \"string\",\n          inclusive: !0,\n          exact: !0,\n          message: i.message\n        }), n.dirty());\n      } else if (i.kind === \"email\")\n        _a.test(e.data) || (r = this._getOrReturnCtx(e, r), w(r, {\n          validation: \"email\",\n          code: y.invalid_string,\n          message: i.message\n        }), n.dirty());\n      else if (i.kind === \"uuid\")\n        ya.test(e.data) || (r = this._getOrReturnCtx(e, r), w(r, {\n          validation: \"uuid\",\n          code: y.invalid_string,\n          message: i.message\n        }), n.dirty());\n      else if (i.kind === \"cuid\")\n        ma.test(e.data) || (r = this._getOrReturnCtx(e, r), w(r, {\n          validation: \"cuid\",\n          code: y.invalid_string,\n          message: i.message\n        }), n.dirty());\n      else if (i.kind === \"url\")\n        try {\n          new URL(e.data);\n        } catch {\n          r = this._getOrReturnCtx(e, r), w(r, {\n            validation: \"url\",\n            code: y.invalid_string,\n            message: i.message\n          }), n.dirty();\n        }\n      else\n        i.kind === \"regex\" ? (i.regex.lastIndex = 0, i.regex.test(e.data) || (r = this._getOrReturnCtx(e, r), w(r, {\n          validation: \"regex\",\n          code: y.invalid_string,\n          message: i.message\n        }), n.dirty())) : i.kind === \"trim\" ? e.data = e.data.trim() : i.kind === \"startsWith\" ? e.data.startsWith(i.value) || (r = this._getOrReturnCtx(e, r), w(r, {\n          code: y.invalid_string,\n          validation: { startsWith: i.value },\n          message: i.message\n        }), n.dirty()) : i.kind === \"endsWith\" ? e.data.endsWith(i.value) || (r = this._getOrReturnCtx(e, r), w(r, {\n          code: y.invalid_string,\n          validation: { endsWith: i.value },\n          message: i.message\n        }), n.dirty()) : i.kind === \"datetime\" ? Aa(i).test(e.data) || (r = this._getOrReturnCtx(e, r), w(r, {\n          code: y.invalid_string,\n          validation: \"datetime\",\n          message: i.message\n        }), n.dirty()) : L.assertNever(i);\n    return { status: n.value, value: e.data };\n  }\n  _addCheck(e) {\n    return new ze({\n      ...this._def,\n      checks: [...this._def.checks, e]\n    });\n  }\n  email(e) {\n    return this._addCheck({ kind: \"email\", ...M.errToObj(e) });\n  }\n  url(e) {\n    return this._addCheck({ kind: \"url\", ...M.errToObj(e) });\n  }\n  uuid(e) {\n    return this._addCheck({ kind: \"uuid\", ...M.errToObj(e) });\n  }\n  cuid(e) {\n    return this._addCheck({ kind: \"cuid\", ...M.errToObj(e) });\n  }\n  datetime(e) {\n    var s;\n    return typeof e == \"string\" ? this._addCheck({\n      kind: \"datetime\",\n      precision: null,\n      offset: !1,\n      message: e\n    }) : this._addCheck({\n      kind: \"datetime\",\n      precision: typeof (e == null ? void 0 : e.precision) > \"u\" ? null : e == null ? void 0 : e.precision,\n      offset: (s = e == null ? void 0 : e.offset) !== null && s !== void 0 ? s : !1,\n      ...M.errToObj(e == null ? void 0 : e.message)\n    });\n  }\n  regex(e, s) {\n    return this._addCheck({\n      kind: \"regex\",\n      regex: e,\n      ...M.errToObj(s)\n    });\n  }\n  startsWith(e, s) {\n    return this._addCheck({\n      kind: \"startsWith\",\n      value: e,\n      ...M.errToObj(s)\n    });\n  }\n  endsWith(e, s) {\n    return this._addCheck({\n      kind: \"endsWith\",\n      value: e,\n      ...M.errToObj(s)\n    });\n  }\n  min(e, s) {\n    return this._addCheck({\n      kind: \"min\",\n      value: e,\n      ...M.errToObj(s)\n    });\n  }\n  max(e, s) {\n    return this._addCheck({\n      kind: \"max\",\n      value: e,\n      ...M.errToObj(s)\n    });\n  }\n  length(e, s) {\n    return this._addCheck({\n      kind: \"length\",\n      value: e,\n      ...M.errToObj(s)\n    });\n  }\n  get isDatetime() {\n    return !!this._def.checks.find((e) => e.kind === \"datetime\");\n  }\n  get isEmail() {\n    return !!this._def.checks.find((e) => e.kind === \"email\");\n  }\n  get isURL() {\n    return !!this._def.checks.find((e) => e.kind === \"url\");\n  }\n  get isUUID() {\n    return !!this._def.checks.find((e) => e.kind === \"uuid\");\n  }\n  get isCUID() {\n    return !!this._def.checks.find((e) => e.kind === \"cuid\");\n  }\n  get minLength() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"min\" && (e === null || s.value > e) && (e = s.value);\n    return e;\n  }\n  get maxLength() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"max\" && (e === null || s.value < e) && (e = s.value);\n    return e;\n  }\n}\nze.create = (t) => {\n  var e;\n  return new ze({\n    checks: [],\n    typeName: T.ZodString,\n    coerce: (e = t == null ? void 0 : t.coerce) !== null && e !== void 0 ? e : !1,\n    ...k(t)\n  });\n};\nfunction va(t, e) {\n  const s = (t.toString().split(\".\")[1] || \"\").length, n = (e.toString().split(\".\")[1] || \"\").length, r = s > n ? s : n, i = parseInt(t.toFixed(r).replace(\".\", \"\")), a = parseInt(e.toFixed(r).replace(\".\", \"\"));\n  return i % a / Math.pow(10, r);\n}\nclass et extends N {\n  constructor() {\n    super(...arguments), this.min = this.gte, this.max = this.lte, this.step = this.multipleOf;\n  }\n  _parse(e) {\n    if (this._def.coerce && (e.data = Number(e.data)), this._getType(e) !== A.number) {\n      const i = this._getOrReturnCtx(e);\n      return w(i, {\n        code: y.invalid_type,\n        expected: A.number,\n        received: i.parsedType\n      }), E;\n    }\n    let n;\n    const r = new fe();\n    for (const i of this._def.checks)\n      i.kind === \"int\" ? L.isInteger(e.data) || (n = this._getOrReturnCtx(e, n), w(n, {\n        code: y.invalid_type,\n        expected: \"integer\",\n        received: \"float\",\n        message: i.message\n      }), r.dirty()) : i.kind === \"min\" ? (i.inclusive ? e.data < i.value : e.data <= i.value) && (n = this._getOrReturnCtx(e, n), w(n, {\n        code: y.too_small,\n        minimum: i.value,\n        type: \"number\",\n        inclusive: i.inclusive,\n        exact: !1,\n        message: i.message\n      }), r.dirty()) : i.kind === \"max\" ? (i.inclusive ? e.data > i.value : e.data >= i.value) && (n = this._getOrReturnCtx(e, n), w(n, {\n        code: y.too_big,\n        maximum: i.value,\n        type: \"number\",\n        inclusive: i.inclusive,\n        exact: !1,\n        message: i.message\n      }), r.dirty()) : i.kind === \"multipleOf\" ? va(e.data, i.value) !== 0 && (n = this._getOrReturnCtx(e, n), w(n, {\n        code: y.not_multiple_of,\n        multipleOf: i.value,\n        message: i.message\n      }), r.dirty()) : i.kind === \"finite\" ? Number.isFinite(e.data) || (n = this._getOrReturnCtx(e, n), w(n, {\n        code: y.not_finite,\n        message: i.message\n      }), r.dirty()) : L.assertNever(i);\n    return { status: r.value, value: e.data };\n  }\n  gte(e, s) {\n    return this.setLimit(\"min\", e, !0, M.toString(s));\n  }\n  gt(e, s) {\n    return this.setLimit(\"min\", e, !1, M.toString(s));\n  }\n  lte(e, s) {\n    return this.setLimit(\"max\", e, !0, M.toString(s));\n  }\n  lt(e, s) {\n    return this.setLimit(\"max\", e, !1, M.toString(s));\n  }\n  setLimit(e, s, n, r) {\n    return new et({\n      ...this._def,\n      checks: [\n        ...this._def.checks,\n        {\n          kind: e,\n          value: s,\n          inclusive: n,\n          message: M.toString(r)\n        }\n      ]\n    });\n  }\n  _addCheck(e) {\n    return new et({\n      ...this._def,\n      checks: [...this._def.checks, e]\n    });\n  }\n  int(e) {\n    return this._addCheck({\n      kind: \"int\",\n      message: M.toString(e)\n    });\n  }\n  positive(e) {\n    return this._addCheck({\n      kind: \"min\",\n      value: 0,\n      inclusive: !1,\n      message: M.toString(e)\n    });\n  }\n  negative(e) {\n    return this._addCheck({\n      kind: \"max\",\n      value: 0,\n      inclusive: !1,\n      message: M.toString(e)\n    });\n  }\n  nonpositive(e) {\n    return this._addCheck({\n      kind: \"max\",\n      value: 0,\n      inclusive: !0,\n      message: M.toString(e)\n    });\n  }\n  nonnegative(e) {\n    return this._addCheck({\n      kind: \"min\",\n      value: 0,\n      inclusive: !0,\n      message: M.toString(e)\n    });\n  }\n  multipleOf(e, s) {\n    return this._addCheck({\n      kind: \"multipleOf\",\n      value: e,\n      message: M.toString(s)\n    });\n  }\n  finite(e) {\n    return this._addCheck({\n      kind: \"finite\",\n      message: M.toString(e)\n    });\n  }\n  get minValue() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"min\" && (e === null || s.value > e) && (e = s.value);\n    return e;\n  }\n  get maxValue() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"max\" && (e === null || s.value < e) && (e = s.value);\n    return e;\n  }\n  get isInt() {\n    return !!this._def.checks.find((e) => e.kind === \"int\");\n  }\n}\net.create = (t) => new et({\n  checks: [],\n  typeName: T.ZodNumber,\n  coerce: (t == null ? void 0 : t.coerce) || !1,\n  ...k(t)\n});\nclass Zt extends N {\n  _parse(e) {\n    if (this._def.coerce && (e.data = BigInt(e.data)), this._getType(e) !== A.bigint) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.bigint,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\nZt.create = (t) => {\n  var e;\n  return new Zt({\n    typeName: T.ZodBigInt,\n    coerce: (e = t == null ? void 0 : t.coerce) !== null && e !== void 0 ? e : !1,\n    ...k(t)\n  });\n};\nclass Ut extends N {\n  _parse(e) {\n    if (this._def.coerce && (e.data = Boolean(e.data)), this._getType(e) !== A.boolean) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.boolean,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\nUt.create = (t) => new Ut({\n  typeName: T.ZodBoolean,\n  coerce: (t == null ? void 0 : t.coerce) || !1,\n  ...k(t)\n});\nclass ut extends N {\n  _parse(e) {\n    if (this._def.coerce && (e.data = new Date(e.data)), this._getType(e) !== A.date) {\n      const i = this._getOrReturnCtx(e);\n      return w(i, {\n        code: y.invalid_type,\n        expected: A.date,\n        received: i.parsedType\n      }), E;\n    }\n    if (isNaN(e.data.getTime())) {\n      const i = this._getOrReturnCtx(e);\n      return w(i, {\n        code: y.invalid_date\n      }), E;\n    }\n    const n = new fe();\n    let r;\n    for (const i of this._def.checks)\n      i.kind === \"min\" ? e.data.getTime() < i.value && (r = this._getOrReturnCtx(e, r), w(r, {\n        code: y.too_small,\n        message: i.message,\n        inclusive: !0,\n        exact: !1,\n        minimum: i.value,\n        type: \"date\"\n      }), n.dirty()) : i.kind === \"max\" ? e.data.getTime() > i.value && (r = this._getOrReturnCtx(e, r), w(r, {\n        code: y.too_big,\n        message: i.message,\n        inclusive: !0,\n        exact: !1,\n        maximum: i.value,\n        type: \"date\"\n      }), n.dirty()) : L.assertNever(i);\n    return {\n      status: n.value,\n      value: new Date(e.data.getTime())\n    };\n  }\n  _addCheck(e) {\n    return new ut({\n      ...this._def,\n      checks: [...this._def.checks, e]\n    });\n  }\n  min(e, s) {\n    return this._addCheck({\n      kind: \"min\",\n      value: e.getTime(),\n      message: M.toString(s)\n    });\n  }\n  max(e, s) {\n    return this._addCheck({\n      kind: \"max\",\n      value: e.getTime(),\n      message: M.toString(s)\n    });\n  }\n  get minDate() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"min\" && (e === null || s.value > e) && (e = s.value);\n    return e != null ? new Date(e) : null;\n  }\n  get maxDate() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"max\" && (e === null || s.value < e) && (e = s.value);\n    return e != null ? new Date(e) : null;\n  }\n}\nut.create = (t) => new ut({\n  checks: [],\n  coerce: (t == null ? void 0 : t.coerce) || !1,\n  typeName: T.ZodDate,\n  ...k(t)\n});\nclass _s extends N {\n  _parse(e) {\n    if (this._getType(e) !== A.symbol) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.symbol,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\n_s.create = (t) => new _s({\n  typeName: T.ZodSymbol,\n  ...k(t)\n});\nclass Bt extends N {\n  _parse(e) {\n    if (this._getType(e) !== A.undefined) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.undefined,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\nBt.create = (t) => new Bt({\n  typeName: T.ZodUndefined,\n  ...k(t)\n});\nclass Wt extends N {\n  _parse(e) {\n    if (this._getType(e) !== A.null) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.null,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\nWt.create = (t) => new Wt({\n  typeName: T.ZodNull,\n  ...k(t)\n});\nclass wt extends N {\n  constructor() {\n    super(...arguments), this._any = !0;\n  }\n  _parse(e) {\n    return de(e.data);\n  }\n}\nwt.create = (t) => new wt({\n  typeName: T.ZodAny,\n  ...k(t)\n});\nclass lt extends N {\n  constructor() {\n    super(...arguments), this._unknown = !0;\n  }\n  _parse(e) {\n    return de(e.data);\n  }\n}\nlt.create = (t) => new lt({\n  typeName: T.ZodUnknown,\n  ...k(t)\n});\nclass Fe extends N {\n  _parse(e) {\n    const s = this._getOrReturnCtx(e);\n    return w(s, {\n      code: y.invalid_type,\n      expected: A.never,\n      received: s.parsedType\n    }), E;\n  }\n}\nFe.create = (t) => new Fe({\n  typeName: T.ZodNever,\n  ...k(t)\n});\nclass As extends N {\n  _parse(e) {\n    if (this._getType(e) !== A.undefined) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.void,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\nAs.create = (t) => new As({\n  typeName: T.ZodVoid,\n  ...k(t)\n});\nclass Oe extends N {\n  _parse(e) {\n    const { ctx: s, status: n } = this._processInputParams(e), r = this._def;\n    if (s.parsedType !== A.array)\n      return w(s, {\n        code: y.invalid_type,\n        expected: A.array,\n        received: s.parsedType\n      }), E;\n    if (r.exactLength !== null) {\n      const a = s.data.length > r.exactLength.value, o = s.data.length < r.exactLength.value;\n      (a || o) && (w(s, {\n        code: a ? y.too_big : y.too_small,\n        minimum: o ? r.exactLength.value : void 0,\n        maximum: a ? r.exactLength.value : void 0,\n        type: \"array\",\n        inclusive: !0,\n        exact: !0,\n        message: r.exactLength.message\n      }), n.dirty());\n    }\n    if (r.minLength !== null && s.data.length < r.minLength.value && (w(s, {\n      code: y.too_small,\n      minimum: r.minLength.value,\n      type: \"array\",\n      inclusive: !0,\n      exact: !1,\n      message: r.minLength.message\n    }), n.dirty()), r.maxLength !== null && s.data.length > r.maxLength.value && (w(s, {\n      code: y.too_big,\n      maximum: r.maxLength.value,\n      type: \"array\",\n      inclusive: !0,\n      exact: !1,\n      message: r.maxLength.message\n    }), n.dirty()), s.common.async)\n      return Promise.all(s.data.map((a, o) => r.type._parseAsync(new Le(s, a, s.path, o)))).then((a) => fe.mergeArray(n, a));\n    const i = s.data.map((a, o) => r.type._parseSync(new Le(s, a, s.path, o)));\n    return fe.mergeArray(n, i);\n  }\n  get element() {\n    return this._def.type;\n  }\n  min(e, s) {\n    return new Oe({\n      ...this._def,\n      minLength: { value: e, message: M.toString(s) }\n    });\n  }\n  max(e, s) {\n    return new Oe({\n      ...this._def,\n      maxLength: { value: e, message: M.toString(s) }\n    });\n  }\n  length(e, s) {\n    return new Oe({\n      ...this._def,\n      exactLength: { value: e, message: M.toString(s) }\n    });\n  }\n  nonempty(e) {\n    return this.min(1, e);\n  }\n}\nOe.create = (t, e) => new Oe({\n  type: t,\n  minLength: null,\n  maxLength: null,\n  exactLength: null,\n  typeName: T.ZodArray,\n  ...k(e)\n});\nvar vs;\n(function(t) {\n  t.mergeShapes = (e, s) => ({\n    ...e,\n    ...s\n  });\n})(vs || (vs = {}));\nconst zn = (t) => (e) => new W({\n  ...t,\n  shape: () => ({\n    ...t.shape(),\n    ...e\n  })\n});\nfunction yt(t) {\n  if (t instanceof W) {\n    const e = {};\n    for (const s in t.shape) {\n      const n = t.shape[s];\n      e[s] = Ce.create(yt(n));\n    }\n    return new W({\n      ...t._def,\n      shape: () => e\n    });\n  } else\n    return t instanceof Oe ? Oe.create(yt(t.element)) : t instanceof Ce ? Ce.create(yt(t.unwrap())) : t instanceof ft ? ft.create(yt(t.unwrap())) : t instanceof De ? De.create(t.items.map((e) => yt(e))) : t;\n}\nclass W extends N {\n  constructor() {\n    super(...arguments), this._cached = null, this.nonstrict = this.passthrough, this.augment = zn(this._def), this.extend = zn(this._def);\n  }\n  _getCached() {\n    if (this._cached !== null)\n      return this._cached;\n    const e = this._def.shape(), s = L.objectKeys(e);\n    return this._cached = { shape: e, keys: s };\n  }\n  _parse(e) {\n    if (this._getType(e) !== A.object) {\n      const l = this._getOrReturnCtx(e);\n      return w(l, {\n        code: y.invalid_type,\n        expected: A.object,\n        received: l.parsedType\n      }), E;\n    }\n    const { status: n, ctx: r } = this._processInputParams(e), { shape: i, keys: a } = this._getCached(), o = [];\n    if (!(this._def.catchall instanceof Fe && this._def.unknownKeys === \"strip\"))\n      for (const l in r.data)\n        a.includes(l) || o.push(l);\n    const d = [];\n    for (const l of a) {\n      const h = i[l], g = r.data[l];\n      d.push({\n        key: { status: \"valid\", value: l },\n        value: h._parse(new Le(r, g, r.path, l)),\n        alwaysSet: l in r.data\n      });\n    }\n    if (this._def.catchall instanceof Fe) {\n      const l = this._def.unknownKeys;\n      if (l === \"passthrough\")\n        for (const h of o)\n          d.push({\n            key: { status: \"valid\", value: h },\n            value: { status: \"valid\", value: r.data[h] }\n          });\n      else if (l === \"strict\")\n        o.length > 0 && (w(r, {\n          code: y.unrecognized_keys,\n          keys: o\n        }), n.dirty());\n      else if (l !== \"strip\")\n        throw new Error(\"Internal ZodObject error: invalid unknownKeys value.\");\n    } else {\n      const l = this._def.catchall;\n      for (const h of o) {\n        const g = r.data[h];\n        d.push({\n          key: { status: \"valid\", value: h },\n          value: l._parse(\n            new Le(r, g, r.path, h)\n          ),\n          alwaysSet: h in r.data\n        });\n      }\n    }\n    return r.common.async ? Promise.resolve().then(async () => {\n      const l = [];\n      for (const h of d) {\n        const g = await h.key;\n        l.push({\n          key: g,\n          value: await h.value,\n          alwaysSet: h.alwaysSet\n        });\n      }\n      return l;\n    }).then((l) => fe.mergeObjectSync(n, l)) : fe.mergeObjectSync(n, d);\n  }\n  get shape() {\n    return this._def.shape();\n  }\n  strict(e) {\n    return M.errToObj, new W({\n      ...this._def,\n      unknownKeys: \"strict\",\n      ...e !== void 0 ? {\n        errorMap: (s, n) => {\n          var r, i, a, o;\n          const d = (a = (i = (r = this._def).errorMap) === null || i === void 0 ? void 0 : i.call(r, s, n).message) !== null && a !== void 0 ? a : n.defaultError;\n          return s.code === \"unrecognized_keys\" ? {\n            message: (o = M.errToObj(e).message) !== null && o !== void 0 ? o : d\n          } : {\n            message: d\n          };\n        }\n      } : {}\n    });\n  }\n  strip() {\n    return new W({\n      ...this._def,\n      unknownKeys: \"strip\"\n    });\n  }\n  passthrough() {\n    return new W({\n      ...this._def,\n      unknownKeys: \"passthrough\"\n    });\n  }\n  setKey(e, s) {\n    return this.augment({ [e]: s });\n  }\n  merge(e) {\n    return new W({\n      unknownKeys: e._def.unknownKeys,\n      catchall: e._def.catchall,\n      shape: () => vs.mergeShapes(this._def.shape(), e._def.shape()),\n      typeName: T.ZodObject\n    });\n  }\n  catchall(e) {\n    return new W({\n      ...this._def,\n      catchall: e\n    });\n  }\n  pick(e) {\n    const s = {};\n    return L.objectKeys(e).map((n) => {\n      this.shape[n] && (s[n] = this.shape[n]);\n    }), new W({\n      ...this._def,\n      shape: () => s\n    });\n  }\n  omit(e) {\n    const s = {};\n    return L.objectKeys(this.shape).map((n) => {\n      L.objectKeys(e).indexOf(n) === -1 && (s[n] = this.shape[n]);\n    }), new W({\n      ...this._def,\n      shape: () => s\n    });\n  }\n  deepPartial() {\n    return yt(this);\n  }\n  partial(e) {\n    const s = {};\n    if (e)\n      return L.objectKeys(this.shape).map((n) => {\n        L.objectKeys(e).indexOf(n) === -1 ? s[n] = this.shape[n] : s[n] = this.shape[n].optional();\n      }), new W({\n        ...this._def,\n        shape: () => s\n      });\n    for (const n in this.shape) {\n      const r = this.shape[n];\n      s[n] = r.optional();\n    }\n    return new W({\n      ...this._def,\n      shape: () => s\n    });\n  }\n  required(e) {\n    const s = {};\n    if (e)\n      L.objectKeys(this.shape).map((n) => {\n        if (L.objectKeys(e).indexOf(n) === -1)\n          s[n] = this.shape[n];\n        else {\n          let i = this.shape[n];\n          for (; i instanceof Ce; )\n            i = i._def.innerType;\n          s[n] = i;\n        }\n      });\n    else\n      for (const n in this.shape) {\n        let i = this.shape[n];\n        for (; i instanceof Ce; )\n          i = i._def.innerType;\n        s[n] = i;\n      }\n    return new W({\n      ...this._def,\n      shape: () => s\n    });\n  }\n  keyof() {\n    return ur(L.objectKeys(this.shape));\n  }\n}\nW.create = (t, e) => new W({\n  shape: () => t,\n  unknownKeys: \"strip\",\n  catchall: Fe.create(),\n  typeName: T.ZodObject,\n  ...k(e)\n});\nW.strictCreate = (t, e) => new W({\n  shape: () => t,\n  unknownKeys: \"strict\",\n  catchall: Fe.create(),\n  typeName: T.ZodObject,\n  ...k(e)\n});\nW.lazycreate = (t, e) => new W({\n  shape: t,\n  unknownKeys: \"strip\",\n  catchall: Fe.create(),\n  typeName: T.ZodObject,\n  ...k(e)\n});\nclass zt extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e), n = this._def.options;\n    function r(i) {\n      for (const o of i)\n        if (o.result.status === \"valid\")\n          return o.result;\n      for (const o of i)\n        if (o.result.status === \"dirty\")\n          return s.common.issues.push(...o.ctx.common.issues), o.result;\n      const a = i.map((o) => new Be(o.ctx.common.issues));\n      return w(s, {\n        code: y.invalid_union,\n        unionErrors: a\n      }), E;\n    }\n    if (s.common.async)\n      return Promise.all(n.map(async (i) => {\n        const a = {\n          ...s,\n          common: {\n            ...s.common,\n            issues: []\n          },\n          parent: null\n        };\n        return {\n          result: await i._parseAsync({\n            data: s.data,\n            path: s.path,\n            parent: a\n          }),\n          ctx: a\n        };\n      })).then(r);\n    {\n      let i;\n      const a = [];\n      for (const d of n) {\n        const l = {\n          ...s,\n          common: {\n            ...s.common,\n            issues: []\n          },\n          parent: null\n        }, h = d._parseSync({\n          data: s.data,\n          path: s.path,\n          parent: l\n        });\n        if (h.status === \"valid\")\n          return h;\n        h.status === \"dirty\" && !i && (i = { result: h, ctx: l }), l.common.issues.length && a.push(l.common.issues);\n      }\n      if (i)\n        return s.common.issues.push(...i.ctx.common.issues), i.result;\n      const o = a.map((d) => new Be(d));\n      return w(s, {\n        code: y.invalid_union,\n        unionErrors: o\n      }), E;\n    }\n  }\n  get options() {\n    return this._def.options;\n  }\n}\nzt.create = (t, e) => new zt({\n  options: t,\n  typeName: T.ZodUnion,\n  ...k(e)\n});\nconst hs = (t) => t instanceof qt ? hs(t.schema) : t instanceof ke ? hs(t.innerType()) : t instanceof Gt ? [t.value] : t instanceof Qt ? t.options : t instanceof Xt ? Object.keys(t.enum) : t instanceof Kt ? hs(t._def.innerType) : t instanceof Bt ? [void 0] : t instanceof Wt ? [null] : null;\nclass ks extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e);\n    if (s.parsedType !== A.object)\n      return w(s, {\n        code: y.invalid_type,\n        expected: A.object,\n        received: s.parsedType\n      }), E;\n    const n = this.discriminator, r = s.data[n], i = this.optionsMap.get(r);\n    return i ? s.common.async ? i._parseAsync({\n      data: s.data,\n      path: s.path,\n      parent: s\n    }) : i._parseSync({\n      data: s.data,\n      path: s.path,\n      parent: s\n    }) : (w(s, {\n      code: y.invalid_union_discriminator,\n      options: Array.from(this.optionsMap.keys()),\n      path: [n]\n    }), E);\n  }\n  get discriminator() {\n    return this._def.discriminator;\n  }\n  get options() {\n    return this._def.options;\n  }\n  get optionsMap() {\n    return this._def.optionsMap;\n  }\n  static create(e, s, n) {\n    const r = /* @__PURE__ */ new Map();\n    for (const i of s) {\n      const a = hs(i.shape[e]);\n      if (!a)\n        throw new Error(`A discriminator value for key \\`${e}\\` could not be extracted from all schema options`);\n      for (const o of a) {\n        if (r.has(o))\n          throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);\n        r.set(o, i);\n      }\n    }\n    return new ks({\n      typeName: T.ZodDiscriminatedUnion,\n      discriminator: e,\n      options: s,\n      optionsMap: r,\n      ...k(n)\n    });\n  }\n}\nfunction Qs(t, e) {\n  const s = Ke(t), n = Ke(e);\n  if (t === e)\n    return { valid: !0, data: t };\n  if (s === A.object && n === A.object) {\n    const r = L.objectKeys(e), i = L.objectKeys(t).filter((o) => r.indexOf(o) !== -1), a = { ...t, ...e };\n    for (const o of i) {\n      const d = Qs(t[o], e[o]);\n      if (!d.valid)\n        return { valid: !1 };\n      a[o] = d.data;\n    }\n    return { valid: !0, data: a };\n  } else if (s === A.array && n === A.array) {\n    if (t.length !== e.length)\n      return { valid: !1 };\n    const r = [];\n    for (let i = 0; i < t.length; i++) {\n      const a = t[i], o = e[i], d = Qs(a, o);\n      if (!d.valid)\n        return { valid: !1 };\n      r.push(d.data);\n    }\n    return { valid: !0, data: r };\n  } else\n    return s === A.date && n === A.date && +t == +e ? { valid: !0, data: t } : { valid: !1 };\n}\nclass Ft extends N {\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e), r = (i, a) => {\n      if (Ys(i) || Ys(a))\n        return E;\n      const o = Qs(i.value, a.value);\n      return o.valid ? ((Js(i) || Js(a)) && s.dirty(), { status: s.value, value: o.data }) : (w(n, {\n        code: y.invalid_intersection_types\n      }), E);\n    };\n    return n.common.async ? Promise.all([\n      this._def.left._parseAsync({\n        data: n.data,\n        path: n.path,\n        parent: n\n      }),\n      this._def.right._parseAsync({\n        data: n.data,\n        path: n.path,\n        parent: n\n      })\n    ]).then(([i, a]) => r(i, a)) : r(this._def.left._parseSync({\n      data: n.data,\n      path: n.path,\n      parent: n\n    }), this._def.right._parseSync({\n      data: n.data,\n      path: n.path,\n      parent: n\n    }));\n  }\n}\nFt.create = (t, e, s) => new Ft({\n  left: t,\n  right: e,\n  typeName: T.ZodIntersection,\n  ...k(s)\n});\nclass De extends N {\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e);\n    if (n.parsedType !== A.array)\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.array,\n        received: n.parsedType\n      }), E;\n    if (n.data.length < this._def.items.length)\n      return w(n, {\n        code: y.too_small,\n        minimum: this._def.items.length,\n        inclusive: !0,\n        exact: !1,\n        type: \"array\"\n      }), E;\n    !this._def.rest && n.data.length > this._def.items.length && (w(n, {\n      code: y.too_big,\n      maximum: this._def.items.length,\n      inclusive: !0,\n      exact: !1,\n      type: \"array\"\n    }), s.dirty());\n    const i = n.data.map((a, o) => {\n      const d = this._def.items[o] || this._def.rest;\n      return d ? d._parse(new Le(n, a, n.path, o)) : null;\n    }).filter((a) => !!a);\n    return n.common.async ? Promise.all(i).then((a) => fe.mergeArray(s, a)) : fe.mergeArray(s, i);\n  }\n  get items() {\n    return this._def.items;\n  }\n  rest(e) {\n    return new De({\n      ...this._def,\n      rest: e\n    });\n  }\n}\nDe.create = (t, e) => {\n  if (!Array.isArray(t))\n    throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n  return new De({\n    items: t,\n    typeName: T.ZodTuple,\n    rest: null,\n    ...k(e)\n  });\n};\nclass Ht extends N {\n  get keySchema() {\n    return this._def.keyType;\n  }\n  get valueSchema() {\n    return this._def.valueType;\n  }\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e);\n    if (n.parsedType !== A.object)\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.object,\n        received: n.parsedType\n      }), E;\n    const r = [], i = this._def.keyType, a = this._def.valueType;\n    for (const o in n.data)\n      r.push({\n        key: i._parse(new Le(n, o, n.path, o)),\n        value: a._parse(new Le(n, n.data[o], n.path, o))\n      });\n    return n.common.async ? fe.mergeObjectAsync(s, r) : fe.mergeObjectSync(s, r);\n  }\n  get element() {\n    return this._def.valueType;\n  }\n  static create(e, s, n) {\n    return s instanceof N ? new Ht({\n      keyType: e,\n      valueType: s,\n      typeName: T.ZodRecord,\n      ...k(n)\n    }) : new Ht({\n      keyType: ze.create(),\n      valueType: e,\n      typeName: T.ZodRecord,\n      ...k(s)\n    });\n  }\n}\nclass ws extends N {\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e);\n    if (n.parsedType !== A.map)\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.map,\n        received: n.parsedType\n      }), E;\n    const r = this._def.keyType, i = this._def.valueType, a = [...n.data.entries()].map(([o, d], l) => ({\n      key: r._parse(new Le(n, o, n.path, [l, \"key\"])),\n      value: i._parse(new Le(n, d, n.path, [l, \"value\"]))\n    }));\n    if (n.common.async) {\n      const o = /* @__PURE__ */ new Map();\n      return Promise.resolve().then(async () => {\n        for (const d of a) {\n          const l = await d.key, h = await d.value;\n          if (l.status === \"aborted\" || h.status === \"aborted\")\n            return E;\n          (l.status === \"dirty\" || h.status === \"dirty\") && s.dirty(), o.set(l.value, h.value);\n        }\n        return { status: s.value, value: o };\n      });\n    } else {\n      const o = /* @__PURE__ */ new Map();\n      for (const d of a) {\n        const l = d.key, h = d.value;\n        if (l.status === \"aborted\" || h.status === \"aborted\")\n          return E;\n        (l.status === \"dirty\" || h.status === \"dirty\") && s.dirty(), o.set(l.value, h.value);\n      }\n      return { status: s.value, value: o };\n    }\n  }\n}\nws.create = (t, e, s) => new ws({\n  valueType: e,\n  keyType: t,\n  typeName: T.ZodMap,\n  ...k(s)\n});\nclass ht extends N {\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e);\n    if (n.parsedType !== A.set)\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.set,\n        received: n.parsedType\n      }), E;\n    const r = this._def;\n    r.minSize !== null && n.data.size < r.minSize.value && (w(n, {\n      code: y.too_small,\n      minimum: r.minSize.value,\n      type: \"set\",\n      inclusive: !0,\n      exact: !1,\n      message: r.minSize.message\n    }), s.dirty()), r.maxSize !== null && n.data.size > r.maxSize.value && (w(n, {\n      code: y.too_big,\n      maximum: r.maxSize.value,\n      type: \"set\",\n      inclusive: !0,\n      exact: !1,\n      message: r.maxSize.message\n    }), s.dirty());\n    const i = this._def.valueType;\n    function a(d) {\n      const l = /* @__PURE__ */ new Set();\n      for (const h of d) {\n        if (h.status === \"aborted\")\n          return E;\n        h.status === \"dirty\" && s.dirty(), l.add(h.value);\n      }\n      return { status: s.value, value: l };\n    }\n    const o = [...n.data.values()].map((d, l) => i._parse(new Le(n, d, n.path, l)));\n    return n.common.async ? Promise.all(o).then((d) => a(d)) : a(o);\n  }\n  min(e, s) {\n    return new ht({\n      ...this._def,\n      minSize: { value: e, message: M.toString(s) }\n    });\n  }\n  max(e, s) {\n    return new ht({\n      ...this._def,\n      maxSize: { value: e, message: M.toString(s) }\n    });\n  }\n  size(e, s) {\n    return this.min(e, s).max(e, s);\n  }\n  nonempty(e) {\n    return this.min(1, e);\n  }\n}\nht.create = (t, e) => new ht({\n  valueType: t,\n  minSize: null,\n  maxSize: null,\n  typeName: T.ZodSet,\n  ...k(e)\n});\nclass At extends N {\n  constructor() {\n    super(...arguments), this.validate = this.implement;\n  }\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e);\n    if (s.parsedType !== A.function)\n      return w(s, {\n        code: y.invalid_type,\n        expected: A.function,\n        received: s.parsedType\n      }), E;\n    function n(o, d) {\n      return gs({\n        data: o,\n        path: s.path,\n        errorMaps: [\n          s.common.contextualErrorMap,\n          s.schemaErrorMap,\n          ps(),\n          $t\n        ].filter((l) => !!l),\n        issueData: {\n          code: y.invalid_arguments,\n          argumentsError: d\n        }\n      });\n    }\n    function r(o, d) {\n      return gs({\n        data: o,\n        path: s.path,\n        errorMaps: [\n          s.common.contextualErrorMap,\n          s.schemaErrorMap,\n          ps(),\n          $t\n        ].filter((l) => !!l),\n        issueData: {\n          code: y.invalid_return_type,\n          returnTypeError: d\n        }\n      });\n    }\n    const i = { errorMap: s.common.contextualErrorMap }, a = s.data;\n    return this._def.returns instanceof bt ? de(async (...o) => {\n      const d = new Be([]), l = await this._def.args.parseAsync(o, i).catch((m) => {\n        throw d.addIssue(n(o, m)), d;\n      }), h = await a(...l);\n      return await this._def.returns._def.type.parseAsync(h, i).catch((m) => {\n        throw d.addIssue(r(h, m)), d;\n      });\n    }) : de((...o) => {\n      const d = this._def.args.safeParse(o, i);\n      if (!d.success)\n        throw new Be([n(o, d.error)]);\n      const l = a(...d.data), h = this._def.returns.safeParse(l, i);\n      if (!h.success)\n        throw new Be([r(l, h.error)]);\n      return h.data;\n    });\n  }\n  parameters() {\n    return this._def.args;\n  }\n  returnType() {\n    return this._def.returns;\n  }\n  args(...e) {\n    return new At({\n      ...this._def,\n      args: De.create(e).rest(lt.create())\n    });\n  }\n  returns(e) {\n    return new At({\n      ...this._def,\n      returns: e\n    });\n  }\n  implement(e) {\n    return this.parse(e);\n  }\n  strictImplement(e) {\n    return this.parse(e);\n  }\n  static create(e, s, n) {\n    return new At({\n      args: e || De.create([]).rest(lt.create()),\n      returns: s || lt.create(),\n      typeName: T.ZodFunction,\n      ...k(n)\n    });\n  }\n}\nclass qt extends N {\n  get schema() {\n    return this._def.getter();\n  }\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e);\n    return this._def.getter()._parse({ data: s.data, path: s.path, parent: s });\n  }\n}\nqt.create = (t, e) => new qt({\n  getter: t,\n  typeName: T.ZodLazy,\n  ...k(e)\n});\nclass Gt extends N {\n  _parse(e) {\n    if (e.data !== this._def.value) {\n      const s = this._getOrReturnCtx(e);\n      return w(s, {\n        code: y.invalid_literal,\n        expected: this._def.value\n      }), E;\n    }\n    return { status: \"valid\", value: e.data };\n  }\n  get value() {\n    return this._def.value;\n  }\n}\nGt.create = (t, e) => new Gt({\n  value: t,\n  typeName: T.ZodLiteral,\n  ...k(e)\n});\nfunction ur(t, e) {\n  return new Qt({\n    values: t,\n    typeName: T.ZodEnum,\n    ...k(e)\n  });\n}\nclass Qt extends N {\n  _parse(e) {\n    if (typeof e.data != \"string\") {\n      const s = this._getOrReturnCtx(e), n = this._def.values;\n      return w(s, {\n        expected: L.joinValues(n),\n        received: s.parsedType,\n        code: y.invalid_type\n      }), E;\n    }\n    if (this._def.values.indexOf(e.data) === -1) {\n      const s = this._getOrReturnCtx(e), n = this._def.values;\n      return w(s, {\n        received: s.data,\n        code: y.invalid_enum_value,\n        options: n\n      }), E;\n    }\n    return de(e.data);\n  }\n  get options() {\n    return this._def.values;\n  }\n  get enum() {\n    const e = {};\n    for (const s of this._def.values)\n      e[s] = s;\n    return e;\n  }\n  get Values() {\n    const e = {};\n    for (const s of this._def.values)\n      e[s] = s;\n    return e;\n  }\n  get Enum() {\n    const e = {};\n    for (const s of this._def.values)\n      e[s] = s;\n    return e;\n  }\n}\nQt.create = ur;\nclass Xt extends N {\n  _parse(e) {\n    const s = L.getValidEnumValues(this._def.values), n = this._getOrReturnCtx(e);\n    if (n.parsedType !== A.string && n.parsedType !== A.number) {\n      const r = L.objectValues(s);\n      return w(n, {\n        expected: L.joinValues(r),\n        received: n.parsedType,\n        code: y.invalid_type\n      }), E;\n    }\n    if (s.indexOf(e.data) === -1) {\n      const r = L.objectValues(s);\n      return w(n, {\n        received: n.data,\n        code: y.invalid_enum_value,\n        options: r\n      }), E;\n    }\n    return de(e.data);\n  }\n  get enum() {\n    return this._def.values;\n  }\n}\nXt.create = (t, e) => new Xt({\n  values: t,\n  typeName: T.ZodNativeEnum,\n  ...k(e)\n});\nclass bt extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e);\n    if (s.parsedType !== A.promise && s.common.async === !1)\n      return w(s, {\n        code: y.invalid_type,\n        expected: A.promise,\n        received: s.parsedType\n      }), E;\n    const n = s.parsedType === A.promise ? s.data : Promise.resolve(s.data);\n    return de(n.then((r) => this._def.type.parseAsync(r, {\n      path: s.path,\n      errorMap: s.common.contextualErrorMap\n    })));\n  }\n}\nbt.create = (t, e) => new bt({\n  type: t,\n  typeName: T.ZodPromise,\n  ...k(e)\n});\nclass ke extends N {\n  innerType() {\n    return this._def.schema;\n  }\n  sourceType() {\n    return this._def.schema._def.typeName === T.ZodEffects ? this._def.schema.sourceType() : this._def.schema;\n  }\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e), r = this._def.effect || null;\n    if (r.type === \"preprocess\") {\n      const a = r.transform(n.data);\n      return n.common.async ? Promise.resolve(a).then((o) => this._def.schema._parseAsync({\n        data: o,\n        path: n.path,\n        parent: n\n      })) : this._def.schema._parseSync({\n        data: a,\n        path: n.path,\n        parent: n\n      });\n    }\n    const i = {\n      addIssue: (a) => {\n        w(n, a), a.fatal ? s.abort() : s.dirty();\n      },\n      get path() {\n        return n.path;\n      }\n    };\n    if (i.addIssue = i.addIssue.bind(i), r.type === \"refinement\") {\n      const a = (o) => {\n        const d = r.refinement(o, i);\n        if (n.common.async)\n          return Promise.resolve(d);\n        if (d instanceof Promise)\n          throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n        return o;\n      };\n      if (n.common.async === !1) {\n        const o = this._def.schema._parseSync({\n          data: n.data,\n          path: n.path,\n          parent: n\n        });\n        return o.status === \"aborted\" ? E : (o.status === \"dirty\" && s.dirty(), a(o.value), { status: s.value, value: o.value });\n      } else\n        return this._def.schema._parseAsync({ data: n.data, path: n.path, parent: n }).then((o) => o.status === \"aborted\" ? E : (o.status === \"dirty\" && s.dirty(), a(o.value).then(() => ({ status: s.value, value: o.value }))));\n    }\n    if (r.type === \"transform\")\n      if (n.common.async === !1) {\n        const a = this._def.schema._parseSync({\n          data: n.data,\n          path: n.path,\n          parent: n\n        });\n        if (!ms(a))\n          return a;\n        const o = r.transform(a.value, i);\n        if (o instanceof Promise)\n          throw new Error(\"Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.\");\n        return { status: s.value, value: o };\n      } else\n        return this._def.schema._parseAsync({ data: n.data, path: n.path, parent: n }).then((a) => ms(a) ? Promise.resolve(r.transform(a.value, i)).then((o) => ({ status: s.value, value: o })) : a);\n    L.assertNever(r);\n  }\n}\nke.create = (t, e, s) => new ke({\n  schema: t,\n  typeName: T.ZodEffects,\n  effect: e,\n  ...k(s)\n});\nke.createWithPreprocess = (t, e, s) => new ke({\n  schema: e,\n  effect: { type: \"preprocess\", transform: t },\n  typeName: T.ZodEffects,\n  ...k(s)\n});\nclass Ce extends N {\n  _parse(e) {\n    return this._getType(e) === A.undefined ? de(void 0) : this._def.innerType._parse(e);\n  }\n  unwrap() {\n    return this._def.innerType;\n  }\n}\nCe.create = (t, e) => new Ce({\n  innerType: t,\n  typeName: T.ZodOptional,\n  ...k(e)\n});\nclass ft extends N {\n  _parse(e) {\n    return this._getType(e) === A.null ? de(null) : this._def.innerType._parse(e);\n  }\n  unwrap() {\n    return this._def.innerType;\n  }\n}\nft.create = (t, e) => new ft({\n  innerType: t,\n  typeName: T.ZodNullable,\n  ...k(e)\n});\nclass Kt extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e);\n    let n = s.data;\n    return s.parsedType === A.undefined && (n = this._def.defaultValue()), this._def.innerType._parse({\n      data: n,\n      path: s.path,\n      parent: s\n    });\n  }\n  removeDefault() {\n    return this._def.innerType;\n  }\n}\nKt.create = (t, e) => new Kt({\n  innerType: t,\n  typeName: T.ZodDefault,\n  defaultValue: typeof e.default == \"function\" ? e.default : () => e.default,\n  ...k(e)\n});\nclass bs extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e), n = this._def.innerType._parse({\n      data: s.data,\n      path: s.path,\n      parent: s\n    });\n    return ys(n) ? n.then((r) => ({\n      status: \"valid\",\n      value: r.status === \"valid\" ? r.value : this._def.defaultValue()\n    })) : {\n      status: \"valid\",\n      value: n.status === \"valid\" ? n.value : this._def.defaultValue()\n    };\n  }\n  removeDefault() {\n    return this._def.innerType;\n  }\n}\nbs.create = (t, e) => new bs({\n  innerType: t,\n  typeName: T.ZodCatch,\n  defaultValue: typeof e.default == \"function\" ? e.default : () => e.default,\n  ...k(e)\n});\nclass xs extends N {\n  _parse(e) {\n    if (this._getType(e) !== A.nan) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.nan,\n        received: n.parsedType\n      }), E;\n    }\n    return { status: \"valid\", value: e.data };\n  }\n}\nxs.create = (t) => new xs({\n  typeName: T.ZodNaN,\n  ...k(t)\n});\nconst wa = Symbol(\"zod_brand\");\nclass hr extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e), n = s.data;\n    return this._def.type._parse({\n      data: n,\n      path: s.path,\n      parent: s\n    });\n  }\n  unwrap() {\n    return this._def.type;\n  }\n}\nclass es extends N {\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e);\n    if (n.common.async)\n      return (async () => {\n        const i = await this._def.in._parseAsync({\n          data: n.data,\n          path: n.path,\n          parent: n\n        });\n        return i.status === \"aborted\" ? E : i.status === \"dirty\" ? (s.dirty(), lr(i.value)) : this._def.out._parseAsync({\n          data: i.value,\n          path: n.path,\n          parent: n\n        });\n      })();\n    {\n      const r = this._def.in._parseSync({\n        data: n.data,\n        path: n.path,\n        parent: n\n      });\n      return r.status === \"aborted\" ? E : r.status === \"dirty\" ? (s.dirty(), {\n        status: \"dirty\",\n        value: r.value\n      }) : this._def.out._parseSync({\n        data: r.value,\n        path: n.path,\n        parent: n\n      });\n    }\n  }\n  static create(e, s) {\n    return new es({\n      in: e,\n      out: s,\n      typeName: T.ZodPipeline\n    });\n  }\n}\nconst fr = (t, e = {}, s) => t ? wt.create().superRefine((n, r) => {\n  if (!t(n)) {\n    const i = typeof e == \"function\" ? e(n) : e, a = typeof i == \"string\" ? { message: i } : i;\n    r.addIssue({ code: \"custom\", ...a, fatal: s });\n  }\n}) : wt.create(), ba = {\n  object: W.lazycreate\n};\nvar T;\n(function(t) {\n  t.ZodString = \"ZodString\", t.ZodNumber = \"ZodNumber\", t.ZodNaN = \"ZodNaN\", t.ZodBigInt = \"ZodBigInt\", t.ZodBoolean = \"ZodBoolean\", t.ZodDate = \"ZodDate\", t.ZodSymbol = \"ZodSymbol\", t.ZodUndefined = \"ZodUndefined\", t.ZodNull = \"ZodNull\", t.ZodAny = \"ZodAny\", t.ZodUnknown = \"ZodUnknown\", t.ZodNever = \"ZodNever\", t.ZodVoid = \"ZodVoid\", t.ZodArray = \"ZodArray\", t.ZodObject = \"ZodObject\", t.ZodUnion = \"ZodUnion\", t.ZodDiscriminatedUnion = \"ZodDiscriminatedUnion\", t.ZodIntersection = \"ZodIntersection\", t.ZodTuple = \"ZodTuple\", t.ZodRecord = \"ZodRecord\", t.ZodMap = \"ZodMap\", t.ZodSet = \"ZodSet\", t.ZodFunction = \"ZodFunction\", t.ZodLazy = \"ZodLazy\", t.ZodLiteral = \"ZodLiteral\", t.ZodEnum = \"ZodEnum\", t.ZodEffects = \"ZodEffects\", t.ZodNativeEnum = \"ZodNativeEnum\", t.ZodOptional = \"ZodOptional\", t.ZodNullable = \"ZodNullable\", t.ZodDefault = \"ZodDefault\", t.ZodCatch = \"ZodCatch\", t.ZodPromise = \"ZodPromise\", t.ZodBranded = \"ZodBranded\", t.ZodPipeline = \"ZodPipeline\";\n})(T || (T = {}));\nconst xa = (t, e = {\n  message: `Input not instance of ${t.name}`\n}) => fr((s) => s instanceof t, e, !0), ce = ze.create, q = et.create, Ta = xs.create, Sa = Zt.create, Rs = Ut.create, Ea = ut.create, Ia = _s.create, Na = Bt.create, Oa = Wt.create, pr = wt.create, ka = lt.create, Ra = Fe.create, Ma = As.create, Ca = Oe.create, Ee = W.create, La = W.strictCreate, nn = zt.create, Da = ks.create, Pa = Ft.create, ja = De.create, gr = Ht.create, Va = ws.create, $a = ht.create, Za = At.create, Ua = qt.create, Ba = Gt.create, xt = Qt.create, Wa = Xt.create, za = bt.create, Fn = ke.create, Fa = Ce.create, Ha = ft.create, qa = ke.createWithPreprocess, Ga = es.create, Xa = () => ce().optional(), Ka = () => q().optional(), Ya = () => Rs().optional(), Ja = {\n  string: (t) => ze.create({ ...t, coerce: !0 }),\n  number: (t) => et.create({ ...t, coerce: !0 }),\n  boolean: (t) => Ut.create({ ...t, coerce: !0 }),\n  bigint: (t) => Zt.create({ ...t, coerce: !0 }),\n  date: (t) => ut.create({ ...t, coerce: !0 })\n}, Qa = E;\nvar Se = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  defaultErrorMap: $t,\n  setErrorMap: pa,\n  getErrorMap: ps,\n  makeIssue: gs,\n  EMPTY_PATH: ga,\n  addIssueToContext: w,\n  ParseStatus: fe,\n  INVALID: E,\n  DIRTY: lr,\n  OK: de,\n  isAborted: Ys,\n  isDirty: Js,\n  isValid: ms,\n  isAsync: ys,\n  get util() {\n    return L;\n  },\n  ZodParsedType: A,\n  getParsedType: Ke,\n  ZodType: N,\n  ZodString: ze,\n  ZodNumber: et,\n  ZodBigInt: Zt,\n  ZodBoolean: Ut,\n  ZodDate: ut,\n  ZodSymbol: _s,\n  ZodUndefined: Bt,\n  ZodNull: Wt,\n  ZodAny: wt,\n  ZodUnknown: lt,\n  ZodNever: Fe,\n  ZodVoid: As,\n  ZodArray: Oe,\n  get objectUtil() {\n    return vs;\n  },\n  ZodObject: W,\n  ZodUnion: zt,\n  ZodDiscriminatedUnion: ks,\n  ZodIntersection: Ft,\n  ZodTuple: De,\n  ZodRecord: Ht,\n  ZodMap: ws,\n  ZodSet: ht,\n  ZodFunction: At,\n  ZodLazy: qt,\n  ZodLiteral: Gt,\n  ZodEnum: Qt,\n  ZodNativeEnum: Xt,\n  ZodPromise: bt,\n  ZodEffects: ke,\n  ZodTransformer: ke,\n  ZodOptional: Ce,\n  ZodNullable: ft,\n  ZodDefault: Kt,\n  ZodCatch: bs,\n  ZodNaN: xs,\n  BRAND: wa,\n  ZodBranded: hr,\n  ZodPipeline: es,\n  custom: fr,\n  Schema: N,\n  ZodSchema: N,\n  late: ba,\n  get ZodFirstPartyTypeKind() {\n    return T;\n  },\n  coerce: Ja,\n  any: pr,\n  array: Ca,\n  bigint: Sa,\n  boolean: Rs,\n  date: Ea,\n  discriminatedUnion: Da,\n  effect: Fn,\n  enum: xt,\n  function: Za,\n  instanceof: xa,\n  intersection: Pa,\n  lazy: Ua,\n  literal: Ba,\n  map: Va,\n  nan: Ta,\n  nativeEnum: Wa,\n  never: Ra,\n  null: Oa,\n  nullable: Ha,\n  number: q,\n  object: Ee,\n  oboolean: Ya,\n  onumber: Ka,\n  optional: Fa,\n  ostring: Xa,\n  pipeline: Ga,\n  preprocess: qa,\n  promise: za,\n  record: gr,\n  set: $a,\n  strictObject: La,\n  string: ce,\n  symbol: Ia,\n  transformer: Fn,\n  tuple: ja,\n  undefined: Na,\n  union: nn,\n  unknown: ka,\n  void: Ma,\n  NEVER: Qa,\n  ZodIssueCode: y,\n  quotelessJson: fa,\n  ZodError: Be\n});\nconst Ts = () => ce().uuid(), eo = /^(?=.{1,255}$)[0-9A-Za-z_](?:(?:[0-9A-Za-z_]|-){0,61}[0-9A-Za-z_])?(?:\\.[0-9A-Za-z_](?:(?:[0-9A-Za-z_]|-){0,61}[0-9A-Za-z_])?)*\\.?$/, mr = () => ce().regex(eo);\nEe({\n  id: Ts(),\n  host: mr(),\n  startedAt: q().positive(),\n  endedAt: q().nullable().optional()\n}).strict();\nconst yr = Ee({\n  id: Ts(),\n  sessionId: Ts(),\n  adUrl: ce().url(),\n  timestamp: q().positive().describe(\"The time in ms since 1970 that this ad was seen at\")\n}).strict(), to = yr.extend({\n  type: xt([\"image\"]),\n  additionalDetails: Ee({\n    width: q().nonnegative(),\n    height: q().nonnegative()\n  })\n}).strict(), so = yr.extend({\n  type: xt([\"iframe\"]),\n  additionalDetails: Ee({\n    width: q().nonnegative(),\n    height: q().nonnegative()\n  })\n}).strict();\nnn([to, so]);\nconst rn = Ts, _r = mr, an = () => Rs().nullable().optional(), on = () => Rs().nullable().optional();\nEe({\n  id: rn(),\n  host: _r(),\n  startedAt: q().positive(),\n  endedAt: q().nullable().optional(),\n  imported: an(),\n  generated: on()\n}).strict();\nconst Ar = Ee({\n  id: ce(),\n  sessionId: rn(),\n  timestamp: q().positive().describe(\"The time in ms since 1970 that this ad was seen at\"),\n  imported: an()\n}).strict(), no = Ar.extend({\n  type: xt([\"basic-display\"]),\n  details: Ee({\n    type: xt([\"image\", \"iframe\"]),\n    url: ce().url().describe(\"The URL the ad is accessible at\"),\n    width: q().nonnegative(),\n    height: q().nonnegative()\n  }).strict()\n}), ro = () => gr(ce(), pr()), io = Ar.extend({\n  type: xt([\"youtube/hulu/vast\", \"pathmatics\"]),\n  details: ro()\n}), ao = nn([no, io]), cn = rn, dn = an, oo = on, ln = () => _r().describe(\"The mobile app bundle ID or website hostname\"), co = Ee({\n  id: cn(),\n  appId: ln(),\n  createdBy: ce({ description: \"The install id that created the session\" }),\n  startedAt: q().positive(),\n  endedAt: q(),\n  imported: dn(),\n  generated: oo()\n}).strict(), lo = Ee({\n  id: cn(),\n  appId: ln(),\n  createdBy: ce(),\n  startedAt: q().positive(),\n  endedAt: q().nullable().optional(),\n  imported: dn(),\n  generated: on()\n}).strict(), uo = ao, vr = cn, wr = dn, br = ln, ho = co, fo = lo, po = Ee({\n  id: vr(),\n  appId: br(),\n  path: ce().startsWith(\"/\"),\n  referrer: ce().nullish(),\n  createdBy: ce(),\n  startedAt: q().positive(),\n  endedAt: q(),\n  imported: wr()\n}).strict(), go = Ee({\n  id: vr(),\n  appId: br(),\n  path: ce().startsWith(\"/\"),\n  referrer: ce().nullish(),\n  createdBy: ce(),\n  startedAt: q().positive(),\n  endedAt: q().nullish(),\n  imported: wr()\n}).strict(), mo = uo, yo = ho, Hn = fo, _o = po, Ao = go, xr = mo;\nclass un {\n  constructor(e, s) {\n    this.db = e, this.storeName = s;\n  }\n  async deleteAll() {\n    const s = (await this.db).transaction(this.storeName, \"readwrite\");\n    let n = await s.objectStore(this.storeName).openCursor();\n    for (; n; )\n      await n.delete(), n = await n.continue();\n    await s.done;\n  }\n  async findAll() {\n    return await (await this.db).getAll(this.storeName);\n  }\n}\nconst Pt = class extends un {\n  constructor(t) {\n    super(t.db, Pt.STORE_NAME_LATEST), this.config = t;\n  }\n  async findAds(t, e) {\n    return await (await this.db).getAllFromIndex(\n      this.storeName,\n      Pt.INDEX_TIMESTAMP,\n      IDBKeyRange.bound(t, e, !1, !0)\n    );\n  }\n  async findAdsForSession(t) {\n    return await (await this.db).getAllFromIndex(this.storeName, Pt.INDEX_SESSION_ID, t);\n  }\n  async upsertAd(t) {\n    var n, r;\n    const e = await this.db, s = xr.parse(t);\n    return (r = (n = this.config).onAdUpserted) == null || r.call(n, s), await e.put(this.storeName, s), s;\n  }\n};\nlet J = Pt;\nJ.STORE_NAME_1 = \"ads\";\nJ.STORE_NAME_2 = \"ads-2\";\nJ.STORE_NAME_LATEST = Pt.STORE_NAME_2;\nJ.INDEX_SESSION_ID = \"idx_ad_sessionId\";\nJ.INDEX_TIMESTAMP = \"idx_ad_timestamp\";\nlet ds;\nconst vo = new Uint8Array(16);\nfunction wo() {\n  if (!ds && (ds = typeof crypto < \"u\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto), !ds))\n    throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");\n  return ds(vo);\n}\nconst ie = [];\nfor (let t = 0; t < 256; ++t)\n  ie.push((t + 256).toString(16).slice(1));\nfunction bo(t, e = 0) {\n  return (ie[t[e + 0]] + ie[t[e + 1]] + ie[t[e + 2]] + ie[t[e + 3]] + \"-\" + ie[t[e + 4]] + ie[t[e + 5]] + \"-\" + ie[t[e + 6]] + ie[t[e + 7]] + \"-\" + ie[t[e + 8]] + ie[t[e + 9]] + \"-\" + ie[t[e + 10]] + ie[t[e + 11]] + ie[t[e + 12]] + ie[t[e + 13]] + ie[t[e + 14]] + ie[t[e + 15]]).toLowerCase();\n}\nconst xo = typeof crypto < \"u\" && crypto.randomUUID && crypto.randomUUID.bind(crypto), qn = {\n  randomUUID: xo\n};\nfunction Yt(t, e, s) {\n  if (qn.randomUUID && !e && !t)\n    return qn.randomUUID();\n  t = t || {};\n  const n = t.random || (t.rng || wo)();\n  if (n[6] = n[6] & 15 | 64, n[8] = n[8] & 63 | 128, e) {\n    s = s || 0;\n    for (let r = 0; r < 16; ++r)\n      e[s + r] = n[r];\n    return e;\n  }\n  return bo(n);\n}\nconst hn = -1;\nfunction To(t) {\n  var e;\n  return {\n    id: t.id,\n    appId: t.appId,\n    path: t.path,\n    referrer: t.referrer,\n    createdBy: t.createdBy,\n    endedAt: (e = t.endedAt) != null ? e : hn,\n    startedAt: t.startedAt,\n    imported: t.imported\n  };\n}\nfunction Ws(t) {\n  return {\n    id: t.id,\n    appId: t.appId,\n    path: t.path,\n    referrer: t.referrer,\n    createdBy: t.createdBy,\n    endedAt: t.endedAt === hn ? null : t.endedAt,\n    startedAt: t.startedAt,\n    imported: t.imported\n  };\n}\nconst jt = class extends un {\n  constructor(t) {\n    super(t.db, jt.STORE_NAME_LATEST), this.config = t;\n  }\n  async startPageView(t) {\n    const e = await this.db, s = Ao.parse({\n      ...t,\n      id: Yt(),\n      createdBy: await this.config.getInstallId(),\n      endedAt: void 0\n    }), n = To(s);\n    return await e.add(this.storeName, n), s;\n  }\n  async endPageView(t, e) {\n    const s = await this.db, n = await s.get(this.storeName, t.id);\n    if (n == null)\n      throw Error(`Cannot update: PageView not found with id=${t.id}`);\n    const r = { ...n, endedAt: e };\n    return await s.put(this.storeName, r), Ws(r);\n  }\n  async getActivePageViews() {\n    return (await (await this.db).getAllFromIndex(\n      this.storeName,\n      jt.INDEX_ENDED_AT,\n      hn\n    )).map(Ws);\n  }\n  async findPageViewsByEndedAt(t, e) {\n    return (await (await this.db).getAllFromIndex(\n      this.storeName,\n      jt.INDEX_ENDED_AT,\n      IDBKeyRange.bound(t, e, !1, !0)\n    )).map(Ws);\n  }\n  async deleteAllGeneratedPageViews() {\n    const e = (await this.db).transaction(this.storeName, \"readwrite\");\n    let s = await e.store.openCursor();\n    for (; s; )\n      s.value.imported && await s.delete(), s = await s.continue();\n    await e.done;\n  }\n};\nlet We = jt;\nWe.STORE_NAME_1 = \"page_views\";\nWe.STORE_NAME_LATEST = jt.STORE_NAME_1;\nWe.INDEX_ENDED_AT = \"idx_page_view_endedAt\";\nWe.INDEX_STARTED_AT = \"idx_page_view_startedAt\";\nfunction Tr(t, e, s, n) {\n  function r(i) {\n    return i instanceof s ? i : new s(function(a) {\n      a(i);\n    });\n  }\n  return new (s || (s = Promise))(function(i, a) {\n    function o(h) {\n      try {\n        l(n.next(h));\n      } catch (g) {\n        a(g);\n      }\n    }\n    function d(h) {\n      try {\n        l(n.throw(h));\n      } catch (g) {\n        a(g);\n      }\n    }\n    function l(h) {\n      h.done ? i(h.value) : r(h.value).then(o, d);\n    }\n    l((n = n.apply(t, e || [])).next());\n  });\n}\nfunction Sr(t, e) {\n  var s = { label: 0, sent: function() {\n    if (i[0] & 1)\n      throw i[1];\n    return i[1];\n  }, trys: [], ops: [] }, n, r, i, a;\n  return a = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol == \"function\" && (a[Symbol.iterator] = function() {\n    return this;\n  }), a;\n  function o(l) {\n    return function(h) {\n      return d([l, h]);\n    };\n  }\n  function d(l) {\n    if (n)\n      throw new TypeError(\"Generator is already executing.\");\n    for (; a && (a = 0, l[0] && (s = 0)), s; )\n      try {\n        if (n = 1, r && (i = l[0] & 2 ? r.return : l[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, l[1])).done)\n          return i;\n        switch (r = 0, i && (l = [l[0] & 2, i.value]), l[0]) {\n          case 0:\n          case 1:\n            i = l;\n            break;\n          case 4:\n            return s.label++, { value: l[1], done: !1 };\n          case 5:\n            s.label++, r = l[1], l = [0];\n            continue;\n          case 7:\n            l = s.ops.pop(), s.trys.pop();\n            continue;\n          default:\n            if (i = s.trys, !(i = i.length > 0 && i[i.length - 1]) && (l[0] === 6 || l[0] === 2)) {\n              s = 0;\n              continue;\n            }\n            if (l[0] === 3 && (!i || l[1] > i[0] && l[1] < i[3])) {\n              s.label = l[1];\n              break;\n            }\n            if (l[0] === 6 && s.label < i[1]) {\n              s.label = i[1], i = l;\n              break;\n            }\n            if (i && s.label < i[2]) {\n              s.label = i[2], s.ops.push(l);\n              break;\n            }\n            i[2] && s.ops.pop(), s.trys.pop();\n            continue;\n        }\n        l = e.call(t, s);\n      } catch (h) {\n        l = [6, h], r = 0;\n      } finally {\n        n = i = 0;\n      }\n    if (l[0] & 5)\n      throw l[1];\n    return { value: l[0] ? l[1] : void 0, done: !0 };\n  }\n}\nvar So = new Error(\"request for lock canceled\"), Eo = function() {\n  function t(e, s) {\n    s === void 0 && (s = So), this._value = e, this._cancelError = s, this._weightedQueues = [], this._weightedWaiters = [];\n  }\n  return t.prototype.acquire = function(e) {\n    var s = this;\n    if (e === void 0 && (e = 1), e <= 0)\n      throw new Error(\"invalid weight \".concat(e, \": must be positive\"));\n    return new Promise(function(n, r) {\n      s._weightedQueues[e - 1] || (s._weightedQueues[e - 1] = []), s._weightedQueues[e - 1].push({ resolve: n, reject: r }), s._dispatch();\n    });\n  }, t.prototype.runExclusive = function(e, s) {\n    return s === void 0 && (s = 1), Tr(this, void 0, void 0, function() {\n      var n, r, i;\n      return Sr(this, function(a) {\n        switch (a.label) {\n          case 0:\n            return [4, this.acquire(s)];\n          case 1:\n            n = a.sent(), r = n[0], i = n[1], a.label = 2;\n          case 2:\n            return a.trys.push([2, , 4, 5]), [4, e(r)];\n          case 3:\n            return [2, a.sent()];\n          case 4:\n            return i(), [7];\n          case 5:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.waitForUnlock = function(e) {\n    var s = this;\n    if (e === void 0 && (e = 1), e <= 0)\n      throw new Error(\"invalid weight \".concat(e, \": must be positive\"));\n    return new Promise(function(n) {\n      s._weightedWaiters[e - 1] || (s._weightedWaiters[e - 1] = []), s._weightedWaiters[e - 1].push(n), s._dispatch();\n    });\n  }, t.prototype.isLocked = function() {\n    return this._value <= 0;\n  }, t.prototype.getValue = function() {\n    return this._value;\n  }, t.prototype.setValue = function(e) {\n    this._value = e, this._dispatch();\n  }, t.prototype.release = function(e) {\n    if (e === void 0 && (e = 1), e <= 0)\n      throw new Error(\"invalid weight \".concat(e, \": must be positive\"));\n    this._value += e, this._dispatch();\n  }, t.prototype.cancel = function() {\n    var e = this;\n    this._weightedQueues.forEach(function(s) {\n      return s.forEach(function(n) {\n        return n.reject(e._cancelError);\n      });\n    }), this._weightedQueues = [];\n  }, t.prototype._dispatch = function() {\n    for (var e, s = this._value; s > 0; s--) {\n      var n = (e = this._weightedQueues[s - 1]) === null || e === void 0 ? void 0 : e.shift();\n      if (!!n) {\n        var r = this._value, i = s;\n        this._value -= s, s = this._value + 1, n.resolve([r, this._newReleaser(i)]);\n      }\n    }\n    this._drainUnlockWaiters();\n  }, t.prototype._newReleaser = function(e) {\n    var s = this, n = !1;\n    return function() {\n      n || (n = !0, s.release(e));\n    };\n  }, t.prototype._drainUnlockWaiters = function() {\n    for (var e = this._value; e > 0; e--)\n      !this._weightedWaiters[e - 1] || (this._weightedWaiters[e - 1].forEach(function(s) {\n        return s();\n      }), this._weightedWaiters[e - 1] = []);\n  }, t;\n}(), Er = function() {\n  function t(e) {\n    this._semaphore = new Eo(1, e);\n  }\n  return t.prototype.acquire = function() {\n    return Tr(this, void 0, void 0, function() {\n      var e, s;\n      return Sr(this, function(n) {\n        switch (n.label) {\n          case 0:\n            return [4, this._semaphore.acquire()];\n          case 1:\n            return e = n.sent(), s = e[1], [2, s];\n        }\n      });\n    });\n  }, t.prototype.runExclusive = function(e) {\n    return this._semaphore.runExclusive(function() {\n      return e();\n    });\n  }, t.prototype.isLocked = function() {\n    return this._semaphore.isLocked();\n  }, t.prototype.waitForUnlock = function() {\n    return this._semaphore.waitForUnlock();\n  }, t.prototype.release = function() {\n    this._semaphore.isLocked() && this._semaphore.release();\n  }, t.prototype.cancel = function() {\n    return this._semaphore.cancel();\n  }, t;\n}(), Ct = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {}, Ir = { exports: {} };\n(function(t, e) {\n  (function(s, n) {\n    n(t);\n  })(typeof globalThis < \"u\" ? globalThis : typeof self < \"u\" ? self : Ct, function(s) {\n    var n, r;\n    if (!((r = (n = globalThis.chrome) == null ? void 0 : n.runtime) != null && r.id))\n      throw new Error(\"This script should only be loaded in a browser extension.\");\n    if (typeof globalThis.browser > \"u\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n      const i = \"The message port closed before a response was received.\", a = (o) => {\n        const d = {\n          alarms: {\n            clear: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            clearAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            get: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          bookmarks: {\n            create: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getChildren: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getRecent: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getSubTree: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTree: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            move: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeTree: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          browserAction: {\n            disable: {\n              minArgs: 0,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            enable: {\n              minArgs: 0,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            getBadgeBackgroundColor: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getBadgeText: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getPopup: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTitle: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            openPopup: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            setBadgeBackgroundColor: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setBadgeText: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setIcon: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            setPopup: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setTitle: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          browsingData: {\n            remove: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            removeCache: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeCookies: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeDownloads: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeFormData: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeHistory: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeLocalStorage: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removePasswords: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removePluginData: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            settings: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          commands: {\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          contextMenus: {\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          cookies: {\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAllCookieStores: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            set: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          devtools: {\n            inspectedWindow: {\n              eval: {\n                minArgs: 1,\n                maxArgs: 2,\n                singleCallbackArg: !1\n              }\n            },\n            panels: {\n              create: {\n                minArgs: 3,\n                maxArgs: 3,\n                singleCallbackArg: !0\n              },\n              elements: {\n                createSidebarPane: {\n                  minArgs: 1,\n                  maxArgs: 1\n                }\n              }\n            }\n          },\n          downloads: {\n            cancel: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            download: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            erase: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getFileIcon: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            open: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            pause: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeFile: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            resume: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            show: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          extension: {\n            isAllowedFileSchemeAccess: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            isAllowedIncognitoAccess: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          history: {\n            addUrl: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            deleteAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            deleteRange: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            deleteUrl: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getVisits: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          i18n: {\n            detectLanguage: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAcceptLanguages: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          identity: {\n            launchWebAuthFlow: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          idle: {\n            queryState: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          management: {\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getSelf: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            setEnabled: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            uninstallSelf: {\n              minArgs: 0,\n              maxArgs: 1\n            }\n          },\n          notifications: {\n            clear: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            create: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getPermissionLevel: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          pageAction: {\n            getPopup: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTitle: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            hide: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setIcon: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            setPopup: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setTitle: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            show: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          permissions: {\n            contains: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            request: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          runtime: {\n            getBackgroundPage: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getPlatformInfo: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            openOptionsPage: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            requestUpdateCheck: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            sendMessage: {\n              minArgs: 1,\n              maxArgs: 3\n            },\n            sendNativeMessage: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            setUninstallURL: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          sessions: {\n            getDevices: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getRecentlyClosed: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            restore: {\n              minArgs: 0,\n              maxArgs: 1\n            }\n          },\n          storage: {\n            local: {\n              clear: {\n                minArgs: 0,\n                maxArgs: 0\n              },\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              remove: {\n                minArgs: 1,\n                maxArgs: 1\n              },\n              set: {\n                minArgs: 1,\n                maxArgs: 1\n              }\n            },\n            managed: {\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              }\n            },\n            sync: {\n              clear: {\n                minArgs: 0,\n                maxArgs: 0\n              },\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              remove: {\n                minArgs: 1,\n                maxArgs: 1\n              },\n              set: {\n                minArgs: 1,\n                maxArgs: 1\n              }\n            }\n          },\n          tabs: {\n            captureVisibleTab: {\n              minArgs: 0,\n              maxArgs: 2\n            },\n            create: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            detectLanguage: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            discard: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            duplicate: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            executeScript: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getCurrent: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getZoom: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getZoomSettings: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            goBack: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            goForward: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            highlight: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            insertCSS: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            move: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            query: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            reload: {\n              minArgs: 0,\n              maxArgs: 2\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeCSS: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            sendMessage: {\n              minArgs: 2,\n              maxArgs: 3\n            },\n            setZoom: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            setZoomSettings: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            update: {\n              minArgs: 1,\n              maxArgs: 2\n            }\n          },\n          topSites: {\n            get: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          webNavigation: {\n            getAllFrames: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getFrame: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          webRequest: {\n            handlerBehaviorChanged: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          windows: {\n            create: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getCurrent: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getLastFocused: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          }\n        };\n        if (Object.keys(d).length === 0)\n          throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n        class l extends WeakMap {\n          constructor(b, O = void 0) {\n            super(O), this.createItem = b;\n          }\n          get(b) {\n            return this.has(b) || this.set(b, this.createItem(b)), super.get(b);\n          }\n        }\n        const h = (x) => x && typeof x == \"object\" && typeof x.then == \"function\", g = (x, b) => (...O) => {\n          o.runtime.lastError ? x.reject(new Error(o.runtime.lastError.message)) : b.singleCallbackArg || O.length <= 1 && b.singleCallbackArg !== !1 ? x.resolve(O[0]) : x.resolve(O);\n        }, m = (x) => x == 1 ? \"argument\" : \"arguments\", S = (x, b) => function(D, ...F) {\n          if (F.length < b.minArgs)\n            throw new Error(`Expected at least ${b.minArgs} ${m(b.minArgs)} for ${x}(), got ${F.length}`);\n          if (F.length > b.maxArgs)\n            throw new Error(`Expected at most ${b.maxArgs} ${m(b.maxArgs)} for ${x}(), got ${F.length}`);\n          return new Promise((ue, ge) => {\n            if (b.fallbackToNoCallback)\n              try {\n                D[x](...F, g({\n                  resolve: ue,\n                  reject: ge\n                }, b));\n              } catch (R) {\n                console.warn(`${x} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `, R), D[x](...F), b.fallbackToNoCallback = !1, b.noCallback = !0, ue();\n              }\n            else\n              b.noCallback ? (D[x](...F), ue()) : D[x](...F, g({\n                resolve: ue,\n                reject: ge\n              }, b));\n          });\n        }, $ = (x, b, O) => new Proxy(b, {\n          apply(D, F, ue) {\n            return O.call(F, x, ...ue);\n          }\n        });\n        let _ = Function.call.bind(Object.prototype.hasOwnProperty);\n        const P = (x, b = {}, O = {}) => {\n          let D = /* @__PURE__ */ Object.create(null), F = {\n            has(ge, R) {\n              return R in x || R in D;\n            },\n            get(ge, R, me) {\n              if (R in D)\n                return D[R];\n              if (!(R in x))\n                return;\n              let K = x[R];\n              if (typeof K == \"function\")\n                if (typeof b[R] == \"function\")\n                  K = $(x, x[R], b[R]);\n                else if (_(O, R)) {\n                  let He = S(R, O[R]);\n                  K = $(x, x[R], He);\n                } else\n                  K = K.bind(x);\n              else if (typeof K == \"object\" && K !== null && (_(b, R) || _(O, R)))\n                K = P(K, b[R], O[R]);\n              else if (_(O, \"*\"))\n                K = P(K, b[R], O[\"*\"]);\n              else\n                return Object.defineProperty(D, R, {\n                  configurable: !0,\n                  enumerable: !0,\n                  get() {\n                    return x[R];\n                  },\n                  set(He) {\n                    x[R] = He;\n                  }\n                }), K;\n              return D[R] = K, K;\n            },\n            set(ge, R, me, K) {\n              return R in D ? D[R] = me : x[R] = me, !0;\n            },\n            defineProperty(ge, R, me) {\n              return Reflect.defineProperty(D, R, me);\n            },\n            deleteProperty(ge, R) {\n              return Reflect.deleteProperty(D, R);\n            }\n          }, ue = Object.create(x);\n          return new Proxy(ue, F);\n        }, C = (x) => ({\n          addListener(b, O, ...D) {\n            b.addListener(x.get(O), ...D);\n          },\n          hasListener(b, O) {\n            return b.hasListener(x.get(O));\n          },\n          removeListener(b, O) {\n            b.removeListener(x.get(O));\n          }\n        }), j = new l((x) => typeof x != \"function\" ? x : function(O) {\n          const D = P(\n            O,\n            {},\n            {\n              getContent: {\n                minArgs: 0,\n                maxArgs: 0\n              }\n            }\n          );\n          x(D);\n        }), pe = new l((x) => typeof x != \"function\" ? x : function(O, D, F) {\n          let ue = !1, ge, R = new Promise((tt) => {\n            ge = function(Ae) {\n              ue = !0, tt(Ae);\n            };\n          }), me;\n          try {\n            me = x(O, D, ge);\n          } catch (tt) {\n            me = Promise.reject(tt);\n          }\n          const K = me !== !0 && h(me);\n          if (me !== !0 && !K && !ue)\n            return !1;\n          const He = (tt) => {\n            tt.then((Ae) => {\n              F(Ae);\n            }, (Ae) => {\n              let It;\n              Ae && (Ae instanceof Error || typeof Ae.message == \"string\") ? It = Ae.message : It = \"An unexpected error occurred\", F({\n                __mozWebExtensionPolyfillReject__: !0,\n                message: It\n              });\n            }).catch((Ae) => {\n              console.error(\"Failed to send onMessage rejected reply\", Ae);\n            });\n          };\n          return He(K ? me : R), !0;\n        }), Et = ({\n          reject: x,\n          resolve: b\n        }, O) => {\n          o.runtime.lastError ? o.runtime.lastError.message === i ? b() : x(new Error(o.runtime.lastError.message)) : O && O.__mozWebExtensionPolyfillReject__ ? x(new Error(O.message)) : b(O);\n        }, Ie = (x, b, O, ...D) => {\n          if (D.length < b.minArgs)\n            throw new Error(`Expected at least ${b.minArgs} ${m(b.minArgs)} for ${x}(), got ${D.length}`);\n          if (D.length > b.maxArgs)\n            throw new Error(`Expected at most ${b.maxArgs} ${m(b.maxArgs)} for ${x}(), got ${D.length}`);\n          return new Promise((F, ue) => {\n            const ge = Et.bind(null, {\n              resolve: F,\n              reject: ue\n            });\n            D.push(ge), O.sendMessage(...D);\n          });\n        }, ne = {\n          devtools: {\n            network: {\n              onRequestFinished: C(j)\n            }\n          },\n          runtime: {\n            onMessage: C(pe),\n            onMessageExternal: C(pe),\n            sendMessage: Ie.bind(null, \"sendMessage\", {\n              minArgs: 1,\n              maxArgs: 3\n            })\n          },\n          tabs: {\n            sendMessage: Ie.bind(null, \"sendMessage\", {\n              minArgs: 2,\n              maxArgs: 3\n            })\n          }\n        }, Pe = {\n          clear: {\n            minArgs: 1,\n            maxArgs: 1\n          },\n          get: {\n            minArgs: 1,\n            maxArgs: 1\n          },\n          set: {\n            minArgs: 1,\n            maxArgs: 1\n          }\n        };\n        return d.privacy = {\n          network: {\n            \"*\": Pe\n          },\n          services: {\n            \"*\": Pe\n          },\n          websites: {\n            \"*\": Pe\n          }\n        }, P(o, ne, d);\n      };\n      s.exports = a(chrome);\n    } else\n      s.exports = globalThis.browser;\n  });\n})(Ir);\nconst V = Ir.exports;\nclass Io {\n  constructor(e, s = Date.now()) {\n    this.logMethod = e, this.startedAt = s;\n  }\n  log(e) {\n    const s = Date.now() - this.startedAt;\n    this.logMethod(e.replace(/\\{duration\\}/g, `${(s / 1e3).toFixed(3)}s`));\n  }\n}\nconst Tt = 1e3, fn = 60 * Tt, No = 60 * fn;\nfunction Ss(t) {\n  return Math.round(t / 1e3);\n}\nfunction Oo() {\n  return new Promise((t) => setTimeout(t, 0));\n}\nfunction ko(t) {\n  const e = new Er();\n  return (...s) => e.runExclusive(() => t(...s));\n}\nasync function pn(t) {\n  return (await V.storage.local.get(t))[t];\n}\nasync function Vt(t, e) {\n  e === void 0 ? await V.storage.local.remove(t) : await V.storage.local.set({ [t]: e });\n}\nfunction Ro(t, e) {\n  const s = typeof e == \"string\", n = (r) => s ? r[e] : e(r);\n  return t.reduce((r, i) => {\n    var o, d;\n    const a = n(i);\n    return r[a] = (d = (o = r[a]) == null ? void 0 : o.concat(i)) != null ? d : [i], r;\n  }, {});\n}\nfunction Mo(t, e) {\n  const s = typeof e == \"string\", n = (r) => s ? r[e] : e(r);\n  return t.reduce((r, i) => {\n    const a = n(i);\n    return r[a] = i, r;\n  }, {});\n}\nfunction Co() {\n  let t, e;\n  return [new Promise((n, r) => {\n    t = n, e = r;\n  }), t, e];\n}\nfunction Lo(t) {\n  return t.state !== \"docked\" && t.state !== \"minimized\";\n}\nfunction Do(t, e, s, n) {\n  return n && t.audible || t.active && e.focused && Lo(e) && s;\n}\nfunction Nr(t) {\n  const e = t.objectStoreNames.length, s = [];\n  for (let n = 0; n < e; n++) {\n    const r = t.objectStoreNames.item(n);\n    r && s.push(r);\n  }\n  return s;\n}\nconst gn = -1;\nfunction Gn(t) {\n  var e;\n  return {\n    id: t.id,\n    appId: t.appId,\n    createdBy: t.createdBy,\n    endedAt: (e = t.endedAt) != null ? e : gn,\n    startedAt: t.startedAt,\n    imported: t.imported,\n    generated: t.generated\n  };\n}\nfunction ot(t) {\n  return {\n    id: t.id,\n    appId: t.appId,\n    createdBy: t.createdBy,\n    endedAt: t.endedAt === gn ? null : t.endedAt,\n    startedAt: t.startedAt,\n    imported: t.imported,\n    generated: t.generated\n  };\n}\nconst Ze = class extends un {\n  constructor(t) {\n    super(t.db, Ze.STORE_NAME_LATEST), this.config = t;\n  }\n  async startSession(t) {\n    const e = await this.db, s = Hn.parse({\n      ...t,\n      id: Yt(),\n      createdBy: await this.config.getInstallId(),\n      endedAt: void 0\n    }), n = Gn(s);\n    return await e.add(this.storeName, n), s;\n  }\n  async createSessions(t) {\n    const e = await this.db, s = await this.config.getInstallId(), n = e.transaction(Ze.STORE_NAME_LATEST, \"readwrite\"), r = n.objectStore(Ze.STORE_NAME_LATEST), i = t.map(\n      (o) => Hn.parse({\n        ...o,\n        id: Yt(),\n        createdBy: s\n      })\n    ), a = i.map(Gn);\n    return await Promise.all([...a.map((o) => r.add(o)), n.done]), i;\n  }\n  async endSession(t, e) {\n    var i, a;\n    const s = await this.db;\n    e - t.startedAt >= 6 * No && ((a = (i = this.config).onLongSessionDetected) == null || a.call(i, t, e), e = t.startedAt + 10 * fn);\n    const n = await s.get(this.storeName, t.id);\n    if (n == null)\n      throw Error(`Cannot update: Session not found with id=${t.id}`);\n    const r = { ...n, endedAt: e };\n    return await s.put(this.storeName, r), ot(r);\n  }\n  async findAllSessions() {\n    return (await super.findAll()).map(ot);\n  }\n  async findSessions(t, e) {\n    return (await (await this.db).getAllFromIndex(\n      this.storeName,\n      Ze.INDEX_STARTED_AT,\n      IDBKeyRange.bound(t, e, !1, !0)\n    )).map(ot);\n  }\n  async findSessionsByEndedAt(t, e) {\n    return (await (await this.db).getAllFromIndex(\n      this.storeName,\n      Ze.INDEX_ENDED_AT,\n      IDBKeyRange.bound(t, e, !1, !0)\n    )).map(ot);\n  }\n  async findOldestSession() {\n    const s = (await (await this.db).getAllFromIndex(\n      this.storeName,\n      Ze.INDEX_STARTED_AT,\n      IDBKeyRange.lowerBound(0, !0)\n    )).shift();\n    return s ? ot(s) : void 0;\n  }\n  async getSession(t) {\n    const s = await (await this.db).get(this.storeName, t);\n    if (s == null)\n      throw Error(`No session with id=${t} was found`);\n    return ot(s);\n  }\n  async getActiveSessions() {\n    return (await (await this.db).getAllFromIndex(\n      this.storeName,\n      Ze.INDEX_ENDED_AT,\n      gn\n    )).map(ot);\n  }\n  async deleteAllGeneratedSessions() {\n    const e = (await this.db).transaction(this.storeName, \"readwrite\");\n    let s = await e.store.openCursor();\n    for (; s; ) {\n      const n = s.value;\n      (n.imported || n.generated) && await s.delete(), s = await s.continue();\n    }\n    await e.done;\n  }\n};\nlet X = Ze;\nX.STORE_NAME_1 = \"sessions\";\nX.STORE_NAME_2 = \"sessions_2\";\nX.STORE_NAME_LATEST = Ze.STORE_NAME_2;\nX.INDEX_ENDED_AT = \"idx_session_endedAt\";\nX.INDEX_STARTED_AT = \"idx_session_startedAt\";\nvar ae = /* @__PURE__ */ ((t) => (t[t.V2 = 2] = \"V2\", t[t.V3 = 3] = \"V3\", t[t.V4 = 4] = \"V4\", t[t.V5 = 5] = \"V5\", t[t.V6 = 6] = \"V6\", t[t.V7 = 7] = \"V7\", t[t.V8 = 8] = \"V8\", t))(ae || {});\nconst Po = Se.object({\n  version: Se.nativeEnum(ae),\n  stores: Se.object({\n    [X.STORE_NAME_LATEST]: Se.array(yo).optional(),\n    [We.STORE_NAME_LATEST]: Se.array(_o).optional(),\n    [J.STORE_NAME_LATEST]: Se.array(xr).optional()\n  })\n}), Ud = Se.object({\n  version: Se.nativeEnum(ae),\n  stores: Se.record(Se.string(), Se.array(Se.any()))\n});\nasync function jo(t) {\n  const e = await t, s = {\n    version: e.version,\n    stores: {}\n  }, n = Nr(e), r = e.transaction(n, \"readonly\");\n  for (const i of n) {\n    const o = await r.objectStore(i).getAll();\n    o.forEach((d) => {\n      delete d.imported;\n    }), s.stores[i] = o;\n  }\n  return await r.done, s;\n}\nfunction Vo(t, e) {\n  return {\n    ...t,\n    id: Yt(),\n    sessionId: e\n  };\n}\nfunction $o(t) {\n  return {\n    ...t,\n    id: Yt()\n  };\n}\nfunction Or(t) {\n  return {\n    id: t.id,\n    sessionId: t.sessionId,\n    timestamp: t.timestamp,\n    type: \"basic-display\",\n    details: {\n      type: t.type,\n      height: t.additionalDetails.height,\n      width: t.additionalDetails.width,\n      url: t.adUrl\n    }\n  };\n}\nfunction Ms(t, e) {\n  var s;\n  return {\n    id: t.id,\n    appId: t.host,\n    createdBy: e,\n    startedAt: t.startedAt,\n    endedAt: (s = t.endedAt) != null ? s : -1,\n    imported: t.imported,\n    generated: t.generated\n  };\n}\nasync function Zo({\n  dbPromise: t,\n  usageBackup: e,\n  logger: s,\n  getInstallId: n\n}) {\n  const r = await t;\n  s == null || s.debug(\"[import-backup] Importing...\", e);\n  const i = await n(), a = await Po.parseAsync(\n    await kr(e, r.version, { installId: i })\n  ), o = Nr(r), d = r.transaction(o, \"readwrite\");\n  for (const l of o) {\n    const h = a.stores[l];\n    if (h != null && h.length) {\n      const g = d.objectStore(l);\n      for (const m of h)\n        s == null || s.debug(`[import-backup]: ${l}:`, m), await g.put({ ...m, imported: !0 });\n    }\n  }\n  await d.done;\n}\nconst zs = (t) => (e) => ({ ...e, version: t }), Uo = () => (t) => t, Bo = (t) => {\n  var e;\n  return {\n    version: ae.V4,\n    stores: {\n      [X.STORE_NAME_2]: t.stores[X.STORE_NAME_2],\n      [J.STORE_NAME_2]: (e = t.stores[J.STORE_NAME_2]) == null ? void 0 : e.map(Or)\n    }\n  };\n}, Wo = (t, { installId: e }) => {\n  var s;\n  return {\n    version: ae.V6,\n    stores: {\n      [X.STORE_NAME_2]: (s = t.stores[X.STORE_NAME_2]) == null ? void 0 : s.map(\n        (n) => Ms(n, e)\n      ),\n      [J.STORE_NAME_2]: t.stores[J.STORE_NAME_2]\n    }\n  };\n}, zo = (t, { installId: e }) => {\n  var s;\n  return {\n    version: ae.V7,\n    stores: {\n      [X.STORE_NAME_2]: (s = t.stores[X.STORE_NAME_2]) == null ? void 0 : s.map(\n        (n) => \"host\" in n ? Ms(n, e) : n\n      ),\n      [J.STORE_NAME_2]: t.stores[J.STORE_NAME_2]\n    }\n  };\n}, Fo = {\n  [ae.V2]: zs(ae.V3),\n  [ae.V3]: Bo,\n  [ae.V4]: zs(ae.V5),\n  [ae.V5]: Wo,\n  [ae.V6]: zo,\n  [ae.V7]: zs(ae.V8),\n  [ae.V8]: Uo()\n};\nasync function kr(t, e, s) {\n  if (t.version === e)\n    return t;\n  const n = Fo[t.version];\n  if (n == null)\n    throw Error(`Failed to upgrade backup version ${t.version}, version not supported`);\n  const r = await n(t, s);\n  return await kr(r, e, s);\n}\nconst Ho = (t, e) => e.some((s) => t instanceof s);\nlet Xn, Kn;\nfunction qo() {\n  return Xn || (Xn = [\n    IDBDatabase,\n    IDBObjectStore,\n    IDBIndex,\n    IDBCursor,\n    IDBTransaction\n  ]);\n}\nfunction Go() {\n  return Kn || (Kn = [\n    IDBCursor.prototype.advance,\n    IDBCursor.prototype.continue,\n    IDBCursor.prototype.continuePrimaryKey\n  ]);\n}\nconst Rr = /* @__PURE__ */ new WeakMap(), en = /* @__PURE__ */ new WeakMap(), Mr = /* @__PURE__ */ new WeakMap(), Fs = /* @__PURE__ */ new WeakMap(), mn = /* @__PURE__ */ new WeakMap();\nfunction Xo(t) {\n  const e = new Promise((s, n) => {\n    const r = () => {\n      t.removeEventListener(\"success\", i), t.removeEventListener(\"error\", a);\n    }, i = () => {\n      s(Qe(t.result)), r();\n    }, a = () => {\n      n(t.error), r();\n    };\n    t.addEventListener(\"success\", i), t.addEventListener(\"error\", a);\n  });\n  return e.then((s) => {\n    s instanceof IDBCursor && Rr.set(s, t);\n  }).catch(() => {\n  }), mn.set(e, t), e;\n}\nfunction Ko(t) {\n  if (en.has(t))\n    return;\n  const e = new Promise((s, n) => {\n    const r = () => {\n      t.removeEventListener(\"complete\", i), t.removeEventListener(\"error\", a), t.removeEventListener(\"abort\", a);\n    }, i = () => {\n      s(), r();\n    }, a = () => {\n      n(t.error || new DOMException(\"AbortError\", \"AbortError\")), r();\n    };\n    t.addEventListener(\"complete\", i), t.addEventListener(\"error\", a), t.addEventListener(\"abort\", a);\n  });\n  en.set(t, e);\n}\nlet tn = {\n  get(t, e, s) {\n    if (t instanceof IDBTransaction) {\n      if (e === \"done\")\n        return en.get(t);\n      if (e === \"objectStoreNames\")\n        return t.objectStoreNames || Mr.get(t);\n      if (e === \"store\")\n        return s.objectStoreNames[1] ? void 0 : s.objectStore(s.objectStoreNames[0]);\n    }\n    return Qe(t[e]);\n  },\n  set(t, e, s) {\n    return t[e] = s, !0;\n  },\n  has(t, e) {\n    return t instanceof IDBTransaction && (e === \"done\" || e === \"store\") ? !0 : e in t;\n  }\n};\nfunction Yo(t) {\n  tn = t(tn);\n}\nfunction Jo(t) {\n  return t === IDBDatabase.prototype.transaction && !(\"objectStoreNames\" in IDBTransaction.prototype) ? function(e, ...s) {\n    const n = t.call(Hs(this), e, ...s);\n    return Mr.set(n, e.sort ? e.sort() : [e]), Qe(n);\n  } : Go().includes(t) ? function(...e) {\n    return t.apply(Hs(this), e), Qe(Rr.get(this));\n  } : function(...e) {\n    return Qe(t.apply(Hs(this), e));\n  };\n}\nfunction Qo(t) {\n  return typeof t == \"function\" ? Jo(t) : (t instanceof IDBTransaction && Ko(t), Ho(t, qo()) ? new Proxy(t, tn) : t);\n}\nfunction Qe(t) {\n  if (t instanceof IDBRequest)\n    return Xo(t);\n  if (Fs.has(t))\n    return Fs.get(t);\n  const e = Qo(t);\n  return e !== t && (Fs.set(t, e), mn.set(e, t)), e;\n}\nconst Hs = (t) => mn.get(t);\nfunction ec(t, e, { blocked: s, upgrade: n, blocking: r, terminated: i } = {}) {\n  const a = indexedDB.open(t, e), o = Qe(a);\n  return n && a.addEventListener(\"upgradeneeded\", (d) => {\n    n(Qe(a.result), d.oldVersion, d.newVersion, Qe(a.transaction), d);\n  }), s && a.addEventListener(\"blocked\", (d) => s(\n    d.oldVersion,\n    d.newVersion,\n    d\n  )), o.then((d) => {\n    i && d.addEventListener(\"close\", () => i()), r && d.addEventListener(\"versionchange\", (l) => r(l.oldVersion, l.newVersion, l));\n  }).catch(() => {\n  }), o;\n}\nconst tc = [\"get\", \"getKey\", \"getAll\", \"getAllKeys\", \"count\"], sc = [\"put\", \"add\", \"delete\", \"clear\"], qs = /* @__PURE__ */ new Map();\nfunction Yn(t, e) {\n  if (!(t instanceof IDBDatabase && !(e in t) && typeof e == \"string\"))\n    return;\n  if (qs.get(e))\n    return qs.get(e);\n  const s = e.replace(/FromIndex$/, \"\"), n = e !== s, r = sc.includes(s);\n  if (!(s in (n ? IDBIndex : IDBObjectStore).prototype) || !(r || tc.includes(s)))\n    return;\n  const i = async function(a, ...o) {\n    const d = this.transaction(a, r ? \"readwrite\" : \"readonly\");\n    let l = d.store;\n    return n && (l = l.index(o.shift())), (await Promise.all([\n      l[s](...o),\n      r && d.done\n    ]))[0];\n  };\n  return qs.set(e, i), i;\n}\nYo((t) => ({\n  ...t,\n  get: (e, s, n) => Yn(e, s) || t.get(e, s, n),\n  has: (e, s) => !!Yn(e, s) || t.has(e, s)\n}));\nasync function nc({ db: t, tx: e }) {\n  const s = e.objectStore(X.STORE_NAME_1), n = e.objectStore(X.STORE_NAME_2), r = e.objectStore(J.STORE_NAME_1), i = e.objectStore(J.STORE_NAME_2), a = await s.index(X.INDEX_STARTED_AT).getAll();\n  for (const o of a) {\n    const d = $o(o);\n    await n.add(d);\n    const l = await r.index(J.INDEX_SESSION_ID).getAll(o.id);\n    for (const h of l) {\n      const g = Vo(h, d.id);\n      await i.add(g);\n    }\n  }\n  t.deleteObjectStore(s.name), t.deleteObjectStore(r.name);\n}\nasync function rc({ tx: t }) {\n  const e = t.objectStore(J.STORE_NAME_2), s = await e.getAll();\n  for (const n of s) {\n    const r = Or(n);\n    await e.put(r);\n  }\n}\nasync function ic({ tx: t, ctx: e }) {\n  const s = t.objectStore(X.STORE_NAME_2), n = await s.getAll();\n  for (const r of n) {\n    const i = Ms(r, e.installId);\n    await s.put(i);\n  }\n}\nasync function ac({ tx: t, ctx: e }) {\n  const s = t.objectStore(X.STORE_NAME_2), n = await s.getAll();\n  for (const r of n)\n    if (\"host\" in r) {\n      const i = Ms(r, e.installId);\n      await s.put(i);\n    }\n}\nconst ls = () => {\n}, oc = [\n  ls,\n  ls,\n  ls,\n  nc,\n  rc,\n  ls,\n  ic,\n  ac\n];\nasync function cc(t, { logger: e }) {\n  if (t.oldVersion === 0 || t.newVersion == null) {\n    e == null || e.debug(\"[usage-database] Skipping migrations for new databases\", {\n      oldVersion: t.oldVersion,\n      newVersion: t.newVersion\n    });\n    return;\n  }\n  const s = t.oldVersion + 1, n = t.newVersion, r = oc.slice(s, n + 1);\n  if (r.length === 0) {\n    e == null || e.log(\"[usage-database] No migrations to run\");\n    return;\n  }\n  e == null || e.log(`[usage-database] Running migrations ${s} -> ${n}`);\n  for (const i of r)\n    await i(t);\n}\nfunction mt(t, e, s, n) {\n  return t.indexNames.contains(e) ? t.index(e) : t.createIndex(e, s, n);\n}\nfunction Gs({ db: t, tx: e }, s, n) {\n  return t.objectStoreNames.contains(s) ? e.objectStore(s) : t.createObjectStore(s, n);\n}\nconst dc = ae.V8;\nasync function lc(t) {\n  const e = await t.getInstallId();\n  return ec(\"UsageSdkDb\", dc, {\n    async upgrade(s, n, r, i) {\n      const a = {\n        db: s,\n        oldVersion: n,\n        newVersion: r,\n        tx: i,\n        ctx: {\n          installId: e\n        }\n      };\n      uc(a), await cc(a, { logger: null });\n    }\n  });\n}\nfunction uc(t) {\n  const e = Gs(t, X.STORE_NAME_LATEST, {\n    keyPath: \"id\"\n  });\n  mt(e, X.INDEX_STARTED_AT, \"startedAt\", {\n    unique: !1\n  }), mt(e, X.INDEX_ENDED_AT, \"endedAt\", { unique: !1 });\n  const s = Gs(t, We.STORE_NAME_LATEST, {\n    keyPath: \"id\"\n  });\n  mt(s, We.INDEX_STARTED_AT, \"startedAt\", {\n    unique: !1\n  }), mt(s, We.INDEX_ENDED_AT, \"endedAt\", {\n    unique: !1\n  });\n  const n = Gs(t, J.STORE_NAME_LATEST, {\n    keyPath: \"id\"\n  });\n  mt(n, J.INDEX_SESSION_ID, \"sessionId\", { unique: !1 }), mt(n, J.INDEX_TIMESTAMP, \"timestamp\", { unique: !1 });\n}\nfunction Bd(t) {\n  const e = lc(t), s = t.logger === void 0 ? console : t.logger;\n  return {\n    indexedDb: e,\n    sessionsRepo: new X({ db: e, ...t }),\n    pageViewsRepo: new We({ db: e, ...t }),\n    adsRepo: new J({ db: e, ...t }),\n    exportBackup: () => jo(e),\n    importBackup: (n) => Zo({\n      dbPromise: e,\n      usageBackup: n,\n      getInstallId: t.getInstallId,\n      logger: s\n    })\n  };\n}\nvar sn = { exports: {} };\n(function(t, e) {\n  var s = 200, n = \"__lodash_hash_undefined__\", r = 1, i = 2, a = 9007199254740991, o = \"[object Arguments]\", d = \"[object Array]\", l = \"[object AsyncFunction]\", h = \"[object Boolean]\", g = \"[object Date]\", m = \"[object Error]\", S = \"[object Function]\", $ = \"[object GeneratorFunction]\", _ = \"[object Map]\", P = \"[object Number]\", C = \"[object Null]\", j = \"[object Object]\", pe = \"[object Promise]\", Et = \"[object Proxy]\", Ie = \"[object RegExp]\", ne = \"[object Set]\", Pe = \"[object String]\", x = \"[object Symbol]\", b = \"[object Undefined]\", O = \"[object WeakMap]\", D = \"[object ArrayBuffer]\", F = \"[object DataView]\", ue = \"[object Float32Array]\", ge = \"[object Float64Array]\", R = \"[object Int8Array]\", me = \"[object Int16Array]\", K = \"[object Int32Array]\", He = \"[object Uint8Array]\", tt = \"[object Uint8ClampedArray]\", Ae = \"[object Uint16Array]\", It = \"[object Uint32Array]\", Yr = /[\\\\^$.*+?()[\\]{}|]/g, Jr = /^\\[object .+?Constructor\\]$/, Qr = /^(?:0|[1-9]\\d*)$/, Z = {};\n  Z[ue] = Z[ge] = Z[R] = Z[me] = Z[K] = Z[He] = Z[tt] = Z[Ae] = Z[It] = !0, Z[o] = Z[d] = Z[D] = Z[h] = Z[F] = Z[g] = Z[m] = Z[S] = Z[_] = Z[P] = Z[j] = Z[Ie] = Z[ne] = Z[Pe] = Z[O] = !1;\n  var An = typeof Ct == \"object\" && Ct && Ct.Object === Object && Ct, ei = typeof self == \"object\" && self && self.Object === Object && self, je = An || ei || Function(\"return this\")(), vn = e && !e.nodeType && e, wn = vn && !0 && t && !t.nodeType && t, bn = wn && wn.exports === vn, Ls = bn && An.process, xn = function() {\n    try {\n      return Ls && Ls.binding && Ls.binding(\"util\");\n    } catch {\n    }\n  }(), Tn = xn && xn.isTypedArray;\n  function ti(c, u) {\n    for (var f = -1, v = c == null ? 0 : c.length, U = 0, I = []; ++f < v; ) {\n      var H = c[f];\n      u(H, f, c) && (I[U++] = H);\n    }\n    return I;\n  }\n  function si(c, u) {\n    for (var f = -1, v = u.length, U = c.length; ++f < v; )\n      c[U + f] = u[f];\n    return c;\n  }\n  function ni(c, u) {\n    for (var f = -1, v = c == null ? 0 : c.length; ++f < v; )\n      if (u(c[f], f, c))\n        return !0;\n    return !1;\n  }\n  function ri(c, u) {\n    for (var f = -1, v = Array(c); ++f < c; )\n      v[f] = u(f);\n    return v;\n  }\n  function ii(c) {\n    return function(u) {\n      return c(u);\n    };\n  }\n  function ai(c, u) {\n    return c.has(u);\n  }\n  function oi(c, u) {\n    return c == null ? void 0 : c[u];\n  }\n  function ci(c) {\n    var u = -1, f = Array(c.size);\n    return c.forEach(function(v, U) {\n      f[++u] = [U, v];\n    }), f;\n  }\n  function di(c, u) {\n    return function(f) {\n      return c(u(f));\n    };\n  }\n  function li(c) {\n    var u = -1, f = Array(c.size);\n    return c.forEach(function(v) {\n      f[++u] = v;\n    }), f;\n  }\n  var ui = Array.prototype, hi = Function.prototype, ts = Object.prototype, Ds = je[\"__core-js_shared__\"], Sn = hi.toString, Re = ts.hasOwnProperty, En = function() {\n    var c = /[^.]+$/.exec(Ds && Ds.keys && Ds.keys.IE_PROTO || \"\");\n    return c ? \"Symbol(src)_1.\" + c : \"\";\n  }(), In = ts.toString, fi = RegExp(\n    \"^\" + Sn.call(Re).replace(Yr, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"\n  ), Nn = bn ? je.Buffer : void 0, ss = je.Symbol, On = je.Uint8Array, kn = ts.propertyIsEnumerable, pi = ui.splice, st = ss ? ss.toStringTag : void 0, Rn = Object.getOwnPropertySymbols, gi = Nn ? Nn.isBuffer : void 0, mi = di(Object.keys, Object), Ps = pt(je, \"DataView\"), Nt = pt(je, \"Map\"), js = pt(je, \"Promise\"), Vs = pt(je, \"Set\"), $s = pt(je, \"WeakMap\"), Ot = pt(Object, \"create\"), yi = it(Ps), _i = it(Nt), Ai = it(js), vi = it(Vs), wi = it($s), Mn = ss ? ss.prototype : void 0, Zs = Mn ? Mn.valueOf : void 0;\n  function nt(c) {\n    var u = -1, f = c == null ? 0 : c.length;\n    for (this.clear(); ++u < f; ) {\n      var v = c[u];\n      this.set(v[0], v[1]);\n    }\n  }\n  function bi() {\n    this.__data__ = Ot ? Ot(null) : {}, this.size = 0;\n  }\n  function xi(c) {\n    var u = this.has(c) && delete this.__data__[c];\n    return this.size -= u ? 1 : 0, u;\n  }\n  function Ti(c) {\n    var u = this.__data__;\n    if (Ot) {\n      var f = u[c];\n      return f === n ? void 0 : f;\n    }\n    return Re.call(u, c) ? u[c] : void 0;\n  }\n  function Si(c) {\n    var u = this.__data__;\n    return Ot ? u[c] !== void 0 : Re.call(u, c);\n  }\n  function Ei(c, u) {\n    var f = this.__data__;\n    return this.size += this.has(c) ? 0 : 1, f[c] = Ot && u === void 0 ? n : u, this;\n  }\n  nt.prototype.clear = bi, nt.prototype.delete = xi, nt.prototype.get = Ti, nt.prototype.has = Si, nt.prototype.set = Ei;\n  function Ve(c) {\n    var u = -1, f = c == null ? 0 : c.length;\n    for (this.clear(); ++u < f; ) {\n      var v = c[u];\n      this.set(v[0], v[1]);\n    }\n  }\n  function Ii() {\n    this.__data__ = [], this.size = 0;\n  }\n  function Ni(c) {\n    var u = this.__data__, f = rs(u, c);\n    if (f < 0)\n      return !1;\n    var v = u.length - 1;\n    return f == v ? u.pop() : pi.call(u, f, 1), --this.size, !0;\n  }\n  function Oi(c) {\n    var u = this.__data__, f = rs(u, c);\n    return f < 0 ? void 0 : u[f][1];\n  }\n  function ki(c) {\n    return rs(this.__data__, c) > -1;\n  }\n  function Ri(c, u) {\n    var f = this.__data__, v = rs(f, c);\n    return v < 0 ? (++this.size, f.push([c, u])) : f[v][1] = u, this;\n  }\n  Ve.prototype.clear = Ii, Ve.prototype.delete = Ni, Ve.prototype.get = Oi, Ve.prototype.has = ki, Ve.prototype.set = Ri;\n  function rt(c) {\n    var u = -1, f = c == null ? 0 : c.length;\n    for (this.clear(); ++u < f; ) {\n      var v = c[u];\n      this.set(v[0], v[1]);\n    }\n  }\n  function Mi() {\n    this.size = 0, this.__data__ = {\n      hash: new nt(),\n      map: new (Nt || Ve)(),\n      string: new nt()\n    };\n  }\n  function Ci(c) {\n    var u = is(this, c).delete(c);\n    return this.size -= u ? 1 : 0, u;\n  }\n  function Li(c) {\n    return is(this, c).get(c);\n  }\n  function Di(c) {\n    return is(this, c).has(c);\n  }\n  function Pi(c, u) {\n    var f = is(this, c), v = f.size;\n    return f.set(c, u), this.size += f.size == v ? 0 : 1, this;\n  }\n  rt.prototype.clear = Mi, rt.prototype.delete = Ci, rt.prototype.get = Li, rt.prototype.has = Di, rt.prototype.set = Pi;\n  function ns(c) {\n    var u = -1, f = c == null ? 0 : c.length;\n    for (this.__data__ = new rt(); ++u < f; )\n      this.add(c[u]);\n  }\n  function ji(c) {\n    return this.__data__.set(c, n), this;\n  }\n  function Vi(c) {\n    return this.__data__.has(c);\n  }\n  ns.prototype.add = ns.prototype.push = ji, ns.prototype.has = Vi;\n  function qe(c) {\n    var u = this.__data__ = new Ve(c);\n    this.size = u.size;\n  }\n  function $i() {\n    this.__data__ = new Ve(), this.size = 0;\n  }\n  function Zi(c) {\n    var u = this.__data__, f = u.delete(c);\n    return this.size = u.size, f;\n  }\n  function Ui(c) {\n    return this.__data__.get(c);\n  }\n  function Bi(c) {\n    return this.__data__.has(c);\n  }\n  function Wi(c, u) {\n    var f = this.__data__;\n    if (f instanceof Ve) {\n      var v = f.__data__;\n      if (!Nt || v.length < s - 1)\n        return v.push([c, u]), this.size = ++f.size, this;\n      f = this.__data__ = new rt(v);\n    }\n    return f.set(c, u), this.size = f.size, this;\n  }\n  qe.prototype.clear = $i, qe.prototype.delete = Zi, qe.prototype.get = Ui, qe.prototype.has = Bi, qe.prototype.set = Wi;\n  function zi(c, u) {\n    var f = as(c), v = !f && ia(c), U = !f && !v && Us(c), I = !f && !v && !U && Un(c), H = f || v || U || I, te = H ? ri(c.length, String) : [], re = te.length;\n    for (var z in c)\n      (u || Re.call(c, z)) && !(H && (z == \"length\" || U && (z == \"offset\" || z == \"parent\") || I && (z == \"buffer\" || z == \"byteLength\" || z == \"byteOffset\") || ea(z, re))) && te.push(z);\n    return te;\n  }\n  function rs(c, u) {\n    for (var f = c.length; f--; )\n      if (jn(c[f][0], u))\n        return f;\n    return -1;\n  }\n  function Fi(c, u, f) {\n    var v = u(c);\n    return as(c) ? v : si(v, f(c));\n  }\n  function kt(c) {\n    return c == null ? c === void 0 ? b : C : st && st in Object(c) ? Ji(c) : ra(c);\n  }\n  function Cn(c) {\n    return Rt(c) && kt(c) == o;\n  }\n  function Ln(c, u, f, v, U) {\n    return c === u ? !0 : c == null || u == null || !Rt(c) && !Rt(u) ? c !== c && u !== u : Hi(c, u, f, v, Ln, U);\n  }\n  function Hi(c, u, f, v, U, I) {\n    var H = as(c), te = as(u), re = H ? d : Ge(c), z = te ? d : Ge(u);\n    re = re == o ? j : re, z = z == o ? j : z;\n    var _e = re == j, Ne = z == j, oe = re == z;\n    if (oe && Us(c)) {\n      if (!Us(u))\n        return !1;\n      H = !0, _e = !1;\n    }\n    if (oe && !_e)\n      return I || (I = new qe()), H || Un(c) ? Dn(c, u, f, v, U, I) : Ki(c, u, re, f, v, U, I);\n    if (!(f & r)) {\n      var ve = _e && Re.call(c, \"__wrapped__\"), we = Ne && Re.call(u, \"__wrapped__\");\n      if (ve || we) {\n        var Xe = ve ? c.value() : c, $e = we ? u.value() : u;\n        return I || (I = new qe()), U(Xe, $e, f, v, I);\n      }\n    }\n    return oe ? (I || (I = new qe()), Yi(c, u, f, v, U, I)) : !1;\n  }\n  function qi(c) {\n    if (!Zn(c) || sa(c))\n      return !1;\n    var u = Vn(c) ? fi : Jr;\n    return u.test(it(c));\n  }\n  function Gi(c) {\n    return Rt(c) && $n(c.length) && !!Z[kt(c)];\n  }\n  function Xi(c) {\n    if (!na(c))\n      return mi(c);\n    var u = [];\n    for (var f in Object(c))\n      Re.call(c, f) && f != \"constructor\" && u.push(f);\n    return u;\n  }\n  function Dn(c, u, f, v, U, I) {\n    var H = f & r, te = c.length, re = u.length;\n    if (te != re && !(H && re > te))\n      return !1;\n    var z = I.get(c);\n    if (z && I.get(u))\n      return z == u;\n    var _e = -1, Ne = !0, oe = f & i ? new ns() : void 0;\n    for (I.set(c, u), I.set(u, c); ++_e < te; ) {\n      var ve = c[_e], we = u[_e];\n      if (v)\n        var Xe = H ? v(we, ve, _e, u, c, I) : v(ve, we, _e, c, u, I);\n      if (Xe !== void 0) {\n        if (Xe)\n          continue;\n        Ne = !1;\n        break;\n      }\n      if (oe) {\n        if (!ni(u, function($e, at) {\n          if (!ai(oe, at) && (ve === $e || U(ve, $e, f, v, I)))\n            return oe.push(at);\n        })) {\n          Ne = !1;\n          break;\n        }\n      } else if (!(ve === we || U(ve, we, f, v, I))) {\n        Ne = !1;\n        break;\n      }\n    }\n    return I.delete(c), I.delete(u), Ne;\n  }\n  function Ki(c, u, f, v, U, I, H) {\n    switch (f) {\n      case F:\n        if (c.byteLength != u.byteLength || c.byteOffset != u.byteOffset)\n          return !1;\n        c = c.buffer, u = u.buffer;\n      case D:\n        return !(c.byteLength != u.byteLength || !I(new On(c), new On(u)));\n      case h:\n      case g:\n      case P:\n        return jn(+c, +u);\n      case m:\n        return c.name == u.name && c.message == u.message;\n      case Ie:\n      case Pe:\n        return c == u + \"\";\n      case _:\n        var te = ci;\n      case ne:\n        var re = v & r;\n        if (te || (te = li), c.size != u.size && !re)\n          return !1;\n        var z = H.get(c);\n        if (z)\n          return z == u;\n        v |= i, H.set(c, u);\n        var _e = Dn(te(c), te(u), v, U, I, H);\n        return H.delete(c), _e;\n      case x:\n        if (Zs)\n          return Zs.call(c) == Zs.call(u);\n    }\n    return !1;\n  }\n  function Yi(c, u, f, v, U, I) {\n    var H = f & r, te = Pn(c), re = te.length, z = Pn(u), _e = z.length;\n    if (re != _e && !H)\n      return !1;\n    for (var Ne = re; Ne--; ) {\n      var oe = te[Ne];\n      if (!(H ? oe in u : Re.call(u, oe)))\n        return !1;\n    }\n    var ve = I.get(c);\n    if (ve && I.get(u))\n      return ve == u;\n    var we = !0;\n    I.set(c, u), I.set(u, c);\n    for (var Xe = H; ++Ne < re; ) {\n      oe = te[Ne];\n      var $e = c[oe], at = u[oe];\n      if (v)\n        var Bn = H ? v(at, $e, oe, u, c, I) : v($e, at, oe, c, u, I);\n      if (!(Bn === void 0 ? $e === at || U($e, at, f, v, I) : Bn)) {\n        we = !1;\n        break;\n      }\n      Xe || (Xe = oe == \"constructor\");\n    }\n    if (we && !Xe) {\n      var os = c.constructor, cs = u.constructor;\n      os != cs && \"constructor\" in c && \"constructor\" in u && !(typeof os == \"function\" && os instanceof os && typeof cs == \"function\" && cs instanceof cs) && (we = !1);\n    }\n    return I.delete(c), I.delete(u), we;\n  }\n  function Pn(c) {\n    return Fi(c, ca, Qi);\n  }\n  function is(c, u) {\n    var f = c.__data__;\n    return ta(u) ? f[typeof u == \"string\" ? \"string\" : \"hash\"] : f.map;\n  }\n  function pt(c, u) {\n    var f = oi(c, u);\n    return qi(f) ? f : void 0;\n  }\n  function Ji(c) {\n    var u = Re.call(c, st), f = c[st];\n    try {\n      c[st] = void 0;\n      var v = !0;\n    } catch {\n    }\n    var U = In.call(c);\n    return v && (u ? c[st] = f : delete c[st]), U;\n  }\n  var Qi = Rn ? function(c) {\n    return c == null ? [] : (c = Object(c), ti(Rn(c), function(u) {\n      return kn.call(c, u);\n    }));\n  } : da, Ge = kt;\n  (Ps && Ge(new Ps(new ArrayBuffer(1))) != F || Nt && Ge(new Nt()) != _ || js && Ge(js.resolve()) != pe || Vs && Ge(new Vs()) != ne || $s && Ge(new $s()) != O) && (Ge = function(c) {\n    var u = kt(c), f = u == j ? c.constructor : void 0, v = f ? it(f) : \"\";\n    if (v)\n      switch (v) {\n        case yi:\n          return F;\n        case _i:\n          return _;\n        case Ai:\n          return pe;\n        case vi:\n          return ne;\n        case wi:\n          return O;\n      }\n    return u;\n  });\n  function ea(c, u) {\n    return u = u == null ? a : u, !!u && (typeof c == \"number\" || Qr.test(c)) && c > -1 && c % 1 == 0 && c < u;\n  }\n  function ta(c) {\n    var u = typeof c;\n    return u == \"string\" || u == \"number\" || u == \"symbol\" || u == \"boolean\" ? c !== \"__proto__\" : c === null;\n  }\n  function sa(c) {\n    return !!En && En in c;\n  }\n  function na(c) {\n    var u = c && c.constructor, f = typeof u == \"function\" && u.prototype || ts;\n    return c === f;\n  }\n  function ra(c) {\n    return In.call(c);\n  }\n  function it(c) {\n    if (c != null) {\n      try {\n        return Sn.call(c);\n      } catch {\n      }\n      try {\n        return c + \"\";\n      } catch {\n      }\n    }\n    return \"\";\n  }\n  function jn(c, u) {\n    return c === u || c !== c && u !== u;\n  }\n  var ia = Cn(function() {\n    return arguments;\n  }()) ? Cn : function(c) {\n    return Rt(c) && Re.call(c, \"callee\") && !kn.call(c, \"callee\");\n  }, as = Array.isArray;\n  function aa(c) {\n    return c != null && $n(c.length) && !Vn(c);\n  }\n  var Us = gi || la;\n  function oa(c, u) {\n    return Ln(c, u);\n  }\n  function Vn(c) {\n    if (!Zn(c))\n      return !1;\n    var u = kt(c);\n    return u == S || u == $ || u == l || u == Et;\n  }\n  function $n(c) {\n    return typeof c == \"number\" && c > -1 && c % 1 == 0 && c <= a;\n  }\n  function Zn(c) {\n    var u = typeof c;\n    return c != null && (u == \"object\" || u == \"function\");\n  }\n  function Rt(c) {\n    return c != null && typeof c == \"object\";\n  }\n  var Un = Tn ? ii(Tn) : Gi;\n  function ca(c) {\n    return aa(c) ? zi(c) : Xi(c);\n  }\n  function da() {\n    return [];\n  }\n  function la() {\n    return !1;\n  }\n  t.exports = oa;\n})(sn, sn.exports);\nconst hc = sn.exports;\nfunction Jn(t, e) {\n  var r;\n  if (typeof t == \"string\" && (t = fc(t.trim())), !t)\n    return;\n  let s = (r = e == null ? void 0 : e.removeGenericPrefixes) != null ? r : !0, n = t.hostname;\n  return s && (n = n.replace(/^(m|mobile|amp|www|www1|www2|www3|tab|item|checkout|secure|user|account|accounts|web|app|open|i|v|preview|cdn|l|id|nid|user|sso|signin|login|auth0|play|api|click|detail|dashboard|console|manage|support|help)\\./, \"\").replace(/.*\\.zoom\\.us/, \"zoom.us\").replace(/.*\\.slack\\.com/, \"slack.com\").replace(/.*\\.wikipedia\\.org/, \"wikipedia.org\").replace(/.*\\.amazonaws\\.com/, \"amazonaws.com\").replace(/.*\\.netsuite\\.com/, \"netsuite.com\")), { hostname: n, path: pc(t.pathname) };\n}\nfunction fc(t) {\n  if (!t)\n    return;\n  let e = (s) => {\n    let n = new URL(s);\n    if (!/^https?:/.test(n.protocol))\n      throw Error(\"Invalid URL, ignored protocol found\");\n    if (!n.hostname)\n      throw Error(\"Invalid URL, no hostname\");\n    if (n.hostname.lastIndexOf(\".\") >= n.hostname.length - 2)\n      throw Error(\"Invalid URL, bad domain ending\");\n    return n;\n  };\n  try {\n    return e(t);\n  } catch {\n  }\n  if (!t.includes(\"://\"))\n    try {\n      return e(\"https://\" + t);\n    } catch {\n    }\n}\nfunction pc(t) {\n  return t.endsWith(\"/\") ? t.substring(0, Math.max(1, t.length - 1)) : t;\n}\nconst us = \"tab-history-map\", Cr = class {\n  constructor(t) {\n    this.tabHistoryMap = this.restoreTabHistory(), this.lock = new Er();\n    let e = 0;\n    V.tabs.onCreated.addListener(\n      (s) => this.lock.runExclusive(async () => {\n        var n;\n        if (s.id != null && (t == null || t.debug(`[referrer] ${e++} tabs.onCreated`, s), s.openerTabId != null)) {\n          const i = (n = (await this.tabHistoryMap)[s.openerTabId]) == null ? void 0 : n[0];\n          i && await this.addHistory(s.id, i);\n        }\n      })\n    ), V.webNavigation.onCommitted.addListener(\n      (s) => this.lock.runExclusive(async () => {\n        t == null || t.debug(`[referrer] ${e++} webNavigation.onCommitted`, s);\n        const { frameId: n, tabId: r, url: i, transitionQualifiers: a } = s;\n        n === 0 && ((a.includes(\"forward_back\") || a.includes(\"from_address_bar\")) && await this.addHistory(r, void 0), await this.addHistory(r, i));\n      })\n    ), V.runtime.onStartup.addListener(() => this.resetHistory()), V.runtime.onSuspend.addListener(() => this.resetHistory()), V.tabs.onRemoved.addListener((s) => this.removeHistory(s));\n  }\n  async restoreTabHistory() {\n    const t = await pn(us);\n    return t != null ? t : {};\n  }\n  async addHistory(t, e) {\n    var r;\n    const s = await this.tabHistoryMap, n = (r = s[t]) != null ? r : s[t] = [];\n    e !== n[0] && n.unshift(this.sanatizeReferrerUrl(e)), n.splice(Cr.MAX_HISTORY_COUNT_PER_TAB), await Vt(us, s);\n  }\n  sanatizeReferrerUrl(t) {\n    if (!!t)\n      try {\n        const e = new URL(t);\n        return e.search = \"\", e.username = \"\", e.password = \"\", e.hash = \"\", e.href;\n      } catch {\n        return;\n      }\n  }\n  getReferrerFor(t, e) {\n    return this.lock.runExclusive(async () => {\n      if (t == null || !e)\n        return;\n      const n = (await this.tabHistoryMap)[t];\n      if (n == null)\n        return;\n      const r = n.findIndex((i) => i === e);\n      return r === -1 ? void 0 : n[r + 1];\n    });\n  }\n  resetHistory() {\n    return Vt(us, {});\n  }\n  async removeHistory(t) {\n    const e = await this.tabHistoryMap;\n    delete e[t], await Vt(us, e);\n  }\n};\nlet Lr = Cr;\nLr.MAX_HISTORY_COUNT_PER_TAB = 10;\nclass Qn {\n  constructor() {\n    this.map = {};\n  }\n  markAsProcessed(e) {\n    e.forEach((s) => this.map[s.id] = !0);\n  }\n  isProcessed(e) {\n    var s;\n    return (s = this.map[e.id]) != null ? s : !1;\n  }\n}\nconst Me = class {\n  constructor(t, e) {\n    this.wakeUpTimeoutDisabled = !1, this.hasRecentUserActivity = !0, this.sessionUpdatedListeners = [], this.pageViewUpdatedListeners = [], this.checkSessionsListeners = [], this.latestTriggerId = 0, this.updateSessions = ko(\n      async (r) => {\n        var o, d, l;\n        const i = `[update-sessions] [${r.triggerId}]`;\n        if ((o = this.logger) == null || o.debug(`${i} Waiting for startup to stop previous sessions...`), await this.startupPromise, (d = this.logger) == null || d.debug(\n          `${i} Processing @ ${new Date(r.timestamp).toLocaleTimeString()}`\n        ), this.pingLastAliveAt(), this.invokeCheckSessionsListeners(), await this.config.enabled()) {\n          const h = this.logger ? new Io(this.logger.debug.bind(this.logger)) : void 0, g = await this.getComputeDependencies();\n          h == null || h.log(`${i} Got required data after {duration}`);\n          const m = this.findSessionChanges(r, g);\n          h == null || h.log(`${i} Computed session changes after {duration}`);\n          const S = await this.findPageViewChanges(r, g);\n          h == null || h.log(`${i} Computed page view changes after {duration}`), await this.saveSessionChanges(r.timestamp, m), h == null || h.log(`${i} Session changes committed to the database after {duration}`), await this.savePageViewChanges(r.timestamp, S), h == null || h.log(`${i} Page view changes committed to the database after {duration}`);\n        }\n        (l = this.logger) == null || l.log(`${i} Done`);\n      }\n    ), this.config = e, this.sessionsRepo = t.sessionsRepo, this.pageViewsRepo = t.pageViewsRepo, this.updateSessions = this.updateSessions.bind(this), e.logger === void 0 ? this.logger = console : this.logger = e.logger;\n    const [s, n] = Co();\n    this.startupPromise = s, this.allowSessionUpdates = n;\n  }\n  setupTriggers() {\n    var t, e;\n    this.referrers = new Lr(this.logger), (e = (t = this.config).setupCustomTriggers) == null || e.call(t, {\n      triggerSessionChangeCheck: this.basicTrigger.bind(this),\n      setHasRecentUserActivity: this.setHasRecentUserActivity.bind(this)\n    }), this.setupExtensionApiTriggers(), this.setupIdleTriggers(), this.setupStartupTriggers();\n  }\n  addSessionUpdatedListener(t) {\n    this.sessionUpdatedListeners.push(t);\n  }\n  addPageViewUpdatedListener(t) {\n    this.pageViewUpdatedListeners.push(t);\n  }\n  addCheckSessionsListener(t) {\n    this.checkSessionsListeners.push(t);\n  }\n  setupExtensionApiTriggers() {\n    V.webNavigation.onCompleted.addListener(async (t) => {\n      t.frameId > 0 || await this.basicTrigger(\n        \"webNavigation.onCompleted\",\n        Math.floor(t.timeStamp)\n      );\n    }), V.tabs.onCreated.addListener(() => this.basicTrigger(\"tabs.onCreated\")), V.tabs.onUpdated.addListener(() => this.basicTrigger(\"tabs.onUpdated\")), V.tabs.onActivated.addListener(() => this.basicTrigger(\"tabs.onActivated\")), V.tabs.onRemoved.addListener(() => this.basicTrigger(\"tabs.onRemoved\")), V.windows.onCreated.addListener(() => this.basicTrigger(\"windows.onCreated\")), V.windows.onFocusChanged.addListener(() => this.basicTrigger(\"windows.onFocusChanged\")), V.windows.onRemoved.addListener(() => this.basicTrigger(\"windows.onRemoved\")), this.onWindowStateChanged(\n      (t) => this.basicTrigger(\"SessionMonitor.onWindowStateChanged\", t)\n    );\n  }\n  setupIdleTriggers() {\n  }\n  setupStartupTriggers() {\n    const t = Date.now();\n    this.config.isOnStartupAvailable() ? (V.runtime.onStartup.addListener(() => {\n      this.wakeUpTimeoutDisabled = !0, this.startupFlow({\n        cleanupSessions: !0,\n        trigger: \"runtime.onStartup\",\n        timestamp: t\n      });\n    }), setTimeout(() => {\n      this.wakeUpTimeoutDisabled || this.startupFlow({\n        cleanupSessions: !1,\n        trigger: \"setTimeout\",\n        timestamp: t\n      });\n    }, Me.ALWAYS_STARTUP_AFTER_MS)) : (V.alarms.clear(\"ping-last-alive-at\"), V.alarms.create(\"ping-last-alive-at\", {\n      delayInMinutes: Me.LAST_ALIVE_AT_INTERVAL_MS / Tt,\n      periodInMinutes: Me.LAST_ALIVE_AT_INTERVAL_MS / Tt\n    }), V.alarms.onAlarm.addListener((s) => {\n      if (s.name === \"ping-last-alive-at\")\n        return this.pingLastAliveAt();\n    }), this.getLastAliveAt().then((s) => {\n      this.wakeUpTimeoutDisabled = !0;\n      const n = s != null && Date.now() - s > 2 * Me.LAST_ALIVE_AT_INTERVAL_MS;\n      this.startupFlow({\n        cleanupSessions: n,\n        trigger: n ? \"time since last alive at > 2 * lastAliveInterval\" : \"time since last alive at <= 2 * lastAliveInterval\",\n        timestamp: t\n      });\n    })), V.runtime.onInstalled.addListener((s) => {\n      this.wakeUpTimeoutDisabled = !0, this.startupFlow({\n        cleanupSessions: s.reason !== \"install\",\n        trigger: \"runtime.onInstalled\",\n        timestamp: t\n      });\n    });\n    const { onSuspend: e } = V.runtime;\n    e == null || e.addListener(() => this.endAllActiveSessions(Date.now()));\n  }\n  basicTrigger(t, e = Date.now()) {\n    var n;\n    const s = this.latestTriggerId++;\n    return (n = this.logger) == null || n.log(\n      `[update-sessions] [${s}] Queued by ${t} @ ${new Date(\n        e\n      ).toLocaleTimeString()}`\n    ), this.updateSessions({ timestamp: e, triggerId: s, triggeredBy: t });\n  }\n  onWindowStateChanged(t) {\n    let e = {};\n    this.getWindowStates().then((s) => {\n      e = s;\n    }), setInterval(async () => {\n      const s = Date.now(), n = await this.getWindowStates();\n      hc(e, n) || (t(s), e = n);\n    }, Me.WINDOW_STATE_POLLING_INTERVAL_MS);\n  }\n  async getWindowStates() {\n    return (await V.windows.getAll()).reduce((e, s) => (s.id != null && (e[s.id] = s.state), e), {});\n  }\n  async startupFlow({\n    cleanupSessions: t,\n    trigger: e,\n    timestamp: s\n  }) {\n    t && await this.cleanupActiveSessionsOnStartup(s), await this.pingLastAliveAt(), await Oo().then(() => this.allowSessionUpdates()), await this.basicTrigger(e, s);\n  }\n  async cleanupActiveSessionsOnStartup(t) {\n    var r, i, a, o;\n    const e = await this.getLastAliveAt();\n    if ((r = this.logger) == null || r.debug(\"[on-startup] onStartup()\", {\n      lastActivity: e && new Date(e).toISOString(),\n      now: new Date(t).toISOString()\n    }), e == null)\n      throw Error(\"lastActivity was not set yet\");\n    (i = this.logger) == null || i.log(\"[on-startup] Ending sessions after quit...\");\n    const s = e + Me.LAST_ALIVE_AT_POLL_INTERVAL_MS, n = Math.min(t, s);\n    (a = this.logger) == null || a.log(\"[on-startup] Timing details:\", {\n      lastActivity: new Date(e).toISOString(),\n      now: new Date(t).toISOString(),\n      quitAt: new Date(s).toISOString(),\n      endAt: new Date(n).toISOString()\n    }), await this.endAllActiveSessions(n), (o = this.logger) == null || o.log(\"[on-startup] Startup finished!\");\n  }\n  async getComputeDependencies() {\n    const [t, e] = await Promise.all([V.windows.getAll(), V.tabs.query({})]), s = await this.sessionsRepo.getActiveSessions(), n = await this.pageViewsRepo.getActivePageViews();\n    return {\n      isTabActiveWhenPlayingAudio: await this.config.isTabActiveWhenPlayingAudio(),\n      hostnameToTabsMap: e.reduce((r, i) => {\n        var o, d, l;\n        const a = (o = Jn(i.url)) == null ? void 0 : o.hostname;\n        return a && ((d = r[a]) != null || (r[a] = []), (l = r[a]) == null || l.push(i)), r;\n      }, {}),\n      allActiveSessions: s,\n      allActivePageViews: n,\n      appIdToActiveSessionMap: Ro(s != null ? s : [], \"appId\"),\n      windowIdToWindowMap: Mo(t, \"id\"),\n      processedActiveSessionCache: new Qn(),\n      processedActivePageViewCache: new Qn()\n    };\n  }\n  findSessionChanges(t, e) {\n    var i, a, o;\n    const s = [], n = [];\n    for (const [d, l] of Object.entries(e.hostnameToTabsMap))\n      if (!!d)\n        try {\n          if (!(l != null && l.length))\n            throw Error(\"This shouldn't be possible\");\n          const h = e.appIdToActiveSessionMap[d], g = !!(h != null && h.length), m = !!l.find((S) => this.isTabActive(S, e));\n          !g && m ? s.push({ appId: d, startedAt: t.timestamp }) : g && !m && n.push(...h), g && e.processedActiveSessionCache.markAsProcessed(h);\n        } catch (h) {\n          (i = this.logger) == null || i.error(\n            `[update-sessions] Failed find sessions to change for ${d}:`,\n            h\n          );\n        }\n    return ((o = (a = e.allActiveSessions) == null ? void 0 : a.filter((d) => !e.processedActiveSessionCache.isProcessed(d))) != null ? o : []).forEach((d) => n.push(d)), {\n      toStart: s,\n      toEnd: n,\n      count: s.length + n.length\n    };\n  }\n  async findPageViewChanges(t, e) {\n    var i;\n    const s = Object.values(e.hostnameToTabsMap).flat().filter((a) => !!a && this.isTabActive(a, e)), n = [], r = [...e.allActivePageViews];\n    for (const a of s) {\n      const o = Jn(a.url);\n      if (o == null)\n        continue;\n      const d = e.allActivePageViews.filter(\n        (l) => l.appId === (o == null ? void 0 : o.hostname) && l.path === o.path\n      );\n      if (d.length > 0)\n        for (const l of d) {\n          const h = r.findIndex(\n            (g) => g.id === l.id\n          );\n          h >= 0 && r.splice(h, 1);\n        }\n      else\n        n.push({\n          appId: o.hostname,\n          path: o.path,\n          startedAt: t.timestamp,\n          referrer: await ((i = this.referrers) == null ? void 0 : i.getReferrerFor(a.id, a.url))\n        });\n    }\n    return {\n      toStart: n,\n      toEnd: r,\n      count: n.length + r.length\n    };\n  }\n  async saveSessionChanges(t, e) {\n    const s = e.toEnd.map((a) => {\n      var d;\n      const o = new Date(t).toLocaleTimeString();\n      return (d = this.logger) == null || d.log(\n        `[change-session] Stop session ${a.appId} @ ${o} (${t - a.startedAt}ms)`\n      ), this.sessionsRepo.endSession(a, t);\n    }), n = e.toStart.map((a) => {\n      var o;\n      return (o = this.logger) == null || o.log(\n        `[change-session] Start session ${a.appId} @ ${new Date(\n          a.startedAt\n        ).toLocaleTimeString()}`,\n        { session: a }\n      ), this.sessionsRepo.startSession(a);\n    }), r = await Promise.allSettled(s), i = await Promise.allSettled(n);\n    this.logSettledErrors(\"sessions\", \"ending\", r), this.logSettledErrors(\"sessions\", \"starting\", i), e.count > 0 && this.invokeSessionUpdatedListeners();\n  }\n  async savePageViewChanges(t, e) {\n    const s = e.toEnd.map((a) => {\n      var d;\n      const o = new Date(t).toLocaleTimeString();\n      return (d = this.logger) == null || d.log(\n        `[change-session] Stop page view ${a.appId}${a.path} @ ${o} (${t - a.startedAt}ms)`\n      ), this.pageViewsRepo.endPageView(a, t);\n    }), n = e.toStart.map((a) => {\n      var o;\n      return (o = this.logger) == null || o.log(\n        `[change-session] Start page view ${a.appId}${a.path} @ ${new Date(\n          a.startedAt\n        ).toLocaleTimeString()}`,\n        { session: a }\n      ), this.pageViewsRepo.startPageView(a);\n    }), r = await Promise.allSettled(s), i = await Promise.allSettled(n);\n    this.logSettledErrors(\"page views\", \"ending\", r), this.logSettledErrors(\"page views\", \"starting\", i), e.count > 0 && this.invokePageViewUpdatedListeners();\n  }\n  logSettledErrors(t, e, s) {\n    var r;\n    const n = s.map((i) => {\n      if (i.status === \"rejected\")\n        return i.reason;\n    }).filter((i) => i != null);\n    n.length > 0 && ((r = this.logger) == null || r.warn(\n      `[update-sessions] ${n.length}/${s.length} transactions failed when ${e} ${t}`,\n      n\n    ));\n  }\n  isTabActive(t, e) {\n    var n;\n    if (t.windowId == null)\n      return (n = this.logger) == null || n.warn(\"[update-sessions] Checking if tab without a windowId is active\"), !1;\n    const s = e.windowIdToWindowMap[t.windowId];\n    return !!s && Do(t, s, this.hasRecentUserActivity, e.isTabActiveWhenPlayingAudio);\n  }\n  async endAllActiveSessions(t) {\n    var s, n, r;\n    const e = await this.sessionsRepo.getActiveSessions();\n    if (e.length === 0) {\n      (s = this.logger) == null || s.log(\"[stop-active-sessions] No active sessions to stop\");\n      return;\n    }\n    (n = this.logger) == null || n.log(\"[stop-active-sessions] Stopping all active sessions:\", {\n      activeSessions: e,\n      timestamp: t\n    }), await this.saveSessionChanges(t, {\n      toStart: [],\n      toEnd: e,\n      count: e.length\n    }), (r = this.logger) == null || r.log(\"[stop-active-sessions] All active sessions stopped!\");\n  }\n  async pingLastAliveAt() {\n    var e;\n    const t = Date.now();\n    (e = this.logger) == null || e.debug(\"[SessionMonitor] Updating last time browser was known to be open\", t), await Vt(Me.LAST_ALIVE_AT_KEY, t), clearTimeout(this.lastAlivePing), this.lastAlivePing = setTimeout(\n      () => this.pingLastAliveAt(),\n      Me.LAST_ALIVE_AT_POLL_INTERVAL_MS\n    );\n  }\n  getLastAliveAt() {\n    return pn(Me.LAST_ALIVE_AT_KEY);\n  }\n  invokeCheckSessionsListeners() {\n    this.checkSessionsListeners.forEach((t) => t());\n  }\n  invokeSessionUpdatedListeners() {\n    this.sessionUpdatedListeners.forEach((t) => t());\n  }\n  invokePageViewUpdatedListeners() {\n    this.pageViewUpdatedListeners.forEach((t) => t());\n  }\n  setHasRecentUserActivity(t) {\n    this.hasRecentUserActivity = t;\n  }\n};\nlet St = Me;\nSt.LAST_ALIVE_AT_KEY = \"last-activity-time-ms\";\nSt.LAST_ALIVE_AT_INTERVAL_MS = fn;\nSt.LAST_ALIVE_AT_POLL_INTERVAL_MS = 30 * Tt;\nSt.ALWAYS_STARTUP_AFTER_MS = 5 * Tt;\nSt.WINDOW_STATE_POLLING_INTERVAL_MS = 5 * Tt;\nfunction Wd(t) {\n  const e = new St(t.db, t);\n  return e.setupTriggers(), { sessionMonitor: e };\n}\nvar er = 1 / 0, Dr = 9007199254740991, gc = 17976931348623157e292, tr = 0 / 0, mc = \"[object Function]\", yc = \"[object GeneratorFunction]\", _c = \"[object Symbol]\", Ac = /^\\s+|\\s+$/g, vc = /^[-+]0x[0-9a-f]+$/i, wc = /^0b[01]+$/i, bc = /^0o[0-7]+$/i, xc = /^(?:0|[1-9]\\d*)$/, Tc = parseInt, Sc = Object.prototype, Pr = Sc.toString, Ec = Math.ceil, Ic = Math.max;\nfunction Nc(t, e, s) {\n  var n = -1, r = t.length;\n  e < 0 && (e = -e > r ? 0 : r + e), s = s > r ? r : s, s < 0 && (s += r), r = e > s ? 0 : s - e >>> 0, e >>>= 0;\n  for (var i = Array(r); ++n < r; )\n    i[n] = t[n + e];\n  return i;\n}\nfunction Oc(t, e) {\n  return e = e == null ? Dr : e, !!e && (typeof t == \"number\" || xc.test(t)) && t > -1 && t % 1 == 0 && t < e;\n}\nfunction kc(t, e, s) {\n  if (!Es(s))\n    return !1;\n  var n = typeof e;\n  return (n == \"number\" ? Cc(s) && Oc(e, s.length) : n == \"string\" && e in s) ? Mc(s[e], t) : !1;\n}\nfunction Rc(t, e, s) {\n  (s ? kc(t, e, s) : e === void 0) ? e = 1 : e = Ic($c(e), 0);\n  var n = t ? t.length : 0;\n  if (!n || e < 1)\n    return [];\n  for (var r = 0, i = 0, a = Array(Ec(n / e)); r < n; )\n    a[i++] = Nc(t, r, r += e);\n  return a;\n}\nfunction Mc(t, e) {\n  return t === e || t !== t && e !== e;\n}\nfunction Cc(t) {\n  return t != null && Dc(t.length) && !Lc(t);\n}\nfunction Lc(t) {\n  var e = Es(t) ? Pr.call(t) : \"\";\n  return e == mc || e == yc;\n}\nfunction Dc(t) {\n  return typeof t == \"number\" && t > -1 && t % 1 == 0 && t <= Dr;\n}\nfunction Es(t) {\n  var e = typeof t;\n  return !!t && (e == \"object\" || e == \"function\");\n}\nfunction Pc(t) {\n  return !!t && typeof t == \"object\";\n}\nfunction jc(t) {\n  return typeof t == \"symbol\" || Pc(t) && Pr.call(t) == _c;\n}\nfunction Vc(t) {\n  if (!t)\n    return t === 0 ? t : 0;\n  if (t = Zc(t), t === er || t === -er) {\n    var e = t < 0 ? -1 : 1;\n    return e * gc;\n  }\n  return t === t ? t : 0;\n}\nfunction $c(t) {\n  var e = Vc(t), s = e % 1;\n  return e === e ? s ? e - s : e : 0;\n}\nfunction Zc(t) {\n  if (typeof t == \"number\")\n    return t;\n  if (jc(t))\n    return tr;\n  if (Es(t)) {\n    var e = typeof t.valueOf == \"function\" ? t.valueOf() : t;\n    t = Es(e) ? e + \"\" : e;\n  }\n  if (typeof t != \"string\")\n    return t === 0 ? t : +t;\n  t = t.replace(Ac, \"\");\n  var s = wc.test(t);\n  return s || bc.test(t) ? Tc(t.slice(2), s ? 2 : 8) : vc.test(t) ? tr : +t;\n}\nvar Uc = Rc;\nconst Bc = 100;\nfunction Wc(t) {\n  const e = t.logger === void 0 ? console : t.logger;\n  async function s() {\n    var d;\n    const [i, a, o] = await Promise.all([\n      t.getAppId(),\n      t.getInstallId(),\n      (d = t.getBirthYear) == null ? void 0 : d.call(t)\n    ]);\n    return {\n      appId: i,\n      installId: a,\n      birthYear: o\n    };\n  }\n  async function n(i, a) {\n    var d, l;\n    let o;\n    try {\n      e == null || e.log(\n        `[${i.label}-uploader] Beginning upload @ ${new Date(\n          a\n        ).toISOString()}`\n      );\n      const [h, g, m] = await Promise.all([\n        i.getLastUploadedAt(),\n        t.db,\n        t.enabled()\n      ]);\n      if (!m) {\n        e == null || e.log(`[${i.label}-uploader] Uploads are disabled`);\n        return;\n      }\n      const S = await i.getModelsToUpload({\n        db: g,\n        lastUploadedAt: h,\n        uploadStartedAt: a\n      }), $ = (l = await ((d = t.getUploadBatchSize) == null ? void 0 : d.call(t))) != null ? l : Bc, _ = Uc(S, $), P = await s();\n      o = {\n        models: S,\n        batches: _,\n        body: P\n      }, e == null || e.debug(`[${i.label}-uploader] Data`, o);\n      for (const j of _) {\n        e == null || e.debug(`[${i.label}-uploader] Uploading`, {\n          batch: j,\n          requestSkipped: !!t.dev\n        }), t.dev || await i.upload(P, j);\n        const pe = j[j.length - 1];\n        (pe == null ? void 0 : pe.endedAt) != null && await i.setLastUploadedAt(pe.endedAt);\n      }\n      await i.setLastUploadedAt(a);\n      const C = (Date.now() - a) / 1e3;\n      e == null || e.log(\n        `[${i.label}-uploader] Uploaded ${S.length} items in ${_.length} batches in ${C}s`\n      ), i.onSuccess({\n        total: S.length,\n        batches: _.length,\n        batchSize: $,\n        durationInSec: C\n      });\n    } catch (h) {\n      e == null || e.error(`[${i.label}-uploader] Failed to upload`, h, o), i.onFailure(h);\n    }\n  }\n  async function r() {\n    const i = Date.now();\n    await Promise.allSettled(t.uploaders.map((a) => n(a, i)));\n  }\n  return {\n    uploadAll: r\n  };\n}\nfunction zc({\n  api: t,\n  onSuccess: e,\n  onFailure: s,\n  lastUploadedAtStorageKey: n\n}) {\n  return {\n    label: \"sessions\",\n    onSuccess: e,\n    onFailure: s,\n    async getLastUploadedAt() {\n      const r = await pn(n);\n      return r != null ? r : 1;\n    },\n    setLastUploadedAt(r) {\n      return Vt(n, r);\n    },\n    async getModelsToUpload({ db: r, lastUploadedAt: i, uploadStartedAt: a }) {\n      return (await r.sessionsRepo.findSessionsByEndedAt(i, a)).filter((d) => !d.imported);\n    },\n    async upload(r, i) {\n      const a = i.reduce((o, d) => {\n        var h, g;\n        if (d.endedAt == null)\n          throw Error(\"Cannot upload a session that is in progress\");\n        const l = {\n          duration: Ss(d.endedAt - d.startedAt),\n          timestamp: Ss(d.startedAt)\n        };\n        return l.duration > 0 && ((g = o[h = d.appId]) != null || (o[h] = { sessions: [] }), o[d.appId].sessions.push(l)), o;\n      }, {});\n      await t.uploadSessions({ ...r, websites: a });\n    }\n  };\n}\nvar Fc = jr;\nfunction jr(t, e, s) {\n  t instanceof RegExp && (t = sr(t, s)), e instanceof RegExp && (e = sr(e, s));\n  var n = Vr(t, e, s);\n  return n && {\n    start: n[0],\n    end: n[1],\n    pre: s.slice(0, n[0]),\n    body: s.slice(n[0] + t.length, n[1]),\n    post: s.slice(n[1] + e.length)\n  };\n}\nfunction sr(t, e) {\n  var s = e.match(t);\n  return s ? s[0] : null;\n}\njr.range = Vr;\nfunction Vr(t, e, s) {\n  var n, r, i, a, o, d = s.indexOf(t), l = s.indexOf(e, d + 1), h = d;\n  if (d >= 0 && l > 0) {\n    if (t === e)\n      return [d, l];\n    for (n = [], i = s.length; h >= 0 && !o; )\n      h == d ? (n.push(h), d = s.indexOf(t, h + 1)) : n.length == 1 ? o = [n.pop(), l] : (r = n.pop(), r < i && (i = r, a = l), l = s.indexOf(e, h + 1)), h = d < l && d >= 0 ? d : l;\n    n.length && (o = [i, a]);\n  }\n  return o;\n}\nvar $r = Fc, Hc = Xc, Zr = \"\\0SLASH\" + Math.random() + \"\\0\", Ur = \"\\0OPEN\" + Math.random() + \"\\0\", yn = \"\\0CLOSE\" + Math.random() + \"\\0\", Br = \"\\0COMMA\" + Math.random() + \"\\0\", Wr = \"\\0PERIOD\" + Math.random() + \"\\0\";\nfunction Xs(t) {\n  return parseInt(t, 10) == t ? parseInt(t, 10) : t.charCodeAt(0);\n}\nfunction qc(t) {\n  return t.split(\"\\\\\\\\\").join(Zr).split(\"\\\\{\").join(Ur).split(\"\\\\}\").join(yn).split(\"\\\\,\").join(Br).split(\"\\\\.\").join(Wr);\n}\nfunction Gc(t) {\n  return t.split(Zr).join(\"\\\\\").split(Ur).join(\"{\").split(yn).join(\"}\").split(Br).join(\",\").split(Wr).join(\".\");\n}\nfunction zr(t) {\n  if (!t)\n    return [\"\"];\n  var e = [], s = $r(\"{\", \"}\", t);\n  if (!s)\n    return t.split(\",\");\n  var n = s.pre, r = s.body, i = s.post, a = n.split(\",\");\n  a[a.length - 1] += \"{\" + r + \"}\";\n  var o = zr(i);\n  return i.length && (a[a.length - 1] += o.shift(), a.push.apply(a, o)), e.push.apply(e, a), e;\n}\nfunction Xc(t) {\n  return t ? (t.substr(0, 2) === \"{}\" && (t = \"\\\\{\\\\}\" + t.substr(2)), Lt(qc(t), !0).map(Gc)) : [];\n}\nfunction Kc(t) {\n  return \"{\" + t + \"}\";\n}\nfunction Yc(t) {\n  return /^-?0\\d/.test(t);\n}\nfunction Jc(t, e) {\n  return t <= e;\n}\nfunction Qc(t, e) {\n  return t >= e;\n}\nfunction Lt(t, e) {\n  var s = [], n = $r(\"{\", \"}\", t);\n  if (!n)\n    return [t];\n  var r = n.pre, i = n.post.length ? Lt(n.post, !1) : [\"\"];\n  if (/\\$$/.test(n.pre))\n    for (var a = 0; a < i.length; a++) {\n      var o = r + \"{\" + n.body + \"}\" + i[a];\n      s.push(o);\n    }\n  else {\n    var d = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(n.body), l = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(n.body), h = d || l, g = n.body.indexOf(\",\") >= 0;\n    if (!h && !g)\n      return n.post.match(/,.*\\}/) ? (t = n.pre + \"{\" + n.body + yn + n.post, Lt(t)) : [t];\n    var m;\n    if (h)\n      m = n.body.split(/\\.\\./);\n    else if (m = zr(n.body), m.length === 1 && (m = Lt(m[0], !1).map(Kc), m.length === 1))\n      return i.map(function(O) {\n        return n.pre + m[0] + O;\n      });\n    var S;\n    if (h) {\n      var $ = Xs(m[0]), _ = Xs(m[1]), P = Math.max(m[0].length, m[1].length), C = m.length == 3 ? Math.abs(Xs(m[2])) : 1, j = Jc, pe = _ < $;\n      pe && (C *= -1, j = Qc);\n      var Et = m.some(Yc);\n      S = [];\n      for (var Ie = $; j(Ie, _); Ie += C) {\n        var ne;\n        if (l)\n          ne = String.fromCharCode(Ie), ne === \"\\\\\" && (ne = \"\");\n        else if (ne = String(Ie), Et) {\n          var Pe = P - ne.length;\n          if (Pe > 0) {\n            var x = new Array(Pe + 1).join(\"0\");\n            Ie < 0 ? ne = \"-\" + x + ne.slice(1) : ne = x + ne;\n          }\n        }\n        S.push(ne);\n      }\n    } else {\n      S = [];\n      for (var b = 0; b < m.length; b++)\n        S.push.apply(S, Lt(m[b], !1));\n    }\n    for (var b = 0; b < S.length; b++)\n      for (var a = 0; a < i.length; a++) {\n        var o = r + S[b] + i[a];\n        (!e || h || o) && s.push(o);\n      }\n  }\n  return s;\n}\nconst ed = 1024 * 64, Is = (t) => {\n  if (typeof t != \"string\")\n    throw new TypeError(\"invalid pattern\");\n  if (t.length > ed)\n    throw new TypeError(\"pattern is too long\");\n}, td = {\n  \"[:alnum:]\": [\"\\\\p{L}\\\\p{Nl}\\\\p{Nd}\", !0],\n  \"[:alpha:]\": [\"\\\\p{L}\\\\p{Nl}\", !0],\n  \"[:ascii:]\": [\"\\\\x00-\\\\x7f\", !1],\n  \"[:blank:]\": [\"\\\\p{Zs}\\\\t\", !0],\n  \"[:cntrl:]\": [\"\\\\p{Cc}\", !0],\n  \"[:digit:]\": [\"\\\\p{Nd}\", !0],\n  \"[:graph:]\": [\"\\\\p{Z}\\\\p{C}\", !0, !0],\n  \"[:lower:]\": [\"\\\\p{Ll}\", !0],\n  \"[:print:]\": [\"\\\\p{C}\", !0],\n  \"[:punct:]\": [\"\\\\p{P}\", !0],\n  \"[:space:]\": [\"\\\\p{Z}\\\\t\\\\r\\\\n\\\\v\\\\f\", !0],\n  \"[:upper:]\": [\"\\\\p{Lu}\", !0],\n  \"[:word:]\": [\"\\\\p{L}\\\\p{Nl}\\\\p{Nd}\\\\p{Pc}\", !0],\n  \"[:xdigit:]\": [\"A-Fa-f0-9\", !1]\n}, Mt = (t) => t.replace(/[[\\]\\\\-]/g, \"\\\\$&\"), sd = (t) => t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), nr = (t) => t.join(\"\"), nd = (t, e) => {\n  const s = e;\n  if (t.charAt(s) !== \"[\")\n    throw new Error(\"not in a brace expression\");\n  const n = [], r = [];\n  let i = s + 1, a = !1, o = !1, d = !1, l = !1, h = s, g = \"\";\n  e:\n    for (; i < t.length; ) {\n      const _ = t.charAt(i);\n      if ((_ === \"!\" || _ === \"^\") && i === s + 1) {\n        l = !0, i++;\n        continue;\n      }\n      if (_ === \"]\" && a && !d) {\n        h = i + 1;\n        break;\n      }\n      if (a = !0, _ === \"\\\\\" && !d) {\n        d = !0, i++;\n        continue;\n      }\n      if (_ === \"[\" && !d) {\n        for (const [P, [C, j, pe]] of Object.entries(td))\n          if (t.startsWith(P, i)) {\n            if (g)\n              return [\"$.\", !1, t.length - s, !0];\n            i += P.length, pe ? r.push(C) : n.push(C), o = o || j;\n            continue e;\n          }\n      }\n      if (d = !1, g) {\n        _ > g ? n.push(Mt(g) + \"-\" + Mt(_)) : _ === g && n.push(Mt(_)), g = \"\", i++;\n        continue;\n      }\n      if (t.startsWith(\"-]\", i + 1)) {\n        n.push(Mt(_ + \"-\")), i += 2;\n        continue;\n      }\n      if (t.startsWith(\"-\", i + 1)) {\n        g = _, i += 2;\n        continue;\n      }\n      n.push(Mt(_)), i++;\n    }\n  if (h < i)\n    return [\"\", !1, 0, !1];\n  if (!n.length && !r.length)\n    return [\"$.\", !1, t.length - s, !0];\n  if (r.length === 0 && n.length === 1 && /^\\\\?.$/.test(n[0]) && !l) {\n    const _ = n[0].length === 2 ? n[0].slice(-1) : n[0];\n    return [sd(_), !1, h - s, !1];\n  }\n  const m = \"[\" + (l ? \"^\" : \"\") + nr(n) + \"]\", S = \"[\" + (l ? \"\" : \"^\") + nr(r) + \"]\";\n  return [n.length && r.length ? \"(\" + m + \"|\" + S + \")\" : n.length ? m : S, o, h - s, !0];\n}, Dt = (t, { windowsPathsNoEscape: e = !1 } = {}) => e ? t.replace(/\\[([^\\/\\\\])\\]/g, \"$1\") : t.replace(/((?!\\\\).|^)\\[([^\\/\\\\])\\]/g, \"$1$2\").replace(/\\\\([^\\/])/g, \"$1\"), rd = /* @__PURE__ */ new Set([\"!\", \"?\", \"+\", \"*\", \"@\"]), rr = (t) => rd.has(t), id = \"(?!\\\\.\\\\.?(?:$|/))\", Ks = \"(?!\\\\.)\", ad = /* @__PURE__ */ new Set([\"[\", \".\"]), od = /* @__PURE__ */ new Set([\"..\", \".\"]), cd = new Set(\"().*{}+?[]^$\\\\!\"), dd = (t) => t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), _n = \"[^/]\", ir = _n + \"*?\", ar = _n + \"+?\";\nvar ee, se, Ue, B, Y, Ye, ct, Je, Te, dt, Jt, Ns, Fr, vt, fs, Os, Hr;\nconst ye = class {\n  constructor(e, s, n = {}) {\n    he(this, Ns);\n    Q(this, \"type\");\n    he(this, ee, void 0);\n    he(this, se, void 0);\n    he(this, Ue, !1);\n    he(this, B, []);\n    he(this, Y, void 0);\n    he(this, Ye, void 0);\n    he(this, ct, void 0);\n    he(this, Je, !1);\n    he(this, Te, void 0);\n    he(this, dt, void 0);\n    he(this, Jt, !1);\n    this.type = e, e && G(this, se, !0), G(this, Y, s), G(this, ee, p(this, Y) ? p(p(this, Y), ee) : this), G(this, Te, p(this, ee) === this ? n : p(p(this, ee), Te)), G(this, ct, p(this, ee) === this ? [] : p(p(this, ee), ct)), e === \"!\" && !p(p(this, ee), Je) && p(this, ct).push(this), G(this, Ye, p(this, Y) ? p(p(this, Y), B).length : 0);\n  }\n  get hasMagic() {\n    if (p(this, se) !== void 0)\n      return p(this, se);\n    for (const e of p(this, B))\n      if (typeof e != \"string\" && (e.type || e.hasMagic))\n        return G(this, se, !0);\n    return p(this, se);\n  }\n  toString() {\n    return p(this, dt) !== void 0 ? p(this, dt) : this.type ? G(this, dt, this.type + \"(\" + p(this, B).map((e) => String(e)).join(\"|\") + \")\") : G(this, dt, p(this, B).map((e) => String(e)).join(\"\"));\n  }\n  push(...e) {\n    for (const s of e)\n      if (s !== \"\") {\n        if (typeof s != \"string\" && !(s instanceof ye && p(s, Y) === this))\n          throw new Error(\"invalid part: \" + s);\n        p(this, B).push(s);\n      }\n  }\n  toJSON() {\n    var s;\n    const e = this.type === null ? p(this, B).slice().map((n) => typeof n == \"string\" ? n : n.toJSON()) : [this.type, ...p(this, B).map((n) => n.toJSON())];\n    return this.isStart() && !this.type && e.unshift([]), this.isEnd() && (this === p(this, ee) || p(p(this, ee), Je) && ((s = p(this, Y)) == null ? void 0 : s.type) === \"!\") && e.push({}), e;\n  }\n  isStart() {\n    var s;\n    if (p(this, ee) === this)\n      return !0;\n    if (!((s = p(this, Y)) != null && s.isStart()))\n      return !1;\n    if (p(this, Ye) === 0)\n      return !0;\n    const e = p(this, Y);\n    for (let n = 0; n < p(this, Ye); n++) {\n      const r = p(e, B)[n];\n      if (!(r instanceof ye && r.type === \"!\"))\n        return !1;\n    }\n    return !0;\n  }\n  isEnd() {\n    var s, n, r;\n    if (p(this, ee) === this || ((s = p(this, Y)) == null ? void 0 : s.type) === \"!\")\n      return !0;\n    if (!((n = p(this, Y)) != null && n.isEnd()))\n      return !1;\n    if (!this.type)\n      return (r = p(this, Y)) == null ? void 0 : r.isEnd();\n    const e = p(this, Y) ? p(p(this, Y), B).length : 0;\n    return p(this, Ye) === e - 1;\n  }\n  copyIn(e) {\n    typeof e == \"string\" ? this.push(e) : this.push(e.clone(this));\n  }\n  clone(e) {\n    const s = new ye(this.type, e);\n    for (const n of p(this, B))\n      s.copyIn(n);\n    return s;\n  }\n  static fromGlob(e, s = {}) {\n    var r;\n    const n = new ye(null, void 0, s);\n    return gt(r = ye, vt, fs).call(r, e, n, 0, s), n;\n  }\n  toMMPattern() {\n    if (this !== p(this, ee))\n      return p(this, ee).toMMPattern();\n    const e = this.toString(), [s, n, r, i] = this.toRegExpSource();\n    if (!(r || p(this, se) || p(this, Te).nocase && !p(this, Te).nocaseMagicOnly && e.toUpperCase() !== e.toLowerCase()))\n      return n;\n    const o = (p(this, Te).nocase ? \"i\" : \"\") + (i ? \"u\" : \"\");\n    return Object.assign(new RegExp(`^${s}$`, o), {\n      _src: s,\n      _glob: e\n    });\n  }\n  toRegExpSource() {\n    var r;\n    if (p(this, ee) === this && gt(this, Ns, Fr).call(this), !this.type) {\n      const i = this.isStart() && this.isEnd(), a = p(this, B).map((h) => {\n        var _;\n        const [g, m, S, $] = typeof h == \"string\" ? gt(_ = ye, Os, Hr).call(_, h, p(this, se), i) : h.toRegExpSource();\n        return G(this, se, p(this, se) || S), G(this, Ue, p(this, Ue) || $), g;\n      }).join(\"\");\n      let o = \"\";\n      if (this.isStart() && typeof p(this, B)[0] == \"string\" && !(p(this, B).length === 1 && od.has(p(this, B)[0]))) {\n        const g = ad, m = p(this, Te).dot && g.has(a.charAt(0)) || a.startsWith(\"\\\\.\") && g.has(a.charAt(2)) || a.startsWith(\"\\\\.\\\\.\") && g.has(a.charAt(4)), S = !p(this, Te).dot && g.has(a.charAt(0));\n        o = m ? id : S ? Ks : \"\";\n      }\n      let d = \"\";\n      return this.isEnd() && p(p(this, ee), Je) && ((r = p(this, Y)) == null ? void 0 : r.type) === \"!\" && (d = \"(?:$|\\\\/)\"), [\n        o + a + d,\n        Dt(a),\n        G(this, se, !!p(this, se)),\n        p(this, Ue)\n      ];\n    }\n    const e = this.type === \"!\" ? \"(?:(?!(?:\" : \"(?:\", s = p(this, B).map((i) => {\n      if (typeof i == \"string\")\n        throw new Error(\"string type in extglob ast??\");\n      const [a, o, d, l] = i.toRegExpSource();\n      return G(this, Ue, p(this, Ue) || l), a;\n    }).filter((i) => !(this.isStart() && this.isEnd()) || !!i).join(\"|\");\n    if (this.isStart() && this.isEnd() && !s && this.type !== \"!\") {\n      const i = this.toString();\n      return G(this, B, [i]), this.type = null, G(this, se, void 0), [i, Dt(this.toString()), !1, !1];\n    }\n    let n = \"\";\n    if (this.type === \"!\" && p(this, Jt))\n      n = (this.isStart() && !p(this, Te).dot ? Ks : \"\") + ar;\n    else {\n      const i = this.type === \"!\" ? \"))\" + (this.isStart() && !p(this, Te).dot ? Ks : \"\") + ir + \")\" : this.type === \"@\" ? \")\" : `)${this.type}`;\n      n = e + s + i;\n    }\n    return [\n      n,\n      Dt(s),\n      G(this, se, !!p(this, se)),\n      p(this, Ue)\n    ];\n  }\n};\nlet _t = ye;\nee = new WeakMap(), se = new WeakMap(), Ue = new WeakMap(), B = new WeakMap(), Y = new WeakMap(), Ye = new WeakMap(), ct = new WeakMap(), Je = new WeakMap(), Te = new WeakMap(), dt = new WeakMap(), Jt = new WeakMap(), Ns = new WeakSet(), Fr = function() {\n  if (this !== p(this, ee))\n    throw new Error(\"should only call on root\");\n  if (p(this, Je))\n    return this;\n  this.toString(), G(this, Je, !0);\n  let e;\n  for (; e = p(this, ct).pop(); ) {\n    if (e.type !== \"!\")\n      continue;\n    let s = e, n = p(s, Y);\n    for (; n; ) {\n      for (let r = p(s, Ye) + 1; !n.type && r < p(n, B).length; r++)\n        for (const i of p(e, B)) {\n          if (typeof i == \"string\")\n            throw new Error(\"string part in extglob AST??\");\n          i.copyIn(p(n, B)[r]);\n        }\n      s = n, n = p(s, Y);\n    }\n  }\n  return this;\n}, vt = new WeakSet(), fs = function(e, s, n, r) {\n  var S, $;\n  let i = !1, a = !1, o = -1, d = !1;\n  if (s.type === null) {\n    let _ = n, P = \"\";\n    for (; _ < e.length; ) {\n      const C = e.charAt(_++);\n      if (i || C === \"\\\\\") {\n        i = !i, P += C;\n        continue;\n      }\n      if (a) {\n        _ === o + 1 ? (C === \"^\" || C === \"!\") && (d = !0) : C === \"]\" && !(_ === o + 2 && d) && (a = !1), P += C;\n        continue;\n      } else if (C === \"[\") {\n        a = !0, o = _, d = !1, P += C;\n        continue;\n      }\n      if (!r.noext && rr(C) && e.charAt(_) === \"(\") {\n        s.push(P), P = \"\";\n        const j = new ye(C, s);\n        _ = gt(S = ye, vt, fs).call(S, e, j, _, r), s.push(j);\n        continue;\n      }\n      P += C;\n    }\n    return s.push(P), _;\n  }\n  let l = n + 1, h = new ye(null, s);\n  const g = [];\n  let m = \"\";\n  for (; l < e.length; ) {\n    const _ = e.charAt(l++);\n    if (i || _ === \"\\\\\") {\n      i = !i, m += _;\n      continue;\n    }\n    if (a) {\n      l === o + 1 ? (_ === \"^\" || _ === \"!\") && (d = !0) : _ === \"]\" && !(l === o + 2 && d) && (a = !1), m += _;\n      continue;\n    } else if (_ === \"[\") {\n      a = !0, o = l, d = !1, m += _;\n      continue;\n    }\n    if (rr(_) && e.charAt(l) === \"(\") {\n      h.push(m), m = \"\";\n      const P = new ye(_, h);\n      h.push(P), l = gt($ = ye, vt, fs).call($, e, P, l, r);\n      continue;\n    }\n    if (_ === \"|\") {\n      h.push(m), m = \"\", g.push(h), h = new ye(null, s);\n      continue;\n    }\n    if (_ === \")\")\n      return m === \"\" && p(s, B).length === 0 && G(s, Jt, !0), h.push(m), m = \"\", s.push(...g, h), l;\n    m += _;\n  }\n  return s.type = null, G(s, se, void 0), G(s, B, [e.substring(n - 1)]), l;\n}, Os = new WeakSet(), Hr = function(e, s, n = !1) {\n  let r = !1, i = \"\", a = !1;\n  for (let o = 0; o < e.length; o++) {\n    const d = e.charAt(o);\n    if (r) {\n      r = !1, i += (cd.has(d) ? \"\\\\\" : \"\") + d;\n      continue;\n    }\n    if (d === \"\\\\\") {\n      o === e.length - 1 ? i += \"\\\\\\\\\" : r = !0;\n      continue;\n    }\n    if (d === \"[\") {\n      const [l, h, g, m] = nd(e, o);\n      if (g) {\n        i += l, a = a || h, o += g - 1, s = s || m;\n        continue;\n      }\n    }\n    if (d === \"*\") {\n      n && e === \"*\" ? i += ar : i += ir, s = !0;\n      continue;\n    }\n    if (d === \"?\") {\n      i += _n, s = !0;\n      continue;\n    }\n    i += dd(d);\n  }\n  return [i, Dt(e), !!s, a];\n}, he(_t, vt), he(_t, Os);\nconst ld = (t, { windowsPathsNoEscape: e = !1 } = {}) => e ? t.replace(/[?*()[\\]]/g, \"[$&]\") : t.replace(/[?*()[\\]\\\\]/g, \"\\\\$&\"), le = (t, e, s = {}) => (Is(e), !s.nocomment && e.charAt(0) === \"#\" ? !1 : new Cs(e, s).match(t)), ud = /^\\*+([^+@!?\\*\\[\\(]*)$/, hd = (t) => (e) => !e.startsWith(\".\") && e.endsWith(t), fd = (t) => (e) => e.endsWith(t), pd = (t) => (t = t.toLowerCase(), (e) => !e.startsWith(\".\") && e.toLowerCase().endsWith(t)), gd = (t) => (t = t.toLowerCase(), (e) => e.toLowerCase().endsWith(t)), md = /^\\*+\\.\\*+$/, yd = (t) => !t.startsWith(\".\") && t.includes(\".\"), _d = (t) => t !== \".\" && t !== \"..\" && t.includes(\".\"), Ad = /^\\.\\*+$/, vd = (t) => t !== \".\" && t !== \"..\" && t.startsWith(\".\"), wd = /^\\*+$/, bd = (t) => t.length !== 0 && !t.startsWith(\".\"), xd = (t) => t.length !== 0 && t !== \".\" && t !== \"..\", Td = /^\\?+([^+@!?\\*\\[\\(]*)?$/, Sd = ([t, e = \"\"]) => {\n  const s = qr([t]);\n  return e ? (e = e.toLowerCase(), (n) => s(n) && n.toLowerCase().endsWith(e)) : s;\n}, Ed = ([t, e = \"\"]) => {\n  const s = Gr([t]);\n  return e ? (e = e.toLowerCase(), (n) => s(n) && n.toLowerCase().endsWith(e)) : s;\n}, Id = ([t, e = \"\"]) => {\n  const s = Gr([t]);\n  return e ? (n) => s(n) && n.endsWith(e) : s;\n}, Nd = ([t, e = \"\"]) => {\n  const s = qr([t]);\n  return e ? (n) => s(n) && n.endsWith(e) : s;\n}, qr = ([t]) => {\n  const e = t.length;\n  return (s) => s.length === e && !s.startsWith(\".\");\n}, Gr = ([t]) => {\n  const e = t.length;\n  return (s) => s.length === e && s !== \".\" && s !== \"..\";\n}, Xr = typeof process == \"object\" && process ? typeof process.env == \"object\" && process.env && process.env.__MINIMATCH_TESTING_PLATFORM__ || process.platform : \"posix\", or = {\n  win32: { sep: \"\\\\\" },\n  posix: { sep: \"/\" }\n}, Od = Xr === \"win32\" ? or.win32.sep : or.posix.sep;\nle.sep = Od;\nconst xe = Symbol(\"globstar **\");\nle.GLOBSTAR = xe;\nconst kd = \"[^/]\", Rd = kd + \"*?\", Md = \"(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?\", Cd = \"(?:(?!(?:\\\\/|^)\\\\.).)*?\", Ld = (t, e = {}) => (s) => le(s, t, e);\nle.filter = Ld;\nconst be = (t, e = {}) => Object.assign({}, t, e), Dd = (t) => {\n  if (!t || typeof t != \"object\" || !Object.keys(t).length)\n    return le;\n  const e = le;\n  return Object.assign((n, r, i = {}) => e(n, r, be(t, i)), {\n    Minimatch: class extends e.Minimatch {\n      constructor(r, i = {}) {\n        super(r, be(t, i));\n      }\n      static defaults(r) {\n        return e.defaults(be(t, r)).Minimatch;\n      }\n    },\n    AST: class extends e.AST {\n      constructor(r, i, a = {}) {\n        super(r, i, be(t, a));\n      }\n      static fromGlob(r, i = {}) {\n        return e.AST.fromGlob(r, be(t, i));\n      }\n    },\n    unescape: (n, r = {}) => e.unescape(n, be(t, r)),\n    escape: (n, r = {}) => e.escape(n, be(t, r)),\n    filter: (n, r = {}) => e.filter(n, be(t, r)),\n    defaults: (n) => e.defaults(be(t, n)),\n    makeRe: (n, r = {}) => e.makeRe(n, be(t, r)),\n    braceExpand: (n, r = {}) => e.braceExpand(n, be(t, r)),\n    match: (n, r, i = {}) => e.match(n, r, be(t, i)),\n    sep: e.sep,\n    GLOBSTAR: xe\n  });\n};\nle.defaults = Dd;\nconst Kr = (t, e = {}) => (Is(t), e.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(t) ? [t] : Hc(t));\nle.braceExpand = Kr;\nconst Pd = (t, e = {}) => new Cs(t, e).makeRe();\nle.makeRe = Pd;\nconst jd = (t, e, s = {}) => {\n  const n = new Cs(e, s);\n  return t = t.filter((r) => n.match(r)), n.options.nonull && !t.length && t.push(e), t;\n};\nle.match = jd;\nconst cr = /[?*]|[+@!]\\(.*?\\)|\\[|\\]/, Vd = (t) => t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\nclass Cs {\n  constructor(e, s = {}) {\n    Q(this, \"options\");\n    Q(this, \"set\");\n    Q(this, \"pattern\");\n    Q(this, \"windowsPathsNoEscape\");\n    Q(this, \"nonegate\");\n    Q(this, \"negate\");\n    Q(this, \"comment\");\n    Q(this, \"empty\");\n    Q(this, \"preserveMultipleSlashes\");\n    Q(this, \"partial\");\n    Q(this, \"globSet\");\n    Q(this, \"globParts\");\n    Q(this, \"nocase\");\n    Q(this, \"isWindows\");\n    Q(this, \"platform\");\n    Q(this, \"windowsNoMagicRoot\");\n    Q(this, \"regexp\");\n    Is(e), s = s || {}, this.options = s, this.pattern = e, this.platform = s.platform || Xr, this.isWindows = this.platform === \"win32\", this.windowsPathsNoEscape = !!s.windowsPathsNoEscape || s.allowWindowsEscape === !1, this.windowsPathsNoEscape && (this.pattern = this.pattern.replace(/\\\\/g, \"/\")), this.preserveMultipleSlashes = !!s.preserveMultipleSlashes, this.regexp = null, this.negate = !1, this.nonegate = !!s.nonegate, this.comment = !1, this.empty = !1, this.partial = !!s.partial, this.nocase = !!this.options.nocase, this.windowsNoMagicRoot = s.windowsNoMagicRoot !== void 0 ? s.windowsNoMagicRoot : !!(this.isWindows && this.nocase), this.globSet = [], this.globParts = [], this.set = [], this.make();\n  }\n  hasMagic() {\n    if (this.options.magicalBraces && this.set.length > 1)\n      return !0;\n    for (const e of this.set)\n      for (const s of e)\n        if (typeof s != \"string\")\n          return !0;\n    return !1;\n  }\n  debug(...e) {\n  }\n  make() {\n    const e = this.pattern, s = this.options;\n    if (!s.nocomment && e.charAt(0) === \"#\") {\n      this.comment = !0;\n      return;\n    }\n    if (!e) {\n      this.empty = !0;\n      return;\n    }\n    this.parseNegate(), this.globSet = [...new Set(this.braceExpand())], s.debug && (this.debug = (...i) => console.error(...i)), this.debug(this.pattern, this.globSet);\n    const n = this.globSet.map((i) => this.slashSplit(i));\n    this.globParts = this.preprocess(n), this.debug(this.pattern, this.globParts);\n    let r = this.globParts.map((i, a, o) => {\n      if (this.isWindows && this.windowsNoMagicRoot) {\n        const d = i[0] === \"\" && i[1] === \"\" && (i[2] === \"?\" || !cr.test(i[2])) && !cr.test(i[3]), l = /^[a-z]:/i.test(i[0]);\n        if (d)\n          return [...i.slice(0, 4), ...i.slice(4).map((h) => this.parse(h))];\n        if (l)\n          return [i[0], ...i.slice(1).map((h) => this.parse(h))];\n      }\n      return i.map((d) => this.parse(d));\n    });\n    if (this.debug(this.pattern, r), this.set = r.filter((i) => i.indexOf(!1) === -1), this.isWindows)\n      for (let i = 0; i < this.set.length; i++) {\n        const a = this.set[i];\n        a[0] === \"\" && a[1] === \"\" && this.globParts[i][2] === \"?\" && typeof a[3] == \"string\" && /^[a-z]:$/i.test(a[3]) && (a[2] = \"?\");\n      }\n    this.debug(this.pattern, this.set);\n  }\n  preprocess(e) {\n    if (this.options.noglobstar)\n      for (let n = 0; n < e.length; n++)\n        for (let r = 0; r < e[n].length; r++)\n          e[n][r] === \"**\" && (e[n][r] = \"*\");\n    const { optimizationLevel: s = 1 } = this.options;\n    return s >= 2 ? (e = this.firstPhasePreProcess(e), e = this.secondPhasePreProcess(e)) : s >= 1 ? e = this.levelOneOptimize(e) : e = this.adjascentGlobstarOptimize(e), e;\n  }\n  adjascentGlobstarOptimize(e) {\n    return e.map((s) => {\n      let n = -1;\n      for (; (n = s.indexOf(\"**\", n + 1)) !== -1; ) {\n        let r = n;\n        for (; s[r + 1] === \"**\"; )\n          r++;\n        r !== n && s.splice(n, r - n);\n      }\n      return s;\n    });\n  }\n  levelOneOptimize(e) {\n    return e.map((s) => (s = s.reduce((n, r) => {\n      const i = n[n.length - 1];\n      return r === \"**\" && i === \"**\" ? n : r === \"..\" && i && i !== \"..\" && i !== \".\" && i !== \"**\" ? (n.pop(), n) : (n.push(r), n);\n    }, []), s.length === 0 ? [\"\"] : s));\n  }\n  levelTwoFileOptimize(e) {\n    Array.isArray(e) || (e = this.slashSplit(e));\n    let s = !1;\n    do {\n      if (s = !1, !this.preserveMultipleSlashes) {\n        for (let r = 1; r < e.length - 1; r++) {\n          const i = e[r];\n          r === 1 && i === \"\" && e[0] === \"\" || (i === \".\" || i === \"\") && (s = !0, e.splice(r, 1), r--);\n        }\n        e[0] === \".\" && e.length === 2 && (e[1] === \".\" || e[1] === \"\") && (s = !0, e.pop());\n      }\n      let n = 0;\n      for (; (n = e.indexOf(\"..\", n + 1)) !== -1; ) {\n        const r = e[n - 1];\n        r && r !== \".\" && r !== \"..\" && r !== \"**\" && (s = !0, e.splice(n - 1, 2), n -= 2);\n      }\n    } while (s);\n    return e.length === 0 ? [\"\"] : e;\n  }\n  firstPhasePreProcess(e) {\n    let s = !1;\n    do {\n      s = !1;\n      for (let n of e) {\n        let r = -1;\n        for (; (r = n.indexOf(\"**\", r + 1)) !== -1; ) {\n          let a = r;\n          for (; n[a + 1] === \"**\"; )\n            a++;\n          a > r && n.splice(r + 1, a - r);\n          let o = n[r + 1];\n          const d = n[r + 2], l = n[r + 3];\n          if (o !== \"..\" || !d || d === \".\" || d === \"..\" || !l || l === \".\" || l === \"..\")\n            continue;\n          s = !0, n.splice(r, 1);\n          const h = n.slice(0);\n          h[r] = \"**\", e.push(h), r--;\n        }\n        if (!this.preserveMultipleSlashes) {\n          for (let a = 1; a < n.length - 1; a++) {\n            const o = n[a];\n            a === 1 && o === \"\" && n[0] === \"\" || (o === \".\" || o === \"\") && (s = !0, n.splice(a, 1), a--);\n          }\n          n[0] === \".\" && n.length === 2 && (n[1] === \".\" || n[1] === \"\") && (s = !0, n.pop());\n        }\n        let i = 0;\n        for (; (i = n.indexOf(\"..\", i + 1)) !== -1; ) {\n          const a = n[i - 1];\n          if (a && a !== \".\" && a !== \"..\" && a !== \"**\") {\n            s = !0;\n            const d = i === 1 && n[i + 1] === \"**\" ? [\".\"] : [];\n            n.splice(i - 1, 2, ...d), n.length === 0 && n.push(\"\"), i -= 2;\n          }\n        }\n      }\n    } while (s);\n    return e;\n  }\n  secondPhasePreProcess(e) {\n    for (let s = 0; s < e.length - 1; s++)\n      for (let n = s + 1; n < e.length; n++) {\n        const r = this.partsMatch(e[s], e[n], !this.preserveMultipleSlashes);\n        !r || (e[s] = r, e[n] = []);\n      }\n    return e.filter((s) => s.length);\n  }\n  partsMatch(e, s, n = !1) {\n    let r = 0, i = 0, a = [], o = \"\";\n    for (; r < e.length && i < s.length; )\n      if (e[r] === s[i])\n        a.push(o === \"b\" ? s[i] : e[r]), r++, i++;\n      else if (n && e[r] === \"**\" && s[i] === e[r + 1])\n        a.push(e[r]), r++;\n      else if (n && s[i] === \"**\" && e[r] === s[i + 1])\n        a.push(s[i]), i++;\n      else if (e[r] === \"*\" && s[i] && (this.options.dot || !s[i].startsWith(\".\")) && s[i] !== \"**\") {\n        if (o === \"b\")\n          return !1;\n        o = \"a\", a.push(e[r]), r++, i++;\n      } else if (s[i] === \"*\" && e[r] && (this.options.dot || !e[r].startsWith(\".\")) && e[r] !== \"**\") {\n        if (o === \"a\")\n          return !1;\n        o = \"b\", a.push(s[i]), r++, i++;\n      } else\n        return !1;\n    return e.length === s.length && a;\n  }\n  parseNegate() {\n    if (this.nonegate)\n      return;\n    const e = this.pattern;\n    let s = !1, n = 0;\n    for (let r = 0; r < e.length && e.charAt(r) === \"!\"; r++)\n      s = !s, n++;\n    n && (this.pattern = e.slice(n)), this.negate = s;\n  }\n  matchOne(e, s, n = !1) {\n    const r = this.options;\n    if (this.isWindows) {\n      const _ = e[0] === \"\" && e[1] === \"\" && e[2] === \"?\" && typeof e[3] == \"string\" && /^[a-z]:$/i.test(e[3]), P = s[0] === \"\" && s[1] === \"\" && s[2] === \"?\" && typeof s[3] == \"string\" && /^[a-z]:$/i.test(s[3]);\n      if (_ && P) {\n        const C = e[3], j = s[3];\n        C.toLowerCase() === j.toLowerCase() && (e[3] = j);\n      } else if (P && typeof e[0] == \"string\") {\n        const C = s[3], j = e[0];\n        C.toLowerCase() === j.toLowerCase() && (s[3] = j, s = s.slice(3));\n      } else if (_ && typeof s[0] == \"string\") {\n        const C = e[3];\n        C.toLowerCase() === s[0].toLowerCase() && (s[0] = C, e = e.slice(3));\n      }\n    }\n    const { optimizationLevel: i = 1 } = this.options;\n    i >= 2 && (e = this.levelTwoFileOptimize(e)), this.debug(\"matchOne\", this, { file: e, pattern: s }), this.debug(\"matchOne\", e.length, s.length);\n    for (var a = 0, o = 0, d = e.length, l = s.length; a < d && o < l; a++, o++) {\n      this.debug(\"matchOne loop\");\n      var h = s[o], g = e[a];\n      if (this.debug(s, h, g), h === !1)\n        return !1;\n      if (h === xe) {\n        this.debug(\"GLOBSTAR\", [s, h, g]);\n        var m = a, S = o + 1;\n        if (S === l) {\n          for (this.debug(\"** at the end\"); a < d; a++)\n            if (e[a] === \".\" || e[a] === \"..\" || !r.dot && e[a].charAt(0) === \".\")\n              return !1;\n          return !0;\n        }\n        for (; m < d; ) {\n          var $ = e[m];\n          if (this.debug(`\nglobstar while`, e, m, s, S, $), this.matchOne(e.slice(m), s.slice(S), n))\n            return this.debug(\"globstar found match!\", m, d, $), !0;\n          if ($ === \".\" || $ === \"..\" || !r.dot && $.charAt(0) === \".\") {\n            this.debug(\"dot detected!\", e, m, s, S);\n            break;\n          }\n          this.debug(\"globstar swallow a segment, and continue\"), m++;\n        }\n        return !!(n && (this.debug(`\n>>> no match, partial?`, e, m, s, S), m === d));\n      }\n      let _;\n      if (typeof h == \"string\" ? (_ = g === h, this.debug(\"string match\", h, g, _)) : (_ = h.test(g), this.debug(\"pattern match\", h, g, _)), !_)\n        return !1;\n    }\n    if (a === d && o === l)\n      return !0;\n    if (a === d)\n      return n;\n    if (o === l)\n      return a === d - 1 && e[a] === \"\";\n    throw new Error(\"wtf?\");\n  }\n  braceExpand() {\n    return Kr(this.pattern, this.options);\n  }\n  parse(e) {\n    Is(e);\n    const s = this.options;\n    if (e === \"**\")\n      return xe;\n    if (e === \"\")\n      return \"\";\n    let n, r = null;\n    (n = e.match(wd)) ? r = s.dot ? xd : bd : (n = e.match(ud)) ? r = (s.nocase ? s.dot ? gd : pd : s.dot ? fd : hd)(n[1]) : (n = e.match(Td)) ? r = (s.nocase ? s.dot ? Ed : Sd : s.dot ? Id : Nd)(n) : (n = e.match(md)) ? r = s.dot ? _d : yd : (n = e.match(Ad)) && (r = vd);\n    const i = _t.fromGlob(e, this.options).toMMPattern();\n    return r ? Object.assign(i, { test: r }) : i;\n  }\n  makeRe() {\n    if (this.regexp || this.regexp === !1)\n      return this.regexp;\n    const e = this.set;\n    if (!e.length)\n      return this.regexp = !1, this.regexp;\n    const s = this.options, n = s.noglobstar ? Rd : s.dot ? Md : Cd, r = new Set(s.nocase ? [\"i\"] : []);\n    let i = e.map((d) => {\n      const l = d.map((h) => {\n        if (h instanceof RegExp)\n          for (const g of h.flags.split(\"\"))\n            r.add(g);\n        return typeof h == \"string\" ? Vd(h) : h === xe ? xe : h._src;\n      });\n      return l.forEach((h, g) => {\n        const m = l[g + 1], S = l[g - 1];\n        h !== xe || S === xe || (S === void 0 ? m !== void 0 && m !== xe ? l[g + 1] = \"(?:\\\\/|\" + n + \"\\\\/)?\" + m : l[g] = n : m === void 0 ? l[g - 1] = S + \"(?:\\\\/|\" + n + \")?\" : m !== xe && (l[g - 1] = S + \"(?:\\\\/|\\\\/\" + n + \"\\\\/)\" + m, l[g + 1] = xe));\n      }), l.filter((h) => h !== xe).join(\"/\");\n    }).join(\"|\");\n    const [a, o] = e.length > 1 ? [\"(?:\", \")\"] : [\"\", \"\"];\n    i = \"^\" + a + i + o + \"$\", this.negate && (i = \"^(?!\" + i + \").+$\");\n    try {\n      this.regexp = new RegExp(i, [...r].join(\"\"));\n    } catch {\n      this.regexp = !1;\n    }\n    return this.regexp;\n  }\n  slashSplit(e) {\n    return this.preserveMultipleSlashes ? e.split(\"/\") : this.isWindows && /^\\/\\/[^\\/]+/.test(e) ? [\"\", ...e.split(/\\/+/)] : e.split(/\\/+/);\n  }\n  match(e, s = this.partial) {\n    if (this.debug(\"match\", e, this.pattern), this.comment)\n      return !1;\n    if (this.empty)\n      return e === \"\";\n    if (e === \"/\" && s)\n      return !0;\n    const n = this.options;\n    this.isWindows && (e = e.split(\"\\\\\").join(\"/\"));\n    const r = this.slashSplit(e);\n    this.debug(this.pattern, \"split\", r);\n    const i = this.set;\n    this.debug(this.pattern, \"set\", i);\n    let a = r[r.length - 1];\n    if (!a)\n      for (let o = r.length - 2; !a && o >= 0; o--)\n        a = r[o];\n    for (let o = 0; o < i.length; o++) {\n      const d = i[o];\n      let l = r;\n      if (n.matchBase && d.length === 1 && (l = [a]), this.matchOne(l, d, s))\n        return n.flipNegate ? !0 : !this.negate;\n    }\n    return n.flipNegate ? !1 : this.negate;\n  }\n  static defaults(e) {\n    return le.defaults(e).Minimatch;\n  }\n}\nle.AST = _t;\nle.Minimatch = Cs;\nle.escape = ld;\nle.unescape = Dt;\nfunction $d({\n  api: t,\n  onSuccess: e,\n  onFailure: s,\n  lastUploadedAtStorageKey: n,\n  getUploadAllowlist: r\n}) {\n  return {\n    label: \"page-views\",\n    onSuccess: e,\n    onFailure: s,\n    async getLastUploadedAt() {\n      const a = (await V.storage.local.get(n))[n];\n      return a != null ? a : 1;\n    },\n    setLastUploadedAt(i) {\n      return V.storage.local.set({ [n]: i });\n    },\n    async getModelsToUpload({ db: i, lastUploadedAt: a, uploadStartedAt: o }) {\n      var h;\n      const d = await i.pageViewsRepo.findPageViewsByEndedAt(\n        a,\n        o\n      ), l = (h = await r()) != null ? h : [];\n      return d.filter((g) => g.imported ? !1 : !!l.find((m) => le(g.appId + g.path, m)));\n    },\n    async upload(i, a) {\n      const o = a.reduce((d, l) => {\n        var g, m, S, $, _;\n        if (l.endedAt == null)\n          throw Error(\"Cannot upload a page view that is in progress\");\n        const h = {\n          duration: Ss(l.endedAt - l.startedAt),\n          timestamp: Ss(l.startedAt),\n          referrer: l.referrer\n        };\n        return h.duration > 0 && ((m = d[g = l.appId]) != null || (d[g] = {}), (_ = (S = d[l.appId])[$ = l.path]) != null || (S[$] = { page_views: [] }), d[l.appId][l.path].page_views.push(h)), d;\n      }, {});\n      await t.uploadPageViews({ ...i, websites: o });\n    }\n  };\n}\nfunction Hd(t) {\n  const e = zc({ api: t.api, ...t.sessions }), s = $d({ api: t.api, ...t.pageViews });\n  return Wc({\n    ...t,\n    uploaders: [e, s]\n  });\n}\nexport {\n  xr as Ad,\n  ae as DatabaseVersions,\n  J as IdbAdsRepo,\n  We as IdbPageViewsRepo,\n  X as IdbSessionsRepo,\n  Ud as OldUsageBackupJson,\n  Ao as PageView,\n  _o as PageViewEntity,\n  Hn as Session,\n  yo as SessionEntity,\n  St as SessionMonitor,\n  Po as UsageBackupJson,\n  Hd as defineWebUsageUploader,\n  Wd as initUsageSdkInBackground,\n  Bd as openIdbUsageDatabase\n};\n","const AppConsts = {\n  APP_ID: 'laankejkbhbdhmipfmgcngdelahlfoji',\n  INSTALL_ID_KEY: 'install-id',\n}\n\nexport default AppConsts\n","var ae = Object.defineProperty;\nvar ce = (r, t, e) => t in r ? ae(r, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : r[t] = e;\nvar k = (r, t, e) => (ce(r, typeof t != \"symbol\" ? t + \"\" : t, e), e);\nconst le = '\"use strict\";(()=>{var Pe=Object.create;var Ht=Object.defineProperty;var Me=Object.getOwnPropertyDescriptor;var Oe=Object.getOwnPropertyNames;var Fe=Object.getPrototypeOf,Ue=Object.prototype.hasOwnProperty;var Le=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var De=(e,t,r,o)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let s of Oe(t))!Ue.call(e,s)&&s!==r&&Ht(e,s,{get:()=>t[s],enumerable:!(o=Me(t,s))||o.enumerable});return e};var Vt=(e,t,r)=>(r=e!=null?Pe(Fe(e)):{},De(t||!e||!e.__esModule?Ht(r,\"default\",{value:e,enumerable:!0}):r,e));var vt=Le((Bt,Wt)=>{\"use strict\";(function(e){if(typeof Bt==\"object\")Wt.exports=e();else if(typeof define==\"function\"&&define.amd)define(e);else{var t;try{t=window}catch{t=self}t.SparkMD5=e()}})(function(e){\"use strict\";var t=function(d,l){return d+l&4294967295},r=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"];function o(d,l,i,n,c,a){return l=t(t(l,d),t(n,a)),t(l<<c|l>>>32-c,i)}function s(d,l){var i=d[0],n=d[1],c=d[2],a=d[3];i+=(n&c|~n&a)+l[0]-680876936|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&c)+l[1]-389564586|0,a=(a<<12|a>>>20)+i|0,c+=(a&i|~a&n)+l[2]+606105819|0,c=(c<<17|c>>>15)+a|0,n+=(c&a|~c&i)+l[3]-1044525330|0,n=(n<<22|n>>>10)+c|0,i+=(n&c|~n&a)+l[4]-176418897|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&c)+l[5]+1200080426|0,a=(a<<12|a>>>20)+i|0,c+=(a&i|~a&n)+l[6]-1473231341|0,c=(c<<17|c>>>15)+a|0,n+=(c&a|~c&i)+l[7]-45705983|0,n=(n<<22|n>>>10)+c|0,i+=(n&c|~n&a)+l[8]+1770035416|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&c)+l[9]-1958414417|0,a=(a<<12|a>>>20)+i|0,c+=(a&i|~a&n)+l[10]-42063|0,c=(c<<17|c>>>15)+a|0,n+=(c&a|~c&i)+l[11]-1990404162|0,n=(n<<22|n>>>10)+c|0,i+=(n&c|~n&a)+l[12]+1804603682|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&c)+l[13]-40341101|0,a=(a<<12|a>>>20)+i|0,c+=(a&i|~a&n)+l[14]-1502002290|0,c=(c<<17|c>>>15)+a|0,n+=(c&a|~c&i)+l[15]+1236535329|0,n=(n<<22|n>>>10)+c|0,i+=(n&a|c&~a)+l[1]-165796510|0,i=(i<<5|i>>>27)+n|0,a+=(i&c|n&~c)+l[6]-1069501632|0,a=(a<<9|a>>>23)+i|0,c+=(a&n|i&~n)+l[11]+643717713|0,c=(c<<14|c>>>18)+a|0,n+=(c&i|a&~i)+l[0]-373897302|0,n=(n<<20|n>>>12)+c|0,i+=(n&a|c&~a)+l[5]-701558691|0,i=(i<<5|i>>>27)+n|0,a+=(i&c|n&~c)+l[10]+38016083|0,a=(a<<9|a>>>23)+i|0,c+=(a&n|i&~n)+l[15]-660478335|0,c=(c<<14|c>>>18)+a|0,n+=(c&i|a&~i)+l[4]-405537848|0,n=(n<<20|n>>>12)+c|0,i+=(n&a|c&~a)+l[9]+568446438|0,i=(i<<5|i>>>27)+n|0,a+=(i&c|n&~c)+l[14]-1019803690|0,a=(a<<9|a>>>23)+i|0,c+=(a&n|i&~n)+l[3]-187363961|0,c=(c<<14|c>>>18)+a|0,n+=(c&i|a&~i)+l[8]+1163531501|0,n=(n<<20|n>>>12)+c|0,i+=(n&a|c&~a)+l[13]-1444681467|0,i=(i<<5|i>>>27)+n|0,a+=(i&c|n&~c)+l[2]-51403784|0,a=(a<<9|a>>>23)+i|0,c+=(a&n|i&~n)+l[7]+1735328473|0,c=(c<<14|c>>>18)+a|0,n+=(c&i|a&~i)+l[12]-1926607734|0,n=(n<<20|n>>>12)+c|0,i+=(n^c^a)+l[5]-378558|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^c)+l[8]-2022574463|0,a=(a<<11|a>>>21)+i|0,c+=(a^i^n)+l[11]+1839030562|0,c=(c<<16|c>>>16)+a|0,n+=(c^a^i)+l[14]-35309556|0,n=(n<<23|n>>>9)+c|0,i+=(n^c^a)+l[1]-1530992060|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^c)+l[4]+1272893353|0,a=(a<<11|a>>>21)+i|0,c+=(a^i^n)+l[7]-155497632|0,c=(c<<16|c>>>16)+a|0,n+=(c^a^i)+l[10]-1094730640|0,n=(n<<23|n>>>9)+c|0,i+=(n^c^a)+l[13]+681279174|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^c)+l[0]-358537222|0,a=(a<<11|a>>>21)+i|0,c+=(a^i^n)+l[3]-722521979|0,c=(c<<16|c>>>16)+a|0,n+=(c^a^i)+l[6]+76029189|0,n=(n<<23|n>>>9)+c|0,i+=(n^c^a)+l[9]-640364487|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^c)+l[12]-421815835|0,a=(a<<11|a>>>21)+i|0,c+=(a^i^n)+l[15]+530742520|0,c=(c<<16|c>>>16)+a|0,n+=(c^a^i)+l[2]-995338651|0,n=(n<<23|n>>>9)+c|0,i+=(c^(n|~a))+l[0]-198630844|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~c))+l[7]+1126891415|0,a=(a<<10|a>>>22)+i|0,c+=(i^(a|~n))+l[14]-1416354905|0,c=(c<<15|c>>>17)+a|0,n+=(a^(c|~i))+l[5]-57434055|0,n=(n<<21|n>>>11)+c|0,i+=(c^(n|~a))+l[12]+1700485571|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~c))+l[3]-1894986606|0,a=(a<<10|a>>>22)+i|0,c+=(i^(a|~n))+l[10]-1051523|0,c=(c<<15|c>>>17)+a|0,n+=(a^(c|~i))+l[1]-2054922799|0,n=(n<<21|n>>>11)+c|0,i+=(c^(n|~a))+l[8]+1873313359|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~c))+l[15]-30611744|0,a=(a<<10|a>>>22)+i|0,c+=(i^(a|~n))+l[6]-1560198380|0,c=(c<<15|c>>>17)+a|0,n+=(a^(c|~i))+l[13]+1309151649|0,n=(n<<21|n>>>11)+c|0,i+=(c^(n|~a))+l[4]-145523070|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~c))+l[11]-1120210379|0,a=(a<<10|a>>>22)+i|0,c+=(i^(a|~n))+l[2]+718787259|0,c=(c<<15|c>>>17)+a|0,n+=(a^(c|~i))+l[9]-343485551|0,n=(n<<21|n>>>11)+c|0,d[0]=i+d[0]|0,d[1]=n+d[1]|0,d[2]=c+d[2]|0,d[3]=a+d[3]|0}function u(d){var l=[],i;for(i=0;i<64;i+=4)l[i>>2]=d.charCodeAt(i)+(d.charCodeAt(i+1)<<8)+(d.charCodeAt(i+2)<<16)+(d.charCodeAt(i+3)<<24);return l}function h(d){var l=[],i;for(i=0;i<64;i+=4)l[i>>2]=d[i]+(d[i+1]<<8)+(d[i+2]<<16)+(d[i+3]<<24);return l}function f(d){var l=d.length,i=[1732584193,-271733879,-1732584194,271733878],n,c,a,x,O,L;for(n=64;n<=l;n+=64)s(i,u(d.substring(n-64,n)));for(d=d.substring(n-64),c=d.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<c;n+=1)a[n>>2]|=d.charCodeAt(n)<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(s(i,a),n=0;n<16;n+=1)a[n]=0;return x=l*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),O=parseInt(x[2],16),L=parseInt(x[1],16)||0,a[14]=O,a[15]=L,s(i,a),i}function p(d){var l=d.length,i=[1732584193,-271733879,-1732584194,271733878],n,c,a,x,O,L;for(n=64;n<=l;n+=64)s(i,h(d.subarray(n-64,n)));for(d=n-64<l?d.subarray(n-64):new Uint8Array(0),c=d.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<c;n+=1)a[n>>2]|=d[n]<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(s(i,a),n=0;n<16;n+=1)a[n]=0;return x=l*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),O=parseInt(x[2],16),L=parseInt(x[1],16)||0,a[14]=O,a[15]=L,s(i,a),i}function m(d){var l=\"\",i;for(i=0;i<4;i+=1)l+=r[d>>i*8+4&15]+r[d>>i*8&15];return l}function g(d){var l;for(l=0;l<d.length;l+=1)d[l]=m(d[l]);return d.join(\"\")}g(f(\"hello\"))!==\"5d41402abc4b2a76b9719d911017c592\"&&(t=function(d,l){var i=(d&65535)+(l&65535),n=(d>>16)+(l>>16)+(i>>16);return n<<16|i&65535}),typeof ArrayBuffer<\"u\"&&!ArrayBuffer.prototype.slice&&function(){function d(l,i){return l=l|0||0,l<0?Math.max(l+i,0):Math.min(l,i)}ArrayBuffer.prototype.slice=function(l,i){var n=this.byteLength,c=d(l,n),a=n,x,O,L,Dt;return i!==e&&(a=d(i,n)),c>a?new ArrayBuffer(0):(x=a-c,O=new ArrayBuffer(x),L=new Uint8Array(O),Dt=new Uint8Array(this,c,x),L.set(Dt),O)}}();function w(d){return/[\\\\u0080-\\\\uFFFF]/.test(d)&&(d=unescape(encodeURIComponent(d))),d}function v(d,l){var i=d.length,n=new ArrayBuffer(i),c=new Uint8Array(n),a;for(a=0;a<i;a+=1)c[a]=d.charCodeAt(a);return l?c:n}function R(d){return String.fromCharCode.apply(null,new Uint8Array(d))}function b(d,l,i){var n=new Uint8Array(d.byteLength+l.byteLength);return n.set(new Uint8Array(d)),n.set(new Uint8Array(l),d.byteLength),i?n:n.buffer}function q(d){var l=[],i=d.length,n;for(n=0;n<i-1;n+=2)l.push(parseInt(d.substr(n,2),16));return String.fromCharCode.apply(String,l)}function A(){this.reset()}return A.prototype.append=function(d){return this.appendBinary(w(d)),this},A.prototype.appendBinary=function(d){this._buff+=d,this._length+=d.length;var l=this._buff.length,i;for(i=64;i<=l;i+=64)s(this._hash,u(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},A.prototype.end=function(d){var l=this._buff,i=l.length,n,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a;for(n=0;n<i;n+=1)c[n>>2]|=l.charCodeAt(n)<<(n%4<<3);return this._finish(c,i),a=g(this._hash),d&&(a=q(a)),this.reset(),a},A.prototype.reset=function(){return this._buff=\"\",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},A.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},A.prototype.setState=function(d){return this._buff=d.buff,this._length=d.length,this._hash=d.hash,this},A.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},A.prototype._finish=function(d,l){var i=l,n,c,a;if(d[i>>2]|=128<<(i%4<<3),i>55)for(s(this._hash,d),i=0;i<16;i+=1)d[i]=0;n=this._length*8,n=n.toString(16).match(/(.*?)(.{0,8})$/),c=parseInt(n[2],16),a=parseInt(n[1],16)||0,d[14]=c,d[15]=a,s(this._hash,d)},A.hash=function(d,l){return A.hashBinary(w(d),l)},A.hashBinary=function(d,l){var i=f(d),n=g(i);return l?q(n):n},A.ArrayBuffer=function(){this.reset()},A.ArrayBuffer.prototype.append=function(d){var l=b(this._buff.buffer,d,!0),i=l.length,n;for(this._length+=d.byteLength,n=64;n<=i;n+=64)s(this._hash,h(l.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(l.buffer.slice(n-64)):new Uint8Array(0),this},A.ArrayBuffer.prototype.end=function(d){var l=this._buff,i=l.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c,a;for(c=0;c<i;c+=1)n[c>>2]|=l[c]<<(c%4<<3);return this._finish(n,i),a=g(this._hash),d&&(a=q(a)),this.reset(),a},A.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},A.ArrayBuffer.prototype.getState=function(){var d=A.prototype.getState.call(this);return d.buff=R(d.buff),d},A.ArrayBuffer.prototype.setState=function(d){return d.buff=v(d.buff,!0),A.prototype.setState.call(this,d)},A.ArrayBuffer.prototype.destroy=A.prototype.destroy,A.ArrayBuffer.prototype._finish=A.prototype._finish,A.ArrayBuffer.hash=function(d,l){var i=p(new Uint8Array(d)),n=g(i);return l?q(n):n},A})});var T=class e{constructor(t,r){this.operation=t;this.data=r}static NONCE=\"z3ZCw_12v\";nonce=e.NONCE;static fromObject(t){return!t||t.nonce!==e.NONCE?null:new e(t.operation,t.data)}validate(){return this.nonce===e.NONCE}};var X=class{crawlId;installId;zys;dateCrawlStarted;dateCrawled;crawlUrl;fragmentIndex;youTubeChannelId;youTubeChannelName;youTubeVideoId;constructor(t,r,o,s,u,h,f,p){this.crawlId=t,this.installId=r,this.zys=o,this.dateCrawlStarted=s,this.dateCrawled=u,this.crawlUrl=h,this.fragmentIndex=f,Object.assign(this,p)}get ads(){return this.zys}set ads(t){this.zys=t}};var ct=Vt(vt(),1);var _=class{x;y;width;height;text;sourceUrls;hash;hashOverride;type;typeOverride;canvases;svgs;depth;adRuleId;dedupeKey;duration;language;youTubeId;netflixData;twitterData;vastData;outerHtml;static minWidth=120;static minHeight=28;static minimumVideoToAdAreaRatio=.5;static minimumImageToAdAreaRatio=.05;constructor(t){this.x=t.x??0,this.y=t.y??0,this.width=t.width,this.height=t.height,this.text=t.text??\"\",this.sourceUrls=t.sourceUrls??[],this.hash=t.hash??\"\",this.type=t.type,this.canvases=[],this.svgs=[],this.depth=0,this.adRuleId=t.adRuleId,this.duration=t.duration,this.language=t.language,this.youTubeId=t.youTubeId,this.netflixData=t.netflixData,this.twitterData=t.twitterData,this.vastData=t.vastData}};var y=class e{u;t;h;d;width;height;constructor(t){this.u=e.qualifyURL(t.url,t.doc),this.t=t.urlType,this.d=t.depth,this.width=t.width,this.height=t.height}get url(){return this.u}set url(t){this.u=t}get urlType(){return this.t}set urlType(t){this.t=t}get depth(){return this.d}set depth(t){this.d=t}get hash(){return this.h}set hash(t){this.h=t}static SourceUrlTags=new Set([\"A\",\"DIV\",\"IFRAME\",\"IMG\",\"LINK\",\"SCRIPT\",\"SPAN\",\"VIDEO\"]);static qualifyURL(t,r){if(!t||new RegExp(\"^(?:\\\\\\\\w+-extension)|(?:about)|(?:blob)|(?:javascript):\").test(t))return\"\";r=r||document;let o=r.createElement(\"a\");return o.href=t,o.href}};async function Q(e,t){if(!e)return[];let r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u=>y.SourceUrlTags.has(u.nodeName)||u?.shadowRoot?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),o=[],s=r.currentNode;for(;s;){o.push(...await He(s,t));let u=s?.shadowRoot;u&&o.push(...await Q(u?.firstElementChild,t)),s=r.nextNode()}return o.filter(u=>u.url)}async function He(e,t){if(!e||!y.SourceUrlTags.has(e.nodeName))return[];if(e.nodeName==\"IMG\")return[await qt(e,t)];if(e.nodeName==\"DIV\"||e.nodeName==\"SPAN\"){let s=/url\\\\([\\'\"]?([^\\'\"]+)[\\'\"]?\\\\)/gi,u=getComputedStyle(e).getPropertyValue(\"background-image\");return Promise.all(Array.from(u.matchAll(s)).filter(h=>h).map(h=>h[1]).map(async h=>{try{let f=new Image;return f.src=h,await f.decode(),qt(f,t)}catch{return new y({url:h,urlType:7,depth:t,doc:e?.ownerDocument})}}))}if(e.nodeName===\"VIDEO\"){if(e=e.hasAttribute(\"src\")?e:e.querySelector(\"source\"),!e)return[];let s=e.getBoundingClientRect(),u=Math.round(s.width),h=Math.round(s.height);return[new y({url:e.getAttribute(\"src\"),urlType:4,depth:t,width:u,height:h,doc:e.ownerDocument})]}if(e.nodeName===\"IFRAME\")return[new y({url:e.getAttribute(\"src\"),urlType:1,depth:t,width:e.offsetWidth,height:e.offsetHeight,doc:e.ownerDocument})];let r=null,o=0;switch(e.nodeName){case\"SCRIPT\":r=e.getAttribute(\"src\"),o=6;break;case\"LINK\":r=e.getAttribute(\"href\"),o=6;break;case\"A\":r=e.getAttribute(\"href\"),o=8;break}return[new y({url:r,urlType:o,depth:t,doc:e.ownerDocument})]}async function qt(e,t){let r=e.getAttribute(\"src\"),o=e.getBoundingClientRect(),s=Math.round(e.naturalWidth||o.width),u=Math.round(e.naturalHeight||o.height);if(!(s||u)&&r)try{let f=new Image;f.src=r,await f.decode(),s=f.naturalWidth,u=f.naturalHeight}catch{}let h=0;return(o.width||s)<2&&(o.height||u)<2||s===43&&u===22||o.y+window.scrollY<5&&(o.width||s)<85&&(o.height||u)<=20?h=7:h=3,new y({url:r,urlType:h,depth:t,width:o.width||s,height:o.height||u,doc:e.ownerDocument})}async function ut(e,t){e.sourceUrls=lt(e.sourceUrls,h=>h.u);let r=e.sourceUrls.filter(h=>h.t===3||h.t===4),s=r.filter(h=>h.t===3).sort((h,f)=>(h.width||0)*(h.height||0)-(f.width||0)*(f.height||0)).pop(),u=r.filter(h=>h.t===4);if(e.type=e.typeOverride??(r.length===1&&(r[0].width||0)>=e.width-2&&(r[0].height||0)>=e.height-2?r[0].t===3?1:3:u.length===1&&(u[0].width||0)*(u[0].height||0)>=e.width*e.height*_.minimumVideoToAdAreaRatio?3:7),e.hashOverride)return e.hash=e.hashOverride;if(e.type===7&&!u.length&&(s?.width||0)*(s?.height||0)<e.width*e.height*_.minimumImageToAdAreaRatio)return e.hash=\"\";for(let h of r)h.h=await j(h.u||\"\",t);if(e.hash=r.filter(h=>h.h).reduce((h,f)=>z(h,f.h),\"\")||\"\",e.type===3&&!e.hash&&(e.hash=k(r[0].u??\"\",!0)),e.type===7&&e.text){let h=k(e.text.toLowerCase(),!0);e.hash=z(e.hash,h)}if(e.hash||(e.canvases?.length&&(e.hash=e.canvases.reduce((h,f)=>z(k(f),h),e.hash)),e.svgs?.length&&(e.hash=e.svgs.reduce((h,f)=>z(k(f),h),e.hash))),e.type===7&&e.hash){let h=k(Be(kt(Math.round(e.height)),kt(Math.round(e.width))),!0);e.hash=z(e.hash,h)}r.forEach(h=>{h.h&&(h.h=btoa(h.h))}),e.hash=btoa(e.hash)}async function j(e,t){try{return k(await t(e))}catch(r){return S(r),\"\"}}function k(e,t){if(Ve(e)===\"arraybuffer\"){let r=e;return r.byteLength===0?\"\":ct.default.ArrayBuffer.hash(r,!0)}else{let r=e;return t?ct.default.hash(r,!0):ct.default.hashBinary(r,!0)}}function Ve(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}function z(e,t){if(!t)return e||\"\";if(!e)return t;if(e.length<t.length){let u=e;e=t,t=u}let r=e.length,o=t.length,s=\"\";for(let u=0;u<o;u++)s+=String.fromCharCode(e.charCodeAt(u)^t.charCodeAt(u));for(let u=o;u<r;u++)s+=String.fromCharCode(e.charCodeAt(u));return s}function kt(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!0),t}function Be(e,t){let r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}var V=3e3;var Et=\"pc\",Ct=\"ca\",et=72e5,Z=null;function S(...e){Z&&(e=e||[],e=e.map(t=>t?.stack&&t.message?{error:t.message,stack:t.stack}:t),e=e.map(t=>typeof t!=\"object\"||t instanceof String?t:JSON.stringify(t)),e.length==1?Z(e[0]):Z(e))}function Jt(e){Z=e||Z}var ht=class{constructor(t,r,o,s){let u=Xt(t);u===\"object\"?(this.left=0,Object.assign(this,t)):u===\"number\"&&(this.left=Math.round(Math.max(t||0,0))||0,this.top=Math.round(Math.max(r||0,0))||0,this.width=Math.round(Math.max(o||0,0))||0,this.height=Math.round(Math.max(s||0,0))||0)}get bottom(){return this.top+this.height}get right(){return this.left+this.width}toString(){return`${this.width}x${this.height}@${this.left},${this.top}`}};function We(){return([1e7]+-1e3+-1e3+-1e3+-1e11).replace(/[01]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function Xt(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}function qe(e,t){let r={},o=Object.keys(t);for(let s=0,u=o.length;s<u;s++){let h=o[s];if(t.hasOwnProperty(h)){let f=t[h];if(f==null||f===\"\"&&e[h]||f instanceof Array&&!f.length&&e[h]?.length||(h===\"top\"||h===\"left\"||h===\"X\"||h===\"Y\")&&e[h]>0)continue;r[h]=t[h]}}return Object.assign(e,t)}function E(e){try{return e()}catch{return null}}var $r=Array.from(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\").map(e=>e.charCodeAt(0));function zt(e){return e.tagName?.toUpperCase?.()||E(()=>e.outerHTML.substr(1,e.outerHTML.indexOf(\" \")-1).toUpperCase())||\"\"}function jt(e){let t=0,r=\"\",o={\" \":1,\"\\\\f\":1,\"\\\\n\":1,\"\\\\r\":1,\"\t\":1,\"\\\\v\":1,\"\\\\xA0\":1,\"\\\\u2028\":1,\"\\\\u2029\":1};for(let s=0,u=e.length;s<u;s++)o[e.charAt(s)]?(t||(r+=\" \"),t=1):(t=0,r+=e.charAt(s));return r.trim()}function F(){return ke(C.location.hostname)}function ke(e){return e.split(\".\").slice(e.endsWith(\".uk\")||e.endsWith(\".jp\")?-3:-2).join(\".\")}function pt(){let e=new Set([\"aarp.org\",\"abc.com\",\"aol.com\",\"attn.com\",\"atttvnow.com\",\"brainly.com\",\"bravotv.com\",\"cartoonnetwork.com\",\"cbs.com\",\"cbssports.com\",\"chron.com\",\"citationmachine.net\",\"cnet.com\",\"cnn.com\",\"crunchyroll.com\",\"dailymail.co.uk\",\"delish.com\",\"discoveryplus.com\",\"easybib.com\",\"espn.com\",\"fandom.com\",\"foxbusiness.com\",\"foxnews.com\",\"fubo.tv\",\"genius.com\",\"go.cnn.com\",\"go.com\",\"goodhousekeeping.com\",\"happykids.tv\",\"hulu.com\",\"imdb.com\",\"investigationdiscovery.com\",\"linkedin.com\",\"locast.org\",\"mlb.com\",\"msn.com\",\"music.amazon.com\",\"music.apple.com\",\"music.youtube.com\",\"mytuner-radio.com\",\"nexusmods.com\",\"nfl.com\",\"nhl.com\",\"nypost.com\",\"nytimes.com\",\"paramountplus.com\",\"pch.com\",\"philo.com\",\"playstation.com\",\"pluto.tv\",\"rawstory.com\",\"realtor.com\",\"refinery29.com\",\"seattlepi.com\",\"sfgate.com\",\"sling.com\",\"spanishdict.com\",\"sporcle.com\",\"steampowered.com\",\"tablotv.com\",\"therokuchannel.roku.com\",\"try.frndlytv.com\",\"tubitv.com\",\"tv.apple.com\",\"tv.youtube.com\",\"twitch.tv\",\"uproxx.com\",\"usatoday.com\",\"vudu.com\",\"washingtonpost.com\",\"watch.hgtv.com\",\"watch.spectrum.net\",\"weather.com\",\"www3.nhk.or.jp\",\"xbox.com\",\"xfinity.com\",\"yahoo.com\",\"yelp.com\",\"youtubekids.com\"]);return I&&(e.has(C.location.hostname)||e.has(F()))}function U(e){e.documentElement&&(e=e.documentElement);let t=zt(e);if(e.offsetParent===null&&t!==\"BODY\"&&t!==\"HTML\"&&t!==\"FRAME\")return new ht;let o=(e.ownerDocument||document).defaultView||C,s=e.getBoundingClientRect();return new ht(s.left+o.scrollX,s.top+o.scrollY,s.width,s.height)}var Gt=[\"background-image\",\"display\",\"visibility\",\"z-index\",\"border-top-width\",\"border-left-width\",\"border-bottom-width\",\"border-right-width\",\"padding-top\",\"padding-left\",\"padding-bottom\",\"padding-right\",\"position\",\"width\",\"height\",\"top\",\"bottom\",\"left\",\"right\",\"font-size\"];function je(e){if(e._pm_st)return e.style&&(e._pm_st=qe(e._pm_st,JSON.parse(JSON.stringify(e.style,Gt)))),e._pm_st;let t=e.ownerDocument?.defaultView;typeof window<\"u\"&&(!t||!t.opener)&&(t=window);let r=JSON.parse(JSON.stringify(t.getComputedStyle(e),Gt));return e._pm_st=r,r}function Kt(e,t){let r=e.nodeName,o=je(e),s=U(e);if(o?.display!==\"none\"&&s&&s.width>20&&s.height>20)if(r===\"CANVAS\"&&!e.matches(\".__pm_marker\"))try{t.canvases.push(e.toDataURL(\"image/jpeg\",.2))}catch{}else r===\"SVG\"&&t.svgs.push(e.outerHTML)}function mt(e){if(!e)return\"\";let t=e?.ownerDocument||document,r=t.defaultView.NodeFilter;if(Xt(e)===\"htmldocument\"&&e.body&&(e=e.body),!e)return\"\";let o={SCRIPT:1,NOSCRIPT:1,STYLE:1},s=zt(e);if(s===\"HTML\"&&(e=e.querySelector(\"body\")),!e)return\"\";let u=function(m){try{return m.nodeType===3?r.FILTER_ACCEPT:!m.tagName||o[m.tagName]||m.offsetParent===null?r.FILTER_REJECT:r.FILTER_ACCEPT}catch{return r.FILTER_REJECT}};if(e.nodeType!==3&&(!s||o[s]))return\"\";let h=t.createTreeWalker(e,r.SHOW_ELEMENT|r.SHOW_TEXT,{acceptNode:u},!0),f={\"LEARN MORE\":1,REPLAY:1},p=[];for(;e;){if(e.nodeType===3){let m=jt(e.nodeValue||\"\");!f[m.toUpperCase()]&&!p.includes(m)&&p.push(m)}e=h.nextNode()}return p.length?jt(p.join(\" \")):\"\"}function P(e,t){return C.requestIdleCallback?{id:C.requestIdleCallback(e,{timeout:t}),isIdleCallback:!0}:{id:setTimeout(e,t),isIdleCallback:!1}}var tt=null;function G(e){tt=e||tt}function It(){tt=null}function Yt(){if(typeof window>\"u\")return;let e=function(f,p,m,g){P(()=>{!tt||!f||tt(f,p,m,g)},1e4)},t=f=>new TextDecoder(\"utf-8\").decode(new Uint8Array(f)),r=function(f,p){try{if(p=f.currentTarget||p,p=p._datadog_xhr||p,p.readyState===4&&p.status>=200&&p.status<=210){let m=E(()=>p.responseXML),g=E(()=>p.responseText)||E(()=>t(p.response))||E(()=>m.documentElement.outerHTML);(g||m)&&e(g,m,p.reponseType===\"json\",p.responseURL)}}catch{}},o=XMLHttpRequest.prototype.send;function s(){let f=this.onreadystatechange,p=arguments;this.onreadystatechange=function(m){return r(m,this),f?.apply?.(this,arguments)},o.apply(this,p)}XMLHttpRequest.prototype.send=s;let u=C.fetch,h=function(){return u.apply(this,arguments).then(f=>{let p=f.headers.get(\"Content-Type\");if(p&&(p.includes(\"text\")||p.includes(\"json\")||p.includes(\"xml\")||p.includes(\"javascript\"))){let m=f.clone();P(()=>{m.text().then(g=>e(g,null,p.includes(\"json\"),f.url))},5e3)}return f})};C.fetch=h}function Tt(e){if(!e)return null;let t=null;return e=(e+\"\").trim(),e==\"start\"?t=0:e.indexOf(\":\")>=0?t=E(()=>Math.round(e.split(\":\").reduce((r,o,s,u)=>r+parseFloat(o)*Math.pow(60,u.length-s-1),0)))||t:isNaN(e)||(t=Math.round(parseFloat(e))),t}var Qt,$,Zt,St,H,dt,ft;function te(e){H[e.dedupeKey]?.depth>e.depth||H[e.dedupeKey]?.depth===e.depth&&H[e.dedupeKey].adRuleId<e.adRuleId||(H[e.dedupeKey]=e)}function Ge(){let e=C.location;return e.href.indexOf(\"youtube.com/watch\")===-1?e.origin+e.pathname:e.href}async function $e(e){await Promise.all(e.map(t=>ut(t,M)))}async function Je(){let e=Object.values(H),t=Object.values(dt);return H={},dt={},await $e(e),new X(Qt,gt,e.concat(t).filter(r=>r.hash),$-(D?.TimeOffset||0),Date.now()-(D?.TimeOffset||0),St,Zt++,ft)}function N(e,t){if(!I){W(top,new T(Et,[e,t]));return}e.forEach(r=>dt[r.hash]=r),ft=t||ft,B()}var $t=0;async function B(){let e=Date.now();if(e-$t>V){$t=e;let t=await Je();Nt?.(JSON.stringify(t))}}function ee(){if(!I)return;Qt=We(),$=Date.now(),Zt=0;let e=D?.ParsedSiteConfigs[F()];if(e){let t=new RegExp(e).exec(location.href);St=t?t.slice(1).join(\"\"):location.protocol+\"://\"+location.hostname}else St=Ge();H={},dt={},ft=void 0}function Xe(e,t){return e.reduce(function(r,o){return(r[t(o)]=r[t(o)]||[]).push(o),r},{})}function lt(e,t){return Object.values(Xe(e,t)).map(r=>r[0])}function W(e,t){e.postMessage(t,\"*\")}var re=null;function ne(){let e=document.querySelector(\"video.ad-video-player,video#ad-video-player\"),t=document.querySelector(\".AdUnitView a\"),r=e&&e.src;if(e&&t&&r&&re!==r&&r.endsWith(\".mp4\")&&r.indexOf(\"bumper\")===-1&&(r.indexOf(\"ads\")>=0||r.indexOf(\"Ads\")>=0)){if(!e.duration||isNaN(e.duration))return;re=r,P(()=>{j(r,M).then(o=>N([new _({width:1920,height:1080,sourceUrls:[new y({url:r,urlType:4}),new y({url:t.href,urlType:8})],hash:btoa(o),type:3,duration:Math.round(e.duration)})]))});return}}var yt={},ie=!1;function oe(){if(S(\"NETFLIX AD CAPTURE\"),!(typeof window>\"u\")){if(!ie){let e=Object.defineProperty;Object.defineProperty=function(r,o,s){return Date.now()-$<et&&P(()=>{if(Object.hasOwn(r,\"isAd\")&&r.isAd){let u=ze(r);u&&(yt[u.hash]=u)}}),e(r,o,s)},ie=!0}N(Object.values(yt)),yt={}}}function ze(e){let t=e.movieId;if(!t||yt[t])return;let r=e.video_tracks[0].streams[0],o=r.res_w,s=r.res_h,u=e.audio_tracks[0].streams[0];return new _({hash:(\"n+++\"+t).padEnd(t.length+4+(t.length+4)*6%8/2,\"=\").replace(\"===\",\"A==\"),type:3,sourceUrls:[new y({url:r.urls[0].url,urlType:4,width:o,height:s}),new y({url:u.urls[0].url,urlType:9})],width:o,height:s,duration:e.duration,language:u.language,netflixData:{id:t}})}var rt=[];async function Rt(){S(\"TWITTER AD CAPTURE\"),G((e,t,r,o)=>{try{if(!o||!o.includes(\"HomeTimeline\")&&!(o.includes(\"/conversation/\")&&o.includes(\"/\"+/\\\\d+$/.exec(window.location.pathname)[0]+\".json\")))return;let s=Ke(e);rt=rt.concat(s)}catch{}}),await Ye()}function Ke(e){let t=JSON.parse(e);return([].concat.apply([],t?.data?.home?.home_timeline_urt?.instructions?.filter?.(s=>s?.type==\"TimelineAddEntries\")?.map?.(s=>s.entries))||[]).map(s=>s.content?.itemContent).filter(s=>s?.promotedMetadata).map(s=>{let u=s.tweet_results?.result?.card?.legacy?.binding_values?.filter?.(f=>f?.key==\"unified_card\")?.map?.(f=>JSON.parse(f.value?.string_value))?.[0],h=u?.destination_objects?.browser_1?.data?.url_data?.url||u?.destination_objects?.browser_with_docked_media_1?.url_data?.url;return{id_str:s?.tweet_results?.result?.rest_id,screen_name:s?.tweet_results?.result?.core?.user_results?.result?.legacy?.screen_name,cardDestination:h,advertiserId:s?.promotedMetadata?.advertiser_results?.result?.rest_id,user_id_str:s?.tweet_results?.result?.legacy?.user_id_str}}).filter(s=>s.id_str&&s.screen_name)}async function Ye(){if(!nt)return;let e=await Qe(document,rt),t=e.map(r=>r.twitterData.tid);rt=rt.filter(r=>!t.includes(r.id_str)),N(e)}async function Qe(e,t){let r=\"div.tweet.promoted-tweet\",o=Array.from(e.querySelectorAll(r));o.length||(o=Array.from(e.querySelectorAll(\"article div>svg\")).map(u=>u.parentElement.querySelector(\"span\")).filter(u=>u?.textContent&&u.textContent.length<50).map(u=>u.closest(\"article\"))),o.length||(o=Array.from(document.querySelectorAll(\"span\")).filter(u=>u.textContent===\"Ad\").map(u=>u.closest(\"article\")));let s=[];for(let u=0;u<o.length;u++){let h=o[u],f=Array.from(h.querySelectorAll(\"div>span,a span\")).map(b=>b.textContent).filter(b=>b?.startsWith(\"@\"))[0];f=f.startsWith(\"@\")?f.substring(1):f;let p=null,m=null;for(m of t)if(m.screen_name==f&&(p=m.id_str,p))break;if(!p)continue;let g=mt(h);g&&(g=g.replace(new RegExp(\"# (\\\\\\\\w)\",\"gi\"),\"#$1\"));let w=U(h),v=new _({x:w.left,y:w.top,width:w.width,height:w.height,text:g,sourceUrls:(await Q(h.querySelector(\".tweet-details-fixer\")||h)).concat([new y({url:m.cardDestination,urlType:8})]).filter(b=>b.url&&!b.url.includes(\"/profile_images/\")&&!b.url.includes(p+\"/retweets\")&&!b.url.includes(p+\"/likes\")&&!b.url.includes(\"/using-twitter/how-to\")),hash:(\"t+++\"+p).padEnd(p.length+4+(p.length+4)*6%8/2,\"=\").replace(\"===\",\"A==\"),type:h.querySelector(\"video\")||h.querySelector(\".PlayableMedia\")?105:Array.from(h.querySelectorAll(\"img\")).filter(b=>b.naturalWidth>200&&b.naturalHeight>40).length?104:h.querySelector(\"iframe\")?102:103,twitterData:{taid:m.advertiserId||m.user_id_str||0,tid:p,tsn:f}}),R=(v.sourceUrls||[]).filter(b=>b?.url);v.sourceUrls=lt(R,b=>b.url),s.push(v)}return s}function Pt(){S(\"VAST AD CAPTURE\"),G((e,t,r)=>{try{let o=e.substring(0,500),s=o.indexOf(\\'\"ad_id\":\\')>=0||o.indexOf(\\'\"ad_type\"\\')>=0,u=[];if(r||s)Ze(e,u);else if(o.indexOf(\"<VAST \")>=0||o.indexOf(\"<vmap:AdBreak \")>=0){let h=E(()=>t?.documentElement||e&&new DOMParser().parseFromString(e,\"application/xml\").documentElement);tr(h,u)}else return;Promise.allSettled(u).then(h=>{S(\"Ads found.\",h.map(f=>f.value)),N(h.map(f=>f.value).filter(f=>f))})}catch(o){S(o)}})}function Ze(e,t){let r=E,o=r(()=>e&&JSON.parse(e)),s=r(()=>o.items);s?.length&&Array.from(s).forEach(u=>{let h=r(()=>u.media.streamurl);if(!h)return;let f=r(()=>u.clickthrough),p=r(()=>u.media.duration),m=r(()=>u.ad_id||u.ad_video_id),g=r(()=>u.title);m&&F()===\"peacocktv.com\"&&(m=m.split(\".\")[0]);let w=r(()=>u.system);t.push(j(h,M).then(v=>new _({width:1920,height:1080,sourceUrls:[new y({url:h,urlType:4}),new y({url:f,urlType:8}),new y({url:\"http://\"+w,urlType:1})].filter(b=>b.url),hash:btoa(v)||m,type:3,duration:Math.round(p),vastData:{Id:m,Title:g,System:w}})))})}function tr(e,t){let r=E,o=r(()=>e?.querySelectorAll(\"VAST Ad\"));o&&Array.from(o).forEach(s=>{let u=s.querySelector(\"Creatives Creative\");if(!u)return;let h=u.querySelector(\"MediaFiles\");if(!h)return;let f=r(()=>u.querySelector(\"VideoClicks ClickThrough\").textContent.trim())||r(()=>document.querySelector(\".AdUnitView a\").href.trim()),p=r(()=>Tt(u.querySelector(\"Duration\").textContent)),m=r(()=>h.querySelector(\"MediaFile[type=\\'video/mp4\\'],MediaFile[type=\\'application/dash+xml\\'],MediaFile[type=\\'video/mpd\\']\").textContent.trim());if(!m){let l=u.querySelector(\"AdParameters\"),i={},n,c=new RegExp(\"<(\\\\\\\\w+)>([^<]+)</\\\\\\\\1>\",\"gi\");for(;(n=c.exec(l.textContent))!==null;)i[n[1]]=n[2];p=r(()=>Tt(i.adDuration)),f=r(()=>i.clickUrl);let a=i.JsParameters;if(!a)return;let x=JSON.parse(a);m=r(()=>x.videos[0].url),m&&(p=p||x.duration,f=f||x.clickThruUrl||x.clickThroughUrl)}if(!m)return;let g=u.getAttribute(\"AdID\")||u.getAttribute(\"AdId\")||u.getAttribute(\"adid\")||s.getAttribute(\"id\");if(!g)return;F()===\"peacocktv.com\"&&(g=g.split(\".\")[0]);let w=r(()=>s.querySelector(\"AdTitle\").textContent.trim()),v=r(()=>s.querySelector(\"AdSystem\").textContent.trim()),R=s.querySelector(\"Extension\"),b=r(()=>R.querySelector(\"CreativeParameter[name=\\'_fw_advertiser_name\\']\").textContent.trim())||r(()=>R.querySelector(\"CreativeParameter[name=\\'fw_advertiser_name\\']\").textContent.trim())||r(()=>R.querySelector(\"CreativeParameter[name=\\'fw_advertiser\\']\").textContent.trim()),q=r(()=>R.querySelector(\"CreativeParameter[name=\\'fw_brand\\']\").textContent.trim()),A=r(()=>R.querySelector(\"CreativeParameter[name=\\'industry\\']\").textContent.trim()),d=r(()=>R.querySelector(\"CreativeParameter[name=\\'ccr_measurement\\']\").textContent.trim());t.push(j(m,M).then(l=>new _({width:1920,height:1080,sourceUrls:[new y({url:m,urlType:4}),new y({url:f,urlType:8}),new y({url:d,urlType:0})].filter(i=>i.url),hash:btoa(l)||g,type:3,duration:Math.round(p),vastData:{Id:g,Adv:b,Brand:q,Cat:A,Title:w,System:v}})))})}var ae=Vt(vt(),1);function er(e){return e?new URL(e).searchParams.get(\"v\"):null}var Mt;function wt(){return Mt||(Mt=document.querySelector(\"#movie_player\")),Mt}function rr(){return E(()=>{let e=JSON.parse(wt().getDebugText());return e.ad_debug_videoId||e.addebug_videoId||e.ad_videoId})}function nr(){return E(()=>{let e=document.querySelector(\"#upload-info a.yt-simple-endpoint\"),t=e.href.split(\"/\");return{youTubeChannelId:t[t.length-1],youTubeChannelName:e.textContent.trim(),youTubeVideoId:E(()=>er(window.location.href))}})}function ir(){let e=E(()=>document.querySelector(\".ytp-ad-player-overlay-instream-info .ytp-ad-button-text\").textContent);if(e&&ar.test(e)){let t=e.indexOf(\"http://\")===0||e.indexOf(\"https://\")===0?e:\"https://\"+e.toLowerCase();return new y({url:t,urlType:8})}return null}function or(e){return e?btoa(ae.default.hash(\"YouTube+\"+e,!0)):null}function sr(){return E(()=>wt().getAdState()>0||JSON.parse(wt().getDebugText()).addebug_videoId)}var ar=new RegExp(\"^(?:https?://)?[a-z0-9.-]+(\\\\\\\\.[a-z]+)+(?:$|/)\"),ce={};function se(e){[e?.playerAds??[],e?.adPlacements??[]].flat().map(t=>(t.adPlacementRenderer?.renderer?.linearAdSequenceRenderer?.linearAds?.map(r=>r?.instreamVideoAdRenderer)??[]).concat([t.adPlacementRenderer?.renderer?.instreamVideoAdRenderer])).flat().filter(t=>t).map(function(t){let r=t?.playerOverlay?.instreamAdPlayerOverlayRenderer?.visitAdvertiserRenderer?.buttonRenderer?.navigationEndpoint?.urlEndpoint?.url;return r?{videoId:t.externalVideoId,lp:r}:null}).filter(t=>t).reduce((t,r)=>Object.assign(t,{[r.videoId]:new y({url:r.lp,urlType:8})}),ce)}function ue(){try{if(G((p,m,g,w)=>{try{if(!w||!w.includes(\"/ad_break?\")&&!w.includes(\"/player?\"))return;se(JSON.parse(p))}catch(v){S(v)}}),!sr())return B();se(window.ytInitialPlayerResponse);let e=0,t=640,r=360,o=0,s=0,u=wt(),h=u.querySelector(\"a.ytp-title-link\"),f=u.querySelector(\"video\");if(f){e=f.duration||0;let p=U(f);t=p?.width||t,r=p?.height||r,o=p?.left||o,s=p?.top||s}P(()=>{let p=rr()||void 0,m=ce[p]??ir(),g=nr(),w=m?[m]:[],v=new _({x:o,y:s,width:t,height:r,text:h?.textContent,sourceUrls:w,hash:or(p),type:3,duration:Math.round(e),youTubeId:p});N([v],g)})}catch(e){S(e)}}var it=class{constructor(t=null){this.log=t,this.#t.log=t??(()=>{})}simplifyTree(t){let r;for(;;){if(r=this.#t[t.r],!r)throw new Error(`Rule ${t.r} not implemented.`);if(r!==this.#t.PassOn||!t.c||!t.c.length)break;t=t.c[0]}return t.c&&t.c.length&&(t.c=t.c.map(o=>this.simplifyTree(o))),t}debugPrintParseTree(t,r=0){this.log(`${\" \".repeat(r*2)}${t.r}: ${this.#t.GetText(t)}`),t.c&&t.c.length&&t.c.forEach(o=>this.debugPrintParseTree(o,r+1))}isValidRuleName(t){return t.indexOf(\"TerminalNode\")===0||!!this.#t[t]}evaluate(t,r){return this.#t.evaluate(t,r)}#t=class{static#s=0;static evaluate(t,r,o){try{if(!this[t.r])throw new Error(t.r+\" is not a parser rule function.\");return this[t.r](t,r,o)}catch(s){this.log(\"Error \"+t.r+\\' at \"\\'+this.GetText(t)+\\'\": \\'+s)}}static#i=new RegExp(`(?:^[\\'\"])|(?:[\\'\"]$)`,\"g\");static#o=new RegExp(\"\\\\\\\\s+\",\"g\");static#a=this;static PassOn(t,r){return this.evaluate(t.c[0],r)}static NoOp(t){this.log(`Unimplemented rule: ${t.r} at \"${this.GetText(t.t)}\".`)}static ExpStmt=this.PassOn;static ExpSequence=this.PassOn;static LitExp=this.PassOn;static Literal=this.PassOn;static ArrayLitExp=this.PassOn;static ArrayLit=this.PassOn;static ArrowFuncBody=this.PassOn;static ObjectLitExp=this.PassOn;static IdName=this.PassOn;static MultOperator=this.NoOp;static AdditionOperator=this.NoOp;static RelationalOperator=this.NoOp;static EqualityOperator=this.NoOp;static ReservedWord=this.NoOp;static AssignExp=this.NoOp;static VarModifier=this.NoOp;static FormalParameterList=this.NoOp;static FormalParameterArg=this.NoOp;static PropAssign=this.NoOp;static Exp=this.NoOp;static Assignable=this.NoOp;static AnonFunc=this.NoOp;static ArrowFuncParameters=this.NoOp;static PropName(t){return t.c?t.c[0].t:this.#r(t.t)}static ObjectLit(t,r){let o={};return t.c.forEach(s=>this.PropExpAssign(s,r,o)),o}static PropExpAssign(t,r,o){let s=this.evaluate(t.c[0],r),u=this.evaluate(t.c[1],r);o[s]=u}static#r(t){return t?.replaceAll(this.#i,\"\")}static StrLit(t){return this.#r(t?.t)}static NumLit(t){return Number.parseFloat(t?.t)}static IntLit(t){return Number.parseInt(t?.t)}static BoolLit(t){return t.t&&t.t==\"true\"}static NullLit(){return null}static IdExp(t,r){return this.evaluate(t.c[0],r)}static Id(t,r){return r[t.t]}static FuncExp(t,r){return this.evaluate(t.c[0],r)}static ArrowFunc(t,r){let o=t.c[0]?.c?.map(u=>this.#e(u)).flat(),s=this;return function(...u){o.forEach((f,p)=>{r[f]=u[p]});let h=s.evaluate(t.c[1],r);return o.forEach(f=>{delete r[f]}),h}}static AnonFuncDecl(t,r){let o=t.c[0]?.c?.map(u=>this.#e(u)).flat(),s=this;return function(...u){o.forEach((f,p)=>{r[f]=u[p]});let h=s.evaluate(t.c[1],r);return o.forEach(f=>{delete r[f]}),h}}static#e(t,r=null){return r=r??[],t.c?.forEach(o=>this.#e(o,r)),t.t&&r.push(t.t),r}static#c(t,r=0){this.log(`${\"  \".repeat(r)}${t.r}: ${this.GetText(t)}`)}static GetText(t){return this.#e(t).join(\" \")}static ElementList(t,r){return t.c.map(o=>this.evaluate(o,r))}static ArrayElem=this.PassOn;static ArgsExp(t,r){let o=t.c[0],s=this.evaluate(t.c[1],r),u=this.evaluate(o,r,s);return typeof u==\"function\"&&(u=u.apply(o._this??null,s)),delete o._this,u}static Args(t,r){return t.c.map(o=>this.evaluate(o,r))}static Arg(t,r){return this.evaluate(t.c[0],r)}static MemberDotExp(t,r,o){return this.#n(t,r,o,!0)}static MemberIndexExp(t,r,o){return this.#n(t,r,o)}static#n(t,r,o,s){let u=this.evaluate(t.c[0],r),h=s?t.c[1].t:this.evaluate(t.c[1],r);return this[\"_x_\"+h]?this[\"_x_\"+h](u,...o??[]):(t._this=u,u[h])}static ErrorNodeImpl(t){this.log(`Error parsing ${t.r} at ${t.t} (unexpected token?)`)}static AdditiveExp(t,r){switch(t.c[1].t){case\"+\":return this.evaluate(t.c[0],r)+this.evaluate(t.c[2],r);case\"-\":return this.evaluate(t.c[0],r)-this.evaluate(t.c[2],r);default:throw new Error(\"Unknown binary operator \"+t.c[1].t)}}static MultiplicativeExp(t,r){switch(t.c[1].t){case\"*\":return this.evaluate(t.c[0],r)*this.evaluate(t.c[2],r);case\"/\":return this.evaluate(t.c[0],r)/this.evaluate(t.c[2],r);case\"%\":return this.evaluate(t.c[0],r)%this.evaluate(t.c[2],r);default:throw new Error(\"Unknown binary operator \"+t.c[1].t)}}static RelationalExp(t,r){switch(t.c[1].t){case\">\":return this.evaluate(t.c[0],r)>this.evaluate(t.c[2],r);case\"<\":return this.evaluate(t.c[0],r)<this.evaluate(t.c[2],r);case\">=\":return this.evaluate(t.c[0],r)>=this.evaluate(t.c[2],r);case\"<=\":return this.evaluate(t.c[0],r)<=this.evaluate(t.c[2],r);default:throw new Error(\"Unknown binary operator \"+t.c[1].t)}}static EqualityExp(t,r){switch(t.c[1].t){case\"==\":return this.evaluate(t.c[0],r)==this.evaluate(t.c[2],r);case\"!=\":return this.evaluate(t.c[0],r)!=this.evaluate(t.c[2],r);case\"===\":return this.evaluate(t.c[0],r)===this.evaluate(t.c[2],r);case\"!==\":return this.evaluate(t.c[0],r)!==this.evaluate(t.c[2],r);default:throw new Error(\"Unknown binary operator \"+t.c[1].t)}}static TernaryExp(t,r){return this.evaluate(t.c[0],r)?this.evaluate(t.c[1],r):this.evaluate(t.c[2],r)}static CoalesceExp(t,r){return this.evaluate(t.c[0],r)??this.evaluate(t.c[1],r)}static InstanceofExp(t,r){return this.evaluate(t.c[0],r)instanceof this.evaluate(t.c[1],r)}static LogicalAndExp(t,r){return this.evaluate(t.c[0],r)&&this.evaluate(t.c[1],r)}static LogicalOrExp(t,r){return this.evaluate(t.c[0],r)||this.evaluate(t.c[1],r)}static UnaryPlusExp(t,r){return+this.evaluate(t.c[0],r)}static UnaryMinusExp(t,r){return-this.evaluate(t.c[0],r)}static BitNotExp(t,r){return~this.evaluate(t.c[0],r)}static NotExp(t,r){return!this.evaluate(t.c[0],r)}static ParenthesizedExp(t,r){return this.evaluate(t.c[0],r)}static Eos(){return null}static _x_query(t,r){return Array.from(t?.querySelectorAll(r)??[])}static _x_where(t,r){return t?.filter(r)}static _x_select(t,...r){let o=r.length;if(!r||o===0)throw new Error(\"Method \\'select\\' expects on or more arrow functions.\");return t?.map((s,u)=>{if(o>1){let h=[];for(let f=0;f<o-1;f++)h[f]=r[f](s,...f==0?[u]:h);return r[o-1](s,...h)}else return r[0](s,u)})}static _x_width(t){return t?.offsetWidth}static _x_height(t){return t?.offsetHeight}static _x_text(t){return t?.textContent?.trim()?.replaceAll(this.#o,\" \")}static _x_parent(t){return t?.parentNode}static _x_matchRegExp(t,r,o){return t.match(new RegExp(r,o))}}};function Ot(e){if(e.checkVisibility&&!e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}))return!1;let t=e.ownerDocument,r=t.defaultView,o=r?.getComputedStyle(e);if(o&&(o.opacity===\"0\"||o.visibility===\"hidden\"))return!1;let s=e.getBoundingClientRect();if(!s||s.width<=0||s.height<=0)return!1;let{top:u,left:h,right:f,bottom:p}=s;if(f<0||p<0)return!1;let m=r?.innerWidth||t.documentElement.clientWidth,g=r?.innerHeight||t.documentElement.clientHeight;if(u>g||h>m)return!1;let w=e.parentNode;if(w&&w instanceof Element&&getComputedStyle(w).overflow===\"hidden\"){let v=w.getBoundingClientRect();if(p<v.top||u>v.bottom||f<v.left||h>v.right)return!1}return!0}function le(e,t){return r=>new Promise(o=>{let s=e+\"-response\",u=Math.random(),h=p=>{let{type:m,payload:g,nonce:w}=p.data??{};m!==s||w!==u||(o(g),f())},f=()=>{window.removeEventListener(\"message\",h)};window.addEventListener(\"message\",h),s===\"getFrameId-response\"?r.postMessage(new T(\"getFrameId\",u),\"*\"):window.postMessage({type:e,nonce:u,payload:r},\"*\"),t&&setTimeout(o,t)})}var de,fe,pe,J,_t=new Set,bt=new Set,Ft=new Set,at=!1,Ut=[],me=[],Nt,M,D,gt,nt,C=typeof window>\"u\"?{location:{hostname:\"\"}}:window,I=C.top===C.self,cr=(Math.random()+1).toString(36).substring(2),ur=2e3,ge=7e3,lr=5*ge,hr=2e3;function st(e,t,...r){let o=setTimeout(e,t,...r);return _t.add(o),o}function ot(e,t,...r){let o=setInterval(e,t,...r);return bt.add(o),o}function Lt(e,t){let r=P(e,t);return r.isIdleCallback?Ft.add(r.id):_t.add(r.id),r}var dr={\"hulu.com\":[ne],\"netflix.com\":[oe],\"twitter.com\":[Rt],\"x.com\":[Rt],\"youtube.com\":[ue]};at||(typeof F<\"u\"&&(J=F()),typeof pt<\"u\"&&(pt()||ye())&&Yt());function ye(){return dr[J]}function fr(){if(!I||!nt)return;if(pt()){Pt();let s=new Set,u=()=>{let h=Array.from(C.frames).concat(Array.from(document.querySelectorAll(\"frame,iframe\")).map(f=>E(f.contentWindow)).filter(f=>f));for(let f=0;f<h.length;f++)try{let p=h[f];if(!p||s.has(p))continue;W(p,new T(Ct,et-(Date.now()-$))),s.add(p)}catch(p){S(p)}};u(),ot(u,5e3)}let e=Date.now(),t=ye(),r=function(s){e=Date.now(),Lt(async()=>{for(let u=0,h=t?.length;t&&u<h;u++)await t[u].call();I&&(t||s)&&B()},V-500)},o=ot(r,V);r(!0),ot(()=>{Date.now()-e>V*5&&(clearInterval(o),bt.delete(o),o=ot(r,V),r(!0))},V)}function we(){I&&(J=F(),_t=new Set,bt=new Set,Ft=new Set,ee(),B())}function pr(){if(!I)return;let e=D.AdRules.filter(o=>!o.Hostnames||o.Hostnames.startsWith(\"^\")&&!o.Hostnames.includes(J)),t=D.AdRules.filter(o=>o.Hostnames&&!o.Hostnames.startsWith(\"^\")&&o.Hostnames.includes(J)),r=e.concat(t);st(()=>{Pr();let o=ot(()=>{he(r)},ge);he(r),st(()=>{t.length?r=t:clearInterval(o)},lr)},ur)}var mr=new Set([\"facebook.com\",\"hulu.com\",\"netflix.com\",\"twitter.com\",\"x.com\"]);function Ae(){fr(),mr.has(J)||pr(),st(wr,et)}function gr(e){if(!I)return;let t=C.location.href.split(\"#\")[0];setInterval(()=>{let r=C.location.href.split(\"#\")[0];r!==t&&(t=r,e())},1e3)}function _e(){_t.forEach(e=>clearTimeout(e)),bt.forEach(e=>clearInterval(e)),Ft.forEach(e=>cancelIdleCallback(e))}function yr(){_e(),we(),Ae()}function wr(){It(),_e()}function Ar(e){at?ut(e,M).then(()=>window.dispatchEvent(new CustomEvent(\"displayAdFound\",{detail:e}))):te(e)}async function _r(e){try{let t=T.fromObject(e.data);if(!t)return;let r=t.data;switch(t.operation){case Ct:r>0&&(Pt(),st(It,r));break;case Et:N(r[0],r[1]);break;case\"extractDisplayAd\":I||await At(document.documentElement,r);break;case\"displayAdFound\":I&&Ar(r);break;case\"getFrameId\":W(e.source,{type:\"getFrameId-response\",payload:cr,nonce:r});break}}catch(t){S(t);return}}function br(){function e(){C.addEventListener(\"message\",_r,!0)}e();let t=setInterval(e,200);setTimeout(clearInterval,1e4,t)}function xr(e){fe=e.getInstallId,at=e.isRuleEditor,Nt=e.sendData,M=e.fetchHttpResponse,de=e.getExternalConfiguration?t=>e.getExternalConfiguration(t):null,Jt(e.pm_log)}function be(e){pe=le(\"getFrameId\",1e3),M=e.fetchHttpResponse,br(),I&&(xr(e),fe().then(t=>gt=t).then(t=>de()).then(t=>D=t||{EnabledPct:0}).then(t=>{nt=Array.from(gt).map(r=>r.charCodeAt(0)).reduce((r,o)=>r+o,0)%100<D.EnabledPct,nt&&(we(),Ae(),gr(yr))}))}async function vr(e,t){at||(I||(t.dedupeKey=await pe(e.ownerDocument.defaultView)),t.dedupeKey??=`${t.width}x${t.height} @ ${t.x},${t.y}`),W(top,new T(\"displayAdFound\",t))}async function Sr(e,t){if(e){let r=U(e);(t.isFromIFrame||e.nodeName!==\"IFRAME\")&&(t.x+=r.left,t.y+=r.top),t.sourceUrls.push(...await Q(e,t.depth)),t.text+=mt(e)+\" \";let o=Array.from(e.querySelectorAll(\"canvas, svg\"));o.length&&o.forEach(s=>Kt(s,t))}}async function At(e,t){if(await Sr(e,t),e.nodeName===\"IFRAME\"){t.depth++,t.outerHtml=e.outerHTML;try{await At(e.contentWindow.document.documentElement,t)}catch{W(e.contentWindow,new T(\"extractDisplayAd\",t));try{var r=e.contentWindow.frames;for(let s=0,u=r.length;s<u;s++)try{W(r[s],new T(\"extractDisplayAd\",t))}catch(h){S(h)}}catch(s){S(s)}}}else{e.nodeName===\"HTML\"&&(t.outerHtml+=`<!-- IFRAME Content -->${e.outerHTML}`);let o;if(t.isFromIFrame){if(e.scrollWidth<=t.width-5||e.scrollHeight<=t.height-5)return;o=Array.from(e.querySelectorAll(\"iframe\")).filter(s=>(s.scrollWidth>=t.width||s.scrollHeight>=t.height)&&s.scrollWidth>=_.minWidth&&s.scrollHeight>=_.minHeight&&Ot(s))}else o=Array.from(e.querySelectorAll(\"iframe\")).filter(s=>Ot(s)).sort((s,u)=>s.scrollWidth*s.scrollHeight-u.scrollWidth*u.scrollHeight).slice(0,1);o?.length?await Promise.allSettled(o.map(s=>{let u={...t,width:Math.min(t.width,s.offsetWidth),height:Math.min(t.height,s.offsetHeight),sourceUrls:t.sourceUrls.map(h=>h)};return At(s,u)})):(t.text=t.textOverride??t.text.trim(),vr(e,t))}}function Er(e,t,r){try{let o=new it,s=o.evaluate(t,{doc:document});Ut.forEach(u=>s.push(...o.evaluate(t,{doc:u}))),me.forEach(u=>{u.doc.defaultView&&s.push(...o.evaluate(t,{doc:u.doc}).map(h=>xe(h)?(h.x??=u.x,h.y??=u.y,h.depth??=u.depth,h):{element:h,x:u.x,y:u.y,depth:u.depth}))}),s&&s.forEach(async u=>await Ir(e,u,r))}catch{}}function Cr(e){e.forEach(t=>Er(t.Id,t.ParseTree))}async function Ir(e,t,r){let o={};xe(t)&&(o=t,t=t.element,delete o.element);let s=new _({width:t.offsetWidth,height:t.offsetHeight,adRuleId:e});s.isFromIFrame=t.nodeName===\"IFRAME\",at&&(s.adRuleName=r,s.tabUrl=location.href),Object.assign(s,o),await At(t,s)}function he(e){I&&Lt(t=>{t.didTimeout||(Cr(e),st(B,hr))},4e3)}function Tr(e){let t=Date.now(),r=null;for(;r=e[0];){for(var o=null;o=r.nextNode();)if(o.shadowRoot&&(e.push(document.createTreeWalker(o.shadowRoot,NodeFilter.SHOW_ELEMENT)),Ut.push(o.shadowRoot)),Date.now()-t>50)return!1;e.shift()}return!0}function Nr(){Ut=[];let e=[];try{e.push(document.createTreeWalker(document.body,NodeFilter.SHOW_ELEMENT))}catch{}let t=!1,r=0;for(;!t&&r++<100;)Lt(()=>t||=Tr(e))}function Rr(){me=Array.from(document.querySelectorAll(\"iframe\")).filter(e=>e.src&&new URL(e.src).origin==top.location.origin&&e.offsetWidth>=_.minWidth&&e.offsetHeight>=_.minHeight).map(e=>{try{let t=e.contentWindow,r=U(e),o=r.left,s=r.top,u=1;for(;t?.parent&&t.parent!==top;)t=t.parent,r=U(t.frameElement),o+=r.left,s+=r.top,u++;return{doc:e.contentDocument,x:o,y:s,depth:u}}catch{return null}}).filter(e=>e)}function Pr(){Nr(),Rr()}function xe(e){return!(e instanceof Node)&&e.element}function ve(...e){console.log(\"[injected-script]\",...Array.isArray(e)?e:[e])}function xt(e,t){return r=>new Promise(o=>{let s=t+\"-response\",u=Math.random(),h=p=>{let{type:m,payload:g,nonce:w}=p.data??{};m!==s||w!==u||(e?.(\"Got response:\",{name:t,payload:r,response:g}),o(g),f())},f=()=>{window.removeEventListener(\"message\",h)};window.addEventListener(\"message\",h),e?.(\"Sending message:\",{name:t,payload:r}),window.postMessage({type:t,payload:r,nonce:u},\"*\")})}function Se(e,t){return r=>{e?.(\"Sending message:\",{type:t,payload:r}),window.postMessage({type:t,payload:r},\"*\")}}var Ee=\"ads#INIT\",Ce=\"ads#SEND_DATA\",Ie=\"ads#GET_INSTALL_ID\",Te=\"ads#GET_EXTERNAL_CONFIG\",Ne=\"ads#FETCH_HTTP_RESPONSE\";function Re(e){let t=e.enableLogs?ve:void 0;t?.(\"Recieved init event\",{config:e});let r=Se(t,Ce),o=xt(t,Ie),s=xt(t,Te),u=xt(t,Ne);be({getInstallId:o,fetchHttpResponse:u,sendData:r,pm_log:t,getExternalConfiguration:s})}function Mr(){window.addEventListener(\"message\",({data:e})=>{e?.type===Ee&&Re(e.payload)})}Mr();})();\\n';\nvar te = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {};\nfunction J(r) {\n  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, \"default\") ? r.default : r;\n}\nvar re = { exports: {} };\n(function(r, t) {\n  (function(e, s) {\n    s(r);\n  })(typeof globalThis < \"u\" ? globalThis : typeof self < \"u\" ? self : te, function(e) {\n    var s, a;\n    if (!((a = (s = globalThis.chrome) == null ? void 0 : s.runtime) != null && a.id))\n      throw new Error(\"This script should only be loaded in a browser extension.\");\n    if (typeof globalThis.browser > \"u\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n      const o = \"The message port closed before a response was received.\", f = (g) => {\n        const n = {\n          alarms: {\n            clear: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            clearAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            get: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          bookmarks: {\n            create: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getChildren: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getRecent: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getSubTree: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTree: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            move: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeTree: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          browserAction: {\n            disable: {\n              minArgs: 0,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            enable: {\n              minArgs: 0,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            getBadgeBackgroundColor: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getBadgeText: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getPopup: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTitle: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            openPopup: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            setBadgeBackgroundColor: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setBadgeText: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setIcon: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            setPopup: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setTitle: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          browsingData: {\n            remove: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            removeCache: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeCookies: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeDownloads: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeFormData: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeHistory: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeLocalStorage: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removePasswords: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removePluginData: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            settings: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          commands: {\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          contextMenus: {\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          cookies: {\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAllCookieStores: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            set: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          devtools: {\n            inspectedWindow: {\n              eval: {\n                minArgs: 1,\n                maxArgs: 2,\n                singleCallbackArg: !1\n              }\n            },\n            panels: {\n              create: {\n                minArgs: 3,\n                maxArgs: 3,\n                singleCallbackArg: !0\n              },\n              elements: {\n                createSidebarPane: {\n                  minArgs: 1,\n                  maxArgs: 1\n                }\n              }\n            }\n          },\n          downloads: {\n            cancel: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            download: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            erase: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getFileIcon: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            open: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            pause: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeFile: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            resume: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            show: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          extension: {\n            isAllowedFileSchemeAccess: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            isAllowedIncognitoAccess: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          history: {\n            addUrl: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            deleteAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            deleteRange: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            deleteUrl: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getVisits: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          i18n: {\n            detectLanguage: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAcceptLanguages: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          identity: {\n            launchWebAuthFlow: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          idle: {\n            queryState: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          management: {\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getSelf: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            setEnabled: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            uninstallSelf: {\n              minArgs: 0,\n              maxArgs: 1\n            }\n          },\n          notifications: {\n            clear: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            create: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getPermissionLevel: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          pageAction: {\n            getPopup: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTitle: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            hide: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setIcon: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            setPopup: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setTitle: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            show: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          permissions: {\n            contains: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            request: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          runtime: {\n            getBackgroundPage: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getPlatformInfo: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            openOptionsPage: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            requestUpdateCheck: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            sendMessage: {\n              minArgs: 1,\n              maxArgs: 3\n            },\n            sendNativeMessage: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            setUninstallURL: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          sessions: {\n            getDevices: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getRecentlyClosed: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            restore: {\n              minArgs: 0,\n              maxArgs: 1\n            }\n          },\n          storage: {\n            local: {\n              clear: {\n                minArgs: 0,\n                maxArgs: 0\n              },\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              remove: {\n                minArgs: 1,\n                maxArgs: 1\n              },\n              set: {\n                minArgs: 1,\n                maxArgs: 1\n              }\n            },\n            managed: {\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              }\n            },\n            sync: {\n              clear: {\n                minArgs: 0,\n                maxArgs: 0\n              },\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              remove: {\n                minArgs: 1,\n                maxArgs: 1\n              },\n              set: {\n                minArgs: 1,\n                maxArgs: 1\n              }\n            }\n          },\n          tabs: {\n            captureVisibleTab: {\n              minArgs: 0,\n              maxArgs: 2\n            },\n            create: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            detectLanguage: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            discard: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            duplicate: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            executeScript: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getCurrent: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getZoom: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getZoomSettings: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            goBack: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            goForward: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            highlight: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            insertCSS: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            move: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            query: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            reload: {\n              minArgs: 0,\n              maxArgs: 2\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeCSS: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            sendMessage: {\n              minArgs: 2,\n              maxArgs: 3\n            },\n            setZoom: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            setZoomSettings: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            update: {\n              minArgs: 1,\n              maxArgs: 2\n            }\n          },\n          topSites: {\n            get: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          webNavigation: {\n            getAllFrames: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getFrame: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          webRequest: {\n            handlerBehaviorChanged: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          windows: {\n            create: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getCurrent: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getLastFocused: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          }\n        };\n        if (Object.keys(n).length === 0)\n          throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n        class c extends WeakMap {\n          constructor(p, E = void 0) {\n            super(E), this.createItem = p;\n          }\n          get(p) {\n            return this.has(p) || this.set(p, this.createItem(p)), super.get(p);\n          }\n        }\n        const l = (i) => i && typeof i == \"object\" && typeof i.then == \"function\", u = (i, p) => (...E) => {\n          g.runtime.lastError ? i.reject(new Error(g.runtime.lastError.message)) : p.singleCallbackArg || E.length <= 1 && p.singleCallbackArg !== !1 ? i.resolve(E[0]) : i.resolve(E);\n        }, d = (i) => i == 1 ? \"argument\" : \"arguments\", A = (i, p) => function(T, ...N) {\n          if (N.length < p.minArgs)\n            throw new Error(`Expected at least ${p.minArgs} ${d(p.minArgs)} for ${i}(), got ${N.length}`);\n          if (N.length > p.maxArgs)\n            throw new Error(`Expected at most ${p.maxArgs} ${d(p.maxArgs)} for ${i}(), got ${N.length}`);\n          return new Promise((P, R) => {\n            if (p.fallbackToNoCallback)\n              try {\n                T[i](...N, u({\n                  resolve: P,\n                  reject: R\n                }, p));\n              } catch (b) {\n                console.warn(`${i} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `, b), T[i](...N), p.fallbackToNoCallback = !1, p.noCallback = !0, P();\n              }\n            else\n              p.noCallback ? (T[i](...N), P()) : T[i](...N, u({\n                resolve: P,\n                reject: R\n              }, p));\n          });\n        }, C = (i, p, E) => new Proxy(p, {\n          apply(T, N, P) {\n            return E.call(N, i, ...P);\n          }\n        });\n        let S = Function.call.bind(Object.prototype.hasOwnProperty);\n        const O = (i, p = {}, E = {}) => {\n          let T = /* @__PURE__ */ Object.create(null), N = {\n            has(R, b) {\n              return b in i || b in T;\n            },\n            get(R, b, M) {\n              if (b in T)\n                return T[b];\n              if (!(b in i))\n                return;\n              let I = i[b];\n              if (typeof I == \"function\")\n                if (typeof p[b] == \"function\")\n                  I = C(i, i[b], p[b]);\n                else if (S(E, b)) {\n                  let q = A(b, E[b]);\n                  I = C(i, i[b], q);\n                } else\n                  I = I.bind(i);\n              else if (typeof I == \"object\" && I !== null && (S(p, b) || S(E, b)))\n                I = O(I, p[b], E[b]);\n              else if (S(E, \"*\"))\n                I = O(I, p[b], E[\"*\"]);\n              else\n                return Object.defineProperty(T, b, {\n                  configurable: !0,\n                  enumerable: !0,\n                  get() {\n                    return i[b];\n                  },\n                  set(q) {\n                    i[b] = q;\n                  }\n                }), I;\n              return T[b] = I, I;\n            },\n            set(R, b, M, I) {\n              return b in T ? T[b] = M : i[b] = M, !0;\n            },\n            defineProperty(R, b, M) {\n              return Reflect.defineProperty(T, b, M);\n            },\n            deleteProperty(R, b) {\n              return Reflect.deleteProperty(T, b);\n            }\n          }, P = Object.create(i);\n          return new Proxy(P, N);\n        }, x = (i) => ({\n          addListener(p, E, ...T) {\n            p.addListener(i.get(E), ...T);\n          },\n          hasListener(p, E) {\n            return p.hasListener(i.get(E));\n          },\n          removeListener(p, E) {\n            p.removeListener(i.get(E));\n          }\n        }), v = new c((i) => typeof i != \"function\" ? i : function(E) {\n          const T = O(\n            E,\n            {},\n            {\n              getContent: {\n                minArgs: 0,\n                maxArgs: 0\n              }\n            }\n          );\n          i(T);\n        }), _ = new c((i) => typeof i != \"function\" ? i : function(E, T, N) {\n          let P = !1, R, b = new Promise((B) => {\n            R = function(L) {\n              P = !0, B(L);\n            };\n          }), M;\n          try {\n            M = i(E, T, R);\n          } catch (B) {\n            M = Promise.reject(B);\n          }\n          const I = M !== !0 && l(M);\n          if (M !== !0 && !I && !P)\n            return !1;\n          const q = (B) => {\n            B.then((L) => {\n              N(L);\n            }, (L) => {\n              let G;\n              L && (L instanceof Error || typeof L.message == \"string\") ? G = L.message : G = \"An unexpected error occurred\", N({\n                __mozWebExtensionPolyfillReject__: !0,\n                message: G\n              });\n            }).catch((L) => {\n              console.error(\"Failed to send onMessage rejected reply\", L);\n            });\n          };\n          return q(I ? M : b), !0;\n        }), y = ({\n          reject: i,\n          resolve: p\n        }, E) => {\n          g.runtime.lastError ? g.runtime.lastError.message === o ? p() : i(new Error(g.runtime.lastError.message)) : E && E.__mozWebExtensionPolyfillReject__ ? i(new Error(E.message)) : p(E);\n        }, w = (i, p, E, ...T) => {\n          if (T.length < p.minArgs)\n            throw new Error(`Expected at least ${p.minArgs} ${d(p.minArgs)} for ${i}(), got ${T.length}`);\n          if (T.length > p.maxArgs)\n            throw new Error(`Expected at most ${p.maxArgs} ${d(p.maxArgs)} for ${i}(), got ${T.length}`);\n          return new Promise((N, P) => {\n            const R = y.bind(null, {\n              resolve: N,\n              reject: P\n            });\n            T.push(R), E.sendMessage(...T);\n          });\n        }, h = {\n          devtools: {\n            network: {\n              onRequestFinished: x(v)\n            }\n          },\n          runtime: {\n            onMessage: x(_),\n            onMessageExternal: x(_),\n            sendMessage: w.bind(null, \"sendMessage\", {\n              minArgs: 1,\n              maxArgs: 3\n            })\n          },\n          tabs: {\n            sendMessage: w.bind(null, \"sendMessage\", {\n              minArgs: 2,\n              maxArgs: 3\n            })\n          }\n        }, m = {\n          clear: {\n            minArgs: 1,\n            maxArgs: 1\n          },\n          get: {\n            minArgs: 1,\n            maxArgs: 1\n          },\n          set: {\n            minArgs: 1,\n            maxArgs: 1\n          }\n        };\n        return n.privacy = {\n          network: {\n            \"*\": m\n          },\n          services: {\n            \"*\": m\n          },\n          websites: {\n            \"*\": m\n          }\n        }, O(g, h, n);\n      };\n      e.exports = f(chrome);\n    } else\n      e.exports = globalThis.browser;\n  });\n})(re);\nvar ue = re.exports;\nconst F = /* @__PURE__ */ J(ue);\nvar X = { exports: {} };\nX.exports;\n(function(r) {\n  var t = function() {\n    var e = String.fromCharCode, s = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", a = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\", o = {};\n    function f(n, c) {\n      if (!o[n]) {\n        o[n] = {};\n        for (var l = 0; l < n.length; l++)\n          o[n][n.charAt(l)] = l;\n      }\n      return o[n][c];\n    }\n    var g = {\n      compressToBase64: function(n) {\n        if (n == null)\n          return \"\";\n        var c = g._compress(n, 6, function(l) {\n          return s.charAt(l);\n        });\n        switch (c.length % 4) {\n          default:\n          case 0:\n            return c;\n          case 1:\n            return c + \"===\";\n          case 2:\n            return c + \"==\";\n          case 3:\n            return c + \"=\";\n        }\n      },\n      decompressFromBase64: function(n) {\n        return n == null ? \"\" : n == \"\" ? null : g._decompress(n.length, 32, function(c) {\n          return f(s, n.charAt(c));\n        });\n      },\n      compressToUTF16: function(n) {\n        return n == null ? \"\" : g._compress(n, 15, function(c) {\n          return e(c + 32);\n        }) + \" \";\n      },\n      decompressFromUTF16: function(n) {\n        return n == null ? \"\" : n == \"\" ? null : g._decompress(n.length, 16384, function(c) {\n          return n.charCodeAt(c) - 32;\n        });\n      },\n      //compress into uint8array (UCS-2 big endian format)\n      compressToUint8Array: function(n) {\n        for (var c = g.compress(n), l = new Uint8Array(c.length * 2), u = 0, d = c.length; u < d; u++) {\n          var A = c.charCodeAt(u);\n          l[u * 2] = A >>> 8, l[u * 2 + 1] = A % 256;\n        }\n        return l;\n      },\n      //decompress from uint8array (UCS-2 big endian format)\n      decompressFromUint8Array: function(n) {\n        if (n == null)\n          return g.decompress(n);\n        for (var c = new Array(n.length / 2), l = 0, u = c.length; l < u; l++)\n          c[l] = n[l * 2] * 256 + n[l * 2 + 1];\n        var d = [];\n        return c.forEach(function(A) {\n          d.push(e(A));\n        }), g.decompress(d.join(\"\"));\n      },\n      //compress into a string that is already URI encoded\n      compressToEncodedURIComponent: function(n) {\n        return n == null ? \"\" : g._compress(n, 6, function(c) {\n          return a.charAt(c);\n        });\n      },\n      //decompress from an output of compressToEncodedURIComponent\n      decompressFromEncodedURIComponent: function(n) {\n        return n == null ? \"\" : n == \"\" ? null : (n = n.replace(/ /g, \"+\"), g._decompress(n.length, 32, function(c) {\n          return f(a, n.charAt(c));\n        }));\n      },\n      compress: function(n) {\n        return g._compress(n, 16, function(c) {\n          return e(c);\n        });\n      },\n      _compress: function(n, c, l) {\n        if (n == null)\n          return \"\";\n        var u, d, A = {}, C = {}, S = \"\", O = \"\", x = \"\", v = 2, _ = 3, y = 2, w = [], h = 0, m = 0, i;\n        for (i = 0; i < n.length; i += 1)\n          if (S = n.charAt(i), Object.prototype.hasOwnProperty.call(A, S) || (A[S] = _++, C[S] = !0), O = x + S, Object.prototype.hasOwnProperty.call(A, O))\n            x = O;\n          else {\n            if (Object.prototype.hasOwnProperty.call(C, x)) {\n              if (x.charCodeAt(0) < 256) {\n                for (u = 0; u < y; u++)\n                  h = h << 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++;\n                for (d = x.charCodeAt(0), u = 0; u < 8; u++)\n                  h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n              } else {\n                for (d = 1, u = 0; u < y; u++)\n                  h = h << 1 | d, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = 0;\n                for (d = x.charCodeAt(0), u = 0; u < 16; u++)\n                  h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n              }\n              v--, v == 0 && (v = Math.pow(2, y), y++), delete C[x];\n            } else\n              for (d = A[x], u = 0; u < y; u++)\n                h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n            v--, v == 0 && (v = Math.pow(2, y), y++), A[O] = _++, x = String(S);\n          }\n        if (x !== \"\") {\n          if (Object.prototype.hasOwnProperty.call(C, x)) {\n            if (x.charCodeAt(0) < 256) {\n              for (u = 0; u < y; u++)\n                h = h << 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++;\n              for (d = x.charCodeAt(0), u = 0; u < 8; u++)\n                h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n            } else {\n              for (d = 1, u = 0; u < y; u++)\n                h = h << 1 | d, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = 0;\n              for (d = x.charCodeAt(0), u = 0; u < 16; u++)\n                h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n            }\n            v--, v == 0 && (v = Math.pow(2, y), y++), delete C[x];\n          } else\n            for (d = A[x], u = 0; u < y; u++)\n              h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n          v--, v == 0 && (v = Math.pow(2, y), y++);\n        }\n        for (d = 2, u = 0; u < y; u++)\n          h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n        for (; ; )\n          if (h = h << 1, m == c - 1) {\n            w.push(l(h));\n            break;\n          } else\n            m++;\n        return w.join(\"\");\n      },\n      decompress: function(n) {\n        return n == null ? \"\" : n == \"\" ? null : g._decompress(n.length, 32768, function(c) {\n          return n.charCodeAt(c);\n        });\n      },\n      _decompress: function(n, c, l) {\n        var u = [], d = 4, A = 4, C = 3, S = \"\", O = [], x, v, _, y, w, h, m, i = { val: l(0), position: c, index: 1 };\n        for (x = 0; x < 3; x += 1)\n          u[x] = x;\n        for (_ = 0, w = Math.pow(2, 2), h = 1; h != w; )\n          y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n        switch (_) {\n          case 0:\n            for (_ = 0, w = Math.pow(2, 8), h = 1; h != w; )\n              y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n            m = e(_);\n            break;\n          case 1:\n            for (_ = 0, w = Math.pow(2, 16), h = 1; h != w; )\n              y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n            m = e(_);\n            break;\n          case 2:\n            return \"\";\n        }\n        for (u[3] = m, v = m, O.push(m); ; ) {\n          if (i.index > n)\n            return \"\";\n          for (_ = 0, w = Math.pow(2, C), h = 1; h != w; )\n            y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n          switch (m = _) {\n            case 0:\n              for (_ = 0, w = Math.pow(2, 8), h = 1; h != w; )\n                y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n              u[A++] = e(_), m = A - 1, d--;\n              break;\n            case 1:\n              for (_ = 0, w = Math.pow(2, 16), h = 1; h != w; )\n                y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n              u[A++] = e(_), m = A - 1, d--;\n              break;\n            case 2:\n              return O.join(\"\");\n          }\n          if (d == 0 && (d = Math.pow(2, C), C++), u[m])\n            S = u[m];\n          else if (m === A)\n            S = v + v.charAt(0);\n          else\n            return null;\n          O.push(S), u[A++] = v + S.charAt(0), d--, v = S, d == 0 && (d = Math.pow(2, C), C++);\n        }\n      }\n    };\n    return g;\n  }();\n  r != null && (r.exports = t);\n})(X);\nvar he = X.exports;\nconst K = /* @__PURE__ */ J(he);\nfunction de(r) {\n  const t = K.decompressFromUint8Array(new Uint8Array(r));\n  if (t == null)\n    throw Error(\"Failed to convert string to ArrayBuffer\");\n  return t;\n}\nasync function Z(r) {\n  if (!r.byteLength)\n    return \"\";\n  const t = new Blob([r]), e = await new Promise((s, a) => {\n    const o = new FileReader();\n    o.onload = () => {\n      typeof o.result == \"string\" && s(o.result), a(Error(\"Failed to read buffer as string, got \" + typeof o.result));\n    }, o.onerror = () => a(o.error), o.onabort = () => a(\"FileReader aborted\"), o.readAsDataURL(t);\n  });\n  return (e == null ? void 0 : e.split(\",\").pop()) || \"\";\n}\nfunction fe(r) {\n  if (!r)\n    return Promise.resolve(new ArrayBuffer(0));\n  try {\n    const t = \"data:application/octet-binary;base64,\" + r;\n    return fetch(t).then(\n      (e) => e.arrayBuffer(),\n      () => new ArrayBuffer(0)\n    );\n  } catch {\n    return Promise.resolve(new ArrayBuffer(0));\n  }\n}\nvar U = /* @__PURE__ */ ((r) => (r.UPLOAD_CRAWL = \"ads#CRAWL\", r.GET_PM_EXTERNAL_CONFIG = \"ads#GET_EXTERNAL_CONFIGURATION\", r.FETCH_HTTP_RESPONSE = \"ads#FETCH_HTTP_RESPONSE\", r))(U || {});\nfunction $(r) {\n  try {\n    return JSON.parse(r);\n  } catch {\n    return;\n  }\n}\nasync function ge(r) {\n  return (await F.storage.local.get(r))[r];\n}\nasync function ne(r, t) {\n  const e = {};\n  e[r] = t, await F.storage.local.set(e);\n}\nasync function Y(r, t, e) {\n  let s = await (e ? null : ge(r));\n  return s == null && (s = await t(), await ne(r, s)), s;\n}\nfunction ie(r) {\n  return r.split(\".\").slice(r.endsWith(\".uk\") || r.endsWith(\".jp\") ? -3 : -2).join(\".\");\n}\nasync function Q(r) {\n  const t = await Y(\"configTs\", Date.now), e = Date.now() - t > 18e5;\n  return Y(\"config\", async () => {\n    const a = await r({\n      type: U.GET_PM_EXTERNAL_CONFIG,\n      payload: void 0\n    }), o = $(a);\n    if (o != null)\n      return o.TimeOffset = o.Now && Date.now() - o.Now || 0, me(o), pe(o), ye(o), ne(\"configTs\", Date.now()), o;\n  }, e);\n}\nfunction me(r) {\n  var t;\n  (t = r.AdRules) == null || t.filter((e) => {\n    const s = K.decompressFromUTF16(e.ParseTreeString || \"\") ?? \"\";\n    return e.ParseTree = $(s), e.ParseTree == null ? !1 : (delete e.ParseTreeString, !0);\n  });\n}\nfunction pe(r) {\n  var t;\n  r.ParsedSiteConfigs = (t = r.SiteConfigs) == null ? void 0 : t.reduce((e, s) => (e[s.d] = s.r, e), {}), delete r.SiteConfigs;\n}\nfunction ye(r) {\n  var t;\n  r.ParsedUrlBlackList = (t = r.UrlBlackList) == null ? void 0 : t.filter(\n    (e) => e.BlockAllAds\n  ).reduce((e, s) => {\n    var a;\n    return (e[a = ie(s.Hostname)] ?? (e[a] = [])).push(s.UrlRegex), e;\n  }, {}), delete r.UrlBlackList;\n}\nfunction ee() {\n  return window.self === window.top;\n}\nclass Ae {\n  constructor(t) {\n    this.config = t;\n  }\n  async inject(t) {\n    return new Promise((e, s) => {\n      const a = this.defineOnCspError(s), o = () => {\n        var f, g;\n        try {\n          document.addEventListener(\"securitypolicyviolation\", a);\n          const n = document.createElement(t), c = () => {\n            var d, A;\n            this.config.keepInDom || n.remove(), (A = (d = this.config).onInjected) == null || A.call(d);\n          }, l = this.getManifestVersion();\n          l === 3 ? n.onload = c : setTimeout(c), this.setSrc(n, l), (f = this.config.logger) == null || f.log(n);\n          const u = (g = document.documentElement) == null ? void 0 : g.firstElementChild;\n          u == null || u.insertBefore(n, u.firstChild), document.removeEventListener(\"securitypolicyviolation\", a), e();\n        } catch (n) {\n          s(n);\n        } finally {\n          document.removeEventListener(\"DOMContentLoaded\", o);\n        }\n      };\n      document.readyState === \"loading\" ? document.addEventListener(\"DOMContentLoaded\", o) : o();\n    });\n  }\n  defineOnCspError(t) {\n    return (e) => {\n      t == null || t(\n        Error(\n          \"Blocked by CSP: \" + JSON.stringify({\n            host: window.location.hostname,\n            blockedUri: e.blockedURI,\n            violatedDirective: e.violatedDirective,\n            originalPolicy: e.originalPolicy\n          })\n        )\n      );\n    };\n  }\n  getManifestVersion() {\n    return typeof __AD_FINDER_MANIFEST_VERSION__ == \"number\" ? __AD_FINDER_MANIFEST_VERSION__ : F.runtime.getManifest().manifest_version;\n  }\n  setSrc(t, e) {\n    if (e === 3) {\n      if (!this.config.mv3Path)\n        throw Error(\"mv3Path config must be passed for Manifest V3 extensions\");\n      t.src = F.runtime.getURL(this.config.mv3Path);\n    } else if (e === 2) {\n      if (!this.config.mv2Content)\n        throw Error(\"mv2Content config must be passed for Manifest V2 extensions\");\n      t.innerHTML = this.config.mv2Content;\n    } else\n      throw Error(`Unsupported manifest version ${e}`);\n  }\n}\nclass we {\n  constructor(t) {\n    this.config = t;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  sendMessage(t, e, s, a) {\n    const o = { type: t, payload: e, nonce: a };\n    window.postMessage(o, \"*\", s);\n  }\n  onMessage(t, e) {\n    window.addEventListener(\"message\", async (s) => {\n      var l, u;\n      const { type: a, payload: o, nonce: f } = s.data ?? {};\n      if (a !== t)\n        return;\n      (l = this.config.logger) == null || l.debug(\"[ad-finder-custom-event] Recieved message:\", {\n        type: a,\n        payload: o\n      });\n      const g = await e(o);\n      if (g === void 0)\n        return;\n      const { response: n, transferables: c } = g;\n      (u = this.config.logger) == null || u.debug(\"[ad-finder-custom-event] Sending response:\", {\n        name: a,\n        payload: o,\n        response: n\n      }), this.sendMessage(a + this.config.responseSuffix, n, c, f);\n    });\n  }\n}\nconst xe = \"ads#INIT\", ve = \"ads#SEND_DATA\", be = \"ads#GET_INSTALL_ID\", Ee = \"ads#GET_EXTERNAL_CONFIG\", Se = \"ads#FETCH_HTTP_RESPONSE\", D = class D {\n  constructor(t) {\n    k(this, \"injector\");\n    k(this, \"messenger\");\n    this.config = t, this.injector = new Ae({\n      logger: t.logger,\n      keepInDom: t.keepPathmaticsInDom,\n      mv2Content: le,\n      mv3Path: t.mv3PathmaticsPath,\n      onInjected: this.initPathmaticsScript.bind(this)\n    }), this.messenger = new we({\n      logger: t.logger,\n      responseSuffix: D.MESSENGER_SUFFIX\n    });\n  }\n  /**\n   * Checks whether the Pathmatics script should be injected on the current frame.\n   * Unsupported websites and iframes either don't have ads or the\n   * ad-finder code has known issues (like effecting authentication).\n   * @returns A boolean representing whether or not the Pathmatics script should be injected.\n   */\n  async isSupportedSite() {\n    var s, a;\n    const t = ie(location.hostname);\n    if (!ee())\n      return !(location.hostname === D.GOOGLE_AUTH_HOSTNAME || D.SUBFRAME_DOMAIN_BLOCKLIST.has(t));\n    const e = await Q(this.config.sendMessageToBackground);\n    return e != null ? !((a = (s = e.ParsedUrlBlackList) == null ? void 0 : s[t]) != null && a.some((o) => new RegExp(o).test(location.href))) : (\n      // Stop ad capture if there was an error parsing the config.\n      !1\n    );\n  }\n  async start() {\n    var e, s, a, o, f, g;\n    if (!document.documentElement) {\n      (e = this.config.logger) == null || e.log(\"Page is blank, stopping pathmatics\", window.location.hostname);\n      return;\n    }\n    const t = await this.isSupportedSite();\n    if ((s = this.config.logger) == null || s.log(\"Is supported site?\", t), !t) {\n      (a = this.config.logger) == null || a.log(\"Not supported site, stopping pathmatics\", window.location.hostname);\n      return;\n    }\n    try {\n      (o = this.config.logger) == null || o.log(\"Starting Pathmatics ad-finder...\", { url: window.location.href }), this.setupMessageListeners(), await this.injector.inject(\"script\"), (f = this.config.logger) == null || f.log(\"Pathmatics ad-finder injected!\");\n    } catch (n) {\n      (g = this.config.logger) == null || g.error(\"Failed to start Pathmatics ad-finder\", n);\n    }\n  }\n  /**\n   * Setup communication channels with the injected script\n   */\n  setupMessageListeners() {\n    if (F.storage == null)\n      throw Error(\"The storage permission is required for pathmatics' ad-finder\");\n    this.messenger.onMessage(Se, async (t) => {\n      const e = await this.config.sendMessageToBackground({\n        type: U.FETCH_HTTP_RESPONSE,\n        payload: t\n      }), s = await fe(e);\n      return {\n        response: s,\n        transferables: [s]\n      };\n    }), ee() && (this.messenger.onMessage(be, async () => ({ response: await this.config.getInstallId() })), this.messenger.onMessage(ve, async (t) => {\n      var f, g, n, c, l;\n      const e = $(t);\n      if (e == null)\n        return;\n      const s = e.crawlId;\n      let a = e.zys ?? [];\n      if (typeof a == \"string\" && (a = $(a)), a == null)\n        return;\n      const o = Date.now();\n      for (const u of a) {\n        const d = {\n          id: `${s}-${u.hash}`,\n          type: \"pathmatics\",\n          timestamp: o,\n          details: u\n        };\n        (f = this.config.logger) == null || f.log(\"Ad detected\", d);\n        try {\n          await ((n = (g = this.config).onAdDetected) == null ? void 0 : n.call(g, d));\n        } catch (A) {\n          (c = this.config.logger) == null || c.error(\"onAdDetected failed\", { err: A });\n        }\n      }\n      await this.config.sendMessageToBackground({\n        type: U.UPLOAD_CRAWL,\n        payload: e\n      }).catch((l = this.config.logger) == null ? void 0 : l.error);\n    }), this.messenger.onMessage(Ee, async () => ({\n      response: await Q(this.config.sendMessageToBackground)\n    })));\n  }\n  initPathmaticsScript() {\n    var e;\n    (e = this.config.logger) == null || e.log(\"Initializing script\");\n    const t = {\n      enableLogs: this.config.enablePathmaticsLogs ?? !1\n    };\n    this.messenger.sendMessage(xe, t);\n  }\n};\nk(D, \"MESSENGER_SUFFIX\", \"-response\"), // These probably belong in the server-side config, but the check would need to happen later in\n// the page lifecycle.\nk(D, \"SUBFRAME_DOMAIN_BLOCKLIST\", /* @__PURE__ */ new Set([\"google.com\", \"okta.com\", \"amazon.com\"])), k(D, \"GOOGLE_AUTH_HOSTNAME\", \"accounts.youtube.com\");\nlet z = D;\nconst j = 1e3, H = {\n  setItem(r, t) {\n    try {\n      if (t == null) {\n        sessionStorage.removeItem(r);\n        return;\n      }\n      sessionStorage.setItem(r, JSON.stringify(t));\n    } catch {\n      return;\n    }\n  },\n  getItem(r, t) {\n    try {\n      const e = sessionStorage.getItem(r);\n      return e == null ? t : JSON.parse(e);\n    } catch {\n      return t;\n    }\n  }\n};\nfunction V(r) {\n  const t = window.location.href;\n  if (!t.includes(r.url))\n    return;\n  const e = \"ad-finder-captured-urls\", s = H.getItem(e, []);\n  if (s.includes(t))\n    return;\n  s.push(t), H.setItem(e, s);\n  const a = [], o = r.website + \"-session-order\";\n  setInterval(() => {\n    let f = r.finder(document.body, t, r.onAdFound, r.instacartSelectors);\n    f = f.filter((n) => !a.includes(n.title));\n    let g = H.getItem(o, 0);\n    f.forEach((n) => {\n      n.session_order = ++g;\n    }), H.setItem(o, g), _e(r, f), f.forEach((n) => {\n      a.push(n.title);\n    });\n  }, r.loadDelay || 3 * j);\n}\nfunction _e(r, t) {\n  const e = {\n    appId: r.appId,\n    installId: r.installId,\n    website: r.website,\n    ads: t\n  };\n  t.length > 0 && r.api.uploadRetailAds(e);\n}\nfunction se(r) {\n  return {\n    ...r,\n    logger: r.logger === void 0 ? console : r.logger ?? void 0\n  };\n}\nfunction Te(r, t, e, s) {\n  if (!s)\n    return [];\n  const a = W(r, s.companyName), o = Ne(r, s.searchTerm);\n  let f = Ce(r, s);\n  f.length === 0 && (f = Oe(r, s));\n  const g = [], n = Math.round(Date.now() / j);\n  return f.forEach((c) => {\n    const l = Pe(c, 5);\n    if (l) {\n      const u = W(l, s.productTitle), d = W(l, s.productSize), A = W(l, s.productPrice), C = {\n        title: u,\n        size: d,\n        price: A,\n        timestamp: n,\n        store: a,\n        search_url: t,\n        search_term: o\n      };\n      C.title && (g.push(C), e == null || e(C, l));\n    }\n  }), g;\n}\nfunction W(r, t) {\n  var e;\n  for (const s of t) {\n    const a = r.querySelector(s);\n    if (a) {\n      const o = (e = a.textContent) == null ? void 0 : e.trim();\n      if (o)\n        return o;\n    }\n  }\n  return \"\";\n}\nfunction Ce(r, t) {\n  const e = t.sponsoredRegex.map((o) => {\n    const f = o.slice(o.lastIndexOf(\"/\") + 1), g = o.slice(1, o.lastIndexOf(\"/\"));\n    return new RegExp(g, f);\n  }), s = r.querySelectorAll(t.productSelector.join(\", \"));\n  return Array.from(s).filter((o) => {\n    const f = o.innerHTML, g = o.textContent;\n    return f && g ? e.some((n) => n.test(f) || n.test(g)) : !1;\n  });\n}\nfunction Oe(r, t) {\n  var a;\n  const e = r.querySelectorAll(t.productSelector.join(\", \")), s = [];\n  if (e)\n    for (const o of e) {\n      const f = (a = o.lastElementChild) == null ? void 0 : a.previousElementSibling;\n      if (f) {\n        const g = f.querySelector(\"div\");\n        g && Ie(g) && s.push(f);\n      }\n    }\n  return s;\n}\nfunction Ie(r) {\n  if (r.shadowRoot)\n    return !1;\n  try {\n    return r.attachShadow({ mode: \"open\" }), !1;\n  } catch {\n    return !0;\n  }\n}\nfunction Ne(r, t) {\n  for (const e of t) {\n    const s = r.querySelector(e);\n    if (s)\n      return s.value || \"\";\n  }\n  return \"\";\n}\nfunction Pe(r, t) {\n  let e = r;\n  if (e.getAttribute(\"aria-label\") === \"Product\")\n    return e;\n  for (let s = 0; s < t && e; s++) {\n    const a = e.parentElement;\n    if (a && a.getAttribute(\"aria-label\") === \"Product\")\n      return a;\n    e = a;\n  }\n  return null;\n}\nfunction Re(r, t, e) {\n  const s = r.querySelector(\n    '[data-test=\"@web/Search/SearchInput\"]'\n  ), a = [], o = Math.round(Date.now() / j);\n  return r.querySelectorAll('[data-test=\"sponsoredText\"]').forEach((g) => {\n    if (g) {\n      const n = g.closest('[data-test=\"product-details\"]'), c = n == null ? void 0 : n.querySelector('[data-test=\"product-title\"]'), l = n == null ? void 0 : n.querySelector('[data-test=\"current-price\"]'), u = {\n        title: (c == null ? void 0 : c.textContent) || \"\",\n        size: \"\",\n        price: (l == null ? void 0 : l.textContent) || \"\",\n        timestamp: o,\n        store: \"\",\n        search_url: t,\n        search_term: (s == null ? void 0 : s.value) || \"\"\n      };\n      u.title && (a.push(u), e == null || e(u, n));\n    }\n  }), a;\n}\nfunction Me(r, t, e) {\n  const s = r.querySelector('input[name=\"q\"]'), a = [], o = Math.round(Date.now() / j), f = [\"current price \", \"Now \", \"Was \"];\n  return r.querySelectorAll(\"div[data-item-id]\").forEach((n) => {\n    var c, l, u;\n    if (n && ((c = n.textContent) != null && c.includes(\"Sponsored\"))) {\n      const d = n.querySelector('span[data-automation-id=\"product-title\"]'), A = n.querySelector('div[data-automation-id=\"product-price\"]'), C = A == null ? void 0 : A.querySelector(\"div:last-child\"), S = A == null ? void 0 : A.querySelectorAll(\"span\");\n      let O = (u = (l = S == null ? void 0 : S[S.length - 1]) == null ? void 0 : l.textContent) == null ? void 0 : u.trim();\n      for (const v of f)\n        O != null && O.startsWith(v) && (O = O.replace(v, \"\"));\n      const x = {\n        title: (d == null ? void 0 : d.textContent) || \"\",\n        size: (C == null ? void 0 : C.textContent) || \"\",\n        price: O,\n        timestamp: o,\n        store: \"\",\n        search_url: t,\n        search_term: s.value || \"\"\n      };\n      x.title && (a.push(x), e == null || e(x, n));\n    }\n  }), a;\n}\nfunction je(r, t) {\n  var a;\n  const e = se(r);\n  new z(e).start().catch((a = e.logger) == null ? void 0 : a.error), V({\n    ...t,\n    url: \"https://www.walmart.com\",\n    website: \"walmart\",\n    finder: Me\n  }), V({\n    ...t,\n    url: \"https://www.target.com\",\n    website: \"target\",\n    finder: Re\n  }), V({\n    ...t,\n    url: \"https://www.instacart.com\",\n    website: \"instacart\",\n    finder: Te,\n    loadDelay: 5 * j\n  });\n}\nvar oe = { exports: {} };\n(function(r, t) {\n  (function(e, s) {\n    r.exports = s();\n  })(te, function() {\n    var e = function(o, f) {\n      if (f = f || {}, typeof o != \"function\")\n        throw new a(\"fetch must be a function\");\n      if (typeof f != \"object\")\n        throw new a(\"defaults must be an object\");\n      if (f.retries !== void 0 && !s(f.retries))\n        throw new a(\"retries must be a positive integer\");\n      if (f.retryDelay !== void 0 && !s(f.retryDelay) && typeof f.retryDelay != \"function\")\n        throw new a(\"retryDelay must be a positive integer or a function returning a positive integer\");\n      if (f.retryOn !== void 0 && !Array.isArray(f.retryOn) && typeof f.retryOn != \"function\")\n        throw new a(\"retryOn property expects an array or function\");\n      var g = {\n        retries: 3,\n        retryDelay: 1e3,\n        retryOn: []\n      };\n      return f = Object.assign(g, f), function(c, l) {\n        var u = f.retries, d = f.retryDelay, A = f.retryOn;\n        if (l && l.retries !== void 0)\n          if (s(l.retries))\n            u = l.retries;\n          else\n            throw new a(\"retries must be a positive integer\");\n        if (l && l.retryDelay !== void 0)\n          if (s(l.retryDelay) || typeof l.retryDelay == \"function\")\n            d = l.retryDelay;\n          else\n            throw new a(\"retryDelay must be a positive integer or a function returning a positive integer\");\n        if (l && l.retryOn)\n          if (Array.isArray(l.retryOn) || typeof l.retryOn == \"function\")\n            A = l.retryOn;\n          else\n            throw new a(\"retryOn property expects an array or function\");\n        return new Promise(function(C, S) {\n          var O = function(v) {\n            var _ = typeof Request < \"u\" && c instanceof Request ? c.clone() : c;\n            o(_, l).then(function(y) {\n              if (Array.isArray(A) && A.indexOf(y.status) === -1)\n                C(y);\n              else if (typeof A == \"function\")\n                try {\n                  return Promise.resolve(A(v, null, y)).then(function(w) {\n                    w ? x(v, null, y) : C(y);\n                  }).catch(S);\n                } catch (w) {\n                  S(w);\n                }\n              else\n                v < u ? x(v, null, y) : C(y);\n            }).catch(function(y) {\n              if (typeof A == \"function\")\n                try {\n                  Promise.resolve(A(v, y, null)).then(function(w) {\n                    w ? x(v, y, null) : S(y);\n                  }).catch(function(w) {\n                    S(w);\n                  });\n                } catch (w) {\n                  S(w);\n                }\n              else\n                v < u ? x(v, y, null) : S(y);\n            });\n          };\n          function x(v, _, y) {\n            var w = typeof d == \"function\" ? d(v, _, y) : d;\n            setTimeout(function() {\n              O(++v);\n            }, w);\n          }\n          O(0);\n        });\n      };\n    };\n    function s(o) {\n      return Number.isInteger(o) && o >= 0;\n    }\n    function a(o) {\n      this.name = \"ArgumentError\", this.message = o;\n    }\n    return e;\n  });\n})(oe);\nvar Le = oe.exports;\nconst De = /* @__PURE__ */ J(Le);\nfunction ke(r) {\n  return Math.random() * r + r / 2;\n}\nfunction Ue(r) {\n  return De(fetch, {\n    retryOn(t, e, s) {\n      var a;\n      if (e !== null || s.status >= 500)\n        return (a = r.logger) == null || a.log(`retrying, attempt number ${t + 1}`), !0;\n    },\n    retries: 5,\n    retryDelay(t) {\n      const e = Math.pow(2, t) * 500;\n      return ke(e);\n    }\n  });\n}\nclass Fe {\n  constructor(t) {\n    k(this, \"fetch\");\n    this.config = t, this.fetch = Ue(t);\n  }\n  async upload(t) {\n    var o, f, g;\n    if (!await this.config.isEnabled())\n      return;\n    const s = this.prepareData(t);\n    (o = this.config.logger) == null || o.log(\"Uploading data:\", s);\n    const a = await this.fetch(this.config.crawlUploadUrl, {\n      method: \"POST\",\n      body: K.compressToUint8Array(JSON.stringify(s)),\n      headers: {\n        \"Content-Type\": \"application/octet-stream\"\n      }\n    }).then((n) => {\n      var c;\n      return (c = this.config.logger) == null ? void 0 : c.log({ status: n.status });\n    }).catch((f = this.config.logger) == null ? void 0 : f.error);\n    (g = this.config.logger) == null || g.log(\"Response:\", a);\n  }\n  prepareData(t) {\n    return {\n      ...t,\n      PartnerVersion: F.runtime.getManifest().version,\n      ExtensionId: F.runtime.id,\n      ExtensionVersion: this.config.extensionVersion,\n      UserAgent: navigator.userAgent,\n      BrowserLanguage: navigator.language,\n      BlankZys: null,\n      PanelPartnerId: this.config.panelPartnerId\n    };\n  }\n}\nasync function qe(r) {\n  const t = await fetch(r).then((e) => e.arrayBuffer());\n  return de(t);\n}\nfunction He(r) {\n  const t = se(r), e = new Fe(t);\n  return {\n    // TODO: instead of returning a method for processing messages and letting the consumer of this\n    // library manage messages, Manage messaging internally using channels:\n    // https://developer.chrome.com/docs/extensions/mv3/messaging/#connect\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async processAdFinderMessage(s) {\n      const a = (o) => {\n        var f;\n        throw (f = t.logger) == null || f.error(\n          \"Error handling message from ad-finder: \" + JSON.stringify(s),\n          o\n        ), o;\n      };\n      switch (s.type) {\n        case U.UPLOAD_CRAWL:\n          return e.upload(s.payload).catch(a);\n        case U.GET_PM_EXTERNAL_CONFIG:\n          return qe(\n            `${r.pmExternalConfigUrl}?installId=${await r.getInstallId()}`\n          ).catch(a);\n        case U.FETCH_HTTP_RESPONSE:\n          return fetch(s.payload).then((o) => {\n            const f = parseInt(o.headers.get(\"Content-Length\") ?? \"\");\n            return !isNaN(f) && f > 1 << 25 ? new ArrayBuffer(0) : o.arrayBuffer();\n          }).then((o) => o.byteLength > 1 << 25 ? Z(new ArrayBuffer(0)) : Z(o));\n      }\n    }\n  };\n}\nconst We = 0, $e = \"https://p.qljx.co/Ajax0001/IPD\", Ge = \"https://p.qljx.co/Ajax0001/Config\";\nexport {\n  Ge as PROD_PM_EXTERNAL_CONFIG_ENDPOINT,\n  $e as PROD_UPLOAD_CRAWL_ENDPOINT,\n  We as UNKNOWN_PARTNER_ID,\n  He as initAdFinderInBackground,\n  je as initAdFinderInContentScript\n};\n//# sourceMappingURL=index.mjs.map\n","import * as WebExtUsage from '@sensortower/web-ext-usage'\nimport AppConsts from '~/core/AppConsts'\nimport * as PanelAPIUtils from '@sensortower/panel-api-utils'\nimport * as AdFinder from '@sensortower/ad-finder'\nimport GeneralUtils from './GeneralUtils'\nimport { API } from './API'\nimport { IndexedDbUsageDatabase } from '@sensortower/web-ext-usage'\nimport { seedDatabase } from '../utils/database/seed'\n\ndeclare module '~/core/API' {\n  interface API {\n    WebUsage: ReturnType<typeof WebUsage.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('WebUsage')\n\nlet api: API\n\nconst CRAWL_UPLOAD_ENDPOINT =\n  'https://api-pm.stayfocusd.st-panel-api.com/Ajax0001/IPD'\nconst PM_CONFIG_ENDPOINT =\n  'https://api-pm.stayfocusd.st-panel-api.com/Ajax0001/Config'\nconst STAYFOCUSD_AD_FINDER_PARTNER_ID = 33\n\nconst WebUsage = {\n  initialized: null as Promise<void> | null,\n  usageDatabase: null as IndexedDbUsageDatabase | null,\n\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('WebUsage', {\n      init: this.init.bind(this),\n      getUsageDatabase: this.getUsageDatabase.bind(this),\n    })\n  },\n\n  async init(): Promise<void> {\n    if (this.initialized != null) {\n      log(\n        'init',\n        'WebUsage already initialized',\n        { sessionId: '' }, // TODO - add sessionId if possible\n        'DEBUG',\n      )\n    } else {\n      const isEnabled = async (): Promise<boolean> => {\n        const hasAcceptedToS = await api.Storage.get('hasAcceptedToS', true)\n        return hasAcceptedToS ?? false\n      }\n      const installId = api.Storage.get('install-id', true)\n\n      const { promise, resolve } = api.Utils.getDecoupledPromise()\n      this.initialized = promise\n\n      // Start tracking usage\n      this.usageDatabase = WebExtUsage.openIdbUsageDatabase({\n        getInstallId: () => installId,\n      })\n\n      if (!MINIFIED) {\n        await seedDatabase(this.usageDatabase!)\n      }\n\n      WebExtUsage.initUsageSdkInBackground({\n        db: this.usageDatabase,\n        enabled: isEnabled,\n        isOnStartupAvailable: () => true,\n        isTabActiveWhenPlayingAudio: () => true,\n        logger: MINIFIED ? null : console,\n      })\n\n      resolve()\n      log?.('init', 'Initialized WebUsage', this, 'INFO')\n\n      const { processAdFinderMessage } =\n        await AdFinder.initAdFinderInBackground({\n          isEnabled: isEnabled,\n          getInstallId: () => installId,\n          extensionVersion: api.Chrome.Extension.getVersion(),\n          extensionId: AppConsts.APP_ID,\n          crawlUploadUrl: CRAWL_UPLOAD_ENDPOINT,\n          pmExternalConfigUrl: PM_CONFIG_ENDPOINT,\n          panelPartnerId: STAYFOCUSD_AD_FINDER_PARTNER_ID,\n        })\n\n      chrome.runtime.onConnect.addListener((port) => {\n        if (port.name != 'ad-finder') return\n\n        port.onMessage.addListener(async (msg) => {\n          if (msg.message == 'forward-message.request') {\n            const response = await processAdFinderMessage(msg.payload)\n\n            port.postMessage({\n              message: 'forward-message.response',\n              payload: response,\n              nonce: msg.nonce,\n            })\n          }\n\n          if (msg.message == 'ad-found') {\n            const hostname = PanelAPIUtils.parseUrl(msg.payload.hostname)\n            if (!hostname) return\n            const ad = msg.payload.ad\n\n            const activeSessions =\n              await this.usageDatabase?.sessionsRepo?.getActiveSessions()\n            const tabSession = activeSessions?.find(\n              (session) => session.appId === hostname.hostname,\n            )\n            if (!tabSession) return\n\n            await this.usageDatabase?.adsRepo?.upsertAd({\n              ...ad,\n              sessionId: tabSession.id,\n            })\n          }\n        })\n      })\n    }\n  },\n\n  async getUsageDatabase(): Promise<IndexedDbUsageDatabase> {\n    await this.initialized\n    if (this.usageDatabase == null) throw Error('WebUsage not initialized')\n    return this.usageDatabase\n  },\n}\n\nexport default WebUsage\n","const suspectProtoRx = /\"(?:_|\\\\u0{2}5[Ff]){2}(?:p|\\\\u0{2}70)(?:r|\\\\u0{2}72)(?:o|\\\\u0{2}6[Ff])(?:t|\\\\u0{2}74)(?:o|\\\\u0{2}6[Ff])(?:_|\\\\u0{2}5[Ff]){2}\"\\s*:/;\nconst suspectConstructorRx = /\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/;\nconst JsonSigRx = /^\\s*[\"[{]|^\\s*-?\\d{1,16}(\\.\\d{1,17})?([Ee][+-]?\\d+)?\\s*$/;\nfunction jsonParseTransform(key, value) {\n  if (key === \"__proto__\" || key === \"constructor\" && value && typeof value === \"object\" && \"prototype\" in value) {\n    warnKeyDropped(key);\n    return;\n  }\n  return value;\n}\nfunction warnKeyDropped(key) {\n  console.warn(`[destr] Dropping \"${key}\" key to prevent prototype pollution.`);\n}\nfunction destr(value, options = {}) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  const _value = value.trim();\n  if (\n    // eslint-disable-next-line unicorn/prefer-at\n    value[0] === '\"' && value.endsWith('\"') && !value.includes(\"\\\\\")\n  ) {\n    return _value.slice(1, -1);\n  }\n  if (_value.length <= 9) {\n    const _lval = _value.toLowerCase();\n    if (_lval === \"true\") {\n      return true;\n    }\n    if (_lval === \"false\") {\n      return false;\n    }\n    if (_lval === \"undefined\") {\n      return void 0;\n    }\n    if (_lval === \"null\") {\n      return null;\n    }\n    if (_lval === \"nan\") {\n      return Number.NaN;\n    }\n    if (_lval === \"infinity\") {\n      return Number.POSITIVE_INFINITY;\n    }\n    if (_lval === \"-infinity\") {\n      return Number.NEGATIVE_INFINITY;\n    }\n  }\n  if (!JsonSigRx.test(value)) {\n    if (options.strict) {\n      throw new SyntaxError(\"[destr] Invalid JSON\");\n    }\n    return value;\n  }\n  try {\n    if (suspectProtoRx.test(value) || suspectConstructorRx.test(value)) {\n      if (options.strict) {\n        throw new Error(\"[destr] Possible prototype pollution\");\n      }\n      return JSON.parse(value, jsonParseTransform);\n    }\n    return JSON.parse(value);\n  } catch (error) {\n    if (options.strict) {\n      throw error;\n    }\n    return value;\n  }\n}\nfunction safeDestr(value, options = {}) {\n  return destr(value, { ...options, strict: true });\n}\n\nexport { destr as default, destr, safeDestr };\n","const n = /[^\\0-\\x7E]/;\nconst t = /[\\x2E\\u3002\\uFF0E\\uFF61]/g;\nconst o = {\n  overflow: \"Overflow Error\",\n  \"not-basic\": \"Illegal Input\",\n  \"invalid-input\": \"Invalid Input\"\n};\nconst e = Math.floor;\nconst r = String.fromCharCode;\nfunction s(n2) {\n  throw new RangeError(o[n2]);\n}\nconst c = function(n2, t2) {\n  return n2 + 22 + 75 * (n2 < 26) - ((t2 != 0) << 5);\n};\nconst u = function(n2, t2, o2) {\n  let r2 = 0;\n  for (n2 = o2 ? e(n2 / 700) : n2 >> 1, n2 += e(n2 / t2); n2 > 455; r2 += 36) {\n    n2 = e(n2 / 35);\n  }\n  return e(r2 + 36 * n2 / (n2 + 38));\n};\nfunction toASCII(o2) {\n  return function(n2, o3) {\n    const e2 = n2.split(\"@\");\n    let r2 = \"\";\n    e2.length > 1 && (r2 = e2[0] + \"@\", n2 = e2[1]);\n    const s2 = function(n3, t2) {\n      const o4 = [];\n      let e3 = n3.length;\n      for (; e3--; ) {\n        o4[e3] = t2(n3[e3]);\n      }\n      return o4;\n    }((n2 = n2.replace(t, \".\")).split(\".\"), o3).join(\".\");\n    return r2 + s2;\n  }(o2, function(t2) {\n    return n.test(t2) ? \"xn--\" + function(n2) {\n      const t3 = [];\n      const o3 = (n2 = function(n3) {\n        const t4 = [];\n        let o4 = 0;\n        const e2 = n3.length;\n        for (; o4 < e2; ) {\n          const r2 = n3.charCodeAt(o4++);\n          if (r2 >= 55296 && r2 <= 56319 && o4 < e2) {\n            const e3 = n3.charCodeAt(o4++);\n            (64512 & e3) == 56320 ? t4.push(((1023 & r2) << 10) + (1023 & e3) + 65536) : (t4.push(r2), o4--);\n          } else {\n            t4.push(r2);\n          }\n        }\n        return t4;\n      }(n2)).length;\n      let f = 128;\n      let i = 0;\n      let l = 72;\n      for (const o4 of n2) {\n        o4 < 128 && t3.push(r(o4));\n      }\n      const h = t3.length;\n      let p = h;\n      for (h && t3.push(\"-\"); p < o3; ) {\n        let o4 = 2147483647;\n        for (const t4 of n2) {\n          t4 >= f && t4 < o4 && (o4 = t4);\n        }\n        const a = p + 1;\n        o4 - f > e((2147483647 - i) / a) && s(\"overflow\"), i += (o4 - f) * a, f = o4;\n        for (const o5 of n2) {\n          if (o5 < f && ++i > 2147483647 && s(\"overflow\"), o5 == f) {\n            let n3 = i;\n            for (let o6 = 36; ; o6 += 36) {\n              const s2 = o6 <= l ? 1 : o6 >= l + 26 ? 26 : o6 - l;\n              if (n3 < s2) {\n                break;\n              }\n              const u2 = n3 - s2;\n              const f2 = 36 - s2;\n              t3.push(r(c(s2 + u2 % f2, 0))), n3 = e(u2 / f2);\n            }\n            t3.push(r(c(n3, 0))), l = u(i, a, p == h), i = 0, ++p;\n          }\n        }\n        ++i, ++f;\n      }\n      return t3.join(\"\");\n    }(t2) : t2;\n  });\n}\n\nconst HASH_RE = /#/g;\nconst AMPERSAND_RE = /&/g;\nconst SLASH_RE = /\\//g;\nconst EQUAL_RE = /=/g;\nconst IM_RE = /\\?/g;\nconst PLUS_RE = /\\+/g;\nconst ENC_CARET_RE = /%5e/gi;\nconst ENC_BACKTICK_RE = /%60/gi;\nconst ENC_CURLY_OPEN_RE = /%7b/gi;\nconst ENC_PIPE_RE = /%7c/gi;\nconst ENC_CURLY_CLOSE_RE = /%7d/gi;\nconst ENC_SPACE_RE = /%20/gi;\nconst ENC_SLASH_RE = /%2f/gi;\nconst ENC_ENC_SLASH_RE = /%252f/gi;\nfunction encode(text) {\n  return encodeURI(\"\" + text).replace(ENC_PIPE_RE, \"|\");\n}\nfunction encodeHash(text) {\n  return encode(text).replace(ENC_CURLY_OPEN_RE, \"{\").replace(ENC_CURLY_CLOSE_RE, \"}\").replace(ENC_CARET_RE, \"^\");\n}\nfunction encodeQueryValue(input) {\n  return encode(typeof input === \"string\" ? input : JSON.stringify(input)).replace(PLUS_RE, \"%2B\").replace(ENC_SPACE_RE, \"+\").replace(HASH_RE, \"%23\").replace(AMPERSAND_RE, \"%26\").replace(ENC_BACKTICK_RE, \"`\").replace(ENC_CARET_RE, \"^\").replace(SLASH_RE, \"%2F\");\n}\nfunction encodeQueryKey(text) {\n  return encodeQueryValue(text).replace(EQUAL_RE, \"%3D\");\n}\nfunction encodePath(text) {\n  return encode(text).replace(HASH_RE, \"%23\").replace(IM_RE, \"%3F\").replace(ENC_ENC_SLASH_RE, \"%2F\").replace(AMPERSAND_RE, \"%26\").replace(PLUS_RE, \"%2B\");\n}\nfunction encodeParam(text) {\n  return encodePath(text).replace(SLASH_RE, \"%2F\");\n}\nfunction decode(text = \"\") {\n  try {\n    return decodeURIComponent(\"\" + text);\n  } catch {\n    return \"\" + text;\n  }\n}\nfunction decodePath(text) {\n  return decode(text.replace(ENC_SLASH_RE, \"%252F\"));\n}\nfunction decodeQueryKey(text) {\n  return decode(text.replace(PLUS_RE, \" \"));\n}\nfunction decodeQueryValue(text) {\n  return decode(text.replace(PLUS_RE, \" \"));\n}\nfunction encodeHost(name = \"\") {\n  return toASCII(name);\n}\n\nfunction parseQuery(parametersString = \"\") {\n  const object = {};\n  if (parametersString[0] === \"?\") {\n    parametersString = parametersString.slice(1);\n  }\n  for (const parameter of parametersString.split(\"&\")) {\n    const s = parameter.match(/([^=]+)=?(.*)/) || [];\n    if (s.length < 2) {\n      continue;\n    }\n    const key = decodeQueryKey(s[1]);\n    if (key === \"__proto__\" || key === \"constructor\") {\n      continue;\n    }\n    const value = decodeQueryValue(s[2] || \"\");\n    if (object[key] === void 0) {\n      object[key] = value;\n    } else if (Array.isArray(object[key])) {\n      object[key].push(value);\n    } else {\n      object[key] = [object[key], value];\n    }\n  }\n  return object;\n}\nfunction encodeQueryItem(key, value) {\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    value = String(value);\n  }\n  if (!value) {\n    return encodeQueryKey(key);\n  }\n  if (Array.isArray(value)) {\n    return value.map((_value) => `${encodeQueryKey(key)}=${encodeQueryValue(_value)}`).join(\"&\");\n  }\n  return `${encodeQueryKey(key)}=${encodeQueryValue(value)}`;\n}\nfunction stringifyQuery(query) {\n  return Object.keys(query).filter((k) => query[k] !== void 0).map((k) => encodeQueryItem(k, query[k])).filter(Boolean).join(\"&\");\n}\n\nconst PROTOCOL_STRICT_REGEX = /^[\\s\\w\\0+.-]{2,}:([/\\\\]{1,2})/;\nconst PROTOCOL_REGEX = /^[\\s\\w\\0+.-]{2,}:([/\\\\]{2})?/;\nconst PROTOCOL_RELATIVE_REGEX = /^([/\\\\]\\s*){2,}[^/\\\\]/;\nconst PROTOCOL_SCRIPT_RE = /^[\\s\\0]*(blob|data|javascript|vbscript):$/i;\nconst TRAILING_SLASH_RE = /\\/$|\\/\\?|\\/#/;\nconst JOIN_LEADING_SLASH_RE = /^\\.?\\//;\nfunction isRelative(inputString) {\n  return [\"./\", \"../\"].some((string_) => inputString.startsWith(string_));\n}\nfunction hasProtocol(inputString, opts = {}) {\n  if (typeof opts === \"boolean\") {\n    opts = { acceptRelative: opts };\n  }\n  if (opts.strict) {\n    return PROTOCOL_STRICT_REGEX.test(inputString);\n  }\n  return PROTOCOL_REGEX.test(inputString) || (opts.acceptRelative ? PROTOCOL_RELATIVE_REGEX.test(inputString) : false);\n}\nfunction isScriptProtocol(protocol) {\n  return !!protocol && PROTOCOL_SCRIPT_RE.test(protocol);\n}\nfunction hasTrailingSlash(input = \"\", respectQueryAndFragment) {\n  if (!respectQueryAndFragment) {\n    return input.endsWith(\"/\");\n  }\n  return TRAILING_SLASH_RE.test(input);\n}\nfunction withoutTrailingSlash(input = \"\", respectQueryAndFragment) {\n  if (!respectQueryAndFragment) {\n    return (hasTrailingSlash(input) ? input.slice(0, -1) : input) || \"/\";\n  }\n  if (!hasTrailingSlash(input, true)) {\n    return input || \"/\";\n  }\n  let path = input;\n  let fragment = \"\";\n  const fragmentIndex = input.indexOf(\"#\");\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n  }\n  const [s0, ...s] = path.split(\"?\");\n  const cleanPath = s0.endsWith(\"/\") ? s0.slice(0, -1) : s0;\n  return (cleanPath || \"/\") + (s.length > 0 ? `?${s.join(\"?\")}` : \"\") + fragment;\n}\nfunction withTrailingSlash(input = \"\", respectQueryAndFragment) {\n  if (!respectQueryAndFragment) {\n    return input.endsWith(\"/\") ? input : input + \"/\";\n  }\n  if (hasTrailingSlash(input, true)) {\n    return input || \"/\";\n  }\n  let path = input;\n  let fragment = \"\";\n  const fragmentIndex = input.indexOf(\"#\");\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n    if (!path) {\n      return fragment;\n    }\n  }\n  const [s0, ...s] = path.split(\"?\");\n  return s0 + \"/\" + (s.length > 0 ? `?${s.join(\"?\")}` : \"\") + fragment;\n}\nfunction hasLeadingSlash(input = \"\") {\n  return input.startsWith(\"/\");\n}\nfunction withoutLeadingSlash(input = \"\") {\n  return (hasLeadingSlash(input) ? input.slice(1) : input) || \"/\";\n}\nfunction withLeadingSlash(input = \"\") {\n  return hasLeadingSlash(input) ? input : \"/\" + input;\n}\nfunction cleanDoubleSlashes(input = \"\") {\n  return input.split(\"://\").map((string_) => string_.replace(/\\/{2,}/g, \"/\")).join(\"://\");\n}\nfunction withBase(input, base) {\n  if (isEmptyURL(base) || hasProtocol(input)) {\n    return input;\n  }\n  const _base = withoutTrailingSlash(base);\n  if (input.startsWith(_base)) {\n    return input;\n  }\n  return joinURL(_base, input);\n}\nfunction withoutBase(input, base) {\n  if (isEmptyURL(base)) {\n    return input;\n  }\n  const _base = withoutTrailingSlash(base);\n  if (!input.startsWith(_base)) {\n    return input;\n  }\n  const trimmed = input.slice(_base.length);\n  return trimmed[0] === \"/\" ? trimmed : \"/\" + trimmed;\n}\nfunction withQuery(input, query) {\n  const parsed = parseURL(input);\n  const mergedQuery = { ...parseQuery(parsed.search), ...query };\n  parsed.search = stringifyQuery(mergedQuery);\n  return stringifyParsedURL(parsed);\n}\nfunction getQuery(input) {\n  return parseQuery(parseURL(input).search);\n}\nfunction isEmptyURL(url) {\n  return !url || url === \"/\";\n}\nfunction isNonEmptyURL(url) {\n  return url && url !== \"/\";\n}\nfunction joinURL(base, ...input) {\n  let url = base || \"\";\n  for (const segment of input.filter((url2) => isNonEmptyURL(url2))) {\n    if (url) {\n      const _segment = segment.replace(JOIN_LEADING_SLASH_RE, \"\");\n      url = withTrailingSlash(url) + _segment;\n    } else {\n      url = segment;\n    }\n  }\n  return url;\n}\nfunction joinRelativeURL(..._input) {\n  const JOIN_SEGMENT_SPLIT_RE = /\\/(?!\\/)/;\n  const input = _input.filter(Boolean);\n  const segments = [];\n  let segmentsDepth = 0;\n  for (const i of input) {\n    if (!i || i === \"/\") {\n      continue;\n    }\n    for (const [sindex, s] of i.split(JOIN_SEGMENT_SPLIT_RE).entries()) {\n      if (!s || s === \".\") {\n        continue;\n      }\n      if (s === \"..\") {\n        if (segments.length === 1 && hasProtocol(segments[0])) {\n          continue;\n        }\n        segments.pop();\n        segmentsDepth--;\n        continue;\n      }\n      if (sindex === 1 && segments[segments.length - 1]?.endsWith(\":/\")) {\n        segments[segments.length - 1] += \"/\" + s;\n        continue;\n      }\n      segments.push(s);\n      segmentsDepth++;\n    }\n  }\n  let url = segments.join(\"/\");\n  if (segmentsDepth >= 0) {\n    if (input[0]?.startsWith(\"/\") && !url.startsWith(\"/\")) {\n      url = \"/\" + url;\n    } else if (input[0]?.startsWith(\"./\") && !url.startsWith(\"./\")) {\n      url = \"./\" + url;\n    }\n  } else {\n    url = \"../\".repeat(-1 * segmentsDepth) + url;\n  }\n  if (input[input.length - 1]?.endsWith(\"/\") && !url.endsWith(\"/\")) {\n    url += \"/\";\n  }\n  return url;\n}\nfunction withHttp(input) {\n  return withProtocol(input, \"http://\");\n}\nfunction withHttps(input) {\n  return withProtocol(input, \"https://\");\n}\nfunction withoutProtocol(input) {\n  return withProtocol(input, \"\");\n}\nfunction withProtocol(input, protocol) {\n  const match = input.match(PROTOCOL_REGEX);\n  if (!match) {\n    return protocol + input;\n  }\n  return protocol + input.slice(match[0].length);\n}\nfunction normalizeURL(input) {\n  const parsed = parseURL(input);\n  parsed.pathname = encodePath(decodePath(parsed.pathname));\n  parsed.hash = encodeHash(decode(parsed.hash));\n  parsed.host = encodeHost(decode(parsed.host));\n  parsed.search = stringifyQuery(parseQuery(parsed.search));\n  return stringifyParsedURL(parsed);\n}\nfunction resolveURL(base = \"\", ...inputs) {\n  if (typeof base !== \"string\") {\n    throw new TypeError(\n      `URL input should be string received ${typeof base} (${base})`\n    );\n  }\n  const filteredInputs = inputs.filter((input) => isNonEmptyURL(input));\n  if (filteredInputs.length === 0) {\n    return base;\n  }\n  const url = parseURL(base);\n  for (const inputSegment of filteredInputs) {\n    const urlSegment = parseURL(inputSegment);\n    if (urlSegment.pathname) {\n      url.pathname = withTrailingSlash(url.pathname) + withoutLeadingSlash(urlSegment.pathname);\n    }\n    if (urlSegment.hash && urlSegment.hash !== \"#\") {\n      url.hash = urlSegment.hash;\n    }\n    if (urlSegment.search && urlSegment.search !== \"?\") {\n      if (url.search && url.search !== \"?\") {\n        const queryString = stringifyQuery({\n          ...parseQuery(url.search),\n          ...parseQuery(urlSegment.search)\n        });\n        url.search = queryString.length > 0 ? \"?\" + queryString : \"\";\n      } else {\n        url.search = urlSegment.search;\n      }\n    }\n  }\n  return stringifyParsedURL(url);\n}\nfunction isSamePath(p1, p2) {\n  return decode(withoutTrailingSlash(p1)) === decode(withoutTrailingSlash(p2));\n}\nfunction isEqual(a, b, options = {}) {\n  if (!options.trailingSlash) {\n    a = withTrailingSlash(a);\n    b = withTrailingSlash(b);\n  }\n  if (!options.leadingSlash) {\n    a = withLeadingSlash(a);\n    b = withLeadingSlash(b);\n  }\n  if (!options.encoding) {\n    a = decode(a);\n    b = decode(b);\n  }\n  return a === b;\n}\nfunction withFragment(input, hash) {\n  if (!hash || hash === \"#\") {\n    return input;\n  }\n  const parsed = parseURL(input);\n  parsed.hash = hash === \"\" ? \"\" : \"#\" + encodeHash(hash);\n  return stringifyParsedURL(parsed);\n}\nfunction withoutFragment(input) {\n  return stringifyParsedURL({ ...parseURL(input), hash: \"\" });\n}\nfunction withoutHost(input) {\n  const parsed = parseURL(input);\n  return (parsed.pathname || \"/\") + parsed.search + parsed.hash;\n}\n\nconst protocolRelative = Symbol.for(\"ufo:protocolRelative\");\nfunction parseURL(input = \"\", defaultProto) {\n  const _specialProtoMatch = input.match(\n    /^[\\s\\0]*(blob:|data:|javascript:|vbscript:)(.*)/i\n  );\n  if (_specialProtoMatch) {\n    const [, _proto, _pathname = \"\"] = _specialProtoMatch;\n    return {\n      protocol: _proto.toLowerCase(),\n      pathname: _pathname,\n      href: _proto + _pathname,\n      auth: \"\",\n      host: \"\",\n      search: \"\",\n      hash: \"\"\n    };\n  }\n  if (!hasProtocol(input, { acceptRelative: true })) {\n    return defaultProto ? parseURL(defaultProto + input) : parsePath(input);\n  }\n  const [, protocol = \"\", auth, hostAndPath = \"\"] = input.replace(/\\\\/g, \"/\").match(/^[\\s\\0]*([\\w+.-]{2,}:)?\\/\\/([^/@]+@)?(.*)/) || [];\n  const [, host = \"\", path = \"\"] = hostAndPath.match(/([^#/?]*)(.*)?/) || [];\n  const { pathname, search, hash } = parsePath(\n    path.replace(/\\/(?=[A-Za-z]:)/, \"\")\n  );\n  return {\n    protocol: protocol.toLowerCase(),\n    auth: auth ? auth.slice(0, Math.max(0, auth.length - 1)) : \"\",\n    host,\n    pathname,\n    search,\n    hash,\n    [protocolRelative]: !protocol\n  };\n}\nfunction parsePath(input = \"\") {\n  const [pathname = \"\", search = \"\", hash = \"\"] = (input.match(/([^#?]*)(\\?[^#]*)?(#.*)?/) || []).splice(1);\n  return {\n    pathname,\n    search,\n    hash\n  };\n}\nfunction parseAuth(input = \"\") {\n  const [username, password] = input.split(\":\");\n  return {\n    username: decode(username),\n    password: decode(password)\n  };\n}\nfunction parseHost(input = \"\") {\n  const [hostname, port] = (input.match(/([^/:]*):?(\\d+)?/) || []).splice(1);\n  return {\n    hostname: decode(hostname),\n    port\n  };\n}\nfunction stringifyParsedURL(parsed) {\n  const pathname = parsed.pathname || \"\";\n  const search = parsed.search ? (parsed.search.startsWith(\"?\") ? \"\" : \"?\") + parsed.search : \"\";\n  const hash = parsed.hash || \"\";\n  const auth = parsed.auth ? parsed.auth + \"@\" : \"\";\n  const host = parsed.host || \"\";\n  const proto = parsed.protocol || parsed[protocolRelative] ? (parsed.protocol || \"\") + \"//\" : \"\";\n  return proto + auth + host + pathname + search + hash;\n}\nconst FILENAME_STRICT_REGEX = /\\/([^/]+\\.[^/]+)$/;\nconst FILENAME_REGEX = /\\/([^/]+)$/;\nfunction parseFilename(input = \"\", { strict }) {\n  const { pathname } = parseURL(input);\n  const matches = strict ? pathname.match(FILENAME_STRICT_REGEX) : pathname.match(FILENAME_REGEX);\n  return matches ? matches[1] : void 0;\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass $URL {\n  constructor(input = \"\") {\n    __publicField(this, \"protocol\");\n    __publicField(this, \"host\");\n    __publicField(this, \"auth\");\n    __publicField(this, \"pathname\");\n    __publicField(this, \"query\", {});\n    __publicField(this, \"hash\");\n    if (typeof input !== \"string\") {\n      throw new TypeError(\n        `URL input should be string received ${typeof input} (${input})`\n      );\n    }\n    const parsed = parseURL(input);\n    this.protocol = decode(parsed.protocol);\n    this.host = decode(parsed.host);\n    this.auth = decode(parsed.auth);\n    this.pathname = decodePath(parsed.pathname);\n    this.query = parseQuery(parsed.search);\n    this.hash = decode(parsed.hash);\n  }\n  get hostname() {\n    return parseHost(this.host).hostname;\n  }\n  get port() {\n    return parseHost(this.host).port || \"\";\n  }\n  get username() {\n    return parseAuth(this.auth).username;\n  }\n  get password() {\n    return parseAuth(this.auth).password || \"\";\n  }\n  get hasProtocol() {\n    return this.protocol.length;\n  }\n  get isAbsolute() {\n    return this.hasProtocol || this.pathname[0] === \"/\";\n  }\n  get search() {\n    const q = stringifyQuery(this.query);\n    return q.length > 0 ? \"?\" + q : \"\";\n  }\n  get searchParams() {\n    const p = new URLSearchParams();\n    for (const name in this.query) {\n      const value = this.query[name];\n      if (Array.isArray(value)) {\n        for (const v of value) {\n          p.append(name, v);\n        }\n      } else {\n        p.append(\n          name,\n          typeof value === \"string\" ? value : JSON.stringify(value)\n        );\n      }\n    }\n    return p;\n  }\n  get origin() {\n    return (this.protocol ? this.protocol + \"//\" : \"\") + encodeHost(this.host);\n  }\n  get fullpath() {\n    return encodePath(this.pathname) + this.search + encodeHash(this.hash);\n  }\n  get encodedAuth() {\n    if (!this.auth) {\n      return \"\";\n    }\n    const { username, password } = parseAuth(this.auth);\n    return encodeURIComponent(username) + (password ? \":\" + encodeURIComponent(password) : \"\");\n  }\n  get href() {\n    const auth = this.encodedAuth;\n    const originWithAuth = (this.protocol ? this.protocol + \"//\" : \"\") + (auth ? auth + \"@\" : \"\") + encodeHost(this.host);\n    return this.hasProtocol && this.isAbsolute ? originWithAuth + this.fullpath : this.fullpath;\n  }\n  append(url) {\n    if (url.hasProtocol) {\n      throw new Error(\"Cannot append a URL with protocol\");\n    }\n    Object.assign(this.query, url.query);\n    if (url.pathname) {\n      this.pathname = withTrailingSlash(this.pathname) + withoutLeadingSlash(url.pathname);\n    }\n    if (url.hash) {\n      this.hash = url.hash;\n    }\n  }\n  toJSON() {\n    return this.href;\n  }\n  toString() {\n    return this.href;\n  }\n}\nfunction createURL(input) {\n  return new $URL(input);\n}\n\nexport { $URL, cleanDoubleSlashes, createURL, decode, decodePath, decodeQueryKey, decodeQueryValue, encode, encodeHash, encodeHost, encodeParam, encodePath, encodeQueryItem, encodeQueryKey, encodeQueryValue, getQuery, hasLeadingSlash, hasProtocol, hasTrailingSlash, isEmptyURL, isEqual, isNonEmptyURL, isRelative, isSamePath, isScriptProtocol, joinRelativeURL, joinURL, normalizeURL, parseAuth, parseFilename, parseHost, parsePath, parseQuery, parseURL, resolveURL, stringifyParsedURL, stringifyQuery, withBase, withFragment, withHttp, withHttps, withLeadingSlash, withProtocol, withQuery, withTrailingSlash, withoutBase, withoutFragment, withoutHost, withoutLeadingSlash, withoutProtocol, withoutTrailingSlash };\n","import destr from 'destr';\nimport { withBase, withQuery } from 'ufo';\n\nclass FetchError extends Error {\n  constructor(message, opts) {\n    super(message, opts);\n    this.name = \"FetchError\";\n    if (opts?.cause && !this.cause) {\n      this.cause = opts.cause;\n    }\n  }\n}\nfunction createFetchError(ctx) {\n  const errorMessage = ctx.error?.message || ctx.error?.toString() || \"\";\n  const method = ctx.request?.method || ctx.options?.method || \"GET\";\n  const url = ctx.request?.url || String(ctx.request) || \"/\";\n  const requestStr = `[${method}] ${JSON.stringify(url)}`;\n  const statusStr = ctx.response ? `${ctx.response.status} ${ctx.response.statusText}` : \"<no response>\";\n  const message = `${requestStr}: ${statusStr}${errorMessage ? ` ${errorMessage}` : \"\"}`;\n  const fetchError = new FetchError(\n    message,\n    ctx.error ? { cause: ctx.error } : void 0\n  );\n  for (const key of [\"request\", \"options\", \"response\"]) {\n    Object.defineProperty(fetchError, key, {\n      get() {\n        return ctx[key];\n      }\n    });\n  }\n  for (const [key, refKey] of [\n    [\"data\", \"_data\"],\n    [\"status\", \"status\"],\n    [\"statusCode\", \"status\"],\n    [\"statusText\", \"statusText\"],\n    [\"statusMessage\", \"statusText\"]\n  ]) {\n    Object.defineProperty(fetchError, key, {\n      get() {\n        return ctx.response && ctx.response[refKey];\n      }\n    });\n  }\n  return fetchError;\n}\n\nconst payloadMethods = new Set(\n  Object.freeze([\"PATCH\", \"POST\", \"PUT\", \"DELETE\"])\n);\nfunction isPayloadMethod(method = \"GET\") {\n  return payloadMethods.has(method.toUpperCase());\n}\nfunction isJSONSerializable(value) {\n  if (value === void 0) {\n    return false;\n  }\n  const t = typeof value;\n  if (t === \"string\" || t === \"number\" || t === \"boolean\" || t === null) {\n    return true;\n  }\n  if (t !== \"object\") {\n    return false;\n  }\n  if (Array.isArray(value)) {\n    return true;\n  }\n  if (value.buffer) {\n    return false;\n  }\n  return value.constructor && value.constructor.name === \"Object\" || typeof value.toJSON === \"function\";\n}\nconst textTypes = /* @__PURE__ */ new Set([\n  \"image/svg\",\n  \"application/xml\",\n  \"application/xhtml\",\n  \"application/html\"\n]);\nconst JSON_RE = /^application\\/(?:[\\w!#$%&*.^`~-]*\\+)?json(;.+)?$/i;\nfunction detectResponseType(_contentType = \"\") {\n  if (!_contentType) {\n    return \"json\";\n  }\n  const contentType = _contentType.split(\";\").shift() || \"\";\n  if (JSON_RE.test(contentType)) {\n    return \"json\";\n  }\n  if (textTypes.has(contentType) || contentType.startsWith(\"text/\")) {\n    return \"text\";\n  }\n  return \"blob\";\n}\nfunction mergeFetchOptions(input, defaults, Headers = globalThis.Headers) {\n  const merged = {\n    ...defaults,\n    ...input\n  };\n  if (defaults?.params && input?.params) {\n    merged.params = {\n      ...defaults?.params,\n      ...input?.params\n    };\n  }\n  if (defaults?.query && input?.query) {\n    merged.query = {\n      ...defaults?.query,\n      ...input?.query\n    };\n  }\n  if (defaults?.headers && input?.headers) {\n    merged.headers = new Headers(defaults?.headers || {});\n    for (const [key, value] of new Headers(input?.headers || {})) {\n      merged.headers.set(key, value);\n    }\n  }\n  return merged;\n}\n\nconst retryStatusCodes = /* @__PURE__ */ new Set([\n  408,\n  // Request Timeout\n  409,\n  // Conflict\n  425,\n  // Too Early\n  429,\n  // Too Many Requests\n  500,\n  // Internal Server Error\n  502,\n  // Bad Gateway\n  503,\n  // Service Unavailable\n  504\n  //  Gateway Timeout\n]);\nconst nullBodyResponses = /* @__PURE__ */ new Set([101, 204, 205, 304]);\nfunction createFetch(globalOptions = {}) {\n  const {\n    fetch = globalThis.fetch,\n    Headers = globalThis.Headers,\n    AbortController = globalThis.AbortController\n  } = globalOptions;\n  async function onError(context) {\n    const isAbort = context.error && context.error.name === \"AbortError\" && !context.options.timeout || false;\n    if (context.options.retry !== false && !isAbort) {\n      let retries;\n      if (typeof context.options.retry === \"number\") {\n        retries = context.options.retry;\n      } else {\n        retries = isPayloadMethod(context.options.method) ? 0 : 1;\n      }\n      const responseCode = context.response && context.response.status || 500;\n      if (retries > 0 && (Array.isArray(context.options.retryStatusCodes) ? context.options.retryStatusCodes.includes(responseCode) : retryStatusCodes.has(responseCode))) {\n        const retryDelay = context.options.retryDelay || 0;\n        if (retryDelay > 0) {\n          await new Promise((resolve) => setTimeout(resolve, retryDelay));\n        }\n        return $fetchRaw(context.request, {\n          ...context.options,\n          retry: retries - 1\n        });\n      }\n    }\n    const error = createFetchError(context);\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(error, $fetchRaw);\n    }\n    throw error;\n  }\n  const $fetchRaw = async function $fetchRaw2(_request, _options = {}) {\n    const context = {\n      request: _request,\n      options: mergeFetchOptions(_options, globalOptions.defaults, Headers),\n      response: void 0,\n      error: void 0\n    };\n    context.options.method = context.options.method?.toUpperCase();\n    if (context.options.onRequest) {\n      await context.options.onRequest(context);\n    }\n    if (typeof context.request === \"string\") {\n      if (context.options.baseURL) {\n        context.request = withBase(context.request, context.options.baseURL);\n      }\n      if (context.options.query || context.options.params) {\n        context.request = withQuery(context.request, {\n          ...context.options.params,\n          ...context.options.query\n        });\n      }\n    }\n    if (context.options.body && isPayloadMethod(context.options.method)) {\n      if (isJSONSerializable(context.options.body)) {\n        context.options.body = typeof context.options.body === \"string\" ? context.options.body : JSON.stringify(context.options.body);\n        context.options.headers = new Headers(context.options.headers || {});\n        if (!context.options.headers.has(\"content-type\")) {\n          context.options.headers.set(\"content-type\", \"application/json\");\n        }\n        if (!context.options.headers.has(\"accept\")) {\n          context.options.headers.set(\"accept\", \"application/json\");\n        }\n      } else if (\n        // ReadableStream Body\n        \"pipeTo\" in context.options.body && typeof context.options.body.pipeTo === \"function\" || // Node.js Stream Body\n        typeof context.options.body.pipe === \"function\"\n      ) {\n        if (!(\"duplex\" in context.options)) {\n          context.options.duplex = \"half\";\n        }\n      }\n    }\n    let abortTimeout;\n    if (!context.options.signal && context.options.timeout) {\n      const controller = new AbortController();\n      abortTimeout = setTimeout(\n        () => controller.abort(),\n        context.options.timeout\n      );\n      context.options.signal = controller.signal;\n    }\n    try {\n      context.response = await fetch(\n        context.request,\n        context.options\n      );\n    } catch (error) {\n      context.error = error;\n      if (context.options.onRequestError) {\n        await context.options.onRequestError(context);\n      }\n      return await onError(context);\n    } finally {\n      if (abortTimeout) {\n        clearTimeout(abortTimeout);\n      }\n    }\n    const hasBody = context.response.body && !nullBodyResponses.has(context.response.status) && context.options.method !== \"HEAD\";\n    if (hasBody) {\n      const responseType = (context.options.parseResponse ? \"json\" : context.options.responseType) || detectResponseType(context.response.headers.get(\"content-type\") || \"\");\n      switch (responseType) {\n        case \"json\": {\n          const data = await context.response.text();\n          const parseFunction = context.options.parseResponse || destr;\n          context.response._data = parseFunction(data);\n          break;\n        }\n        case \"stream\": {\n          context.response._data = context.response.body;\n          break;\n        }\n        default: {\n          context.response._data = await context.response[responseType]();\n        }\n      }\n    }\n    if (context.options.onResponse) {\n      await context.options.onResponse(context);\n    }\n    if (!context.options.ignoreResponseError && context.response.status >= 400 && context.response.status < 600) {\n      if (context.options.onResponseError) {\n        await context.options.onResponseError(context);\n      }\n      return await onError(context);\n    }\n    return context.response;\n  };\n  const $fetch = async function $fetch2(request, options) {\n    const r = await $fetchRaw(request, options);\n    return r._data;\n  };\n  $fetch.raw = $fetchRaw;\n  $fetch.native = (...args) => fetch(...args);\n  $fetch.create = (defaultOptions = {}) => createFetch({\n    ...globalOptions,\n    defaults: {\n      ...globalOptions.defaults,\n      ...defaultOptions\n    }\n  });\n  return $fetch;\n}\n\nexport { FetchError as F, createFetchError as a, createFetch as c };\n","import { c as createFetch } from './shared/ofetch.37386b05.mjs';\nexport { F as FetchError, a as createFetchError } from './shared/ofetch.37386b05.mjs';\nimport 'destr';\nimport 'ufo';\n\nconst _globalThis = function() {\n  if (typeof globalThis !== \"undefined\") {\n    return globalThis;\n  }\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  throw new Error(\"unable to locate global object\");\n}();\nconst fetch = _globalThis.fetch || (() => Promise.reject(new Error(\"[ofetch] global.fetch is not supported!\")));\nconst Headers = _globalThis.Headers;\nconst AbortController = _globalThis.AbortController;\nconst ofetch = createFetch({ fetch, Headers, AbortController });\nconst $fetch = ofetch;\n\nexport { $fetch, AbortController, Headers, createFetch, fetch, ofetch };\n","var j=(s=>(s.Notification=\"notification\",s.Block=\"block\",s.Popup=\"popup\",s))(j||{}),H=(d=>(d.UsageTime=\"usage-time\",d.SessionCount=\"session-count\",d))(H||{}),Z=(p=>(p.Android=\"android\",p.Windows=\"windows\",p.Mac=\"mac\",p.Linux=\"linux\",p.Web=\"web\",p.Category=\"category\",p.Brand=\"brand\",p))(Z||{});import{getCountryCode as P,getGmtTimeZone as m}from\"@sensortower/panel-api-utils\";import{ofetch as J}from\"ofetch\";import A from\"ua-parser-js\";var _=class extends Error{constructor(){super(\"Invalid code entered\")}},b=class extends Error{constructor(){super(\"Both devices already belong to a device group\")}},w=class extends Error{constructor(){super(\"Forbidden\")}},c=class a extends Error{static message=\"Not in a device group\";static matchesMessage(i){return i instanceof Error?i.message===a.message:!1}constructor(){super(a.message)}};function f(a,i){return Object.entries(a).flatMap(([d,s])=>s.sessions.map(l=>({appId:d,startedAt:l.timestamp*1e3,endedAt:(l.timestamp+l.duration)*1e3,installId:l.install_id,platform:i})))}function x(a){return new Date(a).toISOString()}function ae(a){let i=J.create({retry:3,...a==null?void 0:a.ofetchDefaults}),d=(a==null?void 0:a.formatDeviceName)??(e=>e),s=a==null?void 0:a.logger;function l(e){return i(\"/v1/android/apps\",{query:{app_ids:e.appIds.join(\",\")}})}async function h(e){let t=await i(\"/v1/sync/pairing/generate\",{method:\"POST\",retry:0,query:{install_id:e.installId}});return{code:t.code,expiration:new Date(t.expiration*1e3).getTime()}}function O(e){return i(\"/v1/sync/pairing/validate\",{method:\"POST\",retry:0,query:{install_id:e.installId,code:e.code}}).catch(t=>{var n;let r=(n=t.response)==null?void 0:n.status;throw r===403?new b:r===404?new _:t})}function p(e){return i(\"/v1/sync/pairing/check\",{query:{install_id:e.installId}}).catch(t=>{var r;if(((r=t.response)==null?void 0:r.status)!==404)throw t})}async function D(e){return i(\"/v1/sync/devices\",{query:{key:e.deviceGroupKey}}).catch(t=>{var r;throw((r=t.response)==null?void 0:r.status)===404?new c:t})}async function S(e){await i(\"/v1/sync/devices/remove\",{method:\"POST\",retry:0,query:{key:e.deviceGroupKey,install_id:e.installIdToRemove}})}async function G(e){return(await i.raw(\"/v1/sync/devices/sessions\",{method:\"HEAD\",query:{key:e.deviceGroupKey,install_id:e.installId}}).catch(r=>{var n;throw((n=r.response)==null?void 0:n.status)===404?new c:r})).headers.get(\"Last-Modified\")??void 0}async function C(e){return i(\"/v1/analytics/avg_usage\",{query:{app_ids:e.appIds.join(\",\"),gender:e.gender,country_code:e.countryCode}})}async function M(e){return i(\"/v1/analytics/avg_web_usage\",{query:{websites:e.appIds.join(\",\"),gender:e.gender,country_code:e.countryCode}})}async function k(e){var o;let{android_apps:t,websites:r,windows_apps:n,mac_apps:g,linux_apps:u}=await i(\"/v1/sync/devices/sessions\",{query:{key:e.deviceGroupKey,install_id:e.installId,start_time:x(e.startTime),end_time:x(e.endTime),app_ids:(o=e.appIds)==null?void 0:o.join(\",\")}}).catch(v=>{var y;throw((y=v.response)==null?void 0:y.status)===404?new c:v});return[...f(t,\"android\"),...f(n??{},\"windows\"),...f(g??{},\"mac\"),...f(u??{},\"linux\"),...f(r,\"web\")].sort((v,y)=>v.startedAt-y.startedAt)}async function I(e){var n;if(!e.appId.trim()){let{websites:g,diffPrivateWebsites:u,...o}=e;throw s==null||s.error(\"Missing required parameter 'appId'\",o),Error(\"Missing required parameter 'appId'\")}if(!e.installId.trim()){let{websites:g,diffPrivateWebsites:u,...o}=e;throw s==null||s.error(\"Missing required parameter 'installId'\",o),Error(\"Missing required parameter 'installId'\")}let t=A(navigator==null?void 0:navigator.userAgent),r={app_id:e.appId,install_id:e.installId,time_zone:m(),country_code:P(),device_name:d((n=t.browser)==null?void 0:n.name),device_type:t.os.name,birth_year:e.birthYear,websites:e.websites,diff_private_websites:e.diffPrivateWebsites};await i(\"/v1/web/upload\",{method:\"POST\",retry:0,body:r})}async function R(e){var n;if(!e.appId.trim()){let{websites:g,diffPrivateWebsites:u,...o}=e;throw s==null||s.error(\"Missing required parameter 'appId'\",o),Error(\"Missing required parameter 'appId'\")}if(!e.installId.trim()){let{websites:g,diffPrivateWebsites:u,...o}=e;throw s==null||s.error(\"Missing required parameter 'installId'\",o),Error(\"Missing required parameter 'installId'\")}let t=A(navigator==null?void 0:navigator.userAgent),r={app_id:e.appId,install_id:e.installId,time_zone:m(),country_code:P(),device_name:d((n=t.browser)==null?void 0:n.name),device_type:t.os.name,birth_year:e.birthYear,websites:e.websites,diff_private_websites:e.diffPrivateWebsites};await i(\"/v1/page_views/upload\",{method:\"POST\",retry:0,body:r})}async function U(e){if(!e.appId.trim()){let{apps:r,...n}=e;throw s==null||s.error(\"Missing required parameter 'appId'\",n),Error(\"Missing required parameter 'appId'\")}if(!e.installId.trim()){let{apps:r,...n}=e;throw s==null||s.error(\"Missing required parameter 'installId'\",n),Error(\"Missing required parameter 'installId'\")}let t={app_id:e.appId,install_id:e.installId,time_zone:m(),country_code:P(),device_name:d(\"App\"),device_type:e.platform,birth_year:e.birthYear,apps:e.apps};await i(\"/v1/desktop/upload\",{method:\"POST\",retry:0,body:t})}function q(e){return I({appId:e.appId,installId:e.installId,websites:{}})}function E(e){return U({appId:e.appId,installId:e.installId,platform:e.platform})}function L(e){return i(\"/v1/brands\",{query:{install_id:e.installId}}).catch(t=>{var r;throw((r=t.response)==null?void 0:r.status)===403?new w:t})}function T(e){return i(\"/v1/sync/config\",{query:{key:e.deviceGroupKey}}).catch(t=>{var r;throw((r=t.response)==null?void 0:r.status)===404?new c:t})}async function B(e){await i(\"/v1/sync/config/reset_time\",{method:\"POST\",retry:0,body:e})}async function W(e){await i(\"/v1/sync/config/ignore_list/remove\",{method:\"POST\",retry:0,body:e})}async function F(e){await i(\"/v1/sync/config/ignore_list/add\",{method:\"POST\",retry:0,body:e})}async function V(e){await i(\"/v1/sync/config/usage_limit/add\",{method:\"POST\",retry:0,body:e})}async function K(e){let t={key:e.key,limit_ids:e.limitIds};await i(\"/v1/sync/config/usage_limit/remove\",{method:\"POST\",retry:0,body:t})}async function z(e){let t={app_id:e.appId,install_id:e.installId,time_zone:m(),country_code:P(),ads:e.ads};await i(\"/v1/desktop/retail/\"+e.website,{method:\"POST\",retry:0,body:t})}async function N(e){let t={app_id:e.appId,country_code:e.countryCode,time_zone:m(),prompts:e.prompts};await i(\"/v1/ai/analytics\",{method:\"POST\",retry:0,body:t})}async function Y(e){let t={app_id:e.appId,service:e.service,install_id:e.installId,status:e.status,country_code:e.countryCode,timestamp:Math.round(Date.now()/1e3)};await i(\"/v1/subscriptions/status\",{method:\"POST\",retry:0,body:t})}return{getAndroidAppInfo:l,createPairingCode:h,validatePairingCode:O,getMyDeviceGroup:p,getSessionsLastUploadedAt:G,getAverageAppUsage:C,getAverageWebUsage:M,listDeviceGroupDevices:D,removeDeviceFromDeviceGroup:S,listDeviceGroupSessions:k,uploadSessions:I,uploadPageViews:R,uploadDesktopUsage:U,createDevice:q,createDesktopDevice:E,getBrandMapping:L,getGroupConfig:T,setResetTime:B,removeFromIgnoreList:W,addToIgnoreList:F,addUsageLimit:V,removeUsageLimit:K,uploadRetailAds:z,uploadPrompts:N,uploadSubscriptionStatus:Y}}export{b as AlreadyInGroupError,w as ForbiddenError,_ as InvalidCodeError,Z as LimitType,H as MetricType,c as NotInDeviceGroupError,j as WarningType,ae as createPanelApiClient};\n","import * as WebExtUsage from '@sensortower/web-ext-usage'\nimport * as PanelAPI from '@sensortower/panel-api'\nimport { HOUR, MINUTE } from './Time'\nimport AppConst from './AppConsts'\nimport GeneralUtils from './GeneralUtils'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    ScheduleJobs: ReturnType<typeof ScheduleJobs.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('ScheduleJobs')\n\nlet api: API\n\nconst JobId = {\n  UploadWebUsage: '@alarm/upload-web-usage',\n}\n\nconst SESSIONS_LAST_UPLOADED_AT_STORAGE_KEY =\n  '@stayfocusd/sessions-last-uploaded-at-key'\nconst PAGE_VIEWS_LAST_UPLOADED_AT_STORAGE_KEY =\n  '@stayfocusd/page-views-last-uploaded-at-key'\n\nconst ScheduleJobs = {\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('ScheduleJobs', {\n      init: this.init.bind(this),\n    })\n  },\n\n  init() {\n    api.Chrome.Alarms.addListener(\n      'onAlarm',\n      async (alarm: chrome.alarms.Alarm) => {\n        if (alarm.name === JobId.UploadWebUsage) {\n          log(`Alarm fired`, alarm.name)\n\n          await this.uploadWebUsageJob()\n        }\n      },\n    )\n\n    api.Chrome.Alarms.ensure(JobId.UploadWebUsage, {\n      periodInMinutes: HOUR / MINUTE,\n    })\n  },\n\n  async uploadWebUsageJob() {\n    const usageDatabase = await api.WebUsage.getUsageDatabase()\n    const panelApi = PanelAPI.createPanelApiClient({\n      ofetchDefaults: {\n        baseURL: 'https://stayfocusd.st-panel-api.com',\n      },\n    })\n\n    const uploader = WebExtUsage.defineWebUsageUploader({\n      db: usageDatabase,\n      enabled: async () => {\n        const uploadEnabled = await api.RemoteConfig.get('uploadWebUsage')\n        const hasAcceptedPrivacyPolicy = await api.Storage.get(\n          'hasAcceptedPrivacyPolicy',\n          true,\n        )\n        return uploadEnabled && hasAcceptedPrivacyPolicy\n      },\n      getAppId: () => AppConst.APP_ID,\n      dev: !MINIFIED,\n      getInstallId: () => api.Storage.get(AppConst.INSTALL_ID_KEY),\n      getBirthYear: () => api.Settings.get('age') ?? undefined,\n      logger: MINIFIED ? null : console,\n      getUploadBatchSize: () => api.RemoteConfig.get('usageUploadBatchSize'),\n      api: panelApi,\n      sessions: {\n        lastUploadedAtStorageKey: SESSIONS_LAST_UPLOADED_AT_STORAGE_KEY,\n        onFailure: () => api.Analytics.event('WEB_USAGE_UPLOAD_FAILED'),\n        onSuccess: (details) =>\n          api.Analytics.event('WEB_USAGE_UPLOAD_COMPLETED', details),\n      },\n      pageViews: {\n        lastUploadedAtStorageKey: PAGE_VIEWS_LAST_UPLOADED_AT_STORAGE_KEY,\n        onFailure: () => api.Analytics.event('PAGE_VIEWS_UPLOAD_FAILED'),\n        onSuccess: (details) =>\n          api.Analytics.event('PAGE_VIEWS_UPLOAD_COMPLETED', details),\n        getUploadAllowlist: () => api.RemoteConfig.get('pageViewAllowlist'),\n      },\n    })\n\n    await uploader.uploadAll()\n  },\n}\n\nexport default ScheduleJobs\n","/** @license DropletJS.PubSub | MIT License | https://github.com/wmbenedetto/DropletJS.PubSub#mit-license */\nif (typeof MINIFIED === 'undefined'){\n    MINIFIED = false;\n}\n\n/**\n *     ____                   __     __      _______\n *    / __ \\_________  ____  / /__  / /_    / / ___/\n *   / / / / ___/ __ \\/ __ \\/ / _ \\/ __/_  / /\\__ \\\n *  / /_/ / /  / /_/ / /_/ / /  __/ /_/ /_/ /___/ /\n * /_____/_/   \\____/ .___/_/\\___/\\__/\\____//____/\n *                 /_/\n *\n * DropletJS.PubSub : Advanced JavaScript event framework\n *\n * Copyright (c) 2013 Warren Benedetto <wmbenedetto@gmail.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the Software\n * is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * Modified by Aaron Klinker to work with ESM.\n */\n\nconst PubSub = (function(root,undefined){\n\n    if (!MINIFIED){\n\n        var logLevels = {\n            OFF                         : 0,\n            ERROR                       : 1,\n            WARN                        : 2,\n            INFO                        : 3,\n            DEBUG                       : 4,\n            TRACE                       : 5\n        };\n\n        var logLevel                    = 'OFF';\n        var console                     = window.console || {};\n\n        console.log                     = (typeof console.log   === 'function') ? console.log   : function() {};\n        console.info                    = (typeof console.info  === 'function') ? console.info  : console.log;\n        console.error                   = (typeof console.error === 'function') ? console.error : console.log;\n        console.warn                    = (typeof console.warn  === 'function') ? console.warn  : console.log;\n\n        /**\n         * Default log() implementation\n         *\n         * This can be overridden by defining a log() function in the initObj\n         * passed to the constructor\n         *\n         * @param funcName The name of the function generating the log message\n         * @param message The message to log\n         * @param payload Data object\n         * @param level Log level (ERROR, WARN, INFO, DEBUG)\n         */\n        var log = function(funcName,message,payload,level) {\n\n            payload                     = (!payload) ? '' : payload;\n            level                       = (!level) ? 'INFO' : level.toUpperCase();\n            message                     = '[' + funcName + '()] ' + message;\n\n            if (isLoggable(level)) {\n\n                if (level === 'ERROR') {\n                    console.error(message,payload);\n                } else if (level === 'WARN') {\n                    console.warn(message,payload);\n                } else if (level === 'INFO') {\n                    console.info(message,payload);\n                } else {\n                    console.log(message,payload);\n                }\n            }\n        };\n\n        /**\n         * Checks whether the given level is loggable based on the\n         * current log level\n         *\n         * @param level The level to check\n         * @return {Boolean}\n         */\n        var isLoggable = function(level){\n\n            var currentLogLevel         = logLevels[logLevel];\n            var thisLogLevel            = logLevels[level];\n\n            return thisLogLevel <= currentLogLevel;\n        };\n    }else{\n        var log                         = function(){};\n    }\n\n    /**\n     * Add bind() to Function prototype for browsers that don't yet support ECMAScript 5.\n     *\n     * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\n     */\n    if (typeof Function.prototype.bind !== 'function'){\n\n        Function.prototype.bind = function(scope) {\n\n            var self                    = this;\n\n            return function() {\n                return self.apply(scope,arguments);\n            }\n        };\n    }\n\n    /**\n     * Checks whether options is an array\n     *\n     * @param options The object to check\n     */\n    var isArray = function(options){\n        return typeof options === 'object' && options !== null && typeof options.length === 'number';\n    };\n\n    /**\n     * Checks whether an object is an object literal (non-null, non-array)\n     *\n     * @param options The object to check\n     * @return {Boolean}\n     */\n    var isObjLiteral = function(options) {\n        return typeof options === 'object' && options !== null && typeof options.length !== 'number';\n    };\n\n    /**\n     * Delete property from object in IE-safe way\n     *\n     * @param obj Object containing property\n     * @param prop Property to delete\n     */\n    var safeDelete = function(obj,prop){\n\n        try {\n            delete obj[prop];\n        } catch (e){\n            obj[prop] = undefined;\n        }\n    };\n\n    /**\n     * Converts dot-delimited string into object literal with\n     * properties corresponding to message parts. Any parts\n     * that don't exist are set to wildcards.\n     *\n     * Strings are formatted like:\n     *\n     * Namespace:Originator.subject.verb.DESCRIPTOR\n     *\n     * @param msgString Dot-delimited string with optional namespace\n     * @constructor\n     */\n    var Message = function Message(msgString){\n\n        this.namespace                  = this.DEFAULT_NS;\n\n        /* Namespace is specified like Namespace:Foo.bar.baz.QUZ,\n         * so if a colon is found, we must separate it from the\n         * rest of the message string */\n        if (msgString.indexOf(':') > -1){\n            this.namespace              = msgString.substr(0,msgString.indexOf(':'));\n            msgString                   = msgString.substr((msgString.indexOf(':')+1),msgString.length);\n        }\n\n        if (msgString.indexOf('.') > -1){\n\n            var msgArray                = msgString.split('.');\n            this.msgArray               = [msgArray[0] || '*',msgArray[1] || '*',msgArray[2] || '*', msgArray[3] || '*'];\n            this.msgString              = this.msgArray.join('.');\n\n        } else {\n\n            this.msgArray               = [msgString];\n            this.msgString              = msgString;\n        }\n    };\n\n    /**\n     * Message class prototype\n     *\n     * @type {Object}\n     */\n    Message.prototype = {\n\n        DEFAULT_NS                      : '__default',\n\n        /**\n         * Compares this message to another\n         *\n         * If all segments are either matching or wildcards, then the messages are equivalent.\n         *\n         * For example:\n         *\n         * foo.bar.baz      === foo.bar.baz\n         * *.bar.*          === foo.bar.baz\n         * foo.*.baz        === foo.bar.baz\n         * goo.*.baz        !== foo.bar.baz\n         *\n         * We only return true if the this message if more specific than the other. Say we want\n         * to trigger a listener when the message and listener match exactly, or when the listener is\n         * more general than the message, but not when the message is more general than the listener.\n         *\n         * For example:\n         *\n         * If message is foo.bar.baz and listener is foo.bar.baz, trigger listener.\n         * If message is foo.bar.baz and listener is foo.bar.*, trigger listener.\n         * If message is foo.bar.* and listener is foo.bar.baz, DON'T trigger listener.\n         *\n         * @param msgString The message to compare\n         */\n        matches : function(msgString){\n\n            if (this.msgString === msgString){\n                return true;\n            }\n\n            /* Split messages into arrays at the dots */\n            var msg1Array               = this.msgArray;\n            var msg2Array               = msgString.split('.');\n\n            /* If the messages don't have the same number of segments, they aren't equivalent */\n            if (msg1Array.length !== msg2Array.length){\n                return false;\n            }\n\n            var msg1Bitmask             = '';\n            var msg2Bitmask             = '';\n            var longerMessageLength     = (msg1Array.length >= msg2Array.length) ? msg1Array.length : msg2Array.length;\n\n            /* Loop through segments and compare them */\n            for (var i=0;i<longerMessageLength;i++){\n\n                /* If neither segment is a wildcard, and the segments don't match, then the messages aren't equivalent */\n                if (msg1Array[i] !== '*' && msg2Array[i] !== '*' && msg1Array[i] !== msg2Array[i]){\n                    return false;\n                }\n\n                msg1Bitmask            += (msg1Array[i] === '*') ? '0' : '1';\n                msg2Bitmask            += (msg2Array[i] === '*') ? '0' : '1';\n            }\n\n            return msg1Bitmask >= msg2Bitmask;\n        },\n\n        /**\n         * Returns serialized message string\n         *\n         * @returns {String}\n         */\n        toString : function(){\n            return this.msgString;\n        }\n    };\n\n    /**\n     * PubSub singleton definition\n     *\n     * @constructor\n     */\n    var PubSub = {\n\n        handlers                        : {},\n        subscribers : {\n            before                      : [],\n            after                       : []\n        },\n\n        /**\n         * Gets public API methods\n         *\n         * @return {Object}\n         */\n        getAPI : function(){\n\n             return {\n                clear                   : this.clear.bind(this),\n                listen                  : this.listen.bind(this),\n                once                    : this.once.bind(this),\n                publish                 : this.publish.bind(this),\n                stop                    : this.stop.bind(this),\n                subscribe               : this.subscribe.bind(this),\n                unsubscribe             : this.unsubscribe.bind(this)\n             }\n        },\n\n        /**\n         * Listen for message(s)\n         *\n         * Valid forms:\n         *\n         * PubSub.listen('someMessage',messageHandler);\n         *\n         * PubSub.listen({\n         *     message                  : 'someMessage',\n         *     handler                  : messageHandler,\n         *     async                    : false             // optional. True if handler is asynchronous\n         * });\n         *\n         * ... plus all the above forms with an array of messages in place of a single message\n         */\n        listen : function(){\n\n            var options                 = this.processListenArgs(Array.prototype.slice.call(arguments));\n\n            this.log('listen', 'Adding listener', options);\n\n            /* Call listen() for each message in array */\n            if (isArray(options.message)){\n                this.each(options,this.listen.bind(this));\n                return null;\n            }\n\n            this.addHandler(options);\n        },\n\n        /**\n         * Listen for a message one time. Once the message is handled once,\n         * stop listening for it.\n         *\n         * Valid forms are the same as for listen()\n         *\n         * @return {*}\n         */\n        once : function(){\n\n            var options                 = this.processListenArgs(Array.prototype.slice.call(arguments));\n            options.limit               = 1;\n\n            this.log('once', 'Adding one-time listener', options);\n\n            /* Call once() for each message in array */\n            if (isArray(options.message)){\n                this.each(options,this.once.bind(this));\n                return null;\n            }\n\n            this.addHandler(options);\n        },\n\n        /**\n         * Stop listening for message(s)\n         *\n         * Valid forms:\n         *\n         * PubSub.stop('someMessage');\n         *\n         * ... plus the above form with an array of messages in place of a single message\n         *\n         * @return {*}\n         */\n        stop : function(message){\n\n            if (message){\n                throw new Error('Message(s) must be passed to stop()');\n            }\n\n            var options = {\n                message                 : this.toMessage(message)\n            };\n\n            this.log('stop', 'Stopping listener', options);\n\n            /* Call stop() for each message in array */\n            if (isArray(options.message)){\n                this.each(options,this.stop.bind(this));\n                return null;\n            }\n\n            this.removeHandlers(options);\n        },\n\n        /**\n         * subscribe() registers a handler to be called every time a message\n         * is published. Typical use-cases for this would be a reporting mechanism\n         * that wants to receive every message so it can report on some (or all) of\n         * them. Another use-case would be a third-party system that needs to adjust\n         * its own state based on changes indicated by published messages.\n         *\n         * By default, subscribed handlers are called after all message handlers are\n         * called. Setting the 'phase' param to 'before' will tell PubSub to call the\n         * subscribed handler before the message handlers instead.\n         *\n         * An optional namespace can be set so that subscribers can be removed later,\n         * limiting the removal to subscribers in a namespace.\n         *\n         * Finally, a boolean async param can be set. This tells PubSub to wait to call\n         * any onPublish() function until after the subscriber handler has been executed.\n         *\n         * Valid forms:\n         *\n         * PubSub.subscribe(handler);\n         *\n         * PubSub.subscribe({\n         *     handler                  : messageHandler,\n         *     namespace                : 'SomeNamespace',  // optional\n         *     phase                    : 'before',         // optional\n         *     async                    : true              // optional. True if handler is asynchronous\n         * });\n         */\n        subscribe : function(){\n\n            var options                 = this.processSubscribeArgs(Array.prototype.slice.call(arguments));\n            var phase                   = options.phase;\n\n            this.log('subscribe', 'Adding subscriber', options);\n\n            this.subscribers[phase]     = this.subscribers[phase] || [];\n            this.subscribers[phase].push(options);\n        },\n\n        /**\n         * Removes any subscribers matching the namespace. If no namespace is\n         * specified, removes subscribers in the default namespace.\n         *\n         * If phase is specified, limits the removal to subscribers\n         * in that phase ('before' or 'after')\n         *\n         * Valid forms:\n         *\n         * PubSub.unsubscribe(namespace,phase);\n         *\n         * PubSub.unsubscribe({\n         *     namespace                : 'SomeNamespace',  // optional\n         *     phase                    : 'before'          // optional\n         * });\n         */\n        unsubscribe : function(){\n\n            var options                 = this.processUnsubscribeArgs(Array.prototype.slice.call(arguments));\n\n             /* If \"phase\" isn't specified, remove before and after */\n            if (!options.phase){\n\n                this.unsubscribe(options.namespace,'before');\n                this.unsubscribe(options.namespace,'after');\n\n                return null;\n            }\n\n            var namespace               = options.namespace;\n            var phase                   = options.phase;\n            var subscribers             = this.subscribers[phase];\n\n            this.log('unsubscribe', 'Unsubscribe from ' + phase + ' phase' + ((namespace) ? ' in ' +namespace + ' namespace' : ''), options);\n\n            if (isArray(subscribers)){\n\n                for (var i=0;i<subscribers.length;i++){\n\n                    if (!namespace || subscribers[i].namespace === namespace){\n                        subscribers.splice(i,1);\n                    }\n                }\n            }\n        },\n\n        /**\n         * Valid forms:\n         *\n         * PubSub.publish('someMessage',payloadObject);\n         *\n         * PubSub.publish({\n         *     message                  : 'someMessage',\n         *     payload                  : payloadObject,    // optional\n         *     onComplete               : onCompleteFunc,   // optional\n         *     onPublish                : onPublishFunc     // optional\n         * });\n         *\n         * ... plus all the above forms with an array of messages in place of a single message\n         */\n        publish : function(){\n\n            var options                 = this.processPublishArgs(Array.prototype.slice.call(arguments));\n\n            if (isArray(options.message)){\n\n                /* If an onComplete has been defined, store it in a local variable,\n                 * then delete it from the data object. This is done so that onComplete\n                 * is only called once the each() iterator is complete, and not when each\n                 * iteration is complete. */\n                var onComplete          = options.onComplete;\n                options.onComplete      = null;\n\n                /* Call publish() for each message in array */\n                this.each(options,this.publish.bind(this),onComplete);\n\n                return null;\n            }\n\n            var msgString               = options.message.toString();\n\n            this.log('publish', '# START publishing '+msgString, options);\n\n            var message                 = options.message;\n            var payload                 = options.payload;\n            var onPublish               = options.onPublish;\n            var publishTo               = this.subscribers['before']\n                                            .concat(this.getHandlers(message))\n                                            .concat(this.subscribers['after']);\n\n            for (var i=0;i<publishTo.length;i++){\n\n                if (publishTo[i].limit === null || publishTo[i].count < publishTo[i].limit){\n\n                    var result          = (publishTo[i].async) ?\n                                           publishTo[i].handler(message,payload,onPublish) :\n                                           publishTo[i].handler(message,payload);\n\n                    if (publishTo[i].async !== true && typeof onPublish === 'function'){\n                        onPublish(result);\n                    }\n\n                    publishTo[i].count += 1;\n                }\n\n                if (typeof publishTo[i].limit === 'number' && publishTo[i].count === publishTo[i].limit){\n                    this.removeHandlers(options,i);\n                }\n            }\n\n            this.log('publish', '# END publishing ' + msgString, options);\n\n            if (typeof options.onComplete === 'function'){\n                options.onComplete();\n            }\n        },\n\n        /**\n         * Gets all handlers that match the published message (including those\n         * that match by wildcard, if applicable)\n         *\n         * @param message The message for which to get handlers\n         * @returns {Array}\n         */\n        getHandlers : function(message){\n\n            var handlers                = [];\n\n            for (var msgString in this.handlers){\n\n                if (this.handlers.hasOwnProperty(msgString) && message.matches(msgString)){\n                    handlers            = handlers.concat(this.handlers[msgString]);\n                }\n            }\n\n            return handlers;\n        },\n\n        /**\n         * Clears all handlers and subscribers.\n         */\n        clear : function(){\n\n            this.log('clear', 'Clearing PubSub');\n\n            this.handlers               = {};\n\n            this.subscribers = {\n                before                  : [],\n                after                   : []\n            };\n        },\n\n        /**\n         * Iterates over an array of messages, passing each one to a function\n         * as part of an object containing the rest of the properties required\n         * for the function.\n         *\n         * For example, the data object may contains messages, plus payload and\n         * callbacks. The object is passed through the function with one of the\n         * messages, plus the payload and callbacks. This is repeated for each\n         * message in the array.\n         *\n         * @param data Array of messages over which to iterate\n         * @param fn Function to call on each iteration\n         * @param onComplete Function to call once iterator is complete\n         */\n        each : function(data,fn,onComplete){\n\n            /* Call function for each message in array */\n            for (var i=0;i<data.message.length;i++){\n\n                var thisData            = {};\n\n                /* Copy properties of data to new object */\n                for (var j in data){\n\n                    if (data.hasOwnProperty(j) && j !== 'message'){\n                        thisData[j]     = data[j];\n                    }\n                }\n\n                thisData.message        = data.message[i];\n\n                fn(thisData)\n            }\n\n            if (typeof onComplete === 'function'){\n                onComplete();\n            }\n        },\n\n        /**\n         * Adds handlers for message\n         *\n         * @param options Object containing listen() options\n         */\n        addHandler : function(options){\n\n            var msgString               = options.message.toString();\n\n           this.log('addHandler', 'Adding handler for '+msgString+' message', null, 'TRACE');\n\n            this.handlers[msgString]    = this.handlers[msgString] || [];\n\n            this.handlers[msgString].push({\n                namespace               : options.message.namespace,\n                handler                 : options.handler,\n                async                   : options.async,\n                limit                   : (typeof options.limit === 'number')? options.limit : null,\n                count                   : 0\n            });\n        },\n\n        /**\n         * Removes handlers for given message\n         *\n         * @param options Data object containing message to remove handler for\n         * @param handlerNum The index of the handler to remove. If none specified, all handlers are removed.\n         */\n        removeHandlers : function(options,handlerNum){\n\n            var msgString               = options.message.toString();\n            var namespace               = options.message.namespace;\n            var handlers                = this.handlers;\n\n            if (handlers && handlers[msgString]){\n\n                var logMsg          = 'Removing handler for ' + msgString + ' message';\n                logMsg             += (namespace !== options.message.DEFAULT_NS) ? ' in ' + namespace + ' namespace' : '';\n\n                this.log('removeHandlers', logMsg, null, 'TRACE');\n\n                if (typeof handlerNum === 'number'){\n\n                    if (handlers[msgString][handlerNum].namespace === namespace){\n                        handlers[msgString].splice(handlerNum,1);\n                    }\n\n                } else {\n\n                    for (var i=0;i<handlers[msgString].length;i++){\n\n                        if (handlers[msgString][i].namespace === namespace){\n                            handlers[msgString].splice(i,1);\n                        }\n                    }\n                }\n\n                if (handlers[msgString].length === 0){\n                    safeDelete(handlers,msgString);\n                }\n            }\n        },\n\n        /**\n         * Processes arguments passed to listen() or once() methods, validating them\n         * and setting defaults as needed\n         *\n         * Returns object with message, handler, and/or async properties defined\n         *\n         * @param args Array of args to process\n         * @return {Object} Object containing processed args\n         */\n        processListenArgs : function(args){\n\n            var options                 = {};\n\n            if (isObjLiteral(args[0])){\n\n                options                 = args[0];\n\n            } else {\n\n                options.message         = (typeof args[0] === 'string' || isArray(args[0])) ? args[0] : null;\n                options.handler         = (typeof args[1] === 'function') ? args[1] : null;\n            }\n\n            if (!options.message || typeof options.handler !== 'function'){\n                throw new Error('Message(s) and handler function must be passed to listen() and/or once()');\n            }\n\n            options.message             = this.toMessage(options.message);\n\n            return options;\n        },\n\n        /**\n         * Processes arguments passed to subscribe() method, validating them\n         * and setting defaults as needed\n         *\n         * Returns object with handler, async, namespace and/or phase\n         *\n         * @param args Array of args to process\n         * @return {Object} Object containing processed args\n         */\n        processSubscribeArgs : function(args){\n\n            var options                 = {};\n\n            if (isObjLiteral(args[0])){\n\n                options                 = args[0];\n\n            } else {\n\n                options.handler         = (typeof args[0] === 'function') ? args[0] : null;\n            }\n\n            if (typeof options.handler !== 'function'){\n                throw new Error(\"Handler must be passed to subscribe()\");\n            }\n\n            options.phase               = options.phase || 'after';\n            options.limit               = null;\n            options.count               = 0;\n\n            if (options.phase && !(options.phase in { before : 1, after : 1 } )){\n                throw new Error(options.phase+\" is not a valid phase for subscribe().\");\n            }\n\n            return options;\n        },\n\n        /**\n         * Processes arguments passed to unsubscribe() method, validating them\n         * and setting defaults as needed\n         *\n         * Returns object with namespace and/or phase\n         *\n         * @param args Array of args to process\n         * @return {Object} Object containing processed args\n         */\n        processUnsubscribeArgs : function(args){\n\n            var options                 = {};\n\n            if (isObjLiteral(args[0])){\n\n                options                 = args[0];\n\n            } else {\n\n                options.namespace       = (typeof args[0] === 'string') ? args[0] : null;\n                options.phase           = (typeof args[1] === 'string') ? args[1] : null;\n            }\n\n            if (options.phase && !(options.phase in { before : 1, after : 1 } )){\n                throw new Error(options.phase+\" is not a valid phase for unsubscribe().\");\n            }\n\n            return options;\n        },\n\n        /**\n         * Processes arguments passed to publish() method, validating them\n         * and setting defaults as needed\n         *\n         * Returns object with message, payload, onComplete, and/or onPublish\n         * properties defined\n         *\n         * @param args Array of args to process\n         * @return {Object} Object containing processed args\n         */\n        processPublishArgs : function(args){\n\n            var options                 = {};\n\n            if (isObjLiteral(args[0])){\n\n                options                 = args[0];\n\n            } else {\n\n                options.message         = (typeof args[0] === 'string' || isArray(args[0])) ? args[0] : null;\n                options.payload         = (typeof args[1] !== 'undefined') ? args[1] : null;\n            }\n\n            if (!options.message){\n                throw new Error(\"Message(s) must be passed to publish()\");\n            }\n\n            options.message             = this.toMessage(options.message);\n\n            if (options.async && typeof options.onPublish !== 'function'){\n                options.onPublish       = function(){};\n            }\n\n            return options;\n        },\n\n        /**\n         * Converts message strings to Message objects\n         *\n         * @param message Message string or array of message strings\n         * @return {String|Array} Converted message(s)\n         */\n        toMessage : function(message){\n\n            /* Convert array of message strings to Message objects */\n            if (isArray(message)){\n\n                var messageArray        = [];\n\n                for (var i=0;i<message.length;i++){\n\n                    if (!(message[i] instanceof Message)){\n                        messageArray[i] = new Message(message[i]);\n                    }\n                }\n\n                message                 = messageArray;\n            }\n            /* Convert single message string to Message object */\n            else if (message && !(message instanceof Message)){\n\n                message                 = new Message(message);\n            }\n\n            return message;\n        },\n\n        /**\n         * Alias for global log(). Prepends PubSub to funcName.\n         *\n         * @param funcName The name of the function generating the log message\n         * @param message The message to log\n         * @param payload Data object\n         * @param level Log level (ERROR, WARN, INFO, DEBUG)\n         */\n        log : function(funcName,message,payload,level){\n\n            log('DropletJS.PubSub.'+funcName,message,payload,level);\n        },\n\n        /**\n         * Sets the log level\n         *\n         * @param level OFF, ERROR, WARN, INFO, DEBUG, or TRACE\n         */\n        setLogLevel : function(level){\n            logLevel                    = level;\n        }\n    };\n\n    return PubSub;\n}(window || global));\n\nexport default PubSub;\n","import GeneralUtils from './GeneralUtils'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Notification: ReturnType<typeof Notification.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('Notification')\n\nlet api: API\n\n/**\n * Functions showing desktop notifications for elapsed time and Nuclear Option\n *\n * @author              Warren Benedetto <wmbenedetto@gmail.com>\n * @since               March 27, 2010\n * @version             1.2.4\n */\n\nconst Notification = {\n  settings: [300, 60, 10], // seconds\n  NOTIFICATION_TTL: 5000, // milliseconds\n\n  /**\n   * Initializes API\n   */\n  initAPI: function (theAPI: API) {\n    api = theAPI\n\n    return api.mixin('Notification', {\n      initAsync: this.initAsync.bind(this),\n      get: this.get.bind(this),\n      saveSettings: this.saveSettings.bind(this),\n    })\n  },\n\n  /**\n   * Initializes Notification class\n   */\n  init: function (callback: Function | undefined) {\n    log('init', 'Initializing Notification', null, 'DEBUG')\n\n    this.loadSettings()\n\n    if (typeof callback === 'function') {\n      callback()\n    }\n  },\n  initAsync() {\n    return new Promise((resolve) => this.init(resolve))\n  },\n\n  /**\n   * Gets notification settings\n   */\n  get: function () {\n    return this.settings\n  },\n\n  /**\n   * Shows desktop notification\n   *\n   * @param type The type of notification to show\n   */\n  show: function (type: 'nuclear' | 'block') {\n    log('show', 'Showing ' + type + ' notification')\n\n    let icon = ''\n    let message = ''\n    let totalSecondsRemaining = 0\n\n    if (type === 'nuclear') {\n      totalSecondsRemaining = api.NuclearOption.getSecondsUntilActive()\n\n      icon = '/common/img/icon-nuclear-48.png'\n      message =\n        api.Chrome.Translation.get('nuclearNotification') ||\n        'The Nuclear Option will start blocking sites in'\n    } else if (type === 'block') {\n      totalSecondsRemaining = api.StayFocusd.getTotalSecondsRemaining()\n\n      icon = '/common/img/icon-red-48.png'\n      message =\n        api.Chrome.Translation.get('blockNotification') ||\n        'StayFocusd will start blocking your Blocked Sites in'\n    }\n\n    message +=\n      totalSecondsRemaining > 60\n        ? ' ' + api.Date.secondsToMinsAndSecs(totalSecondsRemaining)\n        : ' ' + totalSecondsRemaining + ' seconds'\n\n    const options: chrome.notifications.NotificationOptions<true> = {\n      type: 'basic',\n      title: 'StayFocusd',\n      iconUrl: icon,\n      message: message,\n    }\n\n    api.Chrome.Notification.create('', options, (notificationID: string) => {\n      /* Close notification after NOTIFICATION_TTL seconds */\n      if (notificationID != undefined)\n        setTimeout(() => {\n          api.Chrome.Notification.clear(notificationID)\n        }, this.NOTIFICATION_TTL)\n    })\n  },\n\n  /**\n   * Checks whether a notification is set to appear at the given time\n   *\n   * @param timeToCheck The time to check, in seconds\n   */\n  isset: function (timeToCheck: number) {\n    return this.settings.inArray(timeToCheck)\n  },\n\n  /**\n   * Saves settings\n   *\n   * @param settings Object containing Notification settings\n   */\n  saveSettings: function (settings: number[]) {\n    log('saveSettings', 'Saving settings', settings, 'TRACE')\n\n    this.settings = settings\n\n    api.Settings.set({ notificationSettings: settings })\n  },\n\n  /**\n   * Loads settings\n   */\n  loadSettings: function () {\n    log('loadSettings', 'Loading settings', null, 'TRACE')\n\n    const notificationSettings = api.Settings.get('notificationSettings')\n\n    if (notificationSettings) {\n      this.settings = notificationSettings\n    }\n  },\n}\n\nexport default Notification\n","import Logger, { LogLevel } from '~/core/Logger'\n\nexport enum BadgeColor {\n  RED = '#FF0000',\n  YELLOW = '#FDD017',\n  GREEN = '#009933',\n  BLACK = '#000000',\n}\n\nexport enum BadgeIcon {\n  ONBOARDING = '/common/img/icon-red-dot-24.png',\n  ALLOWED = '/common/img/icon-green-24.png',\n  BLOCKED = '/common/img/icon-red-24.png',\n  DEFAULT = '/common/img/icon-24.png',\n  NUCLEAR = '/common/img/icon-nuclear-24.png',\n  DEACTIVATED = '/common/img/icon-disabled-24.png',\n}\n\n/**\n * Alias for Logger.log(). Prepends class name to funcName.\n *\n * @param funcName The name of the function generating the log message\n * @param message The message to log\n * @param payload Data object\n * @param level Log level (ERROR, WARN, INFO, DEBUG)\n */\nconst log = function (\n  funcName: string,\n  message: string,\n  payload: any,\n  level: LogLevel,\n) {\n  Logger.log(`BadgeIcons.${funcName}`, message, payload, level)\n}\n\nexport function badgeIcons() {\n  /**\n   * Shows badge on icon\n   *\n   * @param _text The badge text\n   * @param iconColor The badge's background color name\n   * @param _tabID Optional id of tab for which icon should be updated\n   */\n  function showBadge(\n    _text: string | undefined,\n    iconColor?: BadgeColor,\n    _tabID?: number,\n  ) {\n    const text = _text || ''\n    const tabID = _tabID || undefined\n\n    log('showBadge', 'Showing badge', { text, iconColor, tabID }, 'DEBUG')\n\n    if (iconColor) {\n      setBadgeColor(iconColor, tabID)\n    }\n\n    setBadgeText(text, tabID)\n  }\n\n  /**\n   * Hides icon badge\n   *\n   * @param tabID Optional id of tab for which icon should be updated\n   */\n  function hideBadge(tabID?: number) {\n    tabID = tabID || undefined\n\n    setBadgeText('', tabID)\n  }\n\n  /**\n   * Sets icon\n   *\n   * @param type The type of icon to show\n   * @param tabID Optional id of tab for which icon should be updated\n   */\n  async function setIcon(type: BadgeIcon, tabID?: number) {\n    tabID = tabID || undefined\n\n    log('setIcon', 'Setting icon', type, 'TRACE')\n\n    if (await isOnboardingIcon()) {\n      chrome.action.setIcon({\n        tabId: tabID,\n        path: BadgeIcon.ONBOARDING,\n      })\n    } else {\n      chrome.action.setIcon({\n        tabId: tabID,\n        path: type,\n      })\n    }\n  }\n\n  /**\n   * Sets badge color\n   *\n   * @param color The color as RGBA array or hex code\n   * @param tabID Optional id of tab for which icon should be updated\n   */\n  function setBadgeColor(color: string, tabID?: number) {\n    log('setBadgeColor', 'Setting badge color', color, 'TRACE')\n\n    tabID = tabID || undefined\n\n    chrome.action.setBadgeBackgroundColor({\n      tabId: tabID,\n      color: color,\n    })\n  }\n\n  /**\n   * Sets badge text\n   *\n   * @param text The text to display on the badge\n   * @param tabID Optional id of tab for which icon should be updated\n   */\n  function setBadgeText(text: string, tabID?: number) {\n    log('setBadgeText', 'Setting badge text', text, 'TRACE')\n\n    // TODO: Is this a bug? Should it be `tabID ?? undefined` to handle 0 correctly?\n    // There are many places in this file that do this, and they all need changed\n    tabID = tabID || undefined\n\n    chrome.action.setBadgeText({\n      tabId: tabID,\n      text: text,\n    })\n  }\n\n  async function isOnboardingIcon() {\n    // const isCompleted = await API.Requirements.isOnboardingCompleted()\n    // return !isCompleted\n    return false\n  }\n\n  return {\n    showBadge,\n    hideBadge,\n    setIcon,\n  }\n}\n","import Notification from './Notification'\nimport { MINUTE, HOUR } from './Time'\nimport GeneralUtils from './GeneralUtils'\nimport { API } from './API'\nimport { AmPm } from './DateUtils'\nimport SmartBomb from './SmartBomb'\nimport { badgeIcons } from './badge-icons'\n\ndeclare module '~/core/API' {\n  interface API {\n    NuclearOption: ReturnType<typeof NuclearOption.initAPI>\n  }\n}\n\nconst changeBadgeIcons = badgeIcons()\nconst log = GeneralUtils.createScopedLog('NuclearOption')\n\nlet api: API\n\n/**\n * Functions for setting, checking, and executing Nuclear Option\n *\n * @author              Warren Benedetto <wmbenedetto@gmail.com>\n * @since               March 13, 2011\n * @version             1.1.0\n */\n\nexport type NuclearContentType = 'wholeSite' | 'smartBomb'\nexport type NuclearStartType =\n  | 'now'\n  | 'whenMaxTimeAllowedExceeded'\n  | 'atScheduledTime'\nexport type NuclearFrequency =\n  | 'todayOnly'\n  | 'activeDays'\n  | 'everyWeekday'\n  | 'everyDay'\nexport type NuclearBlockType = 'all' | 'allExceptAllowed' | 'blocked'\n\nexport interface NuclearSettings {\n  blockType: NuclearBlockType\n  contentType: NuclearContentType\n  smartBomb: SmartBomb\n  blockLength: number\n  startType: NuclearStartType\n  frequency: NuclearFrequency\n  startHour: null | string\n  startMin: null | string\n  startAmPm: null | AmPm\n  activeDays?: boolean[]\n  expiration?: number\n  lastActiveDate: string\n  lastExpiredDate?: string | null\n  isCurrentlyActive: boolean\n}\n\nconst NuclearOption = {\n  timer: null as NodeJS.Timer | null, // holds setInterval() timer value\n  interval: 1, // how often to check time until nuclear, in seconds\n  settings: {} as NuclearSettings,\n  initialized: false,\n\n  /**\n   * Initializes API\n   */\n  initAPI: function (theAPI: API) {\n    api = theAPI\n\n    return api.mixin('NuclearOption', {\n      init: this.init.bind(this),\n      initAsync: this.initAsync.bind(this),\n      activate: this.activate.bind(this),\n      isActive: this.isActive.bind(this),\n      getBlockLength: this.getBlockLength.bind(this),\n      getBlockType: this.getBlockType.bind(this),\n      getContentType: this.getContentType.bind(this),\n      getExpiration: this.getExpiration.bind(this),\n      getFrequency: this.getFrequency.bind(this),\n      getSecondsUntilActive: this.getSecondsUntilActive.bind(this),\n      getSmartBomb: this.getSmartBomb.bind(this),\n      getStartAmPm: this.getStartAmPm.bind(this),\n      getStartHour: this.getStartHour.bind(this),\n      getStartMin: this.getStartMin.bind(this),\n      getStartType: this.getStartType.bind(this),\n      saveSettings: this.saveSettings.bind(this),\n      updateActiveDays: this.updateActiveDays.bind(this),\n    })\n  },\n\n  /**\n   * Initializes Nuclear Option\n   *\n   * @param callback Function to call when initialization is complete\n   */\n  init: function (callback: Function) {\n    log('init', 'Initializing NuclearOption', null, 'DEBUG')\n\n    this.loadSettings()\n\n    this.timer = setInterval(this.tick.bind(this), this.interval * 1000)\n    this.initialized = true\n\n    if (typeof callback === 'function') {\n      callback()\n    }\n\n    api.PubSub.listen(\n      'Settings.data.refreshed',\n      (message: string, payload: any) => {\n        if (payload.changes.nuclearOptionSettings) this.loadSettings()\n      },\n    )\n  },\n  initAsync() {\n    return new Promise((resolve) => this.init(resolve))\n  },\n\n  /**\n   * Saves settings\n   *\n   * @param settings Object containing Nuclear Option settings\n   */\n  saveSettings: function (settings: NuclearSettings) {\n    this.settings = settings\n    settings.activeDays = this.calculateActiveDays(settings)\n\n    log('saveSettings', 'Saving settings', settings, 'DEBUG')\n\n    api.Settings.set({ nuclearOptionSettings: settings })\n  },\n\n  /**\n   * Based on the type of active days selected, figures out exactly\n   * which days should be set to active\n   *\n   * @param settings Object containing Nuclear Option settings\n   * @returns {Array} Array of active days\n   */\n  calculateActiveDays: function (settings: Record<string, any>): boolean[] {\n    let activeDays: boolean[] = []\n\n    /* Use the days from the Active Days tab. */\n    if (settings.frequency === 'activeDays') {\n      activeDays = api.StayFocusd.getActiveDays(true) as boolean[]\n    } else if (typeof settings.frequency !== 'undefined') {\n      activeDays[0] = settings.frequency === 'everyDay'\n      activeDays[1] = settings.frequency.indexOf('every') > -1\n      activeDays[2] = settings.frequency.indexOf('every') > -1\n      activeDays[3] = settings.frequency.indexOf('every') > -1\n      activeDays[4] = settings.frequency.indexOf('every') > -1\n      activeDays[5] = settings.frequency.indexOf('every') > -1\n      activeDays[6] = settings.frequency === 'everyDay'\n    }\n\n    log('calculateActiveDays', 'Calculating active days', activeDays, 'DEBUG')\n\n    return activeDays\n  },\n\n  updateActiveDays: function (activeDays: boolean[]) {\n    log('updateActiveDays', 'Updating active days', activeDays, 'DEBUG')\n\n    if (!this.initialized) {\n      this.init(() => {\n        this.updateActiveDays(activeDays)\n      })\n    }\n\n    this.settings.activeDays = activeDays\n\n    this.saveSettings(this.settings)\n  },\n\n  /**\n   * Loads settings\n   */\n  loadSettings: function () {\n    log('loadSettings', 'Loading settings', this.settings, 'DEBUG')\n\n    const nuclearOptionSettings = api.Settings.get('nuclearOptionSettings')\n\n    if (nuclearOptionSettings) {\n      this.settings = nuclearOptionSettings\n    }\n  },\n\n  /**\n   * Determines whether the Nuclear Option is active.\n   *\n   * If it should be active and it's not, it is activated here. Likewise,\n   * if it shouldn't be active and it is, it's deactivated here.\n   */\n  isActive: function () {\n    if (this.isCurrentlyActive()) {\n      if (this.isExpired()) {\n        this.deactivate()\n      }\n    } else if (this.isStarted()) {\n      this.activate()\n    }\n\n    const isActive = this.isCurrentlyActive()\n\n    log(\n      'isActive',\n      'Is Nuclear Option active?',\n      isActive ? 'YES' : 'NO',\n      'TRACE',\n    )\n\n    return isActive\n  },\n\n  /**\n   * Checks whether the Nuclear Option is active today\n   */\n  isActiveToday: function () {\n    const frequency = this.getFrequency()\n    const lastActiveDate = this.getLastActiveDate()\n    const lastExpiredDate = this.getLastExpiredDate()\n    const todayDate = new Date().toDateString()\n\n    if (\n      frequency === 'todayOnly' &&\n      (lastActiveDate === todayDate || lastActiveDate === null) &&\n      lastExpiredDate !== todayDate\n    ) {\n      return true\n    }\n\n    const day = new Date().getDay()\n    const activeDays = this.getActiveDays()\n\n    if (activeDays.length === 0) {\n      return false\n    }\n\n    return activeDays[day]\n  },\n\n  /**\n   * Checks whether the Nuclear Option has started yet, based on the\n   * selected start type.\n   */\n  isStarted: function (): boolean {\n    const startType = this.getStartType()\n    const lastActiveDate = this.getLastActiveDate()\n    const lastExpiredDate = this.getLastExpiredDate()\n    const todayDate = new Date().toDateString()\n\n    if (!this.isActiveToday() || lastExpiredDate === todayDate) {\n      /**\n       * If the combination of the scheduled time and the block length push the\n       * expiration into the next day, then the expiration date will match today's\n       * date, even though technically it's the expiration of yesterday's block.\n       * Therefore, we have to make sure that the expiration was not only today,\n       * but that it happened after the start time for today. If it expired today\n       * before it started today, then we know the expiration was actually from\n       * yesterday.\n       */\n      if (startType === 'atScheduledTime') {\n        const todayStartTimeDateObj = new Date(\n          todayDate +\n            ' ' +\n            this.getStartHour() +\n            ':' +\n            this.getStartMin() +\n            ' ' +\n            this.getStartAmPm(),\n        )\n        const todayExpirationDateObj = new Date(this.getExpiration()!)\n\n        if (todayExpirationDateObj > todayStartTimeDateObj) {\n          return false\n        }\n      } else {\n        return false\n      }\n    }\n\n    if (startType === 'now') {\n      return lastActiveDate === todayDate\n    } else if (this.isActiveToday()) {\n      if (startType === 'atScheduledTime') {\n        return api.Date.hasTimePassed(\n          this.getStartHour(),\n          this.getStartMin(),\n          this.getStartAmPm(),\n        ) as boolean\n      } else if (startType === 'whenMaxTimeAllowedExceeded') {\n        return !!api.BlockedAllWebsites.isMaxTimeAllowedExceeded()\n      }\n    }\n    return false\n  },\n\n  /**\n   * Activates the Nuclear Option\n   */\n  activate: function () {\n    api.Analytics.event('TOGGLE_NUCLEAR_OPTION', { enabled: true })\n\n    log('activate', 'Activating Nuclear Option')\n\n    const startDate = this.hasScheduledTime()\n      ? api.Date.getTodayDateObj(\n          this.getStartHour(),\n          this.getStartMin(),\n          this.getStartAmPm(),\n        )\n      : new Date()\n\n    this.settings.expiration = startDate.getTime() + this.getBlockLength()\n    this.settings.lastActiveDate = new Date().toDateString()\n    this.settings.lastExpiredDate = null\n    this.settings.isCurrentlyActive = true\n\n    this.saveSettings(this.settings)\n    changeBadgeIcons.hideBadge()\n  },\n\n  /**\n   * Deactivates the Nuclear Option\n   */\n  deactivate: function () {\n    api.Analytics.event('TOGGLE_NUCLEAR_OPTION', { enabled: false })\n\n    log('deactivate', 'Deactivating Nuclear Option')\n\n    this.settings.lastExpiredDate = new Date().toDateString()\n    this.settings.isCurrentlyActive = false\n\n    this.saveSettings(this.settings)\n  },\n\n  /**\n   * Checks whether the Nuclear Option has expired for the day\n   */\n  isExpired: function () {\n    if (this.getExpiration() === null) {\n      return true\n    }\n\n    const nowDate = new Date()\n    const expirationDate = new Date(this.getExpiration()!)\n\n    return expirationDate < nowDate\n  },\n\n  /**\n   * Checks whether a domain is blockable based on the selected blockType\n   *\n   * @param isBlacklisted Whether the domain being checked is blacklisted\n   * @param isWhitelisted Whether the domain being checked is whitelisted\n   */\n  isBlockable: function (isBlacklisted: boolean, isWhitelisted: boolean) {\n    if (this.isActive() === false) {\n      return false\n    }\n\n    const blockType = this.getBlockType()\n\n    switch (blockType) {\n      case 'all':\n        return true\n\n      case 'allExceptAllowed':\n        return !isWhitelisted\n\n      case 'blocked':\n        return isBlacklisted && !isWhitelisted\n\n      default:\n        return false\n    }\n  },\n\n  hasScheduledTime: function () {\n    return this.getStartType() === 'atScheduledTime'\n  },\n\n  getSecondsUntilActive: function () {\n    return api.Date.secondsUntilTime(\n      this.getStartHour(),\n      this.getStartMin(),\n      this.getStartAmPm(),\n    )\n  },\n\n  hasSmartBomb: function () {\n    return this.getContentType() === 'smartBomb'\n  },\n\n  isCurrentlyActive: function () {\n    return typeof this.settings.isCurrentlyActive === 'undefined'\n      ? false\n      : this.settings.isCurrentlyActive\n  },\n\n  getSmartBomb: function (): SmartBomb {\n    return this.settings.smartBomb ?? {}\n  },\n\n  getContentType: function () {\n    return typeof this.settings.contentType === 'undefined'\n      ? 'wholeSite'\n      : this.settings.contentType\n  },\n\n  getExpiration: function () {\n    return typeof this.settings.expiration === 'undefined'\n      ? null\n      : Number(this.settings.expiration)\n  },\n\n  getLastActiveDate: function () {\n    return typeof this.settings.lastActiveDate === 'undefined'\n      ? null\n      : this.settings.lastActiveDate\n  },\n\n  getLastExpiredDate: function () {\n    return typeof this.settings.lastExpiredDate === 'undefined'\n      ? null\n      : this.settings.lastExpiredDate\n  },\n\n  getBlockType: function () {\n    return typeof this.settings.blockType === 'undefined'\n      ? 'blocked'\n      : this.settings.blockType\n  },\n\n  getBlockLength: function () {\n    if (typeof this.settings.blockLength === 'undefined') return HOUR\n    else {\n      const valueFromStorage = this.settings.blockLength\n      //check if value from storage is float or less then 1 minute\n      if (\n        (Number(valueFromStorage) === valueFromStorage &&\n          valueFromStorage % 1 !== 0) ||\n        valueFromStorage < MINUTE\n      ) {\n        return Math.floor(valueFromStorage * 60) * MINUTE\n      } else return valueFromStorage\n    }\n  },\n\n  getStartType: function () {\n    return typeof this.settings.startType === 'undefined'\n      ? 'now'\n      : this.settings.startType\n  },\n\n  getStartHour: function () {\n    return this.settings.startHour ?? '00'\n  },\n\n  getStartMin: function () {\n    return this.settings.startMin ?? '00'\n  },\n\n  getStartAmPm: function (): AmPm {\n    return this.settings.startAmPm ?? 'am'\n  },\n\n  getFrequency: function () {\n    return this.settings.frequency ?? null\n  },\n\n  getActiveDays: function (): boolean[] {\n    return this.settings.activeDays ?? []\n  },\n\n  tick: function () {\n    if (this.hasScheduledTime() && !this.isActive()) {\n      const secondsUntilNuclear = this.getSecondsUntilActive()\n\n      log(\n        'tick',\n        secondsUntilNuclear + ' seconds until Nuclear Option',\n        null,\n        'TRACE',\n      )\n\n      if (Notification.isset(secondsUntilNuclear)) {\n        Notification.show('nuclear')\n      }\n      this.updateBadge()\n    } else if (this.isActive()) {\n      this.updatePopupTimer()\n    }\n\n    return true\n  },\n  updatePopupTimer() {\n    api.StayFocusd.postTimerUpdatedMessage()\n  },\n  updateBadge: function () {\n    const seconds = this.getSecondsUntilActive()\n    if (seconds > 0 && seconds < 60) {\n      api.StayFocusd.updateBadge(this.getSecondsUntilActive(), true)\n    }\n  },\n}\n\nexport default NuclearOption\n","import { API } from './API'\nimport GeneralUtils from './GeneralUtils'\n\ndeclare module '~/core/API' {\n  interface API {\n    BlockedGroupsTimer: ReturnType<typeof BlockedGroupsTimer.initAPI>\n  }\n}\n\n/**\n * @type {((funcName: string, message: string, payload: any, level: 'ERROR' | 'WARN' | 'INFO' | 'DEBUG') => void) | undefined}\n */\nconst log = GeneralUtils.createScopedLog('WebUsage')\n\nconst TICK_INTERVAL = 1000\n\nlet api: API\n\nconst BlockedGroupsTimer = {\n  _timer: null as NodeJS.Timer | null,\n  _isNewDay: null as Function | null,\n  _killPageAction: null as Function | null,\n  _updateBadgeAction: null as Function | null,\n  _postTimerUpdatedMessage: null as Function | null,\n  _showNotification: null as Function | null,\n\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('BlockedGroupsTimer', {\n      init: this.init.bind(this),\n      startCountdown: this.startCountdown.bind(this),\n      stopCountdown: this.stopCountdown.bind(this),\n      tick: this.tick.bind(this),\n      isMaxTimeAllowedExceeded: this.isMaxTimeAllowedExceeded.bind(this),\n      getTotalSecondsRemaining: this.getTotalSecondsRemaining.bind(this),\n    })\n  },\n\n  async init(\n    isNewDay: () => boolean,\n    killPageAction: (url: string) => boolean,\n    updateBadgeAction: (totalSecondsRemaining: number) => void,\n    postTimerUpdatedMessage: () => void,\n    showNotification: (totalSecondsRemaining: number) => void,\n  ): Promise<void> {\n    this._isNewDay = isNewDay\n    this._killPageAction = killPageAction\n    this._updateBadgeAction = updateBadgeAction\n    this._postTimerUpdatedMessage = postTimerUpdatedMessage\n    this._showNotification = showNotification\n  },\n\n  /**\n   * Starts countdown timer\n   */\n  startCountdown(url: string) {\n    if (this._timer) {\n      this.stopCountdown()\n    }\n    if (!api.Settings.get('activated', true)) {\n      log('startCountdown', 'Extension is not activated')\n      return\n    }\n    log('startCountdown', 'Starting countdown')\n    this._timer = setInterval(async () => await this.tick(url), TICK_INTERVAL)\n  },\n\n  /**\n   * Stops countdown timer\n   */\n  stopCountdown() {\n    log('stopCountdown', 'Stopping countdown')\n    if (this._timer) clearInterval(this._timer as unknown as number)\n    this._timer = null\n  },\n\n  /**\n   * Increments elapsedTime counter in local storage. If time spent\n   * exceeds the maximum allowed, kills page\n   */\n  async tick(url: string) {\n    if (this._isNewDay?.()) {\n      api.BlockedGroupsRepository.clearElapsedTime()\n    }\n\n    const blockTimeForAllObj = api.BlockedAllWebsites.getTime()\n    if (blockTimeForAllObj != null) {\n      await api.Storage.set({\n        blockAllWebsitesElapsedTime: blockTimeForAllObj.elapsedTime + 1,\n      })\n\n      this.actionsAfterCheckingTime(\n        url,\n        blockTimeForAllObj.elapsedTime,\n        blockTimeForAllObj.allowedTime - blockTimeForAllObj.elapsedTime,\n      )\n    } else {\n      const group = api.BlockedGroupsRepository.getBlockedGroupByDomain(url)\n      if (!group) return\n\n      await api.BlockedGroupsRepository.incrementElapsedTime(group.groupName)\n\n      const totalSecondsRemainingForGroup =\n        group.maxTimeAllowed - group.elapsedTime\n\n      this.actionsAfterCheckingTime(\n        url,\n        group.elapsedTime,\n        totalSecondsRemainingForGroup,\n      )\n    }\n  },\n\n  actionsAfterCheckingTime(\n    url: string,\n    elapsedTime: number,\n    remainingTime: number,\n  ) {\n    log(\n      'tick',\n      `Elapsed time: ${elapsedTime}. Time remaining: ${remainingTime}`,\n      null,\n      'DEBUG',\n    )\n\n    this._showNotification?.(remainingTime)\n\n    if (remainingTime <= 0) {\n      this._killPageAction?.(url)\n      return\n    }\n\n    this._postTimerUpdatedMessage?.()\n    this._updateBadgeAction?.(remainingTime)\n  },\n\n  isMaxTimeAllowedExceeded(url: string) {\n    const isMaxTimeAllowedExceededForAll =\n      api.BlockedAllWebsites.isMaxTimeAllowedExceeded()\n    if (isMaxTimeAllowedExceededForAll != null) {\n      return isMaxTimeAllowedExceededForAll\n    } else {\n      const group = api.BlockedGroupsRepository.getBlockedGroupByDomain(url)\n      if (group) {\n        return group.elapsedTime >= group.maxTimeAllowed\n      }\n    }\n\n    return false\n  },\n\n  getTotalSecondsRemaining(url: string) {\n    const getTotalSecondsRemainingForAll =\n      api.BlockedAllWebsites.getTotalSecondsRemaining()\n    if (getTotalSecondsRemainingForAll != null) {\n      return getTotalSecondsRemainingForAll\n    } else {\n      const group = api.BlockedGroupsRepository.getBlockedGroupByDomain(url)\n      if (group != null) {\n        return group.maxTimeAllowed - group.elapsedTime\n      }\n    }\n  },\n}\nexport default BlockedGroupsTimer\n","import { MINUTE_IN_SEC } from './Time'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    BlockedAllWebsites: ReturnType<typeof BlockedAllWebsites.initAPI>\n  }\n}\n\nlet api: API\n\nexport type BlockTime = {\n  allowedTime: number\n  elapsedTime: number\n}\n\nconst BlockedAllWebsites = {\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('BlockedAllWebsites', {\n      getTime: this.getTime.bind(this),\n      isMaxTimeAllowedExceeded: this.isMaxTimeAllowedExceeded.bind(this),\n      getTotalSecondsRemaining: this.getTotalSecondsRemaining.bind(this),\n      clearElapsedTime: this.clearElapsedTime.bind(this),\n    })\n  },\n\n  /**\n   * Get allowed time and elapsed time if all websites are blocked\n   * @returns {boolean | null}\n   */\n  getTime(): BlockTime | null {\n    const blockAllWebsites = api.Settings.get('isBlockAllWebsites') ?? false\n    if (blockAllWebsites) {\n      const allowedTime =\n        api.Settings.get('blockAllWebsitesAllowedTime') ?? MINUTE_IN_SEC * 10\n      const elapsedTime = api.Settings.get('blockAllWebsitesElapsedTime') ?? 0\n      return {\n        allowedTime: allowedTime,\n        elapsedTime: elapsedTime,\n      }\n    }\n    return null\n  },\n\n  /**\n   * Is max time allowed exceeded if all websites are blocked. Return null if all websites have not been blocked\n   * @returns {boolean | null}\n   */\n  isMaxTimeAllowedExceeded() {\n    const blockTimeForAllObj = this.getTime()\n    if (blockTimeForAllObj != null) {\n      return blockTimeForAllObj.elapsedTime >= blockTimeForAllObj.allowedTime\n    }\n\n    return null\n  },\n\n  /**\n   * Return total seconds remaining if all websites are blocked. Return null if all websites have not been blocked\n   * @returns {number | null}\n   */\n  getTotalSecondsRemaining() {\n    const blockTimeForAllObj = this.getTime()\n    if (blockTimeForAllObj != null) {\n      return blockTimeForAllObj.allowedTime - blockTimeForAllObj.elapsedTime\n    }\n\n    return null\n  },\n\n  /**\n   * Clear elapsed time for all websites\n   * @returns {Promise<void>}\n   */\n  async clearElapsedTime() {\n    await api.Storage.set({ blockAllWebsitesElapsedTime: 0 })\n  },\n}\n\nexport default BlockedAllWebsites\n","import API from '~/core/CoreAPI'\n/**\n * Gets the blocklist for use with `isHostnameBlocked`.\n * @returns {Promise<string[]>}\n */\nexport function getBlocklist() {\n  const blockedGroups = API.BlockedGroupsRepository.get()\n  let array: string[] = []\n  blockedGroups.forEach((group) => {\n    array = array.concat(group.websites)\n  })\n  return array\n}\n\n/**\n * Gets the allowlist for use with `isHostnameBlocked`.\n * @returns {Promise<string[]>}\n */\nexport function getAllowlist() {\n  return API.WhitelistRepository.getAll()\n}\n\n/**\n * Give a hostname, blocklist, and allowlist, determine if the hostname should be blocked. Check\n * the blocklist first, then uses the allowlist to override.\n * @param {string} hostname\n * @param {string[]} blocklist\n * @param {string[]} allowlist\n * @returns {boolean}\n */\n\nexport function isHostnameBlocked(\n  hostname: string,\n  blocklist: string[],\n  allowlist: string[],\n) {\n  const matchesBlocklist =\n    blocklist == null\n      ? true\n      : blocklist.some((wildcard) =>\n          isHostnameBlockedPredicate(wildcard, hostname),\n        )\n  const matchesAllowlist = allowlist.some((wildcard) =>\n    isHostnameBlockedPredicate(wildcard, hostname),\n  )\n\n  return matchesBlocklist && !matchesAllowlist\n}\n\nexport function isHostnameBlockedPredicate(\n  domainToCheck: string,\n  domainToCompare: string,\n) {\n  return (\n    API.Domain.isMoreGeneralURL(domainToCheck, domainToCompare) ||\n    API.Domain.matchesWildcard(domainToCheck, domainToCompare)\n  )\n}\n","import { isHostnameBlockedPredicate } from '~/utils/isHostnameBlocked'\nimport { API } from './API'\nimport { MAX_TIME_ALLOWED_DEFAULT, MINUTE_IN_SEC } from './Time'\n\ndeclare module '~/core/API' {\n  interface API {\n    BlockedGroupsRepository: ReturnType<typeof BlockedGroupsRepository.initAPI>\n  }\n}\n\nconst GROUPS_IN_STORAGE = 'blockedGroups'\nconst BLACK_LIST_IN_STORAGE = 'blacklist'\nconst MAX_TIME_ALLOWED_IN_STORAGE = 'maxTimeAllowed'\nconst DEFAULT_GROUP_NAME = 'Default'\n\n// maxTimeAllowed & elapsedTime store in seconds\nexport interface BlockGroup {\n  groupName: string\n  maxTimeAllowed: number\n  websites: string[]\n  elapsedTime: number\n}\n\nlet api: API\nlet _groups: BlockGroup[] = []\n\nconst BlockedGroupsRepository = {\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('BlockedGroupsRepository', {\n      init: this.init.bind(this),\n      add: this.add.bind(this),\n      get: this.get.bind(this),\n      getByName: this.getByName.bind(this),\n      update: this.update.bind(this),\n      updateWebsites: this.updateWebsites.bind(this),\n      addWebsite: this.addWebsite.bind(this),\n      clearElapsedTime: this.clearElapsedTime.bind(this),\n      incrementElapsedTime: this.incrementElapsedTime.bind(this),\n      delete: this.delete.bind(this),\n      isBlockable: this.isBlockable.bind(this),\n      getBlockedGroupByDomain: this.getBlockedGroupByDomain.bind(this),\n      getBlockedGroupsByDomain: this.getBlockedGroupsByDomain.bind(this),\n      migrate: this.migrate.bind(this),\n      importBlockedsites: this.importBlockedsites.bind(this),\n    })\n  },\n\n  async init() {\n    const syncDisabled = API.Settings.get('disableSync') === true\n\n    if (syncDisabled) {\n      const data = await api.Chrome.Storage.getSync(GROUPS_IN_STORAGE)\n      const hasDataForMigration = !!data[GROUPS_IN_STORAGE]\n      await api.Storage.setBucket(\n        GROUPS_IN_STORAGE,\n        'LOCAL',\n        !hasDataForMigration,\n      )\n    } else {\n      const data = await api.Chrome.Storage.getLocal(GROUPS_IN_STORAGE)\n      const hasDataForMigration = !!data[GROUPS_IN_STORAGE]\n      await api.Storage.setBucket(\n        GROUPS_IN_STORAGE,\n        'SYNC',\n        !hasDataForMigration,\n      )\n    }\n\n    this.getGroups()\n    this.addListeners()\n  },\n\n  async getGroups() {\n    const groups = api.Settings.get(GROUPS_IN_STORAGE)\n    _groups = groups == null ? [] : groups\n  },\n\n  /**\n   * Add a new BlockGroup\n   * @returns {Promise<void>}\n   */\n  async add(\n    groupName: string,\n    maxTime: any,\n    websites: string[],\n    elapsedTime: any,\n  ) {\n    const existingGroup = _groups.find((x) => x.groupName == groupName)\n    if (existingGroup == undefined) {\n      const newGroup: BlockGroup = {\n        groupName: groupName,\n        maxTimeAllowed: maxTime,\n        websites: websites,\n        elapsedTime: elapsedTime == undefined ? 0 : elapsedTime,\n      }\n\n      _groups.push(newGroup)\n      await this.saveChanges()\n      API.Analytics.event('CREATE_BLOCKED_GROUP')\n    }\n  },\n\n  /**\n   * Add all blocked groups\n   * @returns {BlockGroup[]}\n   */\n  get() {\n    return _groups\n  },\n\n  /**\n   * Add blocked group by name\n   * @returns {BlockGroup}\n   */\n  getByName(groupName: string) {\n    return _groups.find((x) => x.groupName == groupName)\n  },\n\n  /**\n   * Update blocked group by name\n   * @returns {Promise<void>}\n   */\n  async update(\n    sourceGroupName: string,\n    groupName: string,\n    maxTime: any,\n    websites: string[],\n  ) {\n    const existingGroup = _groups.find((x) => x.groupName == sourceGroupName)\n    if (typeof existingGroup === 'undefined') return\n\n    if (existingGroup.groupName != groupName)\n      API.Analytics.event('UPDATE_BLOCKED_GROUP_NAME')\n\n    if (existingGroup.groupName != 'Default')\n      existingGroup.groupName = groupName\n\n    if (existingGroup.maxTimeAllowed != maxTime)\n      API.Analytics.event('UPDATE_BLOCKED_GROUP_MAX_TIME_ALLOWED', {\n        minutes: maxTime / 60,\n      })\n\n    existingGroup.maxTimeAllowed = maxTime\n    existingGroup.websites = websites\n    await this.saveChanges()\n  },\n\n  /**\n   * Update websites in blocked group by name\n   * @returns {Promise<void>}\n   */\n  async updateWebsites(groupName: string, websites: string[]) {\n    const existingGroup = _groups.find((x) => x.groupName == groupName)\n    if (typeof existingGroup === 'undefined') return\n    existingGroup.websites = websites\n    await this.saveChanges()\n  },\n\n  /**\n   * Add a website to blocked group by name\n   * Returns the flag whether the site was successfully added or not\n   * @returns {Promise<boolean>}\n   */\n  async addWebsite(groupName: string, website: string) {\n    const existingGroup = _groups.find((x) => x.groupName == groupName)\n    if (typeof existingGroup === 'undefined') return\n    if (existingGroup.websites.find((x) => x == website) == null) {\n      existingGroup.websites.push(website)\n      await this.saveChanges()\n      return true\n    }\n    return false\n  },\n\n  /**\n   * Clear elapsed time for all groups\n   * @returns {Promise<void>}\n   */\n  async clearElapsedTime() {\n    const groups = this.get()\n    groups.forEach((group) => (group.elapsedTime = 0))\n    await this.saveChanges()\n    await api.BlockedAllWebsites.clearElapsedTime()\n  },\n\n  /**\n   * Delete blocked group\n   * @returns {Promise<void>}\n   */\n  async delete(groupName: string): Promise<void> {\n    const targetGroupIndex = _groups.findIndex((x) => x.groupName == groupName)\n    if (targetGroupIndex > -1) {\n      _groups.splice(targetGroupIndex, 1)\n      await this.saveChanges()\n      API.Analytics.event('DELETE_BLOCKED_GROUP')\n    }\n  },\n\n  /**\n   * Is domain contains in any blocked groups\n   * @returns {void}\n   */\n  isBlockable(domain: string) {\n    domain = domain.toLowerCase()\n    return (\n      _groups.find((group) =>\n        group.websites.find((site) => isHostnameBlockedPredicate(site, domain)),\n      ) != undefined\n    )\n  },\n\n  /**\n   * If domain contains in any blocked groups return blocked group\n   * @returns {BlockGroup}\n   */\n  getBlockedGroupByDomain(domain: string) {\n    if (domain == null) return null\n    domain = domain.toLowerCase()\n    return _groups.find((group) =>\n      group.websites.find((site) => isHostnameBlockedPredicate(site, domain)),\n    )\n  },\n\n  /**\n   * Returns all blocked groups that contain provided domain\n   * @returns {BlockGroup[]}\n   */\n  getBlockedGroupsByDomain(domain: string) {\n    return _groups.filter((group) =>\n      group.websites.find((site) => isHostnameBlockedPredicate(site, domain)),\n    )\n  },\n\n  /**\n   * Migrate all blocled websites to blocked group. Create a new default blocked group.\n   * @returns {Promise<void>}\n   */\n  async migrate() {\n    if (this.needMigrate()) {\n      const websitesObj = api.Settings.get(BLACK_LIST_IN_STORAGE)\n      let maxTimeAllowedInMinutes = api.Settings.get(\n        MAX_TIME_ALLOWED_IN_STORAGE,\n      )\n      if (maxTimeAllowedInMinutes == null)\n        maxTimeAllowedInMinutes = MAX_TIME_ALLOWED_DEFAULT\n      else maxTimeAllowedInMinutes = maxTimeAllowedInMinutes * MINUTE_IN_SEC\n      let elapsedTime = await api.Storage.get('elapsedTime')\n      if (isNaN(elapsedTime) || elapsedTime == null) elapsedTime = 0\n      if (websitesObj != null) {\n        const websites = Object.keys(websitesObj)\n        await this.add(\n          DEFAULT_GROUP_NAME,\n          maxTimeAllowedInMinutes,\n          websites,\n          elapsedTime,\n        )\n      } else\n        await this.add(\n          DEFAULT_GROUP_NAME,\n          maxTimeAllowedInMinutes,\n          [],\n          elapsedTime,\n        )\n    }\n  },\n\n  needMigrate() {\n    return api.Settings.get(GROUPS_IN_STORAGE) == null\n  },\n\n  /**\n   * Move all blocked websites to the default groups after import settings\n   * @returns {Promise<void>}\n   */\n  async importBlockedsites() {\n    // we shoud import blockes websites only if user have done export settings in the old version of the extension that doesn't have blocked groups\n    // if storage has blocked groups than we shoudn't take blocked websites\n    _groups = []\n    const websitesObj = api.Settings.get(BLACK_LIST_IN_STORAGE)\n    if (websitesObj != null) {\n      const websites = Object.keys(websitesObj)\n      let maxTimeAllowedInMinutes = api.Settings.get(\n        MAX_TIME_ALLOWED_IN_STORAGE,\n      )\n      if (maxTimeAllowedInMinutes == null)\n        maxTimeAllowedInMinutes = MAX_TIME_ALLOWED_DEFAULT\n      else maxTimeAllowedInMinutes = maxTimeAllowedInMinutes * MINUTE_IN_SEC\n      await this.add(DEFAULT_GROUP_NAME, maxTimeAllowedInMinutes, websites, 0)\n    }\n  },\n\n  async incrementElapsedTime(groupName: string) {\n    const group = this.getByName(groupName)\n    if (!group) return\n    group.elapsedTime += 1\n    await this.saveChanges()\n  },\n\n  async saveChanges() {\n    await api.Storage.set({\n      blockedGroups: _groups,\n    })\n  },\n\n  addListeners() {\n    API.PubSub.listen(\n      'Settings.data.refreshed',\n      async (message: string, payload: any) => {\n        if (payload.changes.blockedGroups || payload.changes.disableSync) {\n          if (payload.changes.disableSync) {\n            if (payload.disableSync === false) {\n              await api.Storage.setBucket(GROUPS_IN_STORAGE, 'SYNC')\n            } else {\n              await api.Storage.setBucket(GROUPS_IN_STORAGE, 'LOCAL')\n            }\n          }\n          this.getGroups()\n        }\n      },\n    )\n  },\n}\n\nexport default BlockedGroupsRepository\n","import GeneralUtils from './GeneralUtils'\n\nconst log = GeneralUtils.createScopedLog('Message')\n\n/**\n * Converts dot-delimited string into object literal with\n * properties corresponding to message parts. Any parts\n * that don't exist are set to wildcards.\n *\n * Strings are formatted like:\n *\n * Namespace:Originator.subject.verb.DESCRIPTOR\n */\nexport default class Message {\n  DEFAULT_NS = '__default'\n\n  msgArray: string[] | null = null\n  msgString: string | null = null\n  namespace: string | null = null\n\n  /**\n   * @param {string} msgString Dot-delimited string with optional namespace\n   */\n  constructor(msgString: string) {\n    this.namespace = this.DEFAULT_NS\n\n    /* Namespace is specified like Namespace:Foo.bar.baz.QUZ,\n     * so if a colon is found, we must separate it from the\n     * rest of the message string */\n    if (msgString.indexOf(':') > -1) {\n      this.namespace = msgString.substr(0, msgString.indexOf(':'))\n      msgString = msgString.substr(msgString.indexOf(':') + 1, msgString.length)\n    }\n\n    if (msgString.indexOf('.') > -1) {\n      const msgArray = msgString.split('.')\n      this.msgArray = [\n        msgArray[0] || '*',\n        msgArray[1] || '*',\n        msgArray[2] || '*',\n        msgArray[3] || '*',\n      ]\n      this.msgString = this.msgArray.join('.')\n    } else {\n      this.msgArray = [msgString]\n      this.msgString = msgString\n    }\n  }\n\n  /**\n   * Compares this message to another\n   *\n   * If all segments are either matching or wildcards, then the messages are equivalent.\n   *\n   * For example:\n   *\n   * foo.bar.baz      === foo.bar.baz\n   * *.bar.*          === foo.bar.baz\n   * foo.*.baz        === foo.bar.baz\n   * goo.*.baz        !== foo.bar.baz\n   *\n   * We only return true if the this message if more specific than the other. Say we want\n   * to trigger a listener when the message and listener match exactly, or when the listener is\n   * more general than the message, but not when the message is more general than the listener.\n   *\n   * For example:\n   *\n   * If message is foo.bar.baz and listener is foo.bar.baz, trigger listener.\n   * If message is foo.bar.baz and listener is foo.bar.*, trigger listener.\n   * If message is foo.bar.* and listener is foo.bar.baz, DON'T trigger listener.\n   *\n   * @param msgString The message to compare\n   */\n  matches(msgString: string) {\n    if (this.msgString === msgString) {\n      log(\n        'matches',\n        this.msgString + ' matches ' + msgString + '?',\n        'YES',\n        'TRACE',\n      )\n\n      return true\n    }\n\n    /* Split messages into arrays at the dots */\n    const msg1Array = this.msgArray\n    const msg2Array = msgString.split('.')\n\n    /* If the messages don't have the same number of segments, they aren't equivalent */\n    if (msg1Array?.length !== msg2Array.length) {\n      log(\n        'matches',\n        this.msgString + ' matches ' + msgString + '?',\n        'NO',\n        'TRACE',\n      )\n\n      return false\n    }\n\n    let msg1Bitmask = ''\n    let msg2Bitmask = ''\n    const longerMessageLength =\n      msg1Array.length >= msg2Array.length ? msg1Array.length : msg2Array.length\n\n    /* Loop through segments and compare them */\n    for (let i = 0; i < longerMessageLength; i++) {\n      /* If neither segment is a wildcard, and the segments don't match, then the messages aren't equivalent */\n      if (\n        msg1Array[i] !== '*' &&\n        msg2Array[i] !== '*' &&\n        msg1Array[i] !== msg2Array[i]\n      ) {\n        log(\n          'matches',\n          this.msgString + ' matches ' + msgString + '?',\n          'NO',\n          'TRACE',\n        )\n\n        return false\n      }\n\n      msg1Bitmask += msg1Array[i] === '*' ? '0' : '1'\n      msg2Bitmask += msg2Array[i] === '*' ? '0' : '1'\n    }\n\n    log(\n      'matches',\n      this.msgString + ' matches ' + msgString + '?',\n      msg1Bitmask >= msg2Bitmask ? 'YES' : 'NO',\n      'TRACE',\n    )\n\n    return msg1Bitmask >= msg2Bitmask\n  }\n\n  /**\n   * Returns serialized message string\n   *\n   * @returns {String}\n   */\n  toString() {\n    return this.msgString\n  }\n\n  getOriginator() {\n    return this.msgArray?.[0] === '*' ? null : this.msgArray?.[0]\n  }\n\n  getDescriptor() {\n    return this.msgArray?.[3] === '*' ? null : this.msgArray?.[3]\n  }\n}\n","import DomainParser from './DomainParser'\nimport NuclearOption from './NuclearOption'\nimport Notification from './Notification'\nimport Message from './Message'\nimport Time, { MINUTE, SECOND } from './Time'\nimport { API } from './API'\nimport GeneralUtils from './GeneralUtils'\nimport Utils from './GeneralUtils'\nimport { BadgeColor, BadgeIcon, badgeIcons } from './badge-icons'\nimport Browser from 'webextension-polyfill'\n\ndeclare module '~/core/API' {\n  interface API {\n    StayFocusd: ReturnType<typeof StayFocusd.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('StayFocusd')\nconst changeBadgeIcons = badgeIcons()\n\nlet api: API\n\n/**\n * Primary javascript logic for StayFocusd extension\n *\n * @author              Warren Benedetto <wmbenedetto@gmail.com>\n * @since               January 14, 2010\n */\ninterface ActiveHours {\n  endHour: string\n  endMin: string\n  startHourInt: number\n  startMinInt: number\n  startHour: string\n  startMin: string\n  endHourInt: number\n  endMinInt: number\n  startTime: string\n  endTime: string\n}\n\nexport interface ActiveHoursQueue {\n  timestamp: number\n  startTime: string\n  endTime: string\n}\n\nexport interface ResetTimeQueue {\n  timestamp: string\n  resetTime: string\n}\n\nexport interface DisplayTimerResult {\n  groupName: string | null\n  time: string\n  nuclear: boolean\n}\n\nconst onboardingOpenedAtStorageKey = 'onboarding-opened-at'\n\nconst StayFocusd = {\n  firstInstallAllowance: 60, // in minutes\n  interval: 1, // how often to check elapsed time, in seconds\n  timer: null, // holds setInterval() timer value\n  apiURL: 'https://www.stayfocusd.com',\n  redirectURL: 'https://www.stayfocusd.com/blocked/',\n  uninstallUrl: 'https://www.stayfocusd.com/goodbye/',\n  onboardingUrl: 'https://www.stayfocusd.com/extension-get-started',\n  currentURL: null as string | null,\n  version: null as string | null,\n  selectedTabID: null as number | null,\n  active: null,\n  popupPort: null as null | chrome.runtime.Port,\n\n  /**\n   * Initializes API\n   *\n   * @param theAPI\n   */\n  initAPI: function (theAPI: API) {\n    api = theAPI\n    //window.API = api\n\n    return api.mixin('StayFocusd', {\n      getActiveDays: this.getActiveDays.bind(this),\n      getActiveHours: this.getActiveHours.bind(this),\n      getActiveHoursQueue: this.getActiveHoursQueue.bind(this),\n      getAPIURL: () => this.apiURL,\n      getCurrentURL: () => this.currentURL,\n      getResetTime: this.getResetTime.bind(this),\n      getResetTimeQueue: this.getResetTimeQueue.bind(this),\n      getTotalSecondsRemaining: this.getTotalSecondsRemaining.bind(this),\n      isActive: this.isActive.bind(this),\n      isFirstInstallAllowanceActive:\n        this.isFirstInstallAllowanceActive.bind(this),\n      isUpdatePopupDisabled: this.isUpdatePopupDisabled.bind(this),\n      localizeHTML: this.localizeHTML.bind(this),\n      setActiveDays: this.setActiveDays.bind(this),\n      setActiveHoursQueue: this.setActiveHoursQueue.bind(this),\n      setResetTimeQueue: this.setResetTimeQueue.bind(this),\n      updateBadge: this.updateBadge.bind(this),\n      hideBadge: this.hideBadge.bind(this),\n      postTimerUpdatedMessage: this.postTimerUpdatedMessage.bind(this),\n      onInstalled: this.onInstalled.bind(this),\n      onUpdated: this.onUpdated.bind(this),\n      activated: this.activated.bind(this),\n      setActivated: this.setActivated.bind(this),\n      isActivateSwitchShown: this.isActivateSwitchShown.bind(this),\n      setActivateSwitchShown: this.setActivateSwitchShown.bind(this),\n    })\n  },\n\n  /**\n   * Initializes extension\n   */\n  async init() {\n    log('init', 'Initializing StayFocusd', null, 'DEBUG')\n\n    this.initCheckingTab()\n    await this.initSettings()\n    await this.initRemoteConfig()\n    this.initAnalytics()\n    this.initBugsnag()\n    await this.initRequirements()\n    await this.initBlockedGroups()\n    this.initBlockedGroupTimer()\n    await this.initWhitelist()\n    await this.initNuclearOption()\n    await this.initNotification()\n    this.initListeners()\n    this.initUninstallURL()\n    await this.initWebUsageCollect()\n    this.initScheduleJobs()\n    await this.forceOnboardingOnNewTab()\n  },\n\n  initBlockedGroupTimer() {\n    const isNewDay = () => this.isNewDay()\n    const killPageAction = (url: string) => this.killPage(url)\n    const updateBadgeAction = (totalSecondsRemaining: number) =>\n      this.updateBadge(totalSecondsRemaining)\n    const postTimerUpdatedMessage = () => this.postTimerUpdatedMessage()\n    const showNotification = (totalSecondsRemaining: number) =>\n      this.showNotification(totalSecondsRemaining)\n\n    api.BlockedGroupsTimer.init(\n      isNewDay,\n      killPageAction,\n      updateBadgeAction,\n      postTimerUpdatedMessage,\n      showNotification,\n    )\n  },\n\n  /**\n   * Initializes settings\n   */\n  async initSettings() {\n    await api.Settings.initAsync()\n\n    await api.Storage.setBucket([\n      'backupKeys',\n      'disableUpdatePopup',\n      'isUpdated',\n      'previousVersion',\n      'productivityBypass',\n    ])\n\n    /* When storage data changes, refresh Settings */\n    api.Storage.addOnChangeListener(\n      async (changes: Record<string, any>, areaName: string) => {\n        log('init', areaName + ' storage changed', changes)\n\n        api.Settings.refresh(() => {\n          api.PubSub.publish('Settings.data.refreshed', {\n            areaName: areaName,\n            changes: changes,\n          })\n        })\n      },\n    )\n\n    if (this.isFirstInstall()) {\n      this.setFirstInstallAllowance()\n    }\n  },\n\n  /**\n   * Initialize the remote config module.\n   */\n  async initRemoteConfig() {\n    await api.RemoteConfig.init()\n\n    // Set up an Alarm to refresh remote config on an interval\n    await api.Chrome.Alarms.ensure('remote-config', { periodInMinutes: 30 })\n    api.Chrome.Alarms.addListener(\n      'onAlarm',\n      async (alarm: chrome.alarms.Alarm) => {\n        if (alarm.name !== 'remote-config') return\n        await api.RemoteConfig.refresh()\n      },\n    )\n    await api.RemoteConfig.refresh()\n  },\n\n  initAnalytics() {\n    api.Analytics.init()\n  },\n\n  initBugsnag() {\n    api.Bugsnag.init('background')\n  },\n\n  async initWebUsageCollect() {\n    await api.WebUsage.init()\n\n    chrome.runtime.onConnect.addListener((port) => {\n      if (port.name == 'getUsageSummaryData') {\n        port.onMessage.addListener(async (msg) => {\n          if (msg.message == 'usage.getUsageSummaryData.request') {\n            const usageDatabase = await api.WebUsage.getUsageDatabase()\n            const sessions = await usageDatabase.sessionsRepo.findSessions(\n              msg.startDate,\n              msg.endDate,\n            )\n            const ads = await usageDatabase.adsRepo.findAds(\n              msg.startDate,\n              msg.endDate,\n            )\n            port.postMessage({\n              message: 'usage.getUsageSummaryData.response',\n              startDate: msg.startDate,\n              endDate: msg.endDate,\n              sessions: sessions,\n              ads: ads,\n            })\n          }\n        })\n      }\n    })\n  },\n\n  initCheckingTab() {\n    setInterval(() => {\n      api.Chrome.Tab.getSelected(undefined, (tab) => {\n        if (!tab) return\n        api.PubSub.publish('StayFocusd.tab.activity', {\n          tabID: tab.id,\n          tab,\n        })\n      })\n    }, 1000)\n  },\n\n  initScheduleJobs() {\n    api.ScheduleJobs.init()\n  },\n\n  async initRequirements() {\n    await api.Requirements.init()\n  },\n\n  /**\n   * Initializes blocked groups\n   */\n  async initBlockedGroups() {\n    await api.BlockedGroupsRepository.init()\n    await api.BlockedGroupsRepository.migrate()\n\n    if (this.isNewDay() === true) {\n      api.BlockedGroupsRepository.clearElapsedTime()\n    }\n  },\n\n  /**\n   * Initializes whitelist\n   */\n  async initWhitelist() {\n    log('initWhitelist', 'Initializing whitelist', null, 'DEBUG')\n    await api.WhitelistRepository.init()\n    await api.WhitelistRepository.migrate()\n  },\n\n  /**\n   * Initializes Nuclear Option\n   */\n  async initNuclearOption() {\n    log('initNuclearOption', 'Initializing Nuclear Option', null, 'DEBUG')\n\n    await NuclearOption.initAsync()\n    log('initNuclearOption', 'Nuclear Option initialized', null, 'DEBUG')\n  },\n\n  /**\n   * Initializes Notification\n   */\n  async initNotification() {\n    log('initNotification', 'Initializing Notification', null, 'DEBUG')\n\n    await Notification.initAsync()\n\n    log('initNotification', 'Notification initialized', null, 'DEBUG')\n  },\n\n  showNotification(totalSecondsRemaining: number) {\n    if (Notification.isset(totalSecondsRemaining)) {\n      Notification.show('block')\n    }\n  },\n\n  /**\n   * Initializes listeners\n   */\n  initListeners() {\n    log('initListeners', 'Initializing listeners', null, 'DEBUG')\n\n    /* Subscribe to all messages and pipe to tabs through the Chrome.Message API */\n    api.PubSub.subscribe({\n      async: true,\n      handler: async (\n        message: { msgString: string; msgArray: string[]; namespace: string },\n        payload: any,\n        callback: (response: any) => void | boolean,\n      ) => {\n        function callbackWrapper(\n          innerCallback: (response: any) => void | boolean,\n        ) {\n          if (chrome.runtime.lastError) {\n            log('initListeners', 'runtime.lastError', chrome.runtime.lastError)\n          }\n\n          if (\n            innerCallback != undefined &&\n            typeof innerCallback === 'function'\n          ) {\n            return innerCallback\n          } else {\n            return () => true\n          }\n        }\n\n        callback = callbackWrapper(callback)\n\n        /* If the message isn't coming from a tab, send it */\n\n        if (!payload) return true\n        if (!payload.tabID) return true\n        if (payload.sender?.tab) return true\n\n        const tab = await api.Chrome.Tab.get(payload.tabID)\n\n        // Don't send a message to a non-existent tab\n        if (!tab) return true\n\n        // Don't send a message to a loading tab because content script won't be loaded yet\n        if (tab.status === 'loading') return true\n\n        const url = (tab.url == '' ? tab.pendingUrl : tab.url) ?? ''\n\n        // Don't send a message to tabs in which content script cannot be loaded\n        if (/^about:|^chrome-extension:|^chrome:\\/\\//i.test(url)) return true\n\n        api.Chrome.Message.sendToTab(\n          payload.tabID,\n          { message: message.toString(), payload: payload },\n          callback,\n        )\n\n        return true\n      },\n    })\n\n    /* Listen for requests coming from content scripts and republish via PubSub */\n    api.Chrome.Message.on.addListener(\n      (\n        request: Record<string, any>,\n        sender: Record<string, any>,\n        callback?: Function,\n      ) => {\n        request.payload = request.payload || {}\n        request.payload.sender = sender || {}\n\n        // if the message is coming from proxy-service, don't interfere with it\n        if (/^proxy-service.*$/.test(request.type)) {\n          return true\n        }\n\n        /* If the message is coming from a tab, republish it */\n        if (sender.tab) {\n          api.PubSub.publish({\n            message: request.message,\n            payload: request.payload,\n            onPublish: typeof callback === 'function' ? callback : () => {},\n          })\n        }\n\n        return true\n      },\n    )\n\n    // FIXME: Hack to detect whether tab is blockable when ActivityMonitor loads\n    api.PubSub.listen('ActivityMonitor.component.initialized', () => {\n      api.Chrome.Tab.getSelected(undefined, (tab) => {\n        if (!tab) return\n\n        api.PubSub.publish('StayFocusd.tab.selected', {\n          tab,\n          tabID: tab.id,\n          blockable: this.isBlockable(tab.url ?? ''),\n        })\n      })\n    })\n\n    api.PubSub.listen({\n      message: 'ActivityMonitor.overlay.hidden', // TODO: Prefer not to know about ActivityMonitor\n      async: true,\n\n      handler: (\n        message: Record<string, any>,\n        payload: Record<string, any>,\n        callback?: Function,\n      ) => {\n        const response = {\n          countdownStarted: api.BlockedGroupsTimer.startCountdown(\n            this.currentURL!,\n          ),\n        }\n\n        if (typeof callback === 'function') {\n          callback(response)\n        }\n      },\n    })\n\n    api.PubSub.listen({\n      message: 'ActivityMonitor.overlay.shown', // TODO: Prefer not to know about ActivityMonitor\n      async: true,\n\n      handler: (\n        message: Record<string, any>,\n        payload: Record<string, any>,\n        callback?: Function,\n      ) => {\n        const response = {\n          countdownStopped: api.BlockedGroupsTimer.stopCountdown(),\n        }\n\n        if (typeof callback === 'function') {\n          callback(response)\n        }\n      },\n    })\n\n    /* Add listener for when connection from popup is established */\n    api.Chrome.Extension.addListener(\n      'onConnect',\n      (port: chrome.runtime.Port) => {\n        if (port.name === 'popup') {\n          this.onPopupConnected(port)\n        }\n      },\n    )\n\n    api.Chrome.Tab.getSelected(undefined, async (tab) => {\n      await this.onTabStateChange(tab)\n    })\n\n    /* Add listener to check domain each time new tab is selected */\n    api.Chrome.Tab.addListener('onActivated', () => {\n      api.Chrome.Tab.getSelected(undefined, async (tab) => {\n        await this.onTabStateChange(tab)\n      })\n    })\n\n    /* Add listener to check domain each time tab is updated */\n    api.Chrome.Tab.addListener('onUpdated', () => {\n      api.Chrome.Tab.getSelected(undefined, async (tab) => {\n        await this.onTabStateChange(tab)\n      })\n    })\n\n    /* Add listener to stop timer each time tab is removed */\n    api.Chrome.Tab.addListener('onRemoved', () => {\n      api.Chrome.Tab.getSelected(undefined, (tab) => {\n        /* If the tab is undefined, that means the window is totally closed.\n         * Therefore, the timer should be stopped. If there's still another\n         * window open and there's a blocked site in a tab there, that will\n         * restart the timer. */\n        if (typeof tab === 'undefined') {\n          api.BlockedGroupsTimer.stopCountdown()\n        }\n      })\n    })\n\n    /* Add listener to stop timer each time window is removed */\n    api.Chrome.Window.addListener('onRemoved', () => {\n      api.BlockedGroupsTimer.stopCountdown()\n    })\n\n    /* Add listener to check domain each time new window is focused */\n    api.Chrome.Window.addListener('onFocusChanged', () => {\n      api.Chrome.Tab.getSelected(undefined, async (tab) => {\n        await this.onTabStateChange(tab)\n      })\n    })\n  },\n\n  async onInstalled(details: chrome.runtime.InstalledDetails) {\n    await chrome.tabs.create({ url: this.onboardingUrl, active: true })\n    log('onInstalled', 'Installed extension', details, 'INFO')\n\n    const { promise: webOnboardingPromise, resolve: webOnboardingResolve } =\n      GeneralUtils.getDecoupledPromise<void>()\n\n    chrome.runtime.onConnect.addListener((port) => {\n      if (port.name == 'startOnboardingAfterInstall') {\n        port.onMessage.addListener(async (msg) => {\n          if (msg.message == 'start-onboarding') {\n            webOnboardingResolve()\n          }\n        })\n      }\n    })\n\n    await webOnboardingPromise\n    api.Settings.set({ isNewUser: true })\n    await this.openOnboarding()\n  },\n  async onUpdated(details: chrome.runtime.InstalledDetails) {\n    /* window.onInstalledDetails is set in background.js when the onInstalled listener is called.\n     * It's set up this way because the onInstalled listener must be set immediately when\n     * the extension loads in order for it to exist when the onInstalled event fires. */\n    if (!details.previousVersion) return\n\n    const prevVersion: string = await api.Storage.get('previousVersion')\n    const disableUpdatePopup: string | boolean = await api.Storage.get(\n      'disableUpdatePopup',\n    )\n    /**\n     * Only pop update tab if details.previousVersion doesn't match\n     * the last previousVersion that was recorded on the last update.\n     * This is needed because the \"update\" reason seems to be triggered\n     * for some users even when A.) StayFocusd has already updated or\n     * B.) there's a Chrome update pending.\n     *\n     * @see https://code.google.com/p/chromium/issues/detail?id=303481\n     */\n    if (prevVersion !== details.previousVersion) {\n      if (disableUpdatePopup !== 'true' && disableUpdatePopup !== true) {\n        changeBadgeIcons.showBadge('NEW', BadgeColor.GREEN)\n      }\n\n      api.Storage.set({\n        isUpdated: true,\n        previousVersion: details.previousVersion,\n      })\n    }\n  },\n  async openOnboarding() {\n    log('openOnboarding', 'Opening onboarding in new tab', undefined, 'INFO')\n\n    await api.Storage.set({ [onboardingOpenedAtStorageKey]: Date.now() })\n    await api.Chrome.Tab.update({\n      url: this.getOptionsPage(),\n      active: true,\n    })\n  },\n  async forceOnboardingOnNewTab() {\n    log('initOnboarding', 'initializing...', undefined, 'INFO')\n\n    const firstInstallDate = await this.getFirstSensorTowerInstallDate()\n\n    api.Chrome.Tab.addListener('onCreated', async (tab: chrome.tabs.Tab) => {\n      if (Date.now() - firstInstallDate < MINUTE) return\n\n      log('initOnboarding', 'tab.onCreated', tab, 'DEBUG')\n\n      const newTabTimeout = api.RemoteConfig.get('newTabTimeout')\n      const isOnboardingCompleted =\n        await api.Requirements.isOnboardingCompleted()\n      const onboardingOpenedAt =\n        (await api.Storage.get(onboardingOpenedAtStorageKey)) ?? 0\n      const canOpenTab = Date.now() >= onboardingOpenedAt + newTabTimeout\n      if (!isOnboardingCompleted && canOpenTab) {\n        await api.Analytics.event('OPENING_ONBOARDING_ON_TAB_CREATED')\n        await this.openOnboarding()\n      }\n    })\n  },\n\n  initUninstallURL() {\n    api.Chrome.Extension.setUninstallURL(this.uninstallUrl)\n  },\n\n  /**\n   * Callback to run each time popup connects to background page\n   *\n   * @param port The port on which the connection has been made\n   */\n  onPopupConnected(port: chrome.runtime.Port) {\n    log('onPopupConnected', 'Popup connected', port, 'DEBUG')\n\n    this.popupPort = port\n\n    port.onMessage.addListener(async (obj) => {\n      const message = new Message(obj.message)\n\n      if (message.matches('*.domain.add.BLACKLIST')) {\n        const groupName = obj.payload.groupName\n        const domain = obj.payload.domain\n        const result = await api.BlockedGroupsRepository.addWebsite(\n          groupName,\n          domain,\n        )\n\n        port.postMessage({\n          message: 'StayFocusd.domain.added.' + message.getDescriptor(),\n          payload: {\n            success: result,\n          },\n        })\n\n        // check\n        await this.checkURL(obj.payload.domain)\n      }\n\n      if (message.matches('*.domain.add.WHITELIST')) {\n        const domain = [obj.payload.domain]\n        const result = await api.WhitelistRepository.add(domain)\n\n        port.postMessage({\n          message: 'StayFocusd.domain.added.' + message.getDescriptor(),\n          payload: {\n            success: result,\n          },\n        })\n\n        // check\n        await this.checkURL(obj.payload.domain)\n      }\n\n      if (message.matches('PopupController.toggle.*.*')) {\n        const { value } = obj.payload\n        this.setActivated(value)\n        port.postMessage({\n          message: 'StayFocusd.toggled',\n          payload: {\n            value: this.activated(),\n          },\n        })\n\n        api.Chrome.Tab.getSelected(undefined, async (tab) => {\n          await this.onTabStateChange(tab)\n        })\n      }\n\n      return true\n    })\n\n    port.onDisconnect.addListener(() => {\n      this.popupPort = null\n    })\n\n    this.postTimerUpdatedMessage()\n  },\n\n  /**\n   * Updates popup timer\n   */\n  postTimerUpdatedMessage: function () {\n    api.PubSub.publish('StayFocusd.timer.updated', {\n      tabID: this.selectedTabID,\n      displayTimer: this.getDisplayTimer(),\n    })\n\n    if (this.popupPort) {\n      this.popupPort.postMessage({\n        message: 'StayFocusd.timer.updated',\n        payload: {\n          displayTimer: this.getDisplayTimer(),\n        },\n      })\n    }\n  },\n\n  /**\n   * Checks url when state of tab changes (selected, focused, updated)\n   *\n   * @param tab The tab object for the selected tab\n   */\n  onTabStateChange: async function (tab: chrome.tabs.Tab | undefined) {\n    if (typeof tab === 'undefined') {\n      return\n    }\n\n    log('onTabStateChange', 'Tab state changed', tab)\n\n    this.currentURL = tab.url!\n    this.selectedTabID = tab.id!\n    await this.checkURL(tab.url)\n\n    const isBlockable = this.isBlockable(tab.url)\n\n    api.PubSub.publish('StayFocusd.tab.selected', {\n      tab: tab,\n      tabID: tab.id,\n      blockable: isBlockable,\n    })\n  },\n\n  /**\n   * Checks whether the current URL has been blacklisted\n   *\n   * @param url The url to check\n   */\n  checkURL: async function (url?: string) {\n    url =\n      typeof url === 'undefined' ||\n      (typeof url === 'string' && url.length === 0)\n        ? this.currentURL!\n        : url\n\n    log('checkURL', 'Checking url: ', url)\n\n    if (this.isNewDay() === true) {\n      api.BlockedGroupsRepository.clearElapsedTime()\n    }\n\n    api.BlockedGroupsTimer.stopCountdown()\n\n    if (this.isBlockable(url)) {\n      api.Chrome.Tab.getSelected(undefined, (tab) => {\n        this.setBadgeIcon(tab, BadgeIcon.BLOCKED)\n      })\n\n      if (this.isKillable(url)) {\n        this.killPage(url)\n      } else {\n        api.BlockedGroupsTimer.startCountdown(url)\n      }\n    } else {\n      const isInWhitelist = api.WhitelistRepository.isExists(url)\n      if (isInWhitelist) {\n        api.Chrome.Tab.getSelected(undefined, (tab) => {\n          this.setBadgeIcon(tab, BadgeIcon.ALLOWED)\n        })\n      } else {\n        api.Chrome.Tab.getSelected(undefined, (tab) => {\n          this.setBadgeIcon(tab, BadgeIcon.DEFAULT)\n        })\n      }\n    }\n  },\n\n  setBadgeIcon(tab: chrome.tabs.Tab | undefined, defaultValue: BadgeIcon) {\n    if (tab) {\n      if (this.activated()) {\n        if (NuclearOption.isActive())\n          changeBadgeIcons.setIcon(BadgeIcon.NUCLEAR, tab.id)\n        else changeBadgeIcons.setIcon(defaultValue, tab.id)\n      } else {\n        changeBadgeIcons.setIcon(BadgeIcon.DEACTIVATED, tab.id)\n      }\n    }\n  },\n\n  /**\n   * Check whether the page is killable\n   */\n  isKillable: function (url: string) {\n    return (\n      api.BlockedGroupsTimer.isMaxTimeAllowedExceeded(url) ||\n      NuclearOption.isActive()\n    )\n  },\n\n  /**\n   * Checks whether the domain is a protected domain (and\n   * therefore can't be blocked)\n   *\n   * @param domain The domain to check\n   */\n  isProtectedURL: function (domain: string) {\n    if (\n      domain === null ||\n      typeof domain === 'undefined' ||\n      domain.length === 0\n    ) {\n      return false\n    }\n\n    /* Redirect URL can't be blocked */\n    if (domain.indexOf(this.redirectURL) === 0) {\n      return true\n    }\n\n    /* Never block Rescue Me page */\n    if (domain.indexOf('rescueMe') >= 0) {\n      return true\n    }\n\n    /* Allow access to devtools */\n    if (\n      domain.indexOf('chrome') >= 0 &&\n      domain.indexOf('chrome') < domain.indexOf('://') &&\n      (domain.indexOf('sf') > -1 || domain.indexOf('devtools') > -1)\n    ) {\n      return true\n    }\n\n    return false\n  },\n\n  /**\n   * Checks whether a domain is blockable\n   *\n   * @param domain The domain to check\n   */\n  isBlockable: function (domain?: string): boolean {\n    if (!this.activated()) return false\n    if (this.isProtectedURL(domain!)) {\n      return false\n    }\n\n    if (domain === null || typeof domain === 'undefined' || domain === '') {\n      return false\n    }\n\n    if (this.isActive() === false) {\n      return false\n    }\n\n    const isBlacklisted = api.BlockedGroupsRepository.isBlockable(domain)\n    const isWhitelisted = api.WhitelistRepository.isExists(domain)\n    const isBlockableByNuclearOption = NuclearOption.isBlockable(\n      isBlacklisted,\n      isWhitelisted,\n    )\n    const blockAllWebsites = api.Settings.get('isBlockAllWebsites')\n\n    if (blockAllWebsites && !isWhitelisted) return true\n\n    if (isBlockableByNuclearOption) {\n      return true\n    }\n\n    if (isBlacklisted && !isWhitelisted) {\n      return true\n    }\n\n    if (isBlacklisted && isWhitelisted) {\n      const blockedGroup =\n        api.BlockedGroupsRepository.getBlockedGroupByDomain(domain)\n      const blacklistMatch =\n        blockedGroup?.websites.find((site: string) =>\n          api.Domain.isMoreGeneralURL(site, domain),\n        ) ?? ''\n      const isWhitelisted = api.WhitelistRepository.isExists(domain)\n      const whitelistMatch = isWhitelisted ? domain : ''\n\n      /* If exact domain is on blacklist and isn't on whitelist, block it */\n      if (blacklistMatch === domain && whitelistMatch !== domain) {\n        return true\n      }\n\n      /* If exact domain is on whitelist and isn't on blacklist, don't block it */\n      if (blacklistMatch !== domain && whitelistMatch === domain) {\n        return false\n      }\n\n      /* If there's no exact match on either list, prefer domain on whitelist if\n       * it is more specific than domain on blacklist */\n      return DomainParser.isMoreGeneralURL(whitelistMatch, blacklistMatch)\n    }\n\n    if (\n      isWhitelisted ||\n      (NuclearOption.isActive() && !isBlockableByNuclearOption)\n    ) {\n      return false\n    }\n\n    return false\n  },\n\n  /**\n   * Checks whether the reset time has passed for today\n   *\n   * @return boolean\n   */\n  isNewDay: function () {\n    let isNewDay = false\n    const todayDate = new Date()\n    let nowTimestamp = todayDate.getTime()\n    let resetTimestamp = api.Settings.get('resetTimestamp')\n    let resetTime = this.getResetTime()\n\n    // resetTime was saved as 'null:00' before Aug 3\n    if (/null/.test(resetTime)) {\n      resetTime = '00:00'\n      this.setResetTime(resetTime)\n    }\n\n    /* If there's no reset timestamp, set it to the reset time for today (which may or may not have passed) */\n    if (\n      typeof resetTimestamp === 'undefined' ||\n      resetTimestamp === null ||\n      resetTimestamp === ''\n    ) {\n      const resetArray = resetTime.split(':')\n      const resetHour = Math.floor(resetArray[0])\n      const resetMin = Math.floor(resetArray[1])\n\n      const resetTimestampDate = new Date(\n        todayDate.toDateString() + ' ' + resetHour + ':' + resetMin,\n      )\n      resetTimestamp = resetTimestampDate.getTime()\n\n      this.updateResetTimestamp(resetTime)\n    }\n\n    resetTimestamp = Math.floor(resetTimestamp)\n    nowTimestamp = Math.floor(nowTimestamp)\n\n    if (nowTimestamp > resetTimestamp) {\n      isNewDay = true\n\n      this.updateResetTimestamp(resetTime)\n    }\n\n    return isNewDay\n  },\n\n  /**\n   * Updates badge on icon, turning it yellow, then red, as time runs out\n   */\n  updateBadge: function (\n    totalSecondsRemaining: number,\n    nuclearOptionCountdown = false,\n  ) {\n    let showBadge = false\n    let color: BadgeColor | undefined\n    const remainingInt = Math.floor(totalSecondsRemaining)\n    const remainingText = remainingInt.toString()\n\n    if (nuclearOptionCountdown && remainingInt <= 60) {\n      showBadge = true\n      color = BadgeColor.BLACK\n    } else if (remainingInt <= 30) {\n      showBadge = true\n      color = BadgeColor.RED\n    } else if (remainingInt <= 60) {\n      showBadge = true\n      color = BadgeColor.YELLOW\n    }\n\n    if (showBadge) {\n      changeBadgeIcons.showBadge(\n        remainingText,\n        color,\n        this.selectedTabID ?? undefined,\n      )\n    } else {\n      this.hideBadge()\n    }\n  },\n\n  hideBadge() {\n    changeBadgeIcons.hideBadge(this.selectedTabID ?? undefined)\n  },\n\n  /**\n   * Redirects selected page to redirect url\n   */\n  killPage: function (url: string): boolean {\n    log('killPage', 'Killing page', null, 'INFO')\n\n    api.BlockedGroupsTimer.stopCountdown()\n\n    /* Have to use windows.getLastFocused instead of tab.getSelected, because\n     * switching focus to a window opened via an application shortcut doesn't\n     * register the application window as the \"selected\" tab. */\n    api.Chrome.Window.getLastFocused((windowObj: chrome.windows.Window) => {\n      if (typeof windowObj !== 'undefined') {\n        api.Chrome.Tab.getAllInWindow(windowObj.id, (tabs) => {\n          for (const wTab in tabs) {\n            if (tabs[wTab].highlighted) {\n              if (\n                api.BlockedGroupsTimer.isMaxTimeAllowedExceeded(url) ||\n                (NuclearOption.isActive() && !NuclearOption.hasSmartBomb())\n              ) {\n                // Update the URL to the redirect page\n                const customMsg = api.Settings.get('customStayFocusdMsg') || ''\n                api.Chrome.Tab.update(tabs[wTab].id!, {\n                  url:\n                    this.redirectURL +\n                    '?background&customMsg=' +\n                    encodeURIComponent(customMsg),\n                })\n              } else if (\n                /* This could probably be a simple else clause, but I'm including conditions out of an\n                 * abundance of caution. */\n                NuclearOption.isActive() &&\n                NuclearOption.hasSmartBomb()\n              ) {\n                api.PubSub.publish('StayFocusd.smartBomb.activate', {\n                  tabID: tabs[wTab].id,\n                  smartBomb: NuclearOption.getSmartBomb(),\n                })\n              }\n            }\n          }\n        })\n      }\n    })\n\n    return false\n  },\n\n  /**\n   * Gets the total number of seconds remaining before blacklisted\n   * sites are blocked\n   */\n  getTotalSecondsRemaining: function (): number {\n    return api.BlockedGroupsTimer.getTotalSecondsRemaining(this.currentURL!)!\n  },\n\n  /**\n   * Gets remaining time, formatted like HH:MM:SS\n   *\n   * @return DisplayTimerResult Remaining time, formatted like HH:MM:SS\n   */\n  getDisplayTimer: function (): DisplayTimerResult {\n    function getTimerForDefaultGroup() {\n      const groupName = 'Default'\n      const group = API.BlockedGroupsRepository.getByName(groupName)!\n      return {\n        groupName: groupName,\n        time: Time.formatDurationInSeconds(\n          group.maxTimeAllowed - group.elapsedTime,\n        ),\n        nuclear: false,\n      }\n    }\n\n    // Show nuclear time remaining if the nuclear option is active\n    if (API.NuclearOption.isActive()) {\n      const nuclearExpiration = API.NuclearOption.getExpiration()\n      if (nuclearExpiration) {\n        const secondsUntilNuclear = (nuclearExpiration - Date.now()) / SECOND\n        return {\n          groupName: API.Chrome.Translation.get('nuclear'),\n          time: Time.formatDurationInSeconds(secondsUntilNuclear),\n          nuclear: true,\n        }\n      }\n    }\n\n    const blockAll = api.BlockedAllWebsites.getTime()\n    if (blockAll != null) {\n      return {\n        groupName: null,\n        time: Time.formatDurationInSeconds(\n          blockAll.allowedTime - blockAll.elapsedTime,\n        ),\n        nuclear: false,\n      }\n    }\n\n    if (this.currentURL == null || this.currentURL == '') {\n      return getTimerForDefaultGroup()\n    }\n\n    const group = api.BlockedGroupsRepository.getBlockedGroupByDomain(\n      this.currentURL,\n    )\n    if (group == undefined) return getTimerForDefaultGroup()\n    return {\n      groupName: group.groupName,\n      time: Time.formatDurationInSeconds(\n        group.maxTimeAllowed - group.elapsedTime,\n      ),\n      nuclear: false,\n    }\n  },\n\n  /**\n   * Gets today's date as a string: 2010-04-01\n   *\n   * @return string Today's date\n   */\n  getDateString: function () {\n    const date = new Date()\n    const month = date.getMonth() + 1\n    const day = date.getDate()\n    const year = date.getFullYear()\n\n    return year + '-' + month + '-' + day\n  },\n\n  /**\n   * Sets the days during which the extension is active\n   *\n   * @param activeDays Array of days (0-6)\n   */\n  setActiveDays: function (activeDays: number[]): void {\n    let activeDaysString = null\n\n    /* Technically, someone can legitimately have no active days\n     * selected, if they de-select all days but today (which is disabled),\n     * but then go back tomorrow and deselect that one too. Setting the\n     * value to \"none\" distinguishes this case from someone who tampered\n     * with the activeDays settings and just deleted them. */\n    if (activeDays.length === 0) {\n      activeDaysString = 'none'\n    } else {\n      activeDaysString = activeDays.join('|')\n    }\n\n    log('setActiveDays', 'Setting active days', activeDays)\n\n    api.Settings.set({ activeDays: activeDaysString })\n    api.NuclearOption.updateActiveDays(this.getActiveDays(true) as boolean[])\n  },\n\n  /**\n   * Gets the days during which the extension is active\n   *\n   * If no days are set, it is active all days by default\n   */\n  getActiveDays: function (\n    asBooleanArray: boolean = false,\n  ): number[] | boolean[] {\n    const activeDaysString = api.Settings.get('activeDays')\n\n    /* A value of \"none\" means the activeDays setting is legitimately empty */\n    if (activeDaysString === 'none') {\n      return []\n    }\n\n    /* If the active days are empty, then they need to be re-set to all days */\n    if (\n      typeof activeDaysString === 'undefined' ||\n      activeDaysString === null ||\n      activeDaysString.length === 0\n    ) {\n      this.setActiveDays([0, 1, 2, 3, 4, 5, 6])\n\n      return [0, 1, 2, 3, 4, 5, 6]\n    }\n\n    /* If the active days are a single number (when it's just one day), convert to an array */\n    if (\n      typeof activeDaysString !== 'string' ||\n      activeDaysString.indexOf('|') === -1\n    ) {\n      return [Number(activeDaysString)]\n    }\n\n    const activeDaysStrArray = activeDaysString.split('|')\n    const activeDaysArray: number[] = []\n\n    /* Convert strings to numbers */\n    for (let i = 0; i < activeDaysStrArray.length; i++) {\n      activeDaysArray[i] = Number(activeDaysStrArray[i])\n    }\n\n    return asBooleanArray\n      ? this.getActiveDaysAsWeekArray(activeDaysArray)\n      : activeDaysArray\n  },\n\n  /**\n   * Gets active days as an array where there is an index for each day of the week,\n   * with a boolean value in each.\n   *\n   * @param activeDays Array of active days where the day number is the value, and only active days are in the array\n   * @returns {Array}\n   */\n  getActiveDaysAsWeekArray: function (activeDays: number[]): boolean[] {\n    const activeDaysWeekArray: boolean[] = []\n\n    /* Active Days are stored with the day number as the value, so first we need to\n     * set all the days in that array to true */\n    for (let i = 0; i < activeDays.length; i++) {\n      const dayIndex = activeDays[i]\n\n      activeDaysWeekArray[dayIndex] = true\n    }\n\n    /* Then we need to loop through all days and set any not already set to true to false */\n    for (let j = 0; j < 7; j++) {\n      activeDaysWeekArray[j] = activeDaysWeekArray[j] || false\n    }\n\n    return activeDaysWeekArray\n  },\n\n  /**\n   * Checks whether the extension is active today\n   */\n  isActiveDay: function () {\n    const date = new Date()\n    const todayDay = date.getDay()\n    const activeDays = this.getActiveDays() as number[]\n\n    if (\n      typeof activeDays === 'undefined' ||\n      activeDays === null ||\n      activeDays.length === 0\n    ) {\n      return false\n    }\n\n    return activeDays.inArray(todayDay)\n  },\n\n  /**\n   * Sets the hours during which the extension is active\n   *\n   * @param startTime The start time, like 00:00\n   * @param endTime The end time, like 23:00\n   */\n  setActiveHours: function (startTime: string, endTime: string) {\n    log('setActiveHours', 'Setting active hours', {\n      startTime: startTime,\n      endTime: endTime,\n    })\n\n    api.Settings.set({ activeHours: startTime + '|' + endTime })\n  },\n\n  /**\n   * Gets the active hours as an object\n   *\n   * If the timestamp in the active hours queue has passed, then the\n   * queued hours become the active hours. Otherwise, the current\n   * active hours are used. If no active hours have been set yet,\n   * then the default is set to 00:00 - 23:59 (always active)\n   */\n  getActiveHours: function (): ActiveHours {\n    let startTime: boolean | string = false\n    let endTime: boolean | string = false\n    const _activeHoursQueue = this.getActiveHoursQueue()\n\n    /* If active hours queue exists, check if queue timestamp has passed */\n    if (_activeHoursQueue !== false) {\n      const activeHoursQueue = _activeHoursQueue as ActiveHoursQueue\n      const todayDate = new Date()\n      const currentTimestamp = todayDate.getTime()\n\n      /* If queue timestamp has passed, queued hours become active hours */\n      if (\n        currentTimestamp > activeHoursQueue.timestamp ||\n        this.isFirstInstallAllowanceActive()\n      ) {\n        startTime = activeHoursQueue.startTime\n        endTime = activeHoursQueue.endTime\n\n        this.clearActiveHoursQueue()\n        this.setActiveHours(startTime, endTime)\n      }\n    }\n\n    /* If queued hours aren't being used, get current active hours settings */\n    if (startTime === false && endTime === false) {\n      let activeHours = api.Settings.get('activeHours')\n\n      /* If no active hours have been defined, set them now */\n      if (\n        typeof activeHours === 'undefined' ||\n        activeHours === null ||\n        activeHours === ''\n      ) {\n        this.setActiveHours('00:00', '23:59')\n\n        activeHours = api.Settings.get('activeHours')\n      }\n\n      const activeHoursArray = activeHours.split('|')\n\n      startTime = activeHoursArray[0]\n      endTime = activeHoursArray[1]\n    }\n\n    const startArray = (startTime as string).split(':')\n    const endArray = (endTime as string).split(':')\n\n    return {\n      startTime: startTime as string,\n      endTime: endTime as string,\n      startHour: startArray[0],\n      startMin: startArray[1],\n      startHourInt: parseInt(startArray[0], 10),\n      startMinInt: parseInt(startArray[1], 10),\n      endHour: endArray[0],\n      endMin: endArray[1],\n      endHourInt: parseInt(endArray[0], 10),\n      endMinInt: parseInt(endArray[1], 10),\n    }\n  },\n\n  /**\n   * Checks whether the current time is within the active hours\n   *\n   * @return boolean\n   */\n  isActiveHour: function () {\n    const activeHours = this.getActiveHours()\n\n    const date = new Date()\n    const todayHour = date.getHours()\n    const todayMin = date.getMinutes()\n\n    if (this.isStartTimeLater(activeHours) === true) {\n      return (\n        this.isBetween(\n          todayHour,\n          todayMin,\n          activeHours.startHourInt,\n          activeHours.startMinInt,\n          23,\n          59,\n        ) ||\n        this.isBetween(\n          todayHour,\n          todayMin,\n          0,\n          0,\n          activeHours.endHourInt,\n          activeHours.endMinInt,\n        )\n      )\n    } else {\n      return this.isBetween(\n        todayHour,\n        todayMin,\n        activeHours.startHourInt,\n        activeHours.startMinInt,\n        activeHours.endHourInt,\n        activeHours.endMinInt,\n      )\n    }\n  },\n\n  /**\n   * Checks whether the time being tested is between the start and end times\n   *\n   * @param testHour The hour to test\n   * @param testMin The minutes to test\n   * @param startHour The start hour\n   * @param startMin The start minutes\n   * @param endHour The end hour\n   * @param endMin The end minutes\n   */\n  isBetween: function (\n    testHour: number,\n    testMin: number,\n    startHour: number,\n    startMin: number,\n    endHour: number,\n    endMin: number,\n  ) {\n    if (testHour > startHour && testHour < endHour) {\n      return true\n    }\n\n    if (testHour === startHour && testHour === endHour) {\n      return testMin >= startMin && testMin <= endMin\n    }\n\n    if (testHour === startHour && testMin >= startMin) {\n      return true\n    }\n\n    if (testHour === endHour && testMin <= endMin) {\n      return true\n    }\n\n    return false\n  },\n\n  /**\n   * Checks whether the start time is later than the end time (meaning that\n   * the active hours span midnight)\n   *\n   * @param activeHours Object created by getActiveHours() method\n   */\n  isStartTimeLater: function (activeHours: ActiveHours): boolean {\n    if (\n      activeHours.startHourInt === activeHours.endHourInt &&\n      activeHours.startMinInt >= activeHours.endMinInt\n    ) {\n      return true\n    } else if (activeHours.startHourInt > activeHours.endHourInt) {\n      return true\n    }\n\n    return false\n  },\n\n  /**\n   * Sets the active hours queue\n   *\n   * The startTime and endTime is stored, along with a timestamp 24 hours\n   * after now. Once that timestamp passes, the queued settings will take\n   * effect\n   *\n   * @param startTime The start time, like 00:00\n   * @param endTime The end time, like 23:00\n   */\n  setActiveHoursQueue: function (startTime: string, endTime: string) {\n    const todayDate = new Date()\n    const queueDate = todayDate.getTime() + api.Date.hoursToMilliseconds(24)\n\n    const activeHoursQueue = queueDate + '|' + startTime + '|' + endTime\n\n    log('setActiveHoursQueue', 'Setting active hours queue', activeHoursQueue)\n\n    api.Settings.set({ activeHoursQueue: activeHoursQueue })\n  },\n\n  /**\n   * Gets the active hours queue as an object with timestamp, startTime, and\n   * endTime properties\n   */\n  getActiveHoursQueue: function (): ActiveHoursQueue | boolean {\n    const activeHoursQueue = api.Settings.get('activeHoursQueue')\n\n    if (\n      typeof activeHoursQueue === 'undefined' ||\n      activeHoursQueue === null ||\n      activeHoursQueue === ''\n    ) {\n      return false\n    }\n\n    const activeHoursQueueArray = activeHoursQueue.split('|')\n\n    return {\n      timestamp: parseInt(activeHoursQueueArray[0]),\n      startTime: activeHoursQueueArray[1],\n      endTime: activeHoursQueueArray[2],\n    }\n  },\n\n  /**\n   * Removes the active hours queue from local storage\n   */\n  clearActiveHoursQueue: function () {\n    log('clearActiveHoursQueue', 'Clearing active hours queue')\n\n    api.Settings.remove('activeHoursQueue')\n  },\n\n  /**\n   * Checks whether the extension is active: today is an active day,\n   * and the current time is during active hours, or the Nuclear Option\n   * is active.\n   *\n   * @return boolean\n   */\n  isActive: function () {\n    if (NuclearOption.isActive() === true) {\n      return true\n    }\n\n    return this.isActiveDay() === true && this.isActiveHour() === true\n  },\n\n  activated: function () {\n    return api.Settings.get('activated', true)\n  },\n\n  setActivated: function (value: boolean): boolean {\n    if (value === false) {\n      if (!confirm(API.Chrome.Translation.get('areYouSure'))) {\n        return false\n      }\n\n      /* if (API.Settings.get('productivityBypass') === true) {\n         alert(API.Chrome.Translation.get('completeChallengeBeforeIncreasingTime'))\n         return false\n       }*/\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension1'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension2'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension3'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension4'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension5'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension6'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension7'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension8'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableFinalWarning'))) {\n        return false\n      }\n\n      alert(API.Chrome.Translation.get('extensionDisabled'))\n    }\n\n    api.Settings.set({ activated: value })\n    this.checkURL()\n    api.Analytics.event(value ? 'EXTENSION_ACTIVATED' : 'EXTENSION_DEACTIVATED')\n    return true\n  },\n\n  isActivateSwitchShown: function () {\n    return api.Settings.get('isActivateSwitchShown', true)\n  },\n\n  setActivateSwitchShown: function (value: boolean) {\n    api.Settings.set({ isActivateSwitchShown: value })\n  },\n\n  /**\n   * Updates the reset timestamp to tomorrow's reset time\n   *\n   * @param resetTime The time of the day to reset, i.e. 04:00\n   */\n  updateResetTimestamp: function (resetTime: string) {\n    const resetArray = resetTime.split(':')\n    const resetHour = parseInt(resetArray[0], 10)\n    const resetMin = parseInt(resetArray[1], 10)\n\n    const todayResetDate = new Date(\n      new Date().toDateString() + ' ' + resetHour + ':' + resetMin,\n    )\n    const newResetTimestamp = todayResetDate.getTime() + 86400000 // 24 hours in milliseconds\n\n    log(\n      'updateResetTimestamp',\n      'Updating reset timestamp to: ' + newResetTimestamp,\n    )\n\n    api.Settings.set({ resetTimestamp: newResetTimestamp })\n  },\n\n  /**\n   * Sets the time when the elapsed time counter will be reset\n   *\n   * @param resetTime The reset time, like 00:00\n   */\n  setResetTime: function (resetTime: string) {\n    log('setResetTime', 'Setting reset time to: ' + resetTime)\n\n    api.Settings.set({ resetTime: resetTime })\n  },\n\n  /**\n   * Gets the reset time\n   *\n   * If the timestamp in the reset time queue has passed, then the\n   * queued reset time become the current reset time. Otherwise, the\n   * current reset time is used. If no reset time has been set yet,\n   * then the default is set to 00:00 (midnight)\n   */\n  getResetTime: function () {\n    let resetTime = api.Settings.get('resetTime')\n    const resetTimeQueue = this.getResetTimeQueue()\n    const defaultResetTime = '00:00'\n\n    /* If reset time queue exists, check if queue timestamp has passed */\n    if (resetTimeQueue !== false) {\n      const todayDate = new Date()\n      const currentTimestamp = todayDate.getTime()\n      const resetTimeQueueObj = resetTimeQueue as Record<string, any>\n\n      /* If queue timestamp has passed, queued reset time becomes current reset time */\n      if (\n        currentTimestamp > resetTimeQueueObj.timestamp ||\n        this.isFirstInstallAllowanceActive()\n      ) {\n        resetTime = resetTimeQueueObj.resetTime\n\n        this.clearResetTimeQueue()\n        this.setResetTime(resetTime)\n        this.updateResetTimestamp(resetTime)\n      }\n    }\n\n    if (\n      typeof resetTime === 'undefined' ||\n      resetTime === null ||\n      resetTime === ''\n    ) {\n      this.setResetTime(defaultResetTime)\n\n      resetTime = defaultResetTime\n\n      this.updateResetTimestamp(resetTime)\n    }\n\n    return resetTime\n  },\n\n  /**\n   * Sets the daily reset time queue\n   *\n   * The resetTime is stored, along with a timestamp 24 hours\n   * after now. Once that timestamp passes, the queued settings\n   * will take effect\n   *\n   * @param resetTime The reset time, like 00:00\n   */\n  setResetTimeQueue: function (resetTime: string) {\n    const todayDate = new Date()\n    const queueDate = todayDate.getTime() + api.Date.hoursToMilliseconds(24)\n\n    const resetTimeQueue = queueDate + '|' + resetTime\n\n    log('setResetTimeQueue', 'Setting reset time queue: ' + resetTimeQueue)\n\n    api.Settings.set({ resetTimeQueue: resetTimeQueue })\n  },\n\n  /**\n   * Gets the reset time queue as an object with timestamp and resetTime properties\n   */\n  getResetTimeQueue: function (): boolean | ResetTimeQueue {\n    const resetTimeQueue = api.Settings.get('resetTimeQueue')\n\n    if (Utils.isEmpty(resetTimeQueue)) {\n      return false\n    }\n\n    const resetTimeQueueArray = resetTimeQueue.split('|')\n\n    return {\n      timestamp: resetTimeQueueArray[0],\n      resetTime: resetTimeQueueArray[1],\n    }\n  },\n\n  /**\n   * Removes the reset time queue from local storage\n   */\n  clearResetTimeQueue: function () {\n    log('clearResetTimeQueue', 'Clearing reset time queue')\n\n    api.Settings.remove('resetTimeQueue')\n  },\n\n  isFirstInstall: function () {\n    return typeof api.Settings.get('firstInstallDate') !== 'string'\n  },\n\n  async getFirstSensorTowerInstallDate() {\n    let ms = await api.Storage.get('firstSensorTowerInstallDate')\n    if (typeof ms !== 'number') {\n      ms = Date.now()\n      await api.Storage.set({ firstSensorTowerInstallDate: ms })\n    }\n    return ms\n  },\n\n  getOptionsPage: function (): string {\n    return Browser.runtime.getURL('options.html')\n  },\n\n  isUpdatePopupDisabled: function () {\n    const disableUpdatePopup = api.Settings.get('disableUpdatePopup')\n\n    return disableUpdatePopup === true || disableUpdatePopup === 'true'\n  },\n\n  setFirstInstallAllowance: function () {\n    const date = new Date()\n\n    api.Settings.set({ firstInstallDate: date.toDateString() })\n\n    date.setMinutes(date.getMinutes() + this.firstInstallAllowance)\n\n    log(\n      'setFirstInstallAllowance',\n      'Setting first install allowance to: ' + date.getTime(),\n    )\n\n    api.Settings.set({ firstInstallAllowanceExpiration: date.getTime() })\n  },\n\n  isFirstInstallAllowanceActive: function () {\n    const todayDate = new Date()\n    const expiration = api.Settings.get('firstInstallAllowanceExpiration')\n\n    return expiration > todayDate.getTime()\n  },\n\n  /**\n   * Finds all HTML elements with a data-i18n attribute and\n   * replaces their innerHTML with content from messages.json\n   */\n  localizeHTML: function (doc: Document) {\n    log('localizeHTML', 'Localizing HTML')\n\n    const objects = doc.getElementsByTagName(\n      '*',\n    ) as HTMLCollectionOf<HTMLElement>\n\n    for (let i = 0; i < objects.length; i++) {\n      if (objects[i].dataset && objects[i].dataset.i18n) {\n        objects[i].innerHTML = api.Chrome.Translation.get(\n          objects[i].dataset.i18n!,\n        )\n      }\n    }\n  },\n}\n\n/**\n * Checks whether a value is in an array\n *\n * @param needle The value to find\n */\nArray.prototype.inArray = function (needle): boolean {\n  for (const key in this) {\n    if (this.hasOwnProperty(key) && this[key] == needle) {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport default StayFocusd\n","import { isHostnameBlockedPredicate } from '~/utils/isHostnameBlocked'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    WhitelistRepository: ReturnType<typeof WhitelistRepository.initAPI>\n  }\n}\n\n// set a new name, because current obj with whitelist has the same name, but contains list of objects\nconst WHITELIST_IN_STORAGE_OLD = 'whitelist'\nconst WHITELIST_IN_STORAGE = 'whitelistNew'\n\nlet api: API\nlet _websites: string[] = []\n\nconst WhitelistRepository = {\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('WhitelistRepository', {\n      init: this.init.bind(this),\n      add: this.add.bind(this),\n      getAll: this.getAll.bind(this),\n      isExists: this.isExists.bind(this),\n      delete: this.delete.bind(this),\n      migrate: this.migrate.bind(this),\n      importWhitelist: this.importWhitelist.bind(this),\n    })\n  },\n\n  async init() {\n    const syncDisabled = (await API.Settings.get('disableSync')) === true\n\n    if (syncDisabled) {\n      const data = await api.Chrome.Storage.getSync(WHITELIST_IN_STORAGE)\n      const hasDataForMigration = !!data[WHITELIST_IN_STORAGE]\n      await API.Storage.setBucket(\n        WHITELIST_IN_STORAGE,\n        'LOCAL',\n        !hasDataForMigration,\n      )\n    } else {\n      const data = await api.Chrome.Storage.getLocal(WHITELIST_IN_STORAGE)\n      const hasDataForMigration = !!data[WHITELIST_IN_STORAGE]\n      await API.Storage.setBucket(\n        WHITELIST_IN_STORAGE,\n        'SYNC',\n        !hasDataForMigration,\n      )\n    }\n\n    this.getWhitelist()\n    this.addListeners()\n  },\n\n  getWhitelist() {\n    const websites = api.Settings.get(WHITELIST_IN_STORAGE)\n    _websites = websites == null ? [] : websites\n  },\n\n  /**\n   * Add a new website\n   * Returns the flag whether the site was successfully added or not\n   * @returns {Promise<boolean>}\n   */\n  async add(websites: string[]) {\n    let isAdded = false\n    for (let index = 0; index < websites.length; index++) {\n      const website = websites[index]\n      if (website && _websites.find((x) => x == website) == null) {\n        isAdded = true\n        _websites.push(website)\n        await this.saveChanges()\n      }\n    }\n\n    return isAdded\n  },\n\n  /**\n   * Return whitelist\n   * @returns {string[]}\n   */\n  getAll() {\n    return _websites\n  },\n\n  /**\n   * Delete website\n   * @returns {Promise<void>}\n   */\n  async delete(website: string): Promise<void> {\n    const targetIndex = _websites.findIndex((x) => x == website)\n    if (targetIndex > -1) {\n      _websites.splice(targetIndex, 1)\n      await this.saveChanges()\n    }\n  },\n\n  /**\n   * Is whitelist contains website\n   * @returns {void}\n   */\n  isExists(domain: string) {\n    if (domain == null) return false\n\n    domain = domain.toLowerCase()\n    return (\n      _websites.find((website) =>\n        isHostnameBlockedPredicate(website, domain),\n      ) != undefined\n    )\n  },\n  /**\n   * Migrate all whitelist websites to the new structure in the storage\n   * @returns {Promise<void>}\n   */\n  async migrate() {\n    if (this.needMigrate()) {\n      const websitesObj = api.Settings.get(WHITELIST_IN_STORAGE_OLD)\n      if (websitesObj != null) {\n        const websites = Object.keys(websitesObj)\n        await this.add(websites)\n      }\n    }\n  },\n\n  needMigrate() {\n    return api.Settings.get(WHITELIST_IN_STORAGE) == null\n  },\n\n  /**\n   * Move all whitelist websites to the new structure in the storage after import settings\n   * @returns {Promise<void>}\n   */\n  async importWhitelist() {\n    // we shoud check whitelist after import settings, because old and new whitelist have different structure\n    _websites = []\n    const websitesObj = api.Settings.get(WHITELIST_IN_STORAGE_OLD)\n    if (websitesObj != null) {\n      const websites = Object.keys(websitesObj)\n      await this.add(websites)\n    }\n  },\n\n  async saveChanges() {\n    await api.Storage.set({\n      [WHITELIST_IN_STORAGE]: _websites,\n    })\n  },\n\n  addListeners() {\n    API.PubSub.listen(\n      'Settings.data.refreshed',\n      async (message: string, payload: any) => {\n        if (payload.changes.whitelistNew || payload.changes.disableSync) {\n          if (payload.changes.disableSync) {\n            if (payload.disableSync === false) {\n              await api.Storage.setBucket(WHITELIST_IN_STORAGE, 'SYNC')\n            } else {\n              await api.Storage.setBucket(WHITELIST_IN_STORAGE, 'LOCAL')\n            }\n          }\n\n          this.getWhitelist()\n        }\n      },\n    )\n  },\n}\n\nexport default WhitelistRepository\n","import { API } from './API'\nimport Amplitude from './Amplitude'\nimport AmplitudeAPI from './AmplitudeAPI'\nimport ChromeAPI from './ChromeAPI'\nimport DateUtils from './DateUtils'\nimport DomainParser from './DomainParser'\nimport GeneralUtils from './GeneralUtils'\nimport IncrementalRollout from './IncrementalRollout'\nimport ObjectUtils from './ObjectUtils'\nimport Requirements from './Requirements'\nimport Storage from './Storage'\nimport Settings from './Settings'\nimport RemoteConfig from './RemoteConfig'\nimport WebUsage from './WebUsage'\nimport ScheduleJobs from './ScheduleJobs'\nimport PubSub from 'dropletjs.pubsub'\nimport Notification from './Notification'\nimport NuclearOption from './NuclearOption'\nimport BlockedGroupsTimer from './BlockedGroupsTimer'\nimport BlockedAllWebsites from './BlockedAllWebsites'\nimport BlockedGroupsRepository from './BlockedGroupsRepository'\nimport StayFocusd from './StayFocusd'\nimport Bugsnag from './Bugsnag'\nimport WhitelistRepository from './WhitelistRepository'\n\nconst classes: any[] = [\n  API,\n  Amplitude,\n  AmplitudeAPI,\n  Bugsnag,\n  ChromeAPI,\n  DateUtils,\n  DomainParser,\n  GeneralUtils,\n  IncrementalRollout,\n  ObjectUtils,\n  Requirements,\n  Storage,\n  Settings,\n  RemoteConfig,\n  WebUsage,\n  ScheduleJobs,\n  PubSub,\n  Notification,\n  NuclearOption,\n  BlockedGroupsRepository,\n  BlockedAllWebsites,\n  BlockedGroupsTimer,\n  WhitelistRepository,\n  StayFocusd,\n]\n\n/* Add third-party libraries to API */\ndeclare module '~/core/API' {\n  interface API {\n    PubSub: typeof PubSub\n  }\n}\nAPI.mixin({\n  mixin: API.mixin.bind(API),\n  PubSub,\n})\n\n/*\n * Call initAPI() method on each of the required classes. This is how each class\n * exposes its methods to the API\n */\nfor (let i = 0; i < classes.length; i++) {\n  const thisClass = classes[i]\n\n  if (\n    typeof thisClass === 'object' &&\n    thisClass !== null &&\n    typeof thisClass.initAPI === 'function'\n  ) {\n    thisClass.initAPI(API)\n  }\n}\n\n/*\n * If the background page is available and the API has already been defined\n * there, use that. This ensures that all references to the API are consistent\n * the across background script, options page, and popup\n */\n\n/**\n * Don't use the background page for some APIs, like Analytics.\n */\nAmplitude.initAPI(API) // Must run in the current context so the sessionId is generated per page\nBugsnag.initAPI(API) // Must run in the current context so it reports errors from each page\n\nexport default API\n"],"names":["ObjectUtils","API","target","source","deep","dotPath","sourceObj","parts","lastPart","len","counter","current","obj","str","keys","sortedObj","key","key2","Utils","value","text","s","resolve","reject","promise","res","rej","scope","funcName","message","payload","level","Logger","log","GeneralUtils","api","mixins","mixinTemp","mixin","args","name","mixinObj","result","mixinName","_typeof","o","toInteger","dirtyNumber","number","requiredArgs","required","toDate","argument","argStr","addMilliseconds","dirtyDate","dirtyAmount","timestamp","amount","defaultOptions","getDefaultOptions","getTimezoneOffsetInMilliseconds","date","utcDate","isDate","isValid","subMilliseconds","MILLISECONDS_IN_DAY","getUTCDayOfYear","startOfYearTimestamp","difference","startOfUTCISOWeek","weekStartsOn","day","diff","getUTCISOWeekYear","year","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfUTCISOWeekYear","fourthOfJanuary","MILLISECONDS_IN_WEEK","getUTCISOWeek","startOfUTCWeek","options","_ref","_ref2","_ref3","_options$weekStartsOn","_options$locale","_options$locale$optio","_defaultOptions$local","_defaultOptions$local2","getUTCWeekYear","_options$firstWeekCon","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfUTCWeekYear","firstWeek","getUTCWeek","addLeadingZeros","targetLength","sign","output","formatters","token","signedYear","month","dayPeriodEnumValue","numberOfDigits","milliseconds","fractionalSeconds","formatters$3","dayPeriodEnum","localize","era","lightFormatters","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","quarter","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","originalDate","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","offset","dirtyDelimiter","absOffset","minutes","delimiter","formatters$1","dateLongFormatter","pattern","formatLong","timeLongFormatter","dateTimeLongFormatter","matchResult","datePattern","timePattern","dateTimeFormat","longFormatters","longFormatters$1","protectedDayOfYearTokens","protectedWeekYearTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","throwProtectedError","format","input","formatDistanceLocale","formatDistance","count","tokenValue","formatDistance$1","buildFormatLongFn","width","dateFormats","timeFormats","dateTimeFormats","formatLong$1","formatRelativeLocale","formatRelative","_date","_baseDate","_options","formatRelative$1","buildLocalizeFn","dirtyIndex","context","valuesArray","defaultWidth","_defaultWidth","_width","index","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","rem100","localize$1","buildMatchFn","string","matchPattern","matchedString","parsePatterns","findIndex","findKey","rest","object","predicate","array","buildMatchPatternFn","parseResult","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","match","match$1","locale","defaultLocale","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","dirtyFormatStr","_ref4","_options$locale2","_options$locale2$opti","_ref5","_ref6","_ref7","_options$locale3","_options$locale3$opti","_defaultOptions$local3","_defaultOptions$local4","formatStr","formatterOptions","substring","firstCharacter","longFormatter","cleanEscapedString","formatter","matched","l","a","u","r","n","i","c","f","p","m","window","undefined","LIBVERSION","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","UA_MAX_LENGTH","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","EDGE","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","CHROMIUM_OS","MAC_OS","extend","regexes","extensions","mergedRegexes","enumerize","arr","enums","has","str1","str2","lowerize","majorize","version","trim","rgxMapper","ua","arrays","j","k","q","matches","regex","props","strMapper","map","oldSafariMap","windowsVersionMap","UAParser","_navigator","_ua","_uach","_rgxmap","_isSelfNav","_browser","_cpu","_device","_engine","_os","module","exports","$","parser","prop","this","Amplitude","theAPI","canUpload","isProduction","PanelAPIUtils.generateInstallId","eventType","eventProperties","amplitudeSampling","defaultSampling","samplePercentInt","isSampled","enabled","event","clickAttr","element","_a","toggledAttr","checked","AmplitudeAPI","events","err","ChromeAPI","windowID","callback","query","tabs","tab","alarmInfo","alarm","listenTo","listener","_type","_listenTo","typed","_apiName","_method","apiName","method","exists","DateUtils","militaryTime","timeArray","hour","min","ampm","displayHour","ampmString","dateObj","nowDate","dateString","msRemaining","seconds","num","unit","time","dayNum","abbreviated","todayDate","totalSeconds","DomainParser","url","fullDomain","domainArray","baseDomain","logMsg","domainTokens","penultimate","antepenultimate","domainToCheck","domainToCompare","baseDomainToCompare","baseDomainToCheck","wildcard","rawWildcardString","domainUpToWildcard","getRemoteConfigFeatures","defineFeature","feature","enabledPercent","IncrementalRollout","Requirements","now","enabledPercentInt","hasAcceptedPP","promptAgainAt","confirmationCount","age","ineffectiveHours","currentHour","Storage","forceRefresh","data","defaultValue","_bucket","bucket","settings","sync","local","hasSync","hasLocal","promises","to","from","_key","skipMigration","_map","items","cacheObj","val","lsValue","Settings","initCount","numKeys","refreshKey","allowUnregisteredSettings","backupKeys","_version","backupString","backup","oldKey","validBackupKeys","hasChanged","item","SECOND","MINUTE","HOUR","DAY","WEEK","MONTH","MINUTE_IN_SEC","HOUR_IN_SEC","DAY_IN_SEC","MAX_TIME_ALLOWED_DEFAULT","Time","d","durationInSec","hoursNum","minutesNum","secondsNum","returnSeconds","blockMinInTotal","blockHours","blockMinutes","RemoteConfig","latestConfig","latestSharedConfig","ha","t","e","Q","Bs","he","G","gt","L","A","Ke","y","fa","Be","$t","dr","pa","ps","gs","ga","w","fe$1","fe","E","lr","de","Ys","Js","ms","ys","M","Le$1","Wn","N","ke","T","Ce","ft","Oe","bt","zt","Ft","Kt","hr","bs","es","ma","ya","Aa","ze","va","et","Zt","Ut","ut","_s","Bt","Wt","wt","lt","Fe","As","Le","vs","zn","W","yt","De","h","g","ur","hs","qt","Gt","Qt","Xt","ks","Qs","Ht","ws","ht","At","xs","wa","fr","ba","xa","ce","Ta","Sa","Rs","Ea","Ia","Na","Oa","pr","ka","Ra","Ma","Ca","Ee","La","nn","Da","Pa","ja","gr","Va","$a","Za","Ua","Ba","xt","Wa","za","Fn","Fa","Ha","qa","Ga","Xa","Ka","Ya","Ja","Qa","Se","Ts","eo","mr","yr","so","rn","_r","an","on","Ar","no","ro","io","ao","cn","dn","oo","ln","co","lo","uo","vr","wr","br","ho","fo","po","go","mo","yo","Hn","_o","Ao","xr","un","Pt","J","ds","vo","wo","ie","bo","xo","qn","Yt","hn","To","Ws","jt","We","Tr","Sr","So","Eo","Er","Ct","Ir","b","O","x","S","D","F","ue","ge","R","_","P","me","K","He","C","pe","tt","Ae","It","Et","Ie","ne","Pe","V","Io","Tt","fn","No","Ss","Oo","ko","pn","Vt","Ro","Mo","Co","Lo","Do","Nr","gn","Gn","ot","Ze","X","ae","Po","jo","Vo","$o","Or","Ms","Zo","kr","zs","Uo","Bo","Wo","zo","Fo","Ho","Xn","Kn","qo","Go","Rr","en","Mr","Fs","mn","Xo","Qe","Ko","tn","Yo","Jo","Hs","Qo","ec","tc","sc","qs","Yn","nc","rc","ic","ac","ls","oc","cc","mt","Gs","dc","lc","uc","Bd","sn","Yr","Jr","Qr","Z","An","ei","je","vn","wn","bn","Ls","xn","Tn","ti","v","U","I","H","si","ni","ri","ii","ai","oi","ci","di","li","ui","hi","ts","Ds","Sn","Re","En","In","fi","Nn","ss","On","kn","pi","st","Rn","gi","mi","Ps","pt","Nt","js","Vs","$s","Ot","yi","it","_i","Ai","vi","wi","Mn","Zs","nt","bi","xi","Ti","Si","Ei","Ve","Ii","Ni","rs","Oi","ki","Ri","rt","Mi","Ci","is","Li","Di","Pi","ns","ji","Vi","qe","$i","Zi","Ui","Bi","Wi","zi","as","ia","Us","Un","te","re","z","ea","jn","Fi","kt","Ji","ra","Cn","Rt","Ln","Hi","Ge","_e","Ne","oe","Dn","Ki","ve","we","Xe","$e","Yi","qi","Zn","sa","Vn","Gi","$n","Xi","na","at","Pn","Bn","os","cs","ca","Qi","ta","da","aa","la","oa","hc","Jn","fc","pc","us","Cr","Lr","Qn","Me","St","Wd","er","Dr","gc","tr","mc","yc","_c","Ac","vc","wc","bc","xc","Tc","Sc","Pr","Ec","Ic","Nc","Oc","kc","Es","Cc","Mc","Rc","$c","Dc","Lc","Pc","jc","Vc","Zc","Uc","Bc","Wc","zc","Fc","jr","sr","Vr","$r","Hc","Xc","Zr","Ur","yn","Br","Wr","Xs","qc","Gc","zr","Lt","Kc","Yc","Jc","Qc","ed","Is","td","Mt","sd","nr","nd","Dt","rd","rr","id","Ks","ad","od","cd","dd","_n","ir","ar","ee","se","Ue","B","Y","Ye","ct","Je","Te","dt","Jt","Ns","Fr","vt","fs","Os","Hr","ye","_t","ld","le","Cs","ud","hd","fd","pd","gd","md","yd","_d","Ad","vd","wd","bd","xd","Td","Sd","qr","Ed","Gr","Id","Nd","Xr","or","Od","xe","kd","Rd","Md","Cd","Ld","be","Dd","Kr","Pd","jd","cr","Vd","$d","Hd","AppConsts","CRAWL_UPLOAD_ENDPOINT","PM_CONFIG_ENDPOINT","STAYFOCUSD_AD_FINDER_PARTNER_ID","WebUsage","isEnabled","installId","WebExtUsage.openIdbUsageDatabase","WebExtUsage.initUsageSdkInBackground","processAdFinderMessage","AdFinder.initAdFinderInBackground","port","msg","response","hostname","PanelAPIUtils.parseUrl","activeSessions","_b","tabSession","session","suspectProtoRx","suspectConstructorRx","JsonSigRx","jsonParseTransform","warnKeyDropped","destr","_value","_lval","error","HASH_RE","AMPERSAND_RE","SLASH_RE","EQUAL_RE","PLUS_RE","ENC_CARET_RE","ENC_BACKTICK_RE","ENC_PIPE_RE","ENC_SPACE_RE","encode","encodeQueryValue","encodeQueryKey","decode","decodeQueryKey","decodeQueryValue","parseQuery","parametersString","parameter","encodeQueryItem","stringifyQuery","PROTOCOL_STRICT_REGEX","PROTOCOL_REGEX","PROTOCOL_RELATIVE_REGEX","TRAILING_SLASH_RE","JOIN_LEADING_SLASH_RE","hasProtocol","inputString","opts","hasTrailingSlash","respectQueryAndFragment","withoutTrailingSlash","path","fragment","fragmentIndex","s0","withTrailingSlash","withBase","base","isEmptyURL","_base","joinURL","withQuery","parsed","parseURL","mergedQuery","stringifyParsedURL","isNonEmptyURL","segment","url2","_segment","protocolRelative","defaultProto","_specialProtoMatch","_proto","_pathname","parsePath","protocol","auth","hostAndPath","host","pathname","search","hash","FetchError","createFetchError","ctx","errorMessage","requestStr","statusStr","fetchError","refKey","payloadMethods","isPayloadMethod","isJSONSerializable","textTypes","JSON_RE","detectResponseType","_contentType","contentType","mergeFetchOptions","defaults","Headers","merged","retryStatusCodes","nullBodyResponses","createFetch","globalOptions","fetch","AbortController","onError","isAbort","retries","responseCode","retryDelay","$fetchRaw","_request","abortTimeout","controller","responseType","parseFunction","$fetch","request","_globalThis","ofetch","__publicField","JobId","SESSIONS_LAST_UPLOADED_AT_STORAGE_KEY","PAGE_VIEWS_LAST_UPLOADED_AT_STORAGE_KEY","ScheduleJobs","usageDatabase","panelApi","PanelAPI.createPanelApiClient","WebExtUsage.defineWebUsageUploader","uploadEnabled","hasAcceptedPrivacyPolicy","AppConst","details","PubSub","root","self","isArray","isObjLiteral","safeDelete","Message","msgString","msgArray","msg1Array","msg2Array","msg1Bitmask","msg2Bitmask","longerMessageLength","phase","namespace","subscribers","onComplete","onPublish","publishTo","handlers","thisData","handlerNum","messageArray","Notification","type","icon","totalSecondsRemaining","notificationID","timeToCheck","notificationSettings","BadgeColor","BadgeIcon","badgeIcons","showBadge","_text","iconColor","_tabID","tabID","setBadgeColor","setBadgeText","hideBadge","setIcon","isOnboardingIcon","color","changeBadgeIcons","NuclearOption","activeDays","nuclearOptionSettings","isActive","frequency","lastActiveDate","lastExpiredDate","startType","todayStartTimeDateObj","startDate","isBlacklisted","isWhitelisted","valueFromStorage","secondsUntilNuclear","TICK_INTERVAL","BlockedGroupsTimer","isNewDay","killPageAction","updateBadgeAction","postTimerUpdatedMessage","showNotification","blockTimeForAllObj","group","totalSecondsRemainingForGroup","elapsedTime","remainingTime","isMaxTimeAllowedExceededForAll","getTotalSecondsRemainingForAll","BlockedAllWebsites","allowedTime","getBlocklist","blockedGroups","getAllowlist","isHostnameBlocked","blocklist","allowlist","matchesBlocklist","isHostnameBlockedPredicate","matchesAllowlist","GROUPS_IN_STORAGE","BLACK_LIST_IN_STORAGE","MAX_TIME_ALLOWED_IN_STORAGE","DEFAULT_GROUP_NAME","_groups","BlockedGroupsRepository","hasDataForMigration","groups","groupName","maxTime","websites","newGroup","sourceGroupName","existingGroup","website","targetGroupIndex","domain","site","websitesObj","maxTimeAllowedInMinutes","onboardingOpenedAtStorageKey","StayFocusd","changes","areaName","sessions","ads","callbackWrapper","innerCallback","sender","webOnboardingPromise","webOnboardingResolve","prevVersion","disableUpdatePopup","firstInstallDate","newTabTimeout","isOnboardingCompleted","onboardingOpenedAt","canOpenTab","isBlockable","isBlockableByNuclearOption","blockedGroup","blacklistMatch","whitelistMatch","nowTimestamp","resetTimestamp","resetTime","resetArray","resetHour","resetMin","nuclearOptionCountdown","remainingInt","remainingText","windowObj","wTab","customMsg","getTimerForDefaultGroup","nuclearExpiration","blockAll","activeDaysString","asBooleanArray","activeDaysStrArray","activeDaysArray","activeDaysWeekArray","dayIndex","todayDay","startTime","endTime","_activeHoursQueue","activeHoursQueue","activeHours","activeHoursArray","startArray","endArray","todayHour","todayMin","testHour","testMin","startHour","startMin","endHour","endMin","activeHoursQueueArray","newResetTimestamp","resetTimeQueue","defaultResetTime","currentTimestamp","resetTimeQueueObj","resetTimeQueueArray","Browser","doc","objects","needle","WHITELIST_IN_STORAGE_OLD","WHITELIST_IN_STORAGE","_websites","WhitelistRepository","isAdded","targetIndex","classes","Bugsnag","thisClass"],"mappings":"8OAWA,MAAMA,GAAc,CAMlB,QAAQC,EAAU,CACTA,OAAAA,EAAI,MAAM,SAAU,IAAI,CACjC,EAUA,MAAO,SACLC,EACAC,EACAC,EAAgB,GACK,CACd,OAAAA,EACH,OAAO,OAAO,GAAMF,EAAQC,CAAM,EAClC,OAAO,OAAOD,EAAQC,CAAM,CAClC,EAmBA,OAAQ,SAAUE,EAAiBC,EAAgC,CAC3D,MAAAC,EAAQF,EAAQ,MAAM,GAAG,EACzBG,EAAWD,EAAM,MACjBE,EAAMF,EAAM,OAClB,IAAIG,EAAU,EACVC,EAAUJ,EAAM,CAAC,EAErB,MAAQD,EAAYA,EAAUK,CAAO,IAAMD,EAAUD,GACnDE,EAAUJ,EAAMG,CAAO,EACZA,GAAA,EAGb,GAAIJ,EACF,OAAOA,EAAUE,CAAQ,CAE7B,EAQA,aAAc,SAAUI,EAA0B,CAChD,OACE,OAAOA,GAAQ,UACfA,IAAQ,MACR,OAAOA,EAAI,OAAW,GAE1B,EAQA,QAAS,SAAUA,EAAU,CAC3B,OACE,OAAOA,GAAQ,UACfA,IAAQ,MACR,OAAOA,EAAI,OAAW,GAE1B,EAQA,OAAQ,SAAUC,EAAU,CACtB,GAAA,CACF,KAAK,MAAMA,CAAG,OACJ,CACH,MAAA,EACT,CAEO,MAAA,EACT,EAQA,KAAM,SAAUD,EAA0B,CACxC,MAAME,EAAO,CAAA,EACPC,EAAiC,CAAA,EAEvC,UAAWC,KAAOJ,EACZA,EAAI,eAAeI,CAAG,GACxBF,EAAK,KAAKE,CAAG,EAIjBF,EAAK,KAAK,EAEV,QAAS,EAAI,EAAG,EAAIA,EAAK,OAAQ,IAAK,CAC9B,MAAAG,EAAOH,EAAK,CAAC,EACTC,EAAAE,CAAI,EAAIL,EAAIK,CAAI,CAC5B,CAEO,OAAAF,CACT,CACF,EClIMG,GAAQ,CACZ,aAAc,SAAUL,EAAa,CAC5B,OAAA,OAAOA,GAAQ,SAAWA,EAAI,YAAc,EAAA,CAAC,EAAIA,EAAI,MAAM,CAAC,EAAIA,CACzE,EAEA,aAAc,SAAUA,EAAa,CAC5B,OAAA,OAAOA,GAAQ,SAAWA,EAAI,YAAc,EAAA,CAAC,EAAIA,EAAI,MAAM,CAAC,EAAIA,CACzE,EAEA,QAAS,SAAUM,EAAe,CAE9B,OAAAA,IAAU,MACVA,IAAU,IACV,OAAOA,EAAU,KACjB,OAAO,KAAKA,CAAK,EAAE,SAAW,CAElC,EASA,oBAAqB,SAAUC,EAAc,CAC3C,IAAIC,EAAID,EAEJ,OAAAC,EAAAA,EAAE,QAAQ,wBAAyB,GAAG,EAEtCA,EAAAA,EAAE,QAAQ,wBAAyB,GAAG,EAEtCA,EAAAA,EAAE,QAAQ,UAAW,KAAK,EAE1BA,EAAAA,EAAE,QAAQ,kBAAmB,IAAI,EAEjCA,EAAAA,EAAE,QAAQ,UAAW,GAAG,EAExBA,EAAAA,EAAE,QAAQ,UAAW,GAAG,EAExBA,EAAAA,EAAE,QAAQ,UAAW,GAAG,EAExBA,EAAAA,EAAE,QAAQ,kBAAmB,GAAG,EAE7BA,CACT,EAMA,qBAIE,CACI,IAAAC,EACAC,EACJ,MAAMC,EAAU,IAAI,QAAQ,CAACC,EAAKC,IAAQ,CAC9BJ,EAAAG,EACDF,EAAAG,CAAA,CACV,EAIM,MAAA,CAAE,QAAAJ,EAAS,OAAAC,EAAQ,QAAAC,EAC5B,EAQA,gBAAgBG,EAAe,CAC7B,MAAO,CACLC,EACAC,EACAC,EAAe,OACfC,EAAkB,SACf,CACIC,GAAA,IAAI,GAAGL,CAAK,IAAIC,CAAQ,GAAIC,EAASC,EAASC,CAAK,CAAA,CAE9D,EAMA,YAAa,CACJ,OAAA,OAAO,OAAS,OAAO,GAChC,EAEA,QAAQ9B,EAAU,CACTA,OAAAA,EAAI,MAAM,QAAS,CACxB,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,QAAS,KAAK,QAAQ,KAAK,IAAI,EAC/B,oBAAqB,KAAK,oBAAoB,KAAK,IAAI,EACvD,oBAAqB,KAAK,oBAAoB,KAAK,IAAI,EACvD,gBAAiB,KAAK,gBAAgB,KAAK,IAAI,EAC/C,WAAY,KAAK,WAAW,KAAK,IAAI,CAAA,CACtC,CACH,CACF,ECjHMgC,GAAMC,GAAa,gBAAgB,KAAK,EAmBxCC,IAAO,KACG,IAAM,CAClB,IAAIC,EAAS,CAAA,EACTC,EAAwC,KAEtC,MAAAC,EAAQ,YAAaC,EAAa,CACtC,IAAIC,EAAO,GACPC,EAAuC,KAEvC,GAAAF,EAAK,SAAW,EACZ,MAAA,IAAI,UAAU,wBAAwB,EAK9C,GAFIN,GAAA,QAAS,sBAAuBM,EAAM,OAAO,EAE7CA,EAAK,SAAW,GAAK,OAAOA,EAAK,CAAC,GAAM,UAS1C,GARAC,EAAOD,EAAK,CAAC,EAET,OAAOA,EAAK,CAAC,GAAM,UAAYA,EAAK,CAAC,IAAM,KAC7CE,EAAWF,EAAK,CAAC,EACR,OAAOA,EAAK,CAAC,GAAM,aACjBE,EAAAF,EAAK,CAAC,KAGfE,EAEF,GAAID,EAAK,QAAQ,GAAG,EAAI,GAAI,CACpB,MAAAjC,EAAQiC,EAAK,MAAM,GAAG,EACtBhC,EAAWD,EAAM,MACjBmC,EAA8B,CAAA,EAI/BL,IACSA,EAAArC,GAAY,OAAOwC,EAAMJ,CAAM,GAItCM,EAAAlC,CAAQ,EAAI6B,EACfrC,GAAY,MAAMqC,EAAWI,EAAU,EAAI,EAC3CA,EAGJH,EAAM/B,EAAM,KAAK,GAAG,EAAGmC,CAAM,CAAA,KACxB,CAGL,MAAMC,EAAYH,EACdA,KAAQJ,EACHA,EAAAO,CAAS,EAAI3C,GAAY,MAC9BoC,EAAOO,CAAS,EAChBF,CAAA,EAIFL,EAAOO,CAAS,EAAIF,EAGVJ,EAAA,IACd,OAGFE,EAAK,SAAW,GAChB,OAAOA,EAAK,CAAC,GAAM,UACnBA,EAAK,CAAC,IAAM,KAEZH,EAASpC,GAAY,MAAMoC,EAAQG,EAAK,CAAC,CAAC,EACjCA,EAAK,SAAW,GAAK,OAAOA,EAAK,CAAC,GAAM,aACtCE,EAAAF,EAAK,CAAC,IAEb,OAAOE,GAAa,UAAYA,IAAa,OACtCL,EAAApC,GAAY,MAAMoC,EAAQK,CAAQ,GAE/C,EAGI,OAAAH,EAAA,CACJ,MAAAA,CAAA,CACD,EAEMF,CAAA,QAKEnC,EAAMkC,GC3GJ,SAASS,GAAQC,EAAG,CACjC,0BAEA,OAAOD,GAAwB,OAAO,QAArB,YAA2C,OAAO,OAAO,UAA1B,SAAqC,SAAUC,EAAG,CAChG,OAAO,OAAOA,CACf,EAAG,SAAUA,EAAG,CACf,OAAOA,GAAmB,OAAO,QAArB,YAA+BA,EAAE,cAAgB,QAAUA,IAAM,OAAO,UAAY,SAAW,OAAOA,CACtH,EAAKD,GAAQC,CAAC,CACd,CCRe,SAASC,GAAUC,EAAa,CAC7C,GAAIA,IAAgB,MAAQA,IAAgB,IAAQA,IAAgB,GAClE,MAAO,KAET,IAAIC,EAAS,OAAOD,CAAW,EAC/B,OAAI,MAAMC,CAAM,EACPA,EAEFA,EAAS,EAAI,KAAK,KAAKA,CAAM,EAAI,KAAK,MAAMA,CAAM,CAC3D,CCTe,SAASC,GAAaC,EAAUX,EAAM,CACnD,GAAIA,EAAK,OAASW,EAChB,MAAM,IAAI,UAAUA,EAAW,aAAeA,EAAW,EAAI,IAAM,IAAM,uBAAyBX,EAAK,OAAS,UAAU,CAE9H,CC4Be,SAASY,GAAOC,EAAU,CACvCH,GAAa,EAAG,SAAS,EACzB,IAAII,EAAS,OAAO,UAAU,SAAS,KAAKD,CAAQ,EAGpD,OAAIA,aAAoB,MAAQR,GAAQQ,CAAQ,IAAM,UAAYC,IAAW,gBAEpE,IAAI,KAAKD,EAAS,QAAS,CAAA,EACzB,OAAOA,GAAa,UAAYC,IAAW,kBAC7C,IAAI,KAAKD,CAAQ,IAEnB,OAAOA,GAAa,UAAYC,IAAW,oBAAsB,OAAO,QAAY,MAEvF,QAAQ,KAAK,oNAAoN,EAEjO,QAAQ,KAAK,IAAI,MAAO,EAAC,KAAK,GAEzB,IAAI,KAAK,GAAG,EAEvB,CC9Be,SAASC,GAAgBC,EAAWC,EAAa,CAC9DP,GAAa,EAAG,SAAS,EACzB,IAAIQ,EAAYN,GAAOI,CAAS,EAAE,QAAO,EACrCG,EAASZ,GAAUU,CAAW,EAClC,OAAO,IAAI,KAAKC,EAAYC,CAAM,CACpC,CC1BA,IAAIC,GAAiB,CAAA,EACd,SAASC,IAAoB,CAClC,OAAOD,EACT,CCQe,SAASE,GAAgCC,EAAM,CAC5D,IAAIC,EAAU,IAAI,KAAK,KAAK,IAAID,EAAK,cAAeA,EAAK,SAAQ,EAAIA,EAAK,UAAWA,EAAK,SAAQ,EAAIA,EAAK,WAAY,EAAEA,EAAK,aAAcA,EAAK,gBAAe,CAAE,CAAC,EACnK,OAAAC,EAAQ,eAAeD,EAAK,YAAa,CAAA,EAClCA,EAAK,QAAO,EAAKC,EAAQ,QAAO,CACzC,CCmBe,SAASC,GAAO7C,EAAO,CACpC,OAAA8B,GAAa,EAAG,SAAS,EAClB9B,aAAiB,MAAQyB,GAAQzB,CAAK,IAAM,UAAY,OAAO,UAAU,SAAS,KAAKA,CAAK,IAAM,eAC3G,CCHe,SAAS8C,GAAQV,EAAW,CAEzC,GADAN,GAAa,EAAG,SAAS,EACrB,CAACe,GAAOT,CAAS,GAAK,OAAOA,GAAc,SAC7C,MAAO,GAET,IAAIO,EAAOX,GAAOI,CAAS,EAC3B,MAAO,CAAC,MAAM,OAAOO,CAAI,CAAC,CAC5B,CCpBe,SAASI,GAAgBX,EAAWC,EAAa,CAC9DP,GAAa,EAAG,SAAS,EACzB,IAAIS,EAASZ,GAAUU,CAAW,EAClC,OAAOF,GAAgBC,EAAW,CAACG,CAAM,CAC3C,CCvBA,IAAIS,GAAsB,MACX,SAASC,GAAgBb,EAAW,CACjDN,GAAa,EAAG,SAAS,EACzB,IAAIa,EAAOX,GAAOI,CAAS,EACvBE,EAAYK,EAAK,UACrBA,EAAK,YAAY,EAAG,CAAC,EACrBA,EAAK,YAAY,EAAG,EAAG,EAAG,CAAC,EAC3B,IAAIO,EAAuBP,EAAK,UAC5BQ,EAAab,EAAYY,EAC7B,OAAO,KAAK,MAAMC,EAAaH,EAAmB,EAAI,CACxD,CCVe,SAASI,GAAkBhB,EAAW,CACnDN,GAAa,EAAG,SAAS,EACzB,IAAIuB,EAAe,EACfV,EAAOX,GAAOI,CAAS,EACvBkB,EAAMX,EAAK,YACXY,GAAQD,EAAMD,EAAe,EAAI,GAAKC,EAAMD,EAChD,OAAAV,EAAK,WAAWA,EAAK,WAAY,EAAGY,CAAI,EACxCZ,EAAK,YAAY,EAAG,EAAG,EAAG,CAAC,EACpBA,CACT,CCRe,SAASa,GAAkBpB,EAAW,CACnDN,GAAa,EAAG,SAAS,EACzB,IAAIa,EAAOX,GAAOI,CAAS,EACvBqB,EAAOd,EAAK,iBACZe,EAA4B,IAAI,KAAK,CAAC,EAC1CA,EAA0B,eAAeD,EAAO,EAAG,EAAG,CAAC,EACvDC,EAA0B,YAAY,EAAG,EAAG,EAAG,CAAC,EAChD,IAAIC,EAAkBP,GAAkBM,CAAyB,EAC7DE,EAA4B,IAAI,KAAK,CAAC,EAC1CA,EAA0B,eAAeH,EAAM,EAAG,CAAC,EACnDG,EAA0B,YAAY,EAAG,EAAG,EAAG,CAAC,EAChD,IAAIC,EAAkBT,GAAkBQ,CAAyB,EACjE,OAAIjB,EAAK,QAAO,GAAMgB,EAAgB,QAAO,EACpCF,EAAO,EACLd,EAAK,QAAS,GAAIkB,EAAgB,QAAO,EAC3CJ,EAEAA,EAAO,CAElB,CCnBe,SAASK,GAAsB1B,EAAW,CACvDN,GAAa,EAAG,SAAS,EACzB,IAAI2B,EAAOD,GAAkBpB,CAAS,EAClC2B,EAAkB,IAAI,KAAK,CAAC,EAChCA,EAAgB,eAAeN,EAAM,EAAG,CAAC,EACzCM,EAAgB,YAAY,EAAG,EAAG,EAAG,CAAC,EACtC,IAAIpB,EAAOS,GAAkBW,CAAe,EAC5C,OAAOpB,CACT,CCPA,IAAIqB,GAAuB,OACZ,SAASC,GAAc7B,EAAW,CAC/CN,GAAa,EAAG,SAAS,EACzB,IAAIa,EAAOX,GAAOI,CAAS,EACvBmB,EAAOH,GAAkBT,CAAI,EAAE,QAAS,EAAGmB,GAAsBnB,CAAI,EAAE,UAK3E,OAAO,KAAK,MAAMY,EAAOS,EAAoB,EAAI,CACnD,CCVe,SAASE,GAAe9B,EAAW+B,EAAS,CACzD,IAAIC,EAAMC,EAAOC,EAAOC,EAAuBC,EAAiBC,EAAuBC,EAAuBC,EAC9G7C,GAAa,EAAG,SAAS,EACzB,IAAIU,EAAiBC,KACjBY,EAAe1B,IAAWyC,GAAQC,GAASC,GAASC,EAAwBJ,GAAY,KAA6B,OAASA,EAAQ,gBAAkB,MAAQI,IAA0B,OAASA,EAAwBJ,GAAY,OAAuCK,EAAkBL,EAAQ,UAAY,MAAQK,IAAoB,SAAmBC,EAAwBD,EAAgB,WAAa,MAAQC,IAA0B,OAAtL,OAAwMA,EAAsB,gBAAkB,MAAQH,IAAU,OAASA,EAAQ9B,EAAe,gBAAkB,MAAQ6B,IAAU,OAASA,GAASK,EAAwBlC,EAAe,UAAY,MAAQkC,IAA0B,SAAmBC,EAAyBD,EAAsB,WAAa,MAAQC,IAA2B,OAAzG,OAA2HA,EAAuB,gBAAkB,MAAQP,IAAS,OAASA,EAAO,CAAC,EAGp4B,GAAI,EAAEf,GAAgB,GAAKA,GAAgB,GACzC,MAAM,IAAI,WAAW,kDAAkD,EAEzE,IAAIV,EAAOX,GAAOI,CAAS,EACvBkB,EAAMX,EAAK,YACXY,GAAQD,EAAMD,EAAe,EAAI,GAAKC,EAAMD,EAChD,OAAAV,EAAK,WAAWA,EAAK,WAAY,EAAGY,CAAI,EACxCZ,EAAK,YAAY,EAAG,EAAG,EAAG,CAAC,EACpBA,CACT,CCfe,SAASiC,GAAexC,EAAW+B,EAAS,CACzD,IAAIC,EAAMC,EAAOC,EAAOO,EAAuBL,EAAiBC,EAAuBC,EAAuBC,EAC9G7C,GAAa,EAAG,SAAS,EACzB,IAAIa,EAAOX,GAAOI,CAAS,EACvBqB,EAAOd,EAAK,iBACZH,EAAiBC,KACjBqC,EAAwBnD,IAAWyC,GAAQC,GAASC,GAASO,EAAwBV,GAAY,KAA6B,OAASA,EAAQ,yBAA2B,MAAQU,IAA0B,OAASA,EAAwBV,GAAY,OAAuCK,EAAkBL,EAAQ,UAAY,MAAQK,IAAoB,SAAmBC,EAAwBD,EAAgB,WAAa,MAAQC,IAA0B,OAAtL,OAAwMA,EAAsB,yBAA2B,MAAQH,IAAU,OAASA,EAAQ9B,EAAe,yBAA2B,MAAQ6B,IAAU,OAASA,GAASK,EAAwBlC,EAAe,UAAY,MAAQkC,IAA0B,SAAmBC,EAAyBD,EAAsB,WAAa,MAAQC,IAA2B,OAAzG,OAA2HA,EAAuB,yBAA2B,MAAQP,IAAS,OAASA,EAAO,CAAC,EAGj7B,GAAI,EAAEU,GAAyB,GAAKA,GAAyB,GAC3D,MAAM,IAAI,WAAW,2DAA2D,EAElF,IAAIC,EAAsB,IAAI,KAAK,CAAC,EACpCA,EAAoB,eAAetB,EAAO,EAAG,EAAGqB,CAAqB,EACrEC,EAAoB,YAAY,EAAG,EAAG,EAAG,CAAC,EAC1C,IAAIpB,EAAkBO,GAAea,EAAqBZ,CAAO,EAC7Da,EAAsB,IAAI,KAAK,CAAC,EACpCA,EAAoB,eAAevB,EAAM,EAAGqB,CAAqB,EACjEE,EAAoB,YAAY,EAAG,EAAG,EAAG,CAAC,EAC1C,IAAInB,EAAkBK,GAAec,EAAqBb,CAAO,EACjE,OAAIxB,EAAK,QAAO,GAAMgB,EAAgB,QAAO,EACpCF,EAAO,EACLd,EAAK,QAAS,GAAIkB,EAAgB,QAAO,EAC3CJ,EAEAA,EAAO,CAElB,CC3Be,SAASwB,GAAmB7C,EAAW+B,EAAS,CAC7D,IAAIC,EAAMC,EAAOC,EAAOO,EAAuBL,EAAiBC,EAAuBC,EAAuBC,EAC9G7C,GAAa,EAAG,SAAS,EACzB,IAAIU,EAAiBC,KACjBqC,EAAwBnD,IAAWyC,GAAQC,GAASC,GAASO,EAAwBV,GAAY,KAA6B,OAASA,EAAQ,yBAA2B,MAAQU,IAA0B,OAASA,EAAwBV,GAAY,OAAuCK,EAAkBL,EAAQ,UAAY,MAAQK,IAAoB,SAAmBC,EAAwBD,EAAgB,WAAa,MAAQC,IAA0B,OAAtL,OAAwMA,EAAsB,yBAA2B,MAAQH,IAAU,OAASA,EAAQ9B,EAAe,yBAA2B,MAAQ6B,IAAU,OAASA,GAASK,EAAwBlC,EAAe,UAAY,MAAQkC,IAA0B,SAAmBC,EAAyBD,EAAsB,WAAa,MAAQC,IAA2B,OAAzG,OAA2HA,EAAuB,yBAA2B,MAAQP,IAAS,OAASA,EAAO,CAAC,EAC76BX,EAAOmB,GAAexC,EAAW+B,CAAO,EACxCe,EAAY,IAAI,KAAK,CAAC,EAC1BA,EAAU,eAAezB,EAAM,EAAGqB,CAAqB,EACvDI,EAAU,YAAY,EAAG,EAAG,EAAG,CAAC,EAChC,IAAIvC,EAAOuB,GAAegB,EAAWf,CAAO,EAC5C,OAAOxB,CACT,CCZA,IAAIqB,GAAuB,OACZ,SAASmB,GAAW/C,EAAW+B,EAAS,CACrDrC,GAAa,EAAG,SAAS,EACzB,IAAIa,EAAOX,GAAOI,CAAS,EACvBmB,EAAOW,GAAevB,EAAMwB,CAAO,EAAE,UAAYc,GAAmBtC,EAAMwB,CAAO,EAAE,QAAO,EAK9F,OAAO,KAAK,MAAMZ,EAAOS,EAAoB,EAAI,CACnD,CCde,SAASoB,GAAgBvD,EAAQwD,EAAc,CAG5D,QAFIC,EAAOzD,EAAS,EAAI,IAAM,GAC1B0D,EAAS,KAAK,IAAI1D,CAAM,EAAE,SAAQ,EAC/B0D,EAAO,OAASF,GACrBE,EAAS,IAAMA,EAEjB,OAAOD,EAAOC,CAChB,CCMA,IAAIC,GAAa,CAEf,EAAG,SAAW7C,EAAM8C,EAAO,CAUzB,IAAIC,EAAa/C,EAAK,iBAElBc,EAAOiC,EAAa,EAAIA,EAAa,EAAIA,EAC7C,OAAON,GAAgBK,IAAU,KAAOhC,EAAO,IAAMA,EAAMgC,EAAM,MAAM,CACxE,EAED,EAAG,SAAW9C,EAAM8C,EAAO,CACzB,IAAIE,EAAQhD,EAAK,cACjB,OAAO8C,IAAU,IAAM,OAAOE,EAAQ,CAAC,EAAIP,GAAgBO,EAAQ,EAAG,CAAC,CACxE,EAED,EAAG,SAAWhD,EAAM8C,EAAO,CACzB,OAAOL,GAAgBzC,EAAK,WAAY,EAAE8C,EAAM,MAAM,CACvD,EAED,EAAG,SAAW9C,EAAM8C,EAAO,CACzB,IAAIG,EAAqBjD,EAAK,YAAW,EAAK,IAAM,EAAI,KAAO,KAC/D,OAAQ8C,EAAK,CACX,IAAK,IACL,IAAK,KACH,OAAOG,EAAmB,cAC5B,IAAK,MACH,OAAOA,EACT,IAAK,QACH,OAAOA,EAAmB,CAAC,EAC7B,IAAK,OACL,QACE,OAAOA,IAAuB,KAAO,OAAS,MACjD,CACF,EAED,EAAG,SAAWjD,EAAM8C,EAAO,CACzB,OAAOL,GAAgBzC,EAAK,YAAa,EAAG,IAAM,GAAI8C,EAAM,MAAM,CACnE,EAED,EAAG,SAAW9C,EAAM8C,EAAO,CACzB,OAAOL,GAAgBzC,EAAK,YAAa,EAAE8C,EAAM,MAAM,CACxD,EAED,EAAG,SAAW9C,EAAM8C,EAAO,CACzB,OAAOL,GAAgBzC,EAAK,cAAe,EAAE8C,EAAM,MAAM,CAC1D,EAED,EAAG,SAAW9C,EAAM8C,EAAO,CACzB,OAAOL,GAAgBzC,EAAK,cAAe,EAAE8C,EAAM,MAAM,CAC1D,EAED,EAAG,SAAW9C,EAAM8C,EAAO,CACzB,IAAII,EAAiBJ,EAAM,OACvBK,EAAenD,EAAK,qBACpBoD,EAAoB,KAAK,MAAMD,EAAe,KAAK,IAAI,GAAID,EAAiB,CAAC,CAAC,EAClF,OAAOT,GAAgBW,EAAmBN,EAAM,MAAM,CACvD,CACH,EACA,MAAAO,GAAeR,GCxEf,IAAIS,GAAgB,CAClB,GAAI,KACJ,GAAI,KACJ,SAAU,WACV,KAAM,OACN,QAAS,UACT,UAAW,YACX,QAAS,UACT,MAAO,OACT,EA+CIT,GAAa,CAEf,EAAG,SAAW7C,EAAM8C,EAAOS,EAAU,CACnC,IAAIC,EAAMxD,EAAK,eAAgB,EAAG,EAAI,EAAI,EAC1C,OAAQ8C,EAAK,CAEX,IAAK,IACL,IAAK,KACL,IAAK,MACH,OAAOS,EAAS,IAAIC,EAAK,CACvB,MAAO,aACjB,CAAS,EAEH,IAAK,QACH,OAAOD,EAAS,IAAIC,EAAK,CACvB,MAAO,QACjB,CAAS,EAEH,IAAK,OACL,QACE,OAAOD,EAAS,IAAIC,EAAK,CACvB,MAAO,MACjB,CAAS,CACJ,CACF,EAED,EAAG,SAAWxD,EAAM8C,EAAOS,EAAU,CAEnC,GAAIT,IAAU,KAAM,CAClB,IAAIC,EAAa/C,EAAK,iBAElBc,EAAOiC,EAAa,EAAIA,EAAa,EAAIA,EAC7C,OAAOQ,EAAS,cAAczC,EAAM,CAClC,KAAM,MACd,CAAO,CACF,CACD,OAAO2C,GAAgB,EAAEzD,EAAM8C,CAAK,CACrC,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU/B,EAAS,CAC5C,IAAIkC,EAAiBzB,GAAejC,EAAMwB,CAAO,EAE7CmC,EAAWD,EAAiB,EAAIA,EAAiB,EAAIA,EAGzD,GAAIZ,IAAU,KAAM,CAClB,IAAIc,EAAeD,EAAW,IAC9B,OAAOlB,GAAgBmB,EAAc,CAAC,CACvC,CAGD,OAAId,IAAU,KACLS,EAAS,cAAcI,EAAU,CACtC,KAAM,MACd,CAAO,EAIIlB,GAAgBkB,EAAUb,EAAM,MAAM,CAC9C,EAED,EAAG,SAAW9C,EAAM8C,EAAO,CACzB,IAAIe,EAAchD,GAAkBb,CAAI,EAGxC,OAAOyC,GAAgBoB,EAAaf,EAAM,MAAM,CACjD,EAUD,EAAG,SAAW9C,EAAM8C,EAAO,CACzB,IAAIhC,EAAOd,EAAK,iBAChB,OAAOyC,GAAgB3B,EAAMgC,EAAM,MAAM,CAC1C,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU,CACnC,IAAIO,EAAU,KAAK,MAAM9D,EAAK,YAAa,EAAG,GAAK,CAAC,EACpD,OAAQ8C,EAAK,CAEX,IAAK,IACH,OAAO,OAAOgB,CAAO,EAEvB,IAAK,KACH,OAAOrB,GAAgBqB,EAAS,CAAC,EAEnC,IAAK,KACH,OAAOP,EAAS,cAAcO,EAAS,CACrC,KAAM,SAChB,CAAS,EAEH,IAAK,MACH,OAAOP,EAAS,QAAQO,EAAS,CAC/B,MAAO,cACP,QAAS,YACnB,CAAS,EAEH,IAAK,QACH,OAAOP,EAAS,QAAQO,EAAS,CAC/B,MAAO,SACP,QAAS,YACnB,CAAS,EAEH,IAAK,OACL,QACE,OAAOP,EAAS,QAAQO,EAAS,CAC/B,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAW9D,EAAM8C,EAAOS,EAAU,CACnC,IAAIO,EAAU,KAAK,MAAM9D,EAAK,YAAa,EAAG,GAAK,CAAC,EACpD,OAAQ8C,EAAK,CAEX,IAAK,IACH,OAAO,OAAOgB,CAAO,EAEvB,IAAK,KACH,OAAOrB,GAAgBqB,EAAS,CAAC,EAEnC,IAAK,KACH,OAAOP,EAAS,cAAcO,EAAS,CACrC,KAAM,SAChB,CAAS,EAEH,IAAK,MACH,OAAOP,EAAS,QAAQO,EAAS,CAC/B,MAAO,cACP,QAAS,YACnB,CAAS,EAEH,IAAK,QACH,OAAOP,EAAS,QAAQO,EAAS,CAC/B,MAAO,SACP,QAAS,YACnB,CAAS,EAEH,IAAK,OACL,QACE,OAAOP,EAAS,QAAQO,EAAS,CAC/B,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAW9D,EAAM8C,EAAOS,EAAU,CACnC,IAAIP,EAAQhD,EAAK,cACjB,OAAQ8C,EAAK,CACX,IAAK,IACL,IAAK,KACH,OAAOW,GAAgB,EAAEzD,EAAM8C,CAAK,EAEtC,IAAK,KACH,OAAOS,EAAS,cAAcP,EAAQ,EAAG,CACvC,KAAM,OAChB,CAAS,EAEH,IAAK,MACH,OAAOO,EAAS,MAAMP,EAAO,CAC3B,MAAO,cACP,QAAS,YACnB,CAAS,EAEH,IAAK,QACH,OAAOO,EAAS,MAAMP,EAAO,CAC3B,MAAO,SACP,QAAS,YACnB,CAAS,EAEH,IAAK,OACL,QACE,OAAOO,EAAS,MAAMP,EAAO,CAC3B,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAWhD,EAAM8C,EAAOS,EAAU,CACnC,IAAIP,EAAQhD,EAAK,cACjB,OAAQ8C,EAAK,CAEX,IAAK,IACH,OAAO,OAAOE,EAAQ,CAAC,EAEzB,IAAK,KACH,OAAOP,GAAgBO,EAAQ,EAAG,CAAC,EAErC,IAAK,KACH,OAAOO,EAAS,cAAcP,EAAQ,EAAG,CACvC,KAAM,OAChB,CAAS,EAEH,IAAK,MACH,OAAOO,EAAS,MAAMP,EAAO,CAC3B,MAAO,cACP,QAAS,YACnB,CAAS,EAEH,IAAK,QACH,OAAOO,EAAS,MAAMP,EAAO,CAC3B,MAAO,SACP,QAAS,YACnB,CAAS,EAEH,IAAK,OACL,QACE,OAAOO,EAAS,MAAMP,EAAO,CAC3B,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAWhD,EAAM8C,EAAOS,EAAU/B,EAAS,CAC5C,IAAIuC,EAAOvB,GAAWxC,EAAMwB,CAAO,EACnC,OAAIsB,IAAU,KACLS,EAAS,cAAcQ,EAAM,CAClC,KAAM,MACd,CAAO,EAEItB,GAAgBsB,EAAMjB,EAAM,MAAM,CAC1C,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU,CACnC,IAAIS,EAAU1C,GAActB,CAAI,EAChC,OAAI8C,IAAU,KACLS,EAAS,cAAcS,EAAS,CACrC,KAAM,MACd,CAAO,EAEIvB,GAAgBuB,EAASlB,EAAM,MAAM,CAC7C,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU,CACnC,OAAIT,IAAU,KACLS,EAAS,cAAcvD,EAAK,WAAU,EAAI,CAC/C,KAAM,MACd,CAAO,EAEIyD,GAAgB,EAAEzD,EAAM8C,CAAK,CACrC,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU,CACnC,IAAIU,EAAY3D,GAAgBN,CAAI,EACpC,OAAI8C,IAAU,KACLS,EAAS,cAAcU,EAAW,CACvC,KAAM,WACd,CAAO,EAEIxB,GAAgBwB,EAAWnB,EAAM,MAAM,CAC/C,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU,CACnC,IAAIW,EAAYlE,EAAK,YACrB,OAAQ8C,EAAK,CAEX,IAAK,IACL,IAAK,KACL,IAAK,MACH,OAAOS,EAAS,IAAIW,EAAW,CAC7B,MAAO,cACP,QAAS,YACnB,CAAS,EAEH,IAAK,QACH,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,SACP,QAAS,YACnB,CAAS,EAEH,IAAK,SACH,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,QACP,QAAS,YACnB,CAAS,EAEH,IAAK,OACL,QACE,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAWlE,EAAM8C,EAAOS,EAAU/B,EAAS,CAC5C,IAAI0C,EAAYlE,EAAK,YACjBmE,GAAkBD,EAAY1C,EAAQ,aAAe,GAAK,GAAK,EACnE,OAAQsB,EAAK,CAEX,IAAK,IACH,OAAO,OAAOqB,CAAc,EAE9B,IAAK,KACH,OAAO1B,GAAgB0B,EAAgB,CAAC,EAE1C,IAAK,KACH,OAAOZ,EAAS,cAAcY,EAAgB,CAC5C,KAAM,KAChB,CAAS,EACH,IAAK,MACH,OAAOZ,EAAS,IAAIW,EAAW,CAC7B,MAAO,cACP,QAAS,YACnB,CAAS,EAEH,IAAK,QACH,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,SACP,QAAS,YACnB,CAAS,EAEH,IAAK,SACH,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,QACP,QAAS,YACnB,CAAS,EAEH,IAAK,OACL,QACE,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAWlE,EAAM8C,EAAOS,EAAU/B,EAAS,CAC5C,IAAI0C,EAAYlE,EAAK,YACjBmE,GAAkBD,EAAY1C,EAAQ,aAAe,GAAK,GAAK,EACnE,OAAQsB,EAAK,CAEX,IAAK,IACH,OAAO,OAAOqB,CAAc,EAE9B,IAAK,KACH,OAAO1B,GAAgB0B,EAAgBrB,EAAM,MAAM,EAErD,IAAK,KACH,OAAOS,EAAS,cAAcY,EAAgB,CAC5C,KAAM,KAChB,CAAS,EACH,IAAK,MACH,OAAOZ,EAAS,IAAIW,EAAW,CAC7B,MAAO,cACP,QAAS,YACnB,CAAS,EAEH,IAAK,QACH,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,SACP,QAAS,YACnB,CAAS,EAEH,IAAK,SACH,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,QACP,QAAS,YACnB,CAAS,EAEH,IAAK,OACL,QACE,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAWlE,EAAM8C,EAAOS,EAAU,CACnC,IAAIW,EAAYlE,EAAK,YACjBoE,EAAeF,IAAc,EAAI,EAAIA,EACzC,OAAQpB,EAAK,CAEX,IAAK,IACH,OAAO,OAAOsB,CAAY,EAE5B,IAAK,KACH,OAAO3B,GAAgB2B,EAActB,EAAM,MAAM,EAEnD,IAAK,KACH,OAAOS,EAAS,cAAca,EAAc,CAC1C,KAAM,KAChB,CAAS,EAEH,IAAK,MACH,OAAOb,EAAS,IAAIW,EAAW,CAC7B,MAAO,cACP,QAAS,YACnB,CAAS,EAEH,IAAK,QACH,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,SACP,QAAS,YACnB,CAAS,EAEH,IAAK,SACH,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,QACP,QAAS,YACnB,CAAS,EAEH,IAAK,OACL,QACE,OAAOX,EAAS,IAAIW,EAAW,CAC7B,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAWlE,EAAM8C,EAAOS,EAAU,CACnC,IAAIc,EAAQrE,EAAK,cACbiD,EAAqBoB,EAAQ,IAAM,EAAI,KAAO,KAClD,OAAQvB,EAAK,CACX,IAAK,IACL,IAAK,KACH,OAAOS,EAAS,UAAUN,EAAoB,CAC5C,MAAO,cACP,QAAS,YACnB,CAAS,EACH,IAAK,MACH,OAAOM,EAAS,UAAUN,EAAoB,CAC5C,MAAO,cACP,QAAS,YACnB,CAAS,EAAE,YAAW,EAChB,IAAK,QACH,OAAOM,EAAS,UAAUN,EAAoB,CAC5C,MAAO,SACP,QAAS,YACnB,CAAS,EACH,IAAK,OACL,QACE,OAAOM,EAAS,UAAUN,EAAoB,CAC5C,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAWjD,EAAM8C,EAAOS,EAAU,CACnC,IAAIc,EAAQrE,EAAK,cACbiD,EAQJ,OAPIoB,IAAU,GACZpB,EAAqBK,GAAc,KAC1Be,IAAU,EACnBpB,EAAqBK,GAAc,SAEnCL,EAAqBoB,EAAQ,IAAM,EAAI,KAAO,KAExCvB,EAAK,CACX,IAAK,IACL,IAAK,KACH,OAAOS,EAAS,UAAUN,EAAoB,CAC5C,MAAO,cACP,QAAS,YACnB,CAAS,EACH,IAAK,MACH,OAAOM,EAAS,UAAUN,EAAoB,CAC5C,MAAO,cACP,QAAS,YACnB,CAAS,EAAE,YAAW,EAChB,IAAK,QACH,OAAOM,EAAS,UAAUN,EAAoB,CAC5C,MAAO,SACP,QAAS,YACnB,CAAS,EACH,IAAK,OACL,QACE,OAAOM,EAAS,UAAUN,EAAoB,CAC5C,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAWjD,EAAM8C,EAAOS,EAAU,CACnC,IAAIc,EAAQrE,EAAK,cACbiD,EAUJ,OATIoB,GAAS,GACXpB,EAAqBK,GAAc,QAC1Be,GAAS,GAClBpB,EAAqBK,GAAc,UAC1Be,GAAS,EAClBpB,EAAqBK,GAAc,QAEnCL,EAAqBK,GAAc,MAE7BR,EAAK,CACX,IAAK,IACL,IAAK,KACL,IAAK,MACH,OAAOS,EAAS,UAAUN,EAAoB,CAC5C,MAAO,cACP,QAAS,YACnB,CAAS,EACH,IAAK,QACH,OAAOM,EAAS,UAAUN,EAAoB,CAC5C,MAAO,SACP,QAAS,YACnB,CAAS,EACH,IAAK,OACL,QACE,OAAOM,EAAS,UAAUN,EAAoB,CAC5C,MAAO,OACP,QAAS,YACnB,CAAS,CACJ,CACF,EAED,EAAG,SAAWjD,EAAM8C,EAAOS,EAAU,CACnC,GAAIT,IAAU,KAAM,CAClB,IAAIuB,EAAQrE,EAAK,YAAW,EAAK,GACjC,OAAIqE,IAAU,IAAGA,EAAQ,IAClBd,EAAS,cAAcc,EAAO,CACnC,KAAM,MACd,CAAO,CACF,CACD,OAAOZ,GAAgB,EAAEzD,EAAM8C,CAAK,CACrC,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU,CACnC,OAAIT,IAAU,KACLS,EAAS,cAAcvD,EAAK,YAAW,EAAI,CAChD,KAAM,MACd,CAAO,EAEIyD,GAAgB,EAAEzD,EAAM8C,CAAK,CACrC,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU,CACnC,IAAIc,EAAQrE,EAAK,YAAW,EAAK,GACjC,OAAI8C,IAAU,KACLS,EAAS,cAAcc,EAAO,CACnC,KAAM,MACd,CAAO,EAEI5B,GAAgB4B,EAAOvB,EAAM,MAAM,CAC3C,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU,CACnC,IAAIc,EAAQrE,EAAK,cAEjB,OADIqE,IAAU,IAAGA,EAAQ,IACrBvB,IAAU,KACLS,EAAS,cAAcc,EAAO,CACnC,KAAM,MACd,CAAO,EAEI5B,GAAgB4B,EAAOvB,EAAM,MAAM,CAC3C,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU,CACnC,OAAIT,IAAU,KACLS,EAAS,cAAcvD,EAAK,cAAa,EAAI,CAClD,KAAM,QACd,CAAO,EAEIyD,GAAgB,EAAEzD,EAAM8C,CAAK,CACrC,EAED,EAAG,SAAW9C,EAAM8C,EAAOS,EAAU,CACnC,OAAIT,IAAU,KACLS,EAAS,cAAcvD,EAAK,cAAa,EAAI,CAClD,KAAM,QACd,CAAO,EAEIyD,GAAgB,EAAEzD,EAAM8C,CAAK,CACrC,EAED,EAAG,SAAW9C,EAAM8C,EAAO,CACzB,OAAOW,GAAgB,EAAEzD,EAAM8C,CAAK,CACrC,EAED,EAAG,SAAW9C,EAAM8C,EAAOwB,EAAW9C,EAAS,CAC7C,IAAI+C,EAAe/C,EAAQ,eAAiBxB,EACxCwE,EAAiBD,EAAa,oBAClC,GAAIC,IAAmB,EACrB,MAAO,IAET,OAAQ1B,EAAK,CAEX,IAAK,IACH,OAAO2B,GAAkCD,CAAc,EAKzD,IAAK,OACL,IAAK,KAEH,OAAOE,GAAeF,CAAc,EAKtC,IAAK,QACL,IAAK,MACL,QACE,OAAOE,GAAeF,EAAgB,GAAG,CAC5C,CACF,EAED,EAAG,SAAWxE,EAAM8C,EAAOwB,EAAW9C,EAAS,CAC7C,IAAI+C,EAAe/C,EAAQ,eAAiBxB,EACxCwE,EAAiBD,EAAa,oBAClC,OAAQzB,EAAK,CAEX,IAAK,IACH,OAAO2B,GAAkCD,CAAc,EAKzD,IAAK,OACL,IAAK,KAEH,OAAOE,GAAeF,CAAc,EAKtC,IAAK,QACL,IAAK,MACL,QACE,OAAOE,GAAeF,EAAgB,GAAG,CAC5C,CACF,EAED,EAAG,SAAWxE,EAAM8C,EAAOwB,EAAW9C,EAAS,CAC7C,IAAI+C,EAAe/C,EAAQ,eAAiBxB,EACxCwE,EAAiBD,EAAa,oBAClC,OAAQzB,EAAK,CAEX,IAAK,IACL,IAAK,KACL,IAAK,MACH,MAAO,MAAQ6B,GAAoBH,EAAgB,GAAG,EAExD,IAAK,OACL,QACE,MAAO,MAAQE,GAAeF,EAAgB,GAAG,CACpD,CACF,EAED,EAAG,SAAWxE,EAAM8C,EAAOwB,EAAW9C,EAAS,CAC7C,IAAI+C,EAAe/C,EAAQ,eAAiBxB,EACxCwE,EAAiBD,EAAa,oBAClC,OAAQzB,EAAK,CAEX,IAAK,IACL,IAAK,KACL,IAAK,MACH,MAAO,MAAQ6B,GAAoBH,EAAgB,GAAG,EAExD,IAAK,OACL,QACE,MAAO,MAAQE,GAAeF,EAAgB,GAAG,CACpD,CACF,EAED,EAAG,SAAWxE,EAAM8C,EAAOwB,EAAW9C,EAAS,CAC7C,IAAI+C,EAAe/C,EAAQ,eAAiBxB,EACxCL,EAAY,KAAK,MAAM4E,EAAa,QAAO,EAAK,GAAI,EACxD,OAAO9B,GAAgB9C,EAAWmD,EAAM,MAAM,CAC/C,EAED,EAAG,SAAW9C,EAAM8C,EAAOwB,EAAW9C,EAAS,CAC7C,IAAI+C,EAAe/C,EAAQ,eAAiBxB,EACxCL,EAAY4E,EAAa,UAC7B,OAAO9B,GAAgB9C,EAAWmD,EAAM,MAAM,CAC/C,CACH,EACA,SAAS6B,GAAoBC,EAAQC,EAAgB,CACnD,IAAIlC,EAAOiC,EAAS,EAAI,IAAM,IAC1BE,EAAY,KAAK,IAAIF,CAAM,EAC3BP,EAAQ,KAAK,MAAMS,EAAY,EAAE,EACjCC,EAAUD,EAAY,GAC1B,GAAIC,IAAY,EACd,OAAOpC,EAAO,OAAO0B,CAAK,EAE5B,IAAIW,EAAYH,GAAkB,GAClC,OAAOlC,EAAO,OAAO0B,CAAK,EAAIW,EAAYvC,GAAgBsC,EAAS,CAAC,CACtE,CACA,SAASN,GAAkCG,EAAQC,EAAgB,CACjE,GAAID,EAAS,KAAO,EAAG,CACrB,IAAIjC,EAAOiC,EAAS,EAAI,IAAM,IAC9B,OAAOjC,EAAOF,GAAgB,KAAK,IAAImC,CAAM,EAAI,GAAI,CAAC,CACvD,CACD,OAAOF,GAAeE,EAAQC,CAAc,CAC9C,CACA,SAASH,GAAeE,EAAQC,EAAgB,CAC9C,IAAIG,EAAYH,GAAkB,GAC9BlC,EAAOiC,EAAS,EAAI,IAAM,IAC1BE,EAAY,KAAK,IAAIF,CAAM,EAC3BP,EAAQ5B,GAAgB,KAAK,MAAMqC,EAAY,EAAE,EAAG,CAAC,EACrDC,EAAUtC,GAAgBqC,EAAY,GAAI,CAAC,EAC/C,OAAOnC,EAAO0B,EAAQW,EAAYD,CACpC,CACA,MAAAE,GAAepC,GCnwBf,IAAIqC,GAAoB,SAA2BC,EAASC,EAAY,CACtE,OAAQD,EAAO,CACb,IAAK,IACH,OAAOC,EAAW,KAAK,CACrB,MAAO,OACf,CAAO,EACH,IAAK,KACH,OAAOA,EAAW,KAAK,CACrB,MAAO,QACf,CAAO,EACH,IAAK,MACH,OAAOA,EAAW,KAAK,CACrB,MAAO,MACf,CAAO,EACH,IAAK,OACL,QACE,OAAOA,EAAW,KAAK,CACrB,MAAO,MACf,CAAO,CACJ,CACH,EACIC,GAAoB,SAA2BF,EAASC,EAAY,CACtE,OAAQD,EAAO,CACb,IAAK,IACH,OAAOC,EAAW,KAAK,CACrB,MAAO,OACf,CAAO,EACH,IAAK,KACH,OAAOA,EAAW,KAAK,CACrB,MAAO,QACf,CAAO,EACH,IAAK,MACH,OAAOA,EAAW,KAAK,CACrB,MAAO,MACf,CAAO,EACH,IAAK,OACL,QACE,OAAOA,EAAW,KAAK,CACrB,MAAO,MACf,CAAO,CACJ,CACH,EACIE,GAAwB,SAA+BH,EAASC,EAAY,CAC9E,IAAIG,EAAcJ,EAAQ,MAAM,WAAW,GAAK,CAAA,EAC5CK,EAAcD,EAAY,CAAC,EAC3BE,EAAcF,EAAY,CAAC,EAC/B,GAAI,CAACE,EACH,OAAOP,GAAkBC,EAASC,CAAU,EAE9C,IAAIM,EACJ,OAAQF,EAAW,CACjB,IAAK,IACHE,EAAiBN,EAAW,SAAS,CACnC,MAAO,OACf,CAAO,EACD,MACF,IAAK,KACHM,EAAiBN,EAAW,SAAS,CACnC,MAAO,QACf,CAAO,EACD,MACF,IAAK,MACHM,EAAiBN,EAAW,SAAS,CACnC,MAAO,MACf,CAAO,EACD,MACF,IAAK,OACL,QACEM,EAAiBN,EAAW,SAAS,CACnC,MAAO,MACf,CAAO,EACD,KACH,CACD,OAAOM,EAAe,QAAQ,WAAYR,GAAkBM,EAAaJ,CAAU,CAAC,EAAE,QAAQ,WAAYC,GAAkBI,EAAaL,CAAU,CAAC,CACtJ,EACIO,GAAiB,CACnB,EAAGN,GACH,EAAGC,EACL,EACA,MAAAM,GAAeD,GC/Ef,IAAIE,GAA2B,CAAC,IAAK,IAAI,EACrCC,GAA0B,CAAC,KAAM,MAAM,EACpC,SAASC,GAA0BjD,EAAO,CAC/C,OAAO+C,GAAyB,QAAQ/C,CAAK,IAAM,EACrD,CACO,SAASkD,GAAyBlD,EAAO,CAC9C,OAAOgD,GAAwB,QAAQhD,CAAK,IAAM,EACpD,CACO,SAASmD,GAAoBnD,EAAOoD,EAAQC,EAAO,CACxD,GAAIrD,IAAU,OACZ,MAAM,IAAI,WAAW,qCAAqC,OAAOoD,EAAQ,wCAAwC,EAAE,OAAOC,EAAO,gFAAgF,CAAC,EAC7M,GAAIrD,IAAU,KACnB,MAAM,IAAI,WAAW,iCAAiC,OAAOoD,EAAQ,wCAAwC,EAAE,OAAOC,EAAO,gFAAgF,CAAC,EACzM,GAAIrD,IAAU,IACnB,MAAM,IAAI,WAAW,+BAA+B,OAAOoD,EAAQ,oDAAoD,EAAE,OAAOC,EAAO,gFAAgF,CAAC,EACnN,GAAIrD,IAAU,KACnB,MAAM,IAAI,WAAW,iCAAiC,OAAOoD,EAAQ,oDAAoD,EAAE,OAAOC,EAAO,gFAAgF,CAAC,CAE9N,CClBA,IAAIC,GAAuB,CACzB,iBAAkB,CAChB,IAAK,qBACL,MAAO,6BACR,EACD,SAAU,CACR,IAAK,WACL,MAAO,mBACR,EACD,YAAa,gBACb,iBAAkB,CAChB,IAAK,qBACL,MAAO,6BACR,EACD,SAAU,CACR,IAAK,WACL,MAAO,mBACR,EACD,YAAa,CACX,IAAK,eACL,MAAO,uBACR,EACD,OAAQ,CACN,IAAK,SACL,MAAO,iBACR,EACD,MAAO,CACL,IAAK,QACL,MAAO,gBACR,EACD,YAAa,CACX,IAAK,eACL,MAAO,uBACR,EACD,OAAQ,CACN,IAAK,SACL,MAAO,iBACR,EACD,aAAc,CACZ,IAAK,gBACL,MAAO,wBACR,EACD,QAAS,CACP,IAAK,UACL,MAAO,kBACR,EACD,YAAa,CACX,IAAK,eACL,MAAO,uBACR,EACD,OAAQ,CACN,IAAK,SACL,MAAO,iBACR,EACD,WAAY,CACV,IAAK,cACL,MAAO,sBACR,EACD,aAAc,CACZ,IAAK,gBACL,MAAO,wBACR,CACH,EACIC,GAAiB,SAAwBvD,EAAOwD,EAAO9E,EAAS,CAClE,IAAI5C,EACA2H,EAAaH,GAAqBtD,CAAK,EAQ3C,OAPI,OAAOyD,GAAe,SACxB3H,EAAS2H,EACAD,IAAU,EACnB1H,EAAS2H,EAAW,IAEpB3H,EAAS2H,EAAW,MAAM,QAAQ,YAAaD,EAAM,SAAQ,CAAE,EAE7D9E,GAAY,MAA8BA,EAAQ,UAChDA,EAAQ,YAAcA,EAAQ,WAAa,EACtC,MAAQ5C,EAERA,EAAS,OAGbA,CACT,EACA,MAAA4H,GAAeH,GClFA,SAASI,GAAkBhI,EAAM,CAC9C,OAAO,UAAY,CACjB,IAAI+C,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAA,EAE9EkF,EAAQlF,EAAQ,MAAQ,OAAOA,EAAQ,KAAK,EAAI/C,EAAK,aACrDyH,EAASzH,EAAK,QAAQiI,CAAK,GAAKjI,EAAK,QAAQA,EAAK,YAAY,EAClE,OAAOyH,CACX,CACA,CCPA,IAAIS,GAAc,CAChB,KAAM,mBACN,KAAM,aACN,OAAQ,WACR,MAAO,YACT,EACIC,GAAc,CAChB,KAAM,iBACN,KAAM,cACN,OAAQ,YACR,MAAO,QACT,EACIC,GAAkB,CACpB,KAAM,yBACN,KAAM,yBACN,OAAQ,qBACR,MAAO,oBACT,EACIzB,GAAa,CACf,KAAMqB,GAAkB,CACtB,QAASE,GACT,aAAc,MAClB,CAAG,EACD,KAAMF,GAAkB,CACtB,QAASG,GACT,aAAc,MAClB,CAAG,EACD,SAAUH,GAAkB,CAC1B,QAASI,GACT,aAAc,MAClB,CAAG,CACH,EACA,MAAAC,GAAe1B,GCjCf,IAAI2B,GAAuB,CACzB,SAAU,qBACV,UAAW,mBACX,MAAO,eACP,SAAU,kBACV,SAAU,cACV,MAAO,GACT,EACIC,GAAiB,SAAwBlE,EAAOmE,EAAOC,EAAWC,EAAU,CAC9E,OAAOJ,GAAqBjE,CAAK,CACnC,EACA,MAAAsE,GAAeJ,GCXA,SAASK,GAAgB5I,EAAM,CAC5C,OAAO,SAAU6I,EAAY9F,EAAS,CACpC,IAAI+F,EAAU/F,GAAY,MAA8BA,EAAQ,QAAU,OAAOA,EAAQ,OAAO,EAAI,aAChGgG,EACJ,GAAID,IAAY,cAAgB9I,EAAK,iBAAkB,CACrD,IAAIgJ,EAAehJ,EAAK,wBAA0BA,EAAK,aACnDiI,EAAQlF,GAAY,MAA8BA,EAAQ,MAAQ,OAAOA,EAAQ,KAAK,EAAIiG,EAC9FD,EAAc/I,EAAK,iBAAiBiI,CAAK,GAAKjI,EAAK,iBAAiBgJ,CAAY,CACtF,KAAW,CACL,IAAIC,EAAgBjJ,EAAK,aACrBkJ,EAASnG,GAAY,MAA8BA,EAAQ,MAAQ,OAAOA,EAAQ,KAAK,EAAI/C,EAAK,aACpG+I,EAAc/I,EAAK,OAAOkJ,CAAM,GAAKlJ,EAAK,OAAOiJ,CAAa,CAC/D,CACD,IAAIE,EAAQnJ,EAAK,iBAAmBA,EAAK,iBAAiB6I,CAAU,EAAIA,EAExE,OAAOE,EAAYI,CAAK,CAC5B,CACA,CChBA,IAAIC,GAAY,CACd,OAAQ,CAAC,IAAK,GAAG,EACjB,YAAa,CAAC,KAAM,IAAI,EACxB,KAAM,CAAC,gBAAiB,aAAa,CACvC,EACIC,GAAgB,CAClB,OAAQ,CAAC,IAAK,IAAK,IAAK,GAAG,EAC3B,YAAa,CAAC,KAAM,KAAM,KAAM,IAAI,EACpC,KAAM,CAAC,cAAe,cAAe,cAAe,aAAa,CACnE,EAMIC,GAAc,CAChB,OAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAG,EACnE,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,EAChG,KAAM,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,UAAU,CACjI,EACIC,GAAY,CACd,OAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAG,EAC1C,MAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EAChD,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,EAC7D,KAAM,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,UAAU,CACrF,EACIC,GAAkB,CACpB,OAAQ,CACN,GAAI,IACJ,GAAI,IACJ,SAAU,KACV,KAAM,IACN,QAAS,UACT,UAAW,YACX,QAAS,UACT,MAAO,OACR,EACD,YAAa,CACX,GAAI,KACJ,GAAI,KACJ,SAAU,WACV,KAAM,OACN,QAAS,UACT,UAAW,YACX,QAAS,UACT,MAAO,OACR,EACD,KAAM,CACJ,GAAI,OACJ,GAAI,OACJ,SAAU,WACV,KAAM,OACN,QAAS,UACT,UAAW,YACX,QAAS,UACT,MAAO,OACR,CACH,EACIC,GAA4B,CAC9B,OAAQ,CACN,GAAI,IACJ,GAAI,IACJ,SAAU,KACV,KAAM,IACN,QAAS,iBACT,UAAW,mBACX,QAAS,iBACT,MAAO,UACR,EACD,YAAa,CACX,GAAI,KACJ,GAAI,KACJ,SAAU,WACV,KAAM,OACN,QAAS,iBACT,UAAW,mBACX,QAAS,iBACT,MAAO,UACR,EACD,KAAM,CACJ,GAAI,OACJ,GAAI,OACJ,SAAU,WACV,KAAM,OACN,QAAS,iBACT,UAAW,mBACX,QAAS,iBACT,MAAO,UACR,CACH,EACIC,GAAgB,SAAuBlJ,EAAakI,EAAU,CAChE,IAAIjI,EAAS,OAAOD,CAAW,EAS3BmJ,EAASlJ,EAAS,IACtB,GAAIkJ,EAAS,IAAMA,EAAS,GAC1B,OAAQA,EAAS,GAAE,CACjB,IAAK,GACH,OAAOlJ,EAAS,KAClB,IAAK,GACH,OAAOA,EAAS,KAClB,IAAK,GACH,OAAOA,EAAS,IACnB,CAEH,OAAOA,EAAS,IAClB,EACIqE,GAAW,CACb,cAAe4E,GACf,IAAKd,GAAgB,CACnB,OAAQQ,GACR,aAAc,MAClB,CAAG,EACD,QAASR,GAAgB,CACvB,OAAQS,GACR,aAAc,OACd,iBAAkB,SAA0BhE,EAAS,CACnD,OAAOA,EAAU,CAClB,CACL,CAAG,EACD,MAAOuD,GAAgB,CACrB,OAAQU,GACR,aAAc,MAClB,CAAG,EACD,IAAKV,GAAgB,CACnB,OAAQW,GACR,aAAc,MAClB,CAAG,EACD,UAAWX,GAAgB,CACzB,OAAQY,GACR,aAAc,OACd,iBAAkBC,GAClB,uBAAwB,MAC5B,CAAG,CACH,EACA,MAAAG,GAAe9E,GC9IA,SAAS+E,GAAa7J,EAAM,CACzC,OAAO,SAAU8J,EAAQ,CACvB,IAAI/G,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAA,EAC9EkF,EAAQlF,EAAQ,MAChBgH,EAAe9B,GAASjI,EAAK,cAAciI,CAAK,GAAKjI,EAAK,cAAcA,EAAK,iBAAiB,EAC9F8G,EAAcgD,EAAO,MAAMC,CAAY,EAC3C,GAAI,CAACjD,EACH,OAAO,KAET,IAAIkD,EAAgBlD,EAAY,CAAC,EAC7BmD,EAAgBhC,GAASjI,EAAK,cAAciI,CAAK,GAAKjI,EAAK,cAAcA,EAAK,iBAAiB,EAC/FvB,EAAM,MAAM,QAAQwL,CAAa,EAAIC,GAAUD,EAAe,SAAUvD,EAAS,CACnF,OAAOA,EAAQ,KAAKsD,CAAa,CAClC,CAAA,EAAIG,GAAQF,EAAe,SAAUvD,EAAS,CAC7C,OAAOA,EAAQ,KAAKsD,CAAa,CACvC,CAAK,EACGpL,EACJA,EAAQoB,EAAK,cAAgBA,EAAK,cAAcvB,CAAG,EAAIA,EACvDG,EAAQmE,EAAQ,cAAgBA,EAAQ,cAAcnE,CAAK,EAAIA,EAC/D,IAAIwL,EAAON,EAAO,MAAME,EAAc,MAAM,EAC5C,MAAO,CACL,MAAOpL,EACP,KAAMwL,CACZ,CACA,CACA,CACA,SAASD,GAAQE,EAAQC,EAAW,CAClC,QAAS7L,KAAO4L,EACd,GAAIA,EAAO,eAAe5L,CAAG,GAAK6L,EAAUD,EAAO5L,CAAG,CAAC,EACrD,OAAOA,CAIb,CACA,SAASyL,GAAUK,EAAOD,EAAW,CACnC,QAAS7L,EAAM,EAAGA,EAAM8L,EAAM,OAAQ9L,IACpC,GAAI6L,EAAUC,EAAM9L,CAAG,CAAC,EACtB,OAAOA,CAIb,CCzCe,SAAS+L,GAAoBxK,EAAM,CAChD,OAAO,SAAU8J,EAAQ,CACvB,IAAI/G,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAA,EAC9E+D,EAAcgD,EAAO,MAAM9J,EAAK,YAAY,EAChD,GAAI,CAAC8G,EAAa,OAAO,KACzB,IAAIkD,EAAgBlD,EAAY,CAAC,EAC7B2D,EAAcX,EAAO,MAAM9J,EAAK,YAAY,EAChD,GAAI,CAACyK,EAAa,OAAO,KACzB,IAAI7L,EAAQoB,EAAK,cAAgBA,EAAK,cAAcyK,EAAY,CAAC,CAAC,EAAIA,EAAY,CAAC,EACnF7L,EAAQmE,EAAQ,cAAgBA,EAAQ,cAAcnE,CAAK,EAAIA,EAC/D,IAAIwL,EAAON,EAAO,MAAME,EAAc,MAAM,EAC5C,MAAO,CACL,MAAOpL,EACP,KAAMwL,CACZ,CACA,CACA,CCdA,IAAIM,GAA4B,wBAC5BC,GAA4B,OAC5BC,GAAmB,CACrB,OAAQ,UACR,YAAa,6DACb,KAAM,4DACR,EACIC,GAAmB,CACrB,IAAK,CAAC,MAAO,SAAS,CACxB,EACIC,GAAuB,CACzB,OAAQ,WACR,YAAa,YACb,KAAM,gCACR,EACIC,GAAuB,CACzB,IAAK,CAAC,KAAM,KAAM,KAAM,IAAI,CAC9B,EACIC,GAAqB,CACvB,OAAQ,eACR,YAAa,sDACb,KAAM,2FACR,EACIC,GAAqB,CACvB,OAAQ,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,EAC3F,IAAK,CAAC,OAAQ,MAAO,QAAS,OAAQ,QAAS,QAAS,QAAS,OAAQ,MAAO,MAAO,MAAO,KAAK,CACrG,EACIC,GAAmB,CACrB,OAAQ,YACR,MAAO,2BACP,YAAa,kCACb,KAAM,8DACR,EACIC,GAAmB,CACrB,OAAQ,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,EACxD,IAAK,CAAC,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,MAAM,CAC3D,EACIC,GAAyB,CAC3B,OAAQ,6DACR,IAAK,gFACP,EACIC,GAAyB,CAC3B,IAAK,CACH,GAAI,MACJ,GAAI,MACJ,SAAU,OACV,KAAM,OACN,QAAS,WACT,UAAW,aACX,QAAS,WACT,MAAO,QACR,CACH,EACIC,GAAQ,CACV,cAAed,GAAoB,CACjC,aAAcE,GACd,aAAcC,GACd,cAAe,SAAuB/L,EAAO,CAC3C,OAAO,SAASA,EAAO,EAAE,CAC1B,CACL,CAAG,EACD,IAAKiL,GAAa,CAChB,cAAee,GACf,kBAAmB,OACnB,cAAeC,GACf,kBAAmB,KACvB,CAAG,EACD,QAAShB,GAAa,CACpB,cAAeiB,GACf,kBAAmB,OACnB,cAAeC,GACf,kBAAmB,MACnB,cAAe,SAAuB5B,EAAO,CAC3C,OAAOA,EAAQ,CAChB,CACL,CAAG,EACD,MAAOU,GAAa,CAClB,cAAemB,GACf,kBAAmB,OACnB,cAAeC,GACf,kBAAmB,KACvB,CAAG,EACD,IAAKpB,GAAa,CAChB,cAAeqB,GACf,kBAAmB,OACnB,cAAeC,GACf,kBAAmB,KACvB,CAAG,EACD,UAAWtB,GAAa,CACtB,cAAeuB,GACf,kBAAmB,MACnB,cAAeC,GACf,kBAAmB,KACvB,CAAG,CACH,EACA,MAAAE,GAAeD,GCnFf,IAAIE,GAAS,CACX,KAAM,QACN,eAAgB5D,GAChB,WAAYjB,GACZ,eAAgB4B,GAChB,SAAUzD,GACV,MAAOwG,GACP,QAAS,CACP,aAAc,EACd,sBAAuB,CACxB,CACH,EACA,MAAAG,GAAeD,GCLf,IAAIE,GAAyB,wDAIzBC,GAA6B,oCAC7BC,GAAsB,eACtBC,GAAoB,MACpBC,GAAgC,WAsSrB,SAASrE,GAAOzG,EAAW+K,EAAgBhJ,EAAS,CACjE,IAAIC,EAAMI,EAAiBH,EAAOC,EAAO8I,EAAOvI,EAAuBwI,EAAkBC,EAAuB5I,EAAuBC,EAAwB4I,EAAOC,EAAOC,EAAOlJ,EAAuBmJ,EAAkBC,EAAuBC,EAAwBC,EAC5Q/L,GAAa,EAAG,SAAS,EACzB,IAAIgM,EAAY,OAAOX,CAAc,EACjC3K,EAAiBC,KACjBmK,GAAUxI,GAAQI,EAAkBL,GAAY,KAA6B,OAASA,EAAQ,UAAY,MAAQK,IAAoB,OAASA,EAAkBhC,EAAe,UAAY,MAAQ4B,IAAS,OAASA,EAAOyI,GAC7N/H,EAAwBnD,IAAW0C,GAASC,GAAS8I,GAASvI,EAAwBV,GAAY,KAA6B,OAASA,EAAQ,yBAA2B,MAAQU,IAA0B,OAASA,EAAwBV,GAAY,OAAuCkJ,EAAmBlJ,EAAQ,UAAY,MAAQkJ,IAAqB,SAAmBC,EAAwBD,EAAiB,WAAa,MAAQC,IAA0B,OAAzL,OAA2MA,EAAsB,yBAA2B,MAAQF,IAAU,OAASA,EAAQ5K,EAAe,yBAA2B,MAAQ8B,IAAU,OAASA,GAASI,EAAwBlC,EAAe,UAAY,MAAQkC,IAA0B,SAAmBC,EAAyBD,EAAsB,WAAa,MAAQC,IAA2B,OAAzG,OAA2HA,EAAuB,yBAA2B,MAAQN,IAAU,OAASA,EAAQ,CAAC,EAGv7B,GAAI,EAAES,GAAyB,GAAKA,GAAyB,GAC3D,MAAM,IAAI,WAAW,2DAA2D,EAElF,IAAIzB,EAAe1B,IAAW4L,GAASC,GAASC,GAASlJ,EAAwBJ,GAAY,KAA6B,OAASA,EAAQ,gBAAkB,MAAQI,IAA0B,OAASA,EAAwBJ,GAAY,OAAuCuJ,EAAmBvJ,EAAQ,UAAY,MAAQuJ,IAAqB,SAAmBC,EAAwBD,EAAiB,WAAa,MAAQC,IAA0B,OAAzL,OAA2MA,EAAsB,gBAAkB,MAAQF,IAAU,OAASA,EAAQjL,EAAe,gBAAkB,MAAQgL,IAAU,OAASA,GAASI,EAAyBpL,EAAe,UAAY,MAAQoL,IAA2B,SAAmBC,EAAyBD,EAAuB,WAAa,MAAQC,IAA2B,OAA1G,OAA4HA,EAAuB,gBAAkB,MAAQN,IAAU,OAASA,EAAQ,CAAC,EAG74B,GAAI,EAAElK,GAAgB,GAAKA,GAAgB,GACzC,MAAM,IAAI,WAAW,kDAAkD,EAEzE,GAAI,CAACuJ,EAAO,SACV,MAAM,IAAI,WAAW,uCAAuC,EAE9D,GAAI,CAACA,EAAO,WACV,MAAM,IAAI,WAAW,yCAAyC,EAEhE,IAAI1F,EAAelF,GAAOI,CAAS,EACnC,GAAI,CAACU,GAAQoE,CAAY,EACvB,MAAM,IAAI,WAAW,oBAAoB,EAM3C,IAAIC,EAAiBzE,GAAgCwE,CAAY,EAC7DtE,EAAUG,GAAgBmE,EAAcC,CAAc,EACtD4G,EAAmB,CACrB,sBAAuBjJ,EACvB,aAAczB,EACd,OAAQuJ,EACR,cAAe1F,CACnB,EACM3F,EAASuM,EAAU,MAAMf,EAA0B,EAAE,IAAI,SAAUiB,EAAW,CAChF,IAAIC,EAAiBD,EAAU,CAAC,EAChC,GAAIC,IAAmB,KAAOA,IAAmB,IAAK,CACpD,IAAIC,EAAgB5F,GAAe2F,CAAc,EACjD,OAAOC,EAAcF,EAAWpB,EAAO,UAAU,CAClD,CACD,OAAOoB,CACX,CAAG,EAAE,KAAK,EAAE,EAAE,MAAMlB,EAAsB,EAAE,IAAI,SAAUkB,EAAW,CAEjE,GAAIA,IAAc,KAChB,MAAO,IAET,IAAIC,EAAiBD,EAAU,CAAC,EAChC,GAAIC,IAAmB,IACrB,OAAOE,GAAmBH,CAAS,EAErC,IAAII,EAAY5I,GAAWyI,CAAc,EACzC,GAAIG,EACF,MAAI,EAAEjK,GAAY,MAA8BA,EAAQ,8BAAgCwE,GAAyBqF,CAAS,GACxHpF,GAAoBoF,EAAWb,EAAgB,OAAO/K,CAAS,CAAC,EAE9D,EAAE+B,GAAY,MAA8BA,EAAQ,+BAAiCuE,GAA0BsF,CAAS,GAC1HpF,GAAoBoF,EAAWb,EAAgB,OAAO/K,CAAS,CAAC,EAE3DgM,EAAUxL,EAASoL,EAAWpB,EAAO,SAAUmB,CAAgB,EAExE,GAAIE,EAAe,MAAMf,EAA6B,EACpD,MAAM,IAAI,WAAW,iEAAmEe,EAAiB,GAAG,EAE9G,OAAOD,CACX,CAAG,EAAE,KAAK,EAAE,EACV,OAAOzM,CACT,CACA,SAAS4M,GAAmBrF,EAAO,CACjC,IAAIuF,EAAUvF,EAAM,MAAMkE,EAAmB,EAC7C,OAAKqB,EAGEA,EAAQ,CAAC,EAAE,QAAQpB,GAAmB,GAAG,EAFvCnE,CAGX,CCjZkC,SAASwF,IAAG,CAAC,OAAOC,GAAE,IAAI,KAAK,MAAM,CAAC,CAAC,SAASC,IAAG,CAAC,IAAI,EAAE,wBAAwB,EAAE,CAAC,GAAG,OAAO,UAAU,IAAI,UAAU,UAAU,CAAA,EAAG,KAAK,iBAAiB,gBAAiB,EAAC,MAAM,EAAE,IAAIC,GAAG,CAAC,IAAIC,EAAE,OAAOA,EAAED,EAAE,MAAM,CAAC,IAAI,KAAK,OAAOC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAKD,GAAG,CAAC,CAACA,CAAC,EAAE,OAAO,GAAG,KAAK,OAAO,EAAE,YAAa,CAAA,CAAC,IAAIE,GAAE,GAAGjN,GAAE,uCAAuCkN,GAAElN,GAAE,OAAO,SAASmN,IAAG,CAAC,IAAI,EAAE,GAAG,QAAQ,EAAE,EAAE,EAAEF,GAAE,IAAI,GAAGjN,GAAE,OAAO,KAAK,MAAM,KAAK,SAASkN,EAAC,CAAC,EAAE,OAAO,CAAC,CAAC,SAASE,GAAE,EAAE,EAAE,CAAC,GAAG,OAAO,GAAG,WAAW,EAAE5O,GAAE,EAAE,KAAI,CAAE,GAAG,CAAC,EAAE,OAAO,IAAIuO,GAAG,GAAG,KAAK,OAAO,EAAE,wBAAwB,GAAGC,EAAE,EAAE,SAAS,OAAOD,IAAIC,EAAEA,EAAE,QAAQ,oNAAoN,EAAE,EAAE,QAAQ,eAAe,SAAS,EAAE,QAAQ,iBAAiB,WAAW,EAAE,QAAQ,qBAAqB,eAAe,EAAE,QAAQ,qBAAqB,eAAe,EAAE,QAAQ,oBAAoB,cAAc,EAAE,QAAQ,kBAAkB,YAAY,EAAE,QAAQ,sBAAsB,gBAAgB,GAAG,CAAC,SAASA,EAAE,KAAKK,GAAE,EAAE,QAAQ,CAAC,CAAC,CAAC,SAAS7O,GAAE,EAAE,CAAC,GAAG,CAAC,EAAE,OAAO,IAAI,EAAEuO,GAAG,CAAC,IAAIC,EAAE,IAAI,IAAID,CAAC,EAAE,GAAG,CAAC,WAAW,KAAKC,EAAE,QAAQ,EAAE,MAAM,MAAM,qCAAqC,EAAE,GAAG,CAACA,EAAE,SAAS,MAAM,MAAM,0BAA0B,EAAE,GAAGA,EAAE,SAAS,YAAY,GAAG,GAAGA,EAAE,SAAS,OAAO,EAAE,MAAM,MAAM,gCAAgC,EAAE,OAAOA,CAAC,EAAE,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,MAAM,CAAA,CAAE,GAAG,CAAC,EAAE,SAAS,KAAK,EAAE,GAAG,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC,MAAM,CAAA,CAAE,CAAC,SAASK,GAAE,EAAE,CAAC,OAAO,EAAE,SAAS,GAAG,EAAE,EAAE,UAAU,EAAE,KAAK,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,qCCUzlD,SAAUC,EAAQC,EAAW,CAS1B,IAAIC,EAAc,SACdC,EAAc,GACdC,EAAc,IACdC,EAAc,WACdC,EAAc,YACdC,EAAc,SACdC,EAAc,SACdC,EAAc,QACdC,EAAc,QACdC,EAAc,OACdC,EAAc,OACdC,EAAc,SACdC,EAAc,UACdC,EAAc,eACdC,EAAc,UACdC,EAAc,SACdC,EAAc,SACdC,EAAc,UACdC,EAAc,WACdC,EAAc,WACdC,EAAgB,IAEhBC,EAAU,SACVC,EAAU,QACVC,EAAU,OACVC,EAAa,aACbC,EAAU,UACVC,EAAU,SACVC,EAAU,OACVC,EAAU,UACVC,EAAU,SACVC,GAAU,SACVC,EAAU,KACVC,GAAY,YACZC,GAAY,WACZC,GAAU,QACVC,GAAU,UACVC,GAAU,QACVC,GAAU,OACVC,GAAU,SACVC,GAAU,QACVC,GAAc,WACdC,GAAc,cACdC,GAAU,SAMVC,GAAS,SAAUC,EAASC,GAAY,CACpC,IAAIC,EAAgB,CAAA,EACpB,QAASrD,MAAKmD,EACNC,GAAWpD,EAAC,GAAKoD,GAAWpD,EAAC,EAAE,OAAS,IAAM,EAC9CqD,EAAcrD,EAAC,EAAIoD,GAAWpD,EAAC,EAAE,OAAOmD,EAAQnD,EAAC,CAAC,EAElDqD,EAAcrD,EAAC,EAAImD,EAAQnD,EAAC,EAGpC,OAAOqD,CACV,EACDC,GAAY,SAAUC,EAAK,CAEvB,QADIC,GAAQ,CAAA,EACHxD,EAAE,EAAGA,EAAEuD,EAAI,OAAQvD,IACxBwD,GAAMD,EAAIvD,CAAC,EAAE,YAAW,CAAE,EAAIuD,EAAIvD,CAAC,EAEvC,OAAOwD,EACV,EACDC,GAAM,SAAUC,EAAMC,GAAM,CACxB,OAAO,OAAOD,IAAS7C,EAAW+C,GAASD,EAAI,EAAE,QAAQC,GAASF,CAAI,CAAC,IAAM,GAAK,EACrF,EACDE,GAAW,SAAU7S,EAAK,CACtB,OAAOA,EAAI,aACd,EACD8S,GAAW,SAAUC,EAAS,CAC1B,OAAO,OAAOA,IAAajD,EAAWiD,EAAQ,QAAQ,WAAYtD,CAAK,EAAE,MAAM,GAAG,EAAE,CAAC,EAAIF,CAC5F,EACDyD,GAAO,SAAUhT,EAAKJ,GAAK,CACvB,GAAI,OAAOI,IAAS8P,EAChB,OAAA9P,EAAMA,EAAI,QAAQ,SAAUyP,CAAK,EAC1B,OAAO7P,KAASgQ,EAAa5P,EAAMA,EAAI,UAAU,EAAG4Q,CAAa,CAExF,EAMQqC,GAAY,SAAUC,EAAIC,GAAQ,CAK9B,QAHIlE,EAAI,EAAGmE,GAAGC,GAAGjE,GAAGkE,GAAGC,EAASvG,GAGzBiC,EAAIkE,GAAO,QAAU,CAACI,GAAS,CAElC,IAAIC,GAAQL,GAAOlE,CAAC,EAChBwE,GAAQN,GAAOlE,EAAI,CAAC,EAIxB,IAHAmE,GAAIC,GAAI,EAGDD,GAAII,GAAM,QAAU,CAACD,GAEnBC,GAAMJ,EAAC,GAGZ,GAFAG,EAAUC,GAAMJ,IAAG,EAAE,KAAKF,CAAE,EAEtBK,EACF,IAAKnE,GAAI,EAAGA,GAAIqE,GAAM,OAAQrE,KAC1BpC,GAAQuG,EAAQ,EAAEF,EAAC,EACnBC,GAAIG,GAAMrE,EAAC,EAEP,OAAOkE,KAAMzD,GAAYyD,GAAE,OAAS,EAChCA,GAAE,SAAW,EACT,OAAOA,GAAE,CAAC,GAAK3D,EAEf,KAAK2D,GAAE,CAAC,CAAC,EAAIA,GAAE,CAAC,EAAE,KAAK,KAAMtG,EAAK,EAGlC,KAAKsG,GAAE,CAAC,CAAC,EAAIA,GAAE,CAAC,EAEbA,GAAE,SAAW,EAEhB,OAAOA,GAAE,CAAC,IAAM3D,GAAa,EAAE2D,GAAE,CAAC,EAAE,MAAQA,GAAE,CAAC,EAAE,MAEjD,KAAKA,GAAE,CAAC,CAAC,EAAItG,GAAQsG,GAAE,CAAC,EAAE,KAAK,KAAMtG,GAAOsG,GAAE,CAAC,CAAC,EAAI/D,EAGpD,KAAK+D,GAAE,CAAC,CAAC,EAAItG,GAAQA,GAAM,QAAQsG,GAAE,CAAC,EAAGA,GAAE,CAAC,CAAC,EAAI/D,EAE9C+D,GAAE,SAAW,IAChB,KAAKA,GAAE,CAAC,CAAC,EAAItG,GAAQsG,GAAE,CAAC,EAAE,KAAK,KAAMtG,GAAM,QAAQsG,GAAE,CAAC,EAAGA,GAAE,CAAC,CAAC,CAAC,EAAI/D,GAG1E,KAAK+D,EAAC,EAAItG,IAAgBuC,EAK1CN,GAAK,CACR,CACJ,EAEDyE,GAAY,SAAU1T,EAAK2T,GAAK,CAE5B,QAAS1E,KAAK0E,GAEV,GAAI,OAAOA,GAAI1E,CAAC,IAAMY,GAAY8D,GAAI1E,CAAC,EAAE,OAAS,GAC9C,QAASmE,GAAI,EAAGA,GAAIO,GAAI1E,CAAC,EAAE,OAAQmE,KAC/B,GAAIV,GAAIiB,GAAI1E,CAAC,EAAEmE,EAAC,EAAGpT,CAAG,EAClB,OAAQiP,IAAMS,EAAWH,EAAYN,UAGtCyD,GAAIiB,GAAI1E,CAAC,EAAGjP,CAAG,EACtB,OAAQiP,IAAMS,EAAWH,EAAYN,EAG7C,OAAOjP,CACnB,EAOQ4T,GAAe,CACX,MAAU,KACV,MAAU,KACV,MAAU,KACV,MAAU,OACV,QAAU,OACV,QAAU,OACV,QAAU,OACV,IAAU,GACb,EACDC,GAAoB,CAChB,GAAc,OACd,UAAc,SACd,SAAc,QACd,IAAc,SACd,GAAc,CAAC,SAAU,QAAQ,EACjC,MAAc,SACd,EAAc,SACd,EAAc,SACd,MAAc,SACd,GAAc,CAAC,SAAU,SAAS,EAClC,GAAc,KAC1B,EAMQzB,GAAU,CAEV,QAAU,CAAC,CAEP,8BACC,EAAE,CAAChC,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAChC,6BACC,EAAE,CAACG,EAAS,CAACH,EAAM,MAAM,CAAC,EAAG,CAG9B,4BACA,mDACA,yCACZ,EAAe,CAACA,EAAMG,CAAO,EAAG,CACpB,uBACZ,EAAe,CAACA,EAAS,CAACH,EAAMyB,GAAM,OAAO,CAAC,EAAG,CACrC,mBACC,EAAE,CAACtB,EAAS,CAACH,EAAMyB,EAAK,CAAC,EAAG,CAG7B,wDACC,EAAE,CAACtB,EAAS,CAACH,EAAM,OAAO,CAAC,EAAG,CAC/B,uBACA,8DAEA,uDACA,2BAGA,+LAEA,kCACA,qBACZ,EAAe,CAACA,EAAMG,CAAO,EAAG,CACpB,mDACZ,EAAe,CAACA,EAAS,CAACH,EAAM,KAAKgB,CAAO,CAAC,EAAG,CACpC,+BACA,+BACA,4BACC,EAAE,CAACb,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAChC,uBACC,EAAE,CAACG,EAAS,CAACH,EAAM,WAAW,CAAC,EAAG,CACnC,6CACC,EAAE,CAACG,EAAS,CAACH,EAAM,IAAI,CAAC,EAAG,CAC5B,kCACC,EAAE,CAACG,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAChC,uBACZ,EAAe,CAACG,EAAS,CAACH,EAAM,gBAAgBgB,CAAO,CAAC,EAAG,CAC/C,yBACZ,EAAe,CAAC,CAAChB,EAAM,OAAQ,aAAagB,CAAO,EAAGb,CAAO,EAAG,CACpD,qBACZ,EAAe,CAACA,EAAS,CAACH,EAAMmB,EAAQ,QAAQ,CAAC,EAAG,CACxC,mBACZ,EAAe,CAAChB,EAAS,CAACH,EAAMyB,GAAM,QAAQ,CAAC,EAAG,CACtC,wBACC,EAAE,CAACtB,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CACjC,oBACC,EAAE,CAACG,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CACjC,mBACZ,EAAe,CAACG,EAAS,CAACH,EAAMyB,GAAM,QAAQ,CAAC,EAAG,CACtC,yBACZ,EAAe,CAACtB,EAAS,CAACH,EAAM,QAAQgB,CAAO,CAAC,EAAG,CACvC,oBACC,EAAE,CAACb,EAAS,CAACH,EAAMmB,CAAO,CAAC,EAAG,CAC/B,+BACC,EAAE,CAAC,CAACnB,EAAM,OAASgB,CAAO,CAAC,EAAG,CAC/B,kDACZ,EAAe,CAAC,CAAChB,EAAM,OAAQ,MAAQgB,CAAO,EAAGb,CAAO,EAAG,CAC/C,4BACZ,EAAe,CAACA,EAAS,CAACH,EAAM0B,GAAU,WAAW,CAAC,EAAG,CAC7C,6BACZ,EAAe,CAAC,CAAC1B,EAAM,KAAM,GAAG,EAAGG,CAAO,EAAG,CACjC,wBACC,EAAE,CAACA,EAAS,CAACH,EAAM,gBAAgB,CAAC,EAAG,CACxC,0BACC,EAAE,CAAC,CAACA,EAAM,cAAc,EAAGG,CAAO,EAAG,CACtC,gCACA,iDACA,4CACZ,EAAe,CAACH,EAAMG,CAAO,EAAG,CACpB,eACA,oBACZ,EAAe,CAACH,CAAI,EAAG,CAGX,6DACC,EAAE,CAAC,CAACA,EAAM+B,EAAQ,EAAG5B,CAAO,EAAG,CAChC,uBACA,uCACA,kCACA,4BACA,4BACA,6BACA,+CACZ,EAAe,CAACH,EAAMG,CAAO,EAAG,CACpB,8BACC,EAAE,CAACA,EAAS,CAACH,EAAM,KAAK,CAAC,EAAG,CAC7B,4CACC,EAAE,CAACG,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAEhC,kCACZ,EAAe,CAACG,EAAS,CAACH,EAAMiB,EAAO,WAAW,CAAC,EAAG,CAE1C,6BACZ,EAAe,CAAC,CAACjB,EAAMiB,EAAO,UAAU,EAAGd,CAAO,EAAG,CAEzC,yDACZ,EAAe,CAACA,EAAS,CAACH,EAAM,WAAWgB,CAAO,CAAC,EAAG,CAE1C,6DACZ,EAAe,CAAChB,EAAMG,CAAO,EAAG,CAEpB,8CACC,EAAE,CAACA,EAAS,CAACH,EAAM,eAAe,CAAC,EAAG,CACvC,oDACZ,EAAe,CAACG,EAASH,CAAI,EAAG,CACpB,8CACZ,EAAe,CAACA,EAAM,CAACG,EAASsD,GAAWE,EAAY,CAAC,EAAG,CAE/C,4BACZ,EAAe,CAAC3D,EAAMG,CAAO,EAAG,CAGpB,sCACC,EAAE,CAAC,CAACH,EAAM,UAAU,EAAGG,CAAO,EAAG,CAClC,qCACZ,EAAe,CAACA,EAAS,CAACH,EAAMmB,EAAQ,UAAU,CAAC,EAAG,CAC1C,6BACA,cACA,mGAEA,+FAEA,wBACA,2CAGA,wHAEA,uBACA,oBACZ,EAAe,CAACnB,EAAMG,CAAO,EAAG,CAEpB,sBACC,EAAE,CAACH,EAAM,CAACG,EAAS,eAAgB,EAAE,CAAC,CAC1C,EAED,IAAM,CAAC,CAEH,+CACC,EAAE,CAAC,CAACC,EAAc,OAAO,CAAC,EAAG,CAE9B,cACC,EAAE,CAAC,CAACA,EAAcwC,EAAQ,CAAC,EAAG,CAE/B,wBACC,EAAE,CAAC,CAACxC,EAAc,MAAM,CAAC,EAAG,CAE7B,kCACC,EAAE,CAAC,CAACA,EAAc,OAAO,CAAC,EAAG,CAE9B,iCACC,EAAE,CAAC,CAACA,EAAc,OAAO,CAAC,EAAG,CAG9B,4BACC,EAAE,CAAC,CAACA,EAAc,KAAK,CAAC,EAAG,CAE5B,wCACZ,EAAe,CAAC,CAACA,EAAc,OAAQZ,EAAOoD,EAAQ,CAAC,EAAG,CAE9C,gBACC,EAAE,CAAC,CAACxC,EAAc,OAAO,CAAC,EAAG,CAE9B,yHAEZ,EAAe,CAAC,CAACA,EAAcwC,EAAQ,CAAC,CAC/B,EAED,OAAS,CAAC,CAON,iFACZ,EAAe,CAAC7C,EAAO,CAACG,EAAQwB,EAAO,EAAG,CAACzB,EAAMM,CAAM,CAAC,EAAG,CAC/C,yDACA,uBACA,eACZ,EAAe,CAACR,EAAO,CAACG,EAAQwB,EAAO,EAAG,CAACzB,EAAMK,CAAM,CAAC,EAAG,CAG/C,0CACZ,EAAe,CAACP,EAAO,CAACG,EAAQW,CAAK,EAAG,CAACZ,EAAMK,CAAM,CAAC,EAAG,CAC7C,6BACA,oCACA,gCACZ,EAAe,CAACP,EAAO,CAACG,EAAQW,CAAK,EAAG,CAACZ,EAAMM,CAAM,CAAC,EAAG,CAC7C,eACC,EAAE,CAACR,EAAO,CAACG,EAAQW,CAAK,CAAC,EAAG,CAG7B,+BACZ,EAAe,CAACd,EAAO,CAACG,EAAQyB,EAAK,EAAG,CAAC1B,EAAMK,CAAM,CAAC,EAAG,CAG7C,6DACZ,EAAe,CAACP,EAAO,CAACG,EAAQmB,EAAM,EAAG,CAACpB,EAAMM,CAAM,CAAC,EAAG,CAC9C,kCACA,oEACZ,EAAe,CAACR,EAAO,CAACG,EAAQmB,EAAM,EAAG,CAACpB,EAAMK,CAAM,CAAC,EAAG,CAG9C,kDACA,yBACA,uCACA,iDACA,4DACA,uGACC,EAAE,CAAC,CAACP,EAAO,KAAM,GAAG,EAAG,CAACG,EAAQ2B,EAAM,EAAG,CAAC5B,EAAMK,CAAM,CAAC,EAAG,CAC3D,+CACA,4CACC,EAAC,CAAC,CAACP,EAAO,KAAM,GAAG,EAAG,CAACG,EAAQ2B,EAAM,EAAG,CAAC5B,EAAMM,CAAM,CAAC,EAAG,CAG1D,sBACA,iEACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAG9C,yBACA,kCACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAG9C,iCACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAGhD,iFACA,4BACA,oDACZ,EAAe,CAACP,EAAO,CAACG,EAAQsB,EAAQ,EAAG,CAACvB,EAAMK,CAAM,CAAC,EAAG,CAChD,mCACZ,EAAe,CAACP,EAAO,CAACG,EAAQsB,EAAQ,EAAG,CAACvB,EAAMM,CAAM,CAAC,EAAG,CAGhD,+DACZ,EAAe,CAACR,EAAO,CAACG,EAAQoB,CAAE,EAAG,CAACrB,EAAMM,CAAM,CAAC,EAAG,CAC1C,sDACA,oDACA,sBACZ,EAAe,CAACR,EAAO,CAACG,EAAQoB,CAAE,EAAG,CAACrB,EAAMK,CAAM,CAAC,EAAG,CAG1C,oBACA,mEACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAGhD,qCACA,wBACC,EAAE,CAAC,CAACR,EAAO,KAAM,GAAG,EAAG,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAG5D,cACZ,EAAe,CAACP,EAAO,CAACG,EAAQkB,CAAM,EAAG,CAACnB,EAAMM,CAAM,CAAC,EAAG,CAC9C,2CACZ,EAAe,CAACR,EAAO,CAACG,EAAQkB,CAAM,EAAG,CAACnB,EAAMK,CAAM,CAAC,EAAG,CAG9C,wGACZ,EAAe,CAACP,EAAO,CAACG,EAAQ0B,EAAI,EAAG,CAAC3B,EAAMK,CAAM,CAAC,EAAG,CAC5C,oBACA,+BACC,EAAE,CAAC,CAACP,EAAO,eAAe,EAAG,CAACG,EAAQ0B,EAAI,EAAG,CAAC3B,EAAMM,CAAM,CAAC,EAAG,CAG/D,sCACA,wCACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAGjD,eACA,uCACA,8BACZ,EAAe,CAACP,EAAO,CAACG,EAAQU,CAAM,EAAG,CAACX,EAAMM,CAAM,CAAC,EAAG,CAC9C,+CACC,EAAE,CAAC,CAACR,EAAO,QAAS,eAAe,EAAG,CAACG,EAAQU,CAAM,EAAG,CAACX,EAAMK,CAAM,CAAC,EAAG,CAG1E,8BACZ,EAAe,CAACP,EAAOG,EAAQ,CAACD,EAAMM,CAAM,CAAC,EAAG,CACpC,gCACA,gBACZ,EAAe,CAACR,EAAO,CAACG,EAAQa,CAAU,EAAG,CAACd,EAAMK,CAAM,CAAC,EAAG,CAGlD,mFACZ,EAAe,CAACP,EAAO,CAACG,EAAQY,CAAI,EAAG,CAACb,EAAMM,CAAM,CAAC,EAAG,CAC5C,+CACZ,EAAe,CAACR,EAAO,CAACG,EAAQY,CAAI,EAAG,CAACb,EAAMK,CAAM,CAAC,EAAG,CAG5C,YACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC7C,2CAGA,oCACA,+EACZ,EAAe,CAACL,EAAQ,CAACH,EAAO,KAAM,GAAG,EAAG,CAACE,EAAMK,CAAM,CAAC,EAAG,CAGjD,qCACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAG9C,8BACA,mBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAG/C,gDACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAGjD,gHAEA,mBACA,iBACA,8BACA,0BACA,WACA,uBACZ,EAAe,CAACJ,EAAQH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAEpC,2BACA,wBACA,uCACA,uBACA,4BACA,iCACA,kCACA,8BACA,gCACA,iCACZ,EAAe,CAACJ,EAAQH,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CAEpC,gBACZ,EAAe,CAACR,EAAO,CAACG,EAAQqB,EAAS,EAAG,CAACtB,EAAMM,CAAM,CAAC,EAAG,CACjD,mCACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CACnD,WACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAC9C,cACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CACjD,eACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC7C,wBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC9C,sBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CACjD,6CACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,gBAAgB,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CACxD,mBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,UAAU,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAClD,YACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC7C,iBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAC7C,sBACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAC/C,iBACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC/C,sBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC9C,mBACA,oCACZ,EAAe,CAAC,CAACL,EAAQ,cAAc,EAAGH,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CACtD,oBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,UAAU,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAClD,4BACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,UAAU,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAClD,kDACZ,EAAe,CAAC,CAACL,EAAQ,OAAO,EAAGH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAC/C,yBACZ,EAAe,CAAC,CAACJ,EAAQ,OAAO,EAAGH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAC/C,YACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CACnD,qCACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CACjD,sBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CACnD,gBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC/C,mBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAChD,iBACZ,EAAe,CAACL,EAAQH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CACpC,oBACC,EAAE,CAAC,CAACP,EAAO,MAAO,GAAG,EAAG,CAACG,EAAQqB,EAAS,EAAG,CAACtB,EAAMK,CAAM,CAAC,EAAG,CAC/D,uDACZ,EAAe,CAACP,EAAO,CAACG,EAAQ4B,EAAK,EAAG,CAAC7B,EAAMM,CAAM,CAAC,EAAG,CAC7C,uCACZ,EAAe,CAACR,EAAO,CAACG,EAAQ4B,EAAK,EAAG,CAAC7B,EAAMK,CAAM,CAAC,EAAG,CAM7C,sBACC,EAAE,CAACJ,EAAQ,CAACD,EAAMO,CAAO,CAAC,EAAG,CAC9B,qBACC,EAAE,CAAC,CAACT,EAAO,IAAK,SAAS,EAAG,CAACG,EAAQwB,EAAO,EAAG,CAACzB,EAAMO,CAAO,CAAC,EAAG,CAClE,4DACZ,EAAe,CAAC,CAACN,EAAQoB,CAAE,EAAG,CAACrB,EAAMO,CAAO,CAAC,EAAG,CACpC,cACZ,EAAe,CAACN,EAAQ,CAACH,EAAOc,EAAM,KAAK,EAAG,CAACZ,EAAMO,CAAO,CAAC,EAAG,CACpD,QACC,EAAE,CAAC,CAACT,EAAOkB,EAAO,MAAM,EAAG,CAACf,EAAQkB,CAAM,EAAG,CAACnB,EAAMO,CAAO,CAAC,EAAG,CAChE,2BACZ,EAAe,CAACT,EAAO,CAACG,EAAQU,CAAM,EAAG,CAACX,EAAMO,CAAO,CAAC,EAAG,CAC/C,uBACA,qBACZ,EAAe,CAACT,EAAO,CAACG,EAAQyB,EAAK,EAAG,CAAC1B,EAAMO,CAAO,CAAC,EAAE,CAC7C,0BACZ,EAAe,CAACT,EAAO,CAACG,EAAQ0B,EAAI,EAAG,CAAC3B,EAAMO,CAAO,CAAC,EAAG,CAC7C,mBACZ,EAAe,CAACT,EAAO,CAACG,EAAQ2B,EAAM,EAAG,CAAC5B,EAAMO,CAAO,CAAC,EAAG,CAC/C,2BACZ,EAAe,CAACN,EAAQH,EAAO,CAACE,EAAMO,CAAO,CAAC,EAAG,CACrC,0CACA,2DACC,EAAE,CAAC,CAACN,EAAQ6C,EAAI,EAAG,CAAChD,EAAOgD,EAAI,EAAG,CAAC9C,EAAMO,CAAO,CAAC,EAAG,CACrD,iDACC,EAAE,CAAC,CAACP,EAAMO,CAAO,CAAC,EAAG,CAMtB,UACA,4BACZ,EAAe,CAACN,EAAQH,EAAO,CAACE,EAAMI,CAAO,CAAC,EAAG,CACrC,wBACZ,EAAe,CAACN,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMI,CAAO,CAAC,EAAG,CACjD,iCACZ,EAAe,CAACN,EAAO,CAACG,EAAQ0B,EAAI,EAAG,CAAC3B,EAAMI,CAAO,CAAC,EAAG,CAC7C,oCACZ,EAAe,CAACN,EAAO,CAACG,EAAQqB,EAAS,EAAG,CAACtB,EAAMI,CAAO,CAAC,EAAG,CAMlD,gBACZ,EAAe,CAACH,EAAQH,EAAO,CAACE,EAAMQ,CAAQ,CAAC,EAAG,CACtC,sCACZ,EAAe,CAACV,EAAO,CAACG,EAAQW,CAAK,EAAG,CAACZ,EAAMQ,CAAQ,CAAC,EAAG,CAC/C,sBACZ,EAAe,CAACV,EAAO,CAACG,EAAQkB,CAAM,EAAG,CAACnB,EAAMQ,CAAQ,CAAC,EAAG,CAChD,2BACZ,EAAe,CAACV,EAAO,CAACG,EAAQ4B,EAAK,EAAG,CAAC7B,EAAMQ,CAAQ,CAAC,EAAG,CAC/C,oBACZ,EAAe,CAACV,EAAO,CAACG,EAAQ6B,EAAQ,EAAG,CAAC9B,EAAMQ,CAAQ,CAAC,EAAG,CAMlD,sCACC,EAAE,CAACP,EAAQ,CAACD,EAAMS,CAAQ,CAAC,EAAG,CAC/B,YACZ,EAAe,CAACX,EAAO,CAACG,EAAQU,CAAM,EAAG,CAACX,EAAMS,CAAQ,CAAC,EAAG,CAMhD,gEACC,EAAE,CAACX,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAC5B,6DACC,EAAE,CAACP,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CAC5B,8CACC,EAAE,CAAC,CAACN,EAAMM,CAAM,CAAC,EAAG,CACrB,gEACC,EAAE,CAAC,CAACN,EAAMK,CAAM,CAAC,EAAG,CACrB,gCACC,EAAE,CAACP,EAAO,CAACG,EAAQ,SAAS,CAAC,CACjC,EAED,OAAS,CAAC,CAEN,4BACZ,EAAe,CAACC,EAAS,CAACH,EAAMkB,EAAK,MAAM,CAAC,EAAG,CAEnC,2CACC,EAAE,CAACf,EAAS,CAACH,EAAM,OAAO,CAAC,EAAG,CAE/B,uBACA,sEACA,0BACA,yCACA,8BACA,aACZ,EAAe,CAACA,EAAMG,CAAO,EAAG,CAEpB,+BACZ,EAAe,CAACA,EAASH,CAAI,CACpB,EAED,GAAK,CAAC,CAGF,iCACZ,EAAe,CAACA,EAAMG,CAAO,EAAG,CACpB,uDACZ,EAAe,CAACH,EAAM,CAACG,EAASsD,GAAWG,EAAiB,CAAC,EAAG,CACpD,0BACA,2CACA,sCACZ,EAAe,CAAC,CAACzD,EAASsD,GAAWG,EAAiB,EAAG,CAAC5D,EAAM,SAAS,CAAC,EAAG,CAGjE,sDACA,4CACA,sBACZ,EAAe,CAAC,CAACG,EAAS,KAAM,GAAG,EAAG,CAACH,EAAM,KAAK,CAAC,EAAG,CAC1C,0BACA,uCACZ,EAAe,CAAC,CAACA,EAAMiC,EAAM,EAAG,CAAC9B,EAAS,KAAM,GAAG,CAAC,EAAG,CAG3C,gDACZ,EAAe,CAACA,EAASH,CAAI,EAAG,CACpB,+EACA,8BACA,+BACA,gBACZ,EAAe,CAACA,EAAMG,CAAO,EAAG,CACpB,YACC,EAAE,CAACA,EAAS,CAACH,EAAMe,CAAU,CAAC,EAAG,CAClC,2DACC,EAAE,CAACZ,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CACjC,iFACZ,EAAe,CAACG,EAAS,CAACH,EAAMmB,EAAQ,KAAK,CAAC,EAAG,CACrC,kBACA,sCACC,EAAE,CAAChB,EAAS,CAACH,EAAM,OAAO,CAAC,EAAG,CAC/B,sCACC,EAAE,CAACG,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CAGjC,mBACZ,EAAe,CAACG,EAAS,CAACH,EAAMiB,EAAO,MAAM,CAAC,EAAG,CACrC,kCACC,EAAE,CAAC,CAACjB,EAAMgC,EAAW,EAAG7B,CAAO,EAAE,CAGlC,qBACA,iBACA,2BAGA,mDACA,2BAGA,wCACA,yBACA,4BACA,8SAEA,2BACA,oBACA,6EACA,gBACZ,EAAe,CAACH,EAAMG,CAAO,EAAG,CACpB,uBACC,EAAE,CAAC,CAACH,EAAM,SAAS,EAAGG,CAAO,EAAG,CACjC,sCACA,kCACA,mEACA,oBACZ,EAAe,CAACH,EAAMG,CAAO,CACpB,CACT,EAMQ0D,GAAW,SAAUZ,EAAIb,GAAY,CAOrC,GALI,OAAOa,IAAOrD,IACdwC,GAAaa,EACbA,EAAK3D,GAGL,EAAE,gBAAgBuE,IAClB,OAAO,IAAIA,GAASZ,EAAIb,EAAU,EAAE,UAAS,EAGjD,IAAI0B,EAAc,OAAOzE,IAAWM,GAAcN,EAAO,UAAaA,EAAO,UAAYC,EACrFyE,GAAMd,IAAQa,GAAcA,EAAW,UAAaA,EAAW,UAAYtE,GAC3EwE,GAASF,GAAcA,EAAW,cAAiBA,EAAW,cAAgBxE,EAC9E2E,GAAU7B,GAAaF,GAAOC,GAASC,EAAU,EAAID,GACrD+B,GAAaJ,GAAcA,EAAW,WAAaC,GAEvD,YAAK,WAAa,UAAY,CAC1B,IAAII,EAAW,CAAA,EACf,OAAAA,EAASnE,CAAI,EAAIV,EACjB6E,EAAShE,CAAO,EAAIb,EACpB0D,GAAU,KAAKmB,EAAUJ,GAAKE,GAAQ,OAAO,EAC7CE,EAASrE,CAAK,EAAI+C,GAASsB,EAAShE,CAAO,CAAC,EAExC+D,IAAcJ,GAAcA,EAAW,OAAS,OAAOA,EAAW,MAAM,SAAWpE,IACnFyE,EAASnE,CAAI,EAAI,SAEdmE,CACnB,EACQ,KAAK,OAAS,UAAY,CACtB,IAAIC,EAAO,CAAA,EACX,OAAAA,EAAKhE,CAAY,EAAId,EACrB0D,GAAU,KAAKoB,EAAML,GAAKE,GAAQ,GAAG,EAC9BG,CACnB,EACQ,KAAK,UAAY,UAAY,CACzB,IAAIC,EAAU,CAAA,EACd,OAAAA,EAAQnE,CAAM,EAAIZ,EAClB+E,EAAQtE,CAAK,EAAIT,EACjB+E,EAAQpE,CAAI,EAAIX,EAChB0D,GAAU,KAAKqB,EAASN,GAAKE,GAAQ,MAAM,EACvCC,IAAc,CAACG,EAAQpE,CAAI,GAAK+D,IAASA,GAAM,SAC/CK,EAAQpE,CAAI,EAAIK,GAGhB4D,IAAcG,EAAQtE,CAAK,GAAK,aAAe+D,GAAc,OAAOA,EAAW,aAAenE,GAAcmE,EAAW,gBAAkBA,EAAW,eAAiB,IACrKO,EAAQtE,CAAK,EAAI,OACjBsE,EAAQpE,CAAI,EAAIM,GAEb8D,CACnB,EACQ,KAAK,UAAY,UAAY,CACzB,IAAIC,EAAU,CAAA,EACd,OAAAA,EAAQtE,CAAI,EAAIV,EAChBgF,EAAQnE,CAAO,EAAIb,EACnB0D,GAAU,KAAKsB,EAASP,GAAKE,GAAQ,MAAM,EACpCK,CACnB,EACQ,KAAK,MAAQ,UAAY,CACrB,IAAIC,EAAM,CAAA,EACV,OAAAA,EAAIvE,CAAI,EAAIV,EACZiF,EAAIpE,CAAO,EAAIb,EACf0D,GAAU,KAAKuB,EAAKR,GAAKE,GAAQ,EAAE,EAC/BC,IAAc,CAACK,EAAIvE,CAAI,GAAKgE,IAASA,GAAM,UAAY,YACvDO,EAAIvE,CAAI,EAAIgE,GAAM,SACG,QAAQ,aAAchC,EAAW,EACjC,QAAQ,SAAUC,EAAM,GAE1CsC,CACnB,EACQ,KAAK,UAAY,UAAY,CACzB,MAAO,CACH,GAAU,KAAK,MAAO,EACtB,QAAU,KAAK,WAAY,EAC3B,OAAU,KAAK,UAAW,EAC1B,GAAU,KAAK,MAAO,EACtB,OAAU,KAAK,UAAW,EAC1B,IAAU,KAAK,OAAQ,CACvC,CACA,EACQ,KAAK,MAAQ,UAAY,CACrB,OAAOR,EACnB,EACQ,KAAK,MAAQ,SAAUd,EAAI,CACvB,OAAAc,GAAO,OAAOd,IAAOpD,GAAYoD,EAAG,OAAStC,EAAiBoC,GAAKE,EAAItC,CAAa,EAAIsC,EACjF,IACnB,EACQ,KAAK,MAAMc,EAAG,EACP,IACf,EAEIF,GAAS,QAAUtE,EACnBsE,GAAS,QAAWvB,GAAU,CAACtC,EAAMG,EAASL,CAAK,CAAC,EACpD+D,GAAS,IAAMvB,GAAU,CAAClC,CAAY,CAAC,EACvCyD,GAAS,OAASvB,GAAU,CAACvC,EAAOG,EAAQD,EAAMI,EAASC,EAAQE,EAASD,EAAQE,EAAUC,CAAQ,CAAC,EACvGmD,GAAS,OAASA,GAAS,GAAKvB,GAAU,CAACtC,EAAMG,CAAO,CAAC,EASjBqE,EAAO,UACvCC,EAAUD,EAAiB,QAAAX,IAE/BY,EAAA,SAAmBZ,GAkBvB,IAAIa,GAAI,OAAOrF,IAAWM,IAAeN,EAAO,QAAUA,EAAO,OACjE,GAAIqF,IAAK,CAACA,GAAE,GAAI,CACZ,IAAIC,GAAS,IAAId,GACjBa,GAAE,GAAKC,GAAO,YACdD,GAAE,GAAG,IAAM,UAAY,CACnB,OAAOC,GAAO,OAC1B,EACQD,GAAE,GAAG,IAAM,SAAUzB,EAAI,CACrB0B,GAAO,MAAM1B,CAAE,EACf,IAAIrR,GAAS+S,GAAO,YACpB,QAASC,KAAQhT,GACb8S,GAAE,GAAGE,CAAI,EAAIhT,GAAOgT,CAAI,CAExC,CACK,CAEJ,GAAE,OAAO,QAAW,SAAW,OAASC,EAAI,qDCz5BvC1T,GAAMC,GAAa,gBAAgB,WAAW,EAEpD,IAAIC,GAEJ,MAAMyT,GAAY,CAChB,aAAc,aAEd,YAAa,KAEb,UAAW,KACX,QAAS,KACT,GAAI,KACJ,QAAS,KACT,UAAW,KACX,YAAa,KACb,QAAS,KAMT,QAAQC,EAAa,CACb1T,OAAAA,GAAA0T,EAEC1T,GAAI,MAAM,YAAa,CAC5B,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,MAAO,KAAK,MAAM,KAAK,IAAI,EAC3B,eAAgB,KAAK,eAAe,KAAK,IAAI,CAAA,CAC9C,CACH,EAKA,MAAM,MAAO,CACP,GAAA,KAAK,aAAe,KACtBF,IAAAA,MAAAA,GACE,OACA,gCACA,CAAE,UAAW,KAAK,SAAU,EAC5B,aAEG,CACL,KAAM,CAAE,QAAAT,EAAS,QAAAF,CAAA,EAAYa,GAAI,MAAM,sBACvC,KAAK,YAAcX,EAEnB,MAAMiU,EAAS,IAAId,GAAS,UAAU,SAAS,EAC1C,KAAA,UAAY,KAAK,MACjB,KAAA,GAAKc,EAAO,QACZ,KAAA,QAAUA,EAAO,aACtB,KAAK,QAAUtT,GAAI,OAAO,UAAU,WAAW,EAC1C,KAAA,YAAc,MAAMA,GAAI,QAAQ,SACnC,yBACA,IAAM,KAAK,OAAO,CAAA,EAEpB,MAAM2T,EAAY3T,GAAI,SAAS,IAAI,0BAA0B,GAAK,GAC5D4T,EAAe,GACrB,KAAK,QAAUD,GAAaC,EAE5B,KAAK,UAAY,MAAM5T,GAAI,QAAQ,IAAI,KAAK,YAAY,EACnD,KAAK,YACH,KAAA,UAAY6T,KACX,MAAA7T,GAAI,QAAQ,IAAI,CACpB,CAAC,KAAK,YAAY,EAAG,KAAK,SAAA,CAC3B,GAGKb,IACFW,IAAAA,MAAAA,GAAA,OAAQ,wBAAyB,KAAM,OAC/C,CACF,EAQA,MAAM,MACJgU,EACAC,EACe,CACX,GAAA,CAAC,KAAK,YAAa,CACfjU,IAAAA,MAAAA,GAAA,QAAS,wCAAyC,KAAM,QAC9D,MACF,CAEM,MAAAwB,EAAY,KAAK,MACvB,MAAM,KAAK,YACX,MAAM0S,EAAoBhU,GAAI,aAAa,IAAI,mBAAmB,EAC5DiU,EAAkBjU,GAAI,aAAa,IAAI,0BAA0B,EACjEkU,EAAmBF,EAAkBF,CAAS,GAAKG,EACnDE,EAAY,KAAK,YAAeD,EAChCE,EAAU,KAAK,SAAWD,EAE1BE,EAAQ,CACZ,WAAYP,EACZ,QAAS,KAAK,UACd,gBAAiB,CACf,eAAgB,CAAC,CAAC9T,GAAI,SAAS,IAAI,gBAAgB,EACnD,yBAA0B,CAAC,CAACA,GAAI,SAAS,IACvC,0BACF,EACA,gCAAiC,CAAC,CAACA,GAAI,SAAS,IAC9C,iCACF,EACA,UAAW,CAAC,CAACA,GAAI,SAAS,IAAI,WAAW,EACzC,YAAaA,GAAI,SAAS,IAAI,aAAa,EAC3C,IAAKA,GAAI,SAAS,IAAI,KAAK,CAC7B,EACA,KAAMsB,EACN,iBAAkB,CAChB,KAAM,GAAG,SAAS,QAAQ,KAAK,SAAS,QAAQ,GAAG,SAAS,QAAQ,GACpE,GAAGyS,CACL,EACA,YAAa,KAAK,QAGlB,QAAS,KAAK,QAAS,KACvB,WAAY,KAAK,QAAS,QAC1B,SAAU,KAAK,GAAI,IAAA,EAErBjU,IAAAA,MAAAA,GACE,QACAsU,EAAU,iBAAmB,gBAC7B,CAAE,MAAAC,EAAO,iBAAAH,EAAkB,UAAAC,EAAW,YAAa,KAAK,OAAQ,EAChE,SAEGC,GAEC,MAAApU,GAAI,aAAa,aAAaqU,CAAK,CAC3C,EAeA,gBAAiB,CACfvU,IAAAA,MAAAA,GACE,iBACA,kCACA,OACA,SAGF,MAAMwU,EAAY,uBAClB,SAAS,iBAAiB,KAAKA,CAAS,GAAG,EAAE,QAASC,GAAY,CACxDA,EAAA,iBAAiB,QAAUF,GAAU,OAC3C,MAAMtW,EAASsW,EAAM,OACfP,GAAYU,EAAAzW,GAAA,YAAAA,EAAQ,eAAR,YAAAyW,EAAA,KAAAzW,EAAuBuW,GACpCR,GAEL,KAAK,MAAMA,CAAU,CAAA,CACtB,CAAA,CACF,EAED,MAAMW,EAAc,wBACpB,SAAS,iBAAiB,KAAKA,CAAW,GAAG,EAAE,QAASF,GAAY,CAC1DA,EAAA,iBAAiB,SAAWF,GAAU,OAC5C,MAAMtW,EAASsW,EAAM,OACfK,EAAU3W,GAAA,YAAAA,EAAQ,QAClB+V,GAAYU,EAAAzW,GAAA,YAAAA,EAAQ,eAAR,YAAAyW,EAAA,KAAAzW,EAAuB0W,GACpCX,GAEL,KAAK,MAAMA,EAAW,CAAE,QAAAY,CAAS,CAAA,CAAA,CAClC,CAAA,CACF,CACH,CACF,EC7LM5U,GAAMC,GAAa,gBAAgB,cAAc,EAEjD4U,GAAe,CACnB,QAAS,6BACT,OAAQ,mCAGR,QAAQ7W,EAAU,CACTA,OAAAA,EAAI,MAAM,eAAgB,CAC/B,aAAc,KAAK,aAAa,KAAK,IAAI,CAAA,CAC1C,CACH,EAEA,MAAM,gBAAgB8W,EAAe,CACnC,OAAO,MAAM,MAAM,GAAG,KAAK,OAAO,SAAU,CAC1C,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,OAAQ,KACV,EACA,KAAM,KAAK,UAAU,CACnB,QAAS,KAAK,OACd,OAAAA,CAAA,CACD,CAAA,CACF,EAAE,MAAOC,GAAQ,CACZ/U,GAAA,eAAgB,yBAA0B+U,EAAK,MAAM,CAAA,CAC1D,CACH,CACF,EChCMC,GAAY,CAMhB,QAAQhX,EAAU,CACTA,OAAAA,EAAI,MAAM,SAAU,CACzB,UAAW,CACT,YAAa,KAAK,OAAO,SAAS,EAC9B,KAAK,mBAAmB,KAAK,IAAI,EACjC,KAAK,yBACT,QAAS,KAAK,OAAO,UAAW,SAAS,EACrC,OAAO,QAAQ,QAAQ,KAAK,OAAO,OAAO,EAC1C,KAAK,yBACT,MAAO,KAAK,OAAO,SAAS,EACxB,UAAY,CACV,OAAO,OAAO,QAAQ,IAExB,KAAK,yBACT,OAAQ,KAAK,OAAO,YAAa,QAAQ,EACrC,OAAO,UAAU,OAAO,KAAK,OAAO,SAAS,EAC7C,KAAK,yBACT,OAAQ,KAAK,OAAO,UAAW,QAAQ,EACnC,OAAO,QAAQ,OAAO,KAAK,OAAO,OAAO,EACzC,KAAK,yBACT,WAAY,KAAK,OAAO,UAAW,aAAa,EAC5C,KAAK,WAAW,KAAK,IAAI,EACzB,KAAK,yBACT,gBAAiB,KAAK,OAAO,UAAW,iBAAiB,EACrD,OAAO,QAAQ,gBAAgB,KAAK,OAAO,OAAO,EAClD,KAAK,wBACX,EAEA,QAAS,CACP,GAAI,OAAO,QAAQ,UACnB,KAAM,KAAK,OAAO,UAAW,aAAa,EACtC,OAAO,QAAQ,YAAY,KAAK,OAAO,OAAO,EAC9C,KAAK,yBACT,UAAW,KAAK,OAAO,OAAQ,aAAa,EACxC,OAAO,KAAK,YAAY,KAAK,OAAO,IAAI,EACxC,KAAK,wBACX,EAEA,aAAc,CACZ,OAAQ,KAAK,OAAO,gBAAiB,QAAQ,EACzC,OAAO,cAAc,OAAO,KAAK,OAAO,aAAa,EACrD,KAAK,yBACT,MAAO,KAAK,OAAO,gBAAiB,OAAO,EACvC,OAAO,cAAc,MAAM,KAAK,OAAO,aAAa,EACpD,KAAK,wBACX,EAEA,QAAS,CACP,YAAa,KAAK,OAAO,SAAS,EAC9B,KAAK,mBAAmB,KAAK,IAAI,EACjC,KAAK,yBACT,SAAU,KAAK,OAAO,SAAS,EAC3B,OAAO,QAAQ,MAAM,IAAI,KAAK,OAAO,QAAQ,KAAK,EAClD,KAAK,yBACT,QAAS,KAAK,OAAO,SAAS,EAC1B,OAAO,QAAQ,KAAK,IAAI,KAAK,OAAO,QAAQ,IAAI,EAChD,KAAK,yBACT,YAAa,KAAK,OAAO,SAAS,EAC9B,OAAO,QAAQ,MAAM,OAAO,KAAK,OAAO,QAAQ,KAAK,EACrD,KAAK,yBACT,WAAY,KAAK,OAAO,SAAS,EAC7B,OAAO,QAAQ,KAAK,OAAO,KAAK,OAAO,QAAQ,IAAI,EACnD,KAAK,yBACT,SAAU,KAAK,OAAO,SAAS,EAC3B,OAAO,QAAQ,MAAM,IAAI,KAAK,OAAO,QAAQ,KAAK,EAClD,KAAK,yBACT,QAAS,KAAK,OAAO,SAAS,EAC1B,OAAO,QAAQ,KAAK,IAAI,KAAK,OAAO,QAAQ,IAAI,EAChD,KAAK,wBACX,EAEA,IAAK,CACH,YAAa,KAAK,OAAO,MAAM,EAC3B,KAAK,gBAAgB,KAAK,IAAI,EAC9B,KAAK,yBACT,OAAQ,KAAK,OAAO,OAAQ,QAAQ,EAChC,OAAO,KAAK,OAAO,KAAK,OAAO,IAAI,EACnC,KAAK,yBACT,eAAgB,KAAK,OAAO,OAAQ,OAAO,EACvC,KAAK,mBAAmB,KAAK,IAAI,EACjC,KAAK,yBACT,WAAY,KAAK,OAAO,OAAQ,YAAY,EACxC,OAAO,KAAK,WAAW,KAAK,OAAO,IAAI,EACvC,KAAK,yBACT,YAAa,KAAK,OAAO,OAAQ,OAAO,EACpC,KAAK,eAAe,KAAK,IAAI,EAC7B,KAAK,yBACT,OAAQ,KAAK,OAAO,OAAQ,QAAQ,EAChC,OAAO,KAAK,OAAO,KAAK,OAAO,IAAI,EACnC,KAAK,yBACT,OAAQ,KAAK,OAAO,OAAQ,QAAQ,EAChC,OAAO,KAAK,OAAO,KAAK,OAAO,IAAI,EACnC,KAAK,yBACT,IAAK,KAAK,OAAO,OAAQ,KAAK,EAC1B,OAAO,KAAK,IAAI,KAAK,OAAO,IAAI,EAChC,KAAK,wBACX,EAEA,YAAa,CACX,IAAK,KAAK,OAAO,OAAQ,YAAY,EACjC,OAAO,KAAK,WAAW,KAAK,OAAO,IAAI,EACvC,KAAK,wBACX,EAEA,OAAQ,CACN,YAAa,KAAK,OAAO,SAAS,EAC9B,KAAK,mBAAmB,KAAK,IAAI,EACjC,KAAK,yBACT,eAAgB,KAAK,OAAO,UAAW,gBAAgB,EACnD,OAAO,QAAQ,eAAe,KAAK,OAAO,OAAO,EACjD,KAAK,wBACX,EAEA,OAAQ,CACN,YAAa,KAAK,OAAO,QAAQ,EAC7B,KAAK,kBAAkB,KAAK,IAAI,EAChC,KAAK,yBACT,OAAQ,KAAK,OAAO,QAAQ,EACxB,KAAK,YAAY,KAAK,IAAI,EAC1B,KAAK,wBACX,CAAA,CACD,CACH,EAQA,eAAgB,SACdiX,EACAC,EACA,CACA,MAAMC,EAA+B,CACnC,OAAQ,EAAA,EAGNF,EACFE,EAAM,SAAWF,EAEjBE,EAAM,cAAgB,GAGxB,OAAO,KAAK,MAAMA,EAAO,SAAUC,EAAM,CACjC,MAAAC,EAAMD,EAAK,CAAC,EAEd,OAAOF,GAAa,YACtBA,EAASG,CAAG,CACd,CACD,CACH,EAQA,mBAAoB,SAClBJ,EACAC,EACA,CACA,MAAMC,EAAwD,CAAA,EAE1DF,EACFE,EAAM,SAAWF,EAEjBE,EAAM,cAAgB,GAGxB,OAAO,KAAK,MAAMA,EAAO,SAAUC,EAAM,CACnC,OAAOF,GAAa,YACtBA,EAASE,CAAI,CACf,CACD,CACH,EAOA,YAAa,CACJ,OAAA,OAAO,QAAQ,YAAA,EAAc,OACtC,EASA,MAAM,YAAY7U,EAAc+U,EAAgB,CACvC,OAAA,IAAI,QAAS9V,GAAkB,CACpC,OAAO,OAAO,IAAIe,EAAOgV,GAAU,CAC5BA,GAAc,OAAA,OAAO,OAAOhV,EAAM+U,CAAS,EAC5C9V,GAAA,CACL,CAAA,CACF,CACH,EAQA,mBAAoB,SAAUgW,EAAkBC,EAAoB,CAC7D,KAAA,YAAY,UAAWD,EAAUC,CAAQ,CAChD,EAQA,mBAAoB,SAAUD,EAAeC,EAAe,CACrD,KAAA,YAAY,UAAWD,EAAUC,CAAQ,CAChD,EAQA,gBAAiB,SAAUD,EAAeC,EAAe,CAClD,KAAA,YAAY,OAAQD,EAAUC,CAAQ,CAC7C,EAQA,mBAAoB,SAAUD,EAAeC,EAAe,CACrD,KAAA,YAAY,UAAWD,EAAUC,CAAQ,CAChD,EAQA,kBAAkBD,EAAeC,EAAe,CACzC,KAAA,YAAY,SAAUD,EAAUC,CAAQ,CAC/C,EASA,YAAa,SAAUC,EAAeC,EAAmBF,EAAoB,CAC3E,MAAMG,EAAQF,EACRF,EAAWG,EACb,OAAO,OAAOC,CAAK,EAAEJ,CAAQ,EAAM,KAGrC,OAAOI,CAAK,EAAEJ,CAAQ,EAAE,YAAYC,CAAQ,CAEhD,EASA,OAAQ,SAAUI,EAA2BC,EAA2B,CACtE,MAAMC,EAAUF,EACVG,EAASF,EAEf,IAAIG,EAAS,QAAU,OAAO,OAAOF,CAAO,GAAM,SAElD,OAAIE,GAAUD,IACZC,EAAS,OAAO,OAAOF,CAAO,EAAEC,CAAM,GAAM,YAGvCC,CACT,EAKA,yBAA0B,UAAY,CAC9B,MAAA,IAAI,MAAM,+CAA+C,CACjE,CACF,EC7RMC,GAAY,CAMhB,QAAQlY,EAAU,CACTA,OAAAA,EAAI,MAAM,OAAQ,IAAI,CAC/B,EAQA,kBAAmB,SAAUmY,EAAsB,CAC3C,MAAAC,EAAYD,EAAa,MAAM,GAAG,EACxC,IAAIE,EAAO,SAASD,EAAU,CAAC,EAAG,EAAE,EACpC,MAAME,EAAM,SAASF,EAAU,CAAC,EAAG,EAAE,EAE/BG,EAAOF,GAAQ,GAAK,KAAO,KAC1BA,EAAAA,GAAQ,GAAKA,EAAO,GAAKA,EAE1B,MAAAG,EAAcH,IAAS,EAAI,GAAKA,EAChCI,EACJF,IAAS,KACLvY,EAAI,OAAO,YAAY,IAAI,QAAQ,EACnCA,EAAI,OAAO,YAAY,IAAI,QAAQ,EAElC,MAAA,CACL,KAAM,KAAK,YAAYwY,CAAW,EAClC,IAAK,KAAK,YAAYF,CAAG,EACzB,KAAAC,EACA,QAASC,EAAc,IAAM,KAAK,YAAYF,CAAG,EAAI,IAAMG,CAAA,CAE/D,EAOA,uBAAwB,SAAUjV,EAAkC,CAC5D,MAAAK,EAAO,IAAI,KAAKL,CAAS,EACzBkV,EAAU,CAAA,EAEV7R,EAAQhD,EAAK,SAAA,EAAa,EAC1BW,EAAMX,EAAK,UACXqE,EAAQrE,EAAK,WACb+E,EAAU/E,EAAK,aAEb,OAAA6U,EAAA,KAAO7U,EAAK,cACZ6U,EAAA,MAAQ,KAAK,YAAY7R,CAAK,EAC9B6R,EAAA,IAAM,KAAK,YAAYlU,CAAG,EAC1BkU,EAAA,QAAU,KAAK,YAAY9P,CAAO,EAE1C8P,EAAQ,KACNxQ,GAAS,GACLlI,EAAI,OAAO,YAAY,IAAI,QAAQ,EACnCA,EAAI,OAAO,YAAY,IAAI,QAAQ,EAEzC0Y,EAAQ,MAAQxQ,EAAQ,GAAKA,EAAQ,GAAKA,EAEtCwQ,EAAQ,QAAU,IACpBA,EAAQ,MAAQ,GAChBA,EAAQ,KAAO1Y,EAAI,OAAO,YAAY,IAAI,QAAQ,GAG7C0Y,CACT,EAUA,cAAe,SACbL,EACAC,EACAC,EACAI,EAAgB,IAAI,KACpB,CACAN,EAAOE,IAAS,KAAO,SAASF,EAAM,EAAE,EAAI,GAAKA,EAE3C,MAAAO,EAAaD,EAAQ,eAG3B,OAFqB,IAAA,KAAKC,EAAa,IAAMP,EAAO,IAAMC,CAAG,EAE3CK,CACpB,EAUA,iBAAkB,SAChBN,EACAC,EACAC,EACAI,EAAgB,IAAI,KACpB,CACAN,EAAOE,IAAS,KAAO,SAASF,EAAM,EAAE,EAAI,GAAKA,EAE3C,MAAAO,EAAaD,EAAQ,eAGrBE,EAFe,IAAA,KAAKD,EAAa,IAAMP,EAAO,IAAMC,CAAG,EAEhC,QAAQ,EAAIK,EAAQ,QAAQ,EAElD,OAAA,KAAK,MAAME,EAAc,GAAI,CACtC,EAUA,iBAAkB,SAAUR,EAAWC,EAAUC,EAAYI,EAAe,CAC1E,MAAMG,EAAU,KAAK,iBAAiBT,EAAMC,EAAKC,EAAMI,CAAO,EAEvD,OAAA,KAAK,MAAMG,EAAU,EAAE,CAChC,EAUA,gBAAiB,SACfT,EACAC,EACAC,EACAI,EAAgB,IAAI,KACpB,CACAN,EAAOE,IAAS,KAAO,SAASF,EAAM,EAAE,EAAI,GAAKA,EAE3C,MAAAO,EAAaD,EAAQ,eAE3B,WAAW,KAAKC,EAAa,IAAMP,EAAO,IAAMC,CAAG,CACrD,EAOA,oBAAqB,SAAUpQ,EAAY,CACzC,OAAO,WAAWA,CAAK,EAAI,GAAK,GAAK,GACvC,EAQA,uBAAwB,SAAU6Q,EAAUC,EAAc,CACxD,GAAI,CAAC,KAAK,gBAAgBA,CAAI,EAC5B,MAAM,IAAI,MACR,sFACEA,EACA,6BAAA,EAMF,OAFJD,EAAM,WAAWA,CAAG,EAEhB,KAAK,gBAAgBC,CAAI,EACpBD,EAAM,GAAK,GAAK,IACd,KAAK,eAAeC,CAAI,EAC1BD,EAAM,GAAK,IACT,KAAK,eAAeC,CAAI,EAC1BD,EAAM,IAENA,CAEX,EASA,YAAa,SAAUE,EAAWlP,EAAiB,CAE/C,GAAA,OAAOkP,GAAS,UAChBA,EAAK,QAAQ,GAAG,IAAM,GACtBA,EAAK,SAAW,EAET,MAAA,GAGAlP,EAAAA,IAAW,GAAK,GAAK,GAExB,MAAAqO,EAAYa,EAAK,MAAM,GAAG,EAC1BZ,EAAO,SAASD,EAAU,CAAC,CAAC,EAC5BE,EAAM,SAASF,EAAU,CAAC,CAAC,EAEjC,OACEE,GAAO,GACPA,GAAO,KACLvO,IAAW,IAAMsO,GAAQ,GAAKA,GAAQ,IACrCtO,IAAW,IAAMsO,GAAQ,GAAKA,GAAQ,GAE7C,EAWA,gBAAiB,SAAUW,EAAc,CACvC,OACE,KAAK,gBAAgBA,CAAI,GACzB,KAAK,eAAeA,CAAI,GACxB,KAAK,eAAeA,CAAI,GACxB,KAAK,cAAcA,CAAI,CAE3B,EAEA,gBAAiB,SAAUA,EAAc,CACvC,OACE,OAAOA,GAAS,WACfA,EAAK,QAAQ,MAAM,IAAM,GAAKA,EAAK,QAAQ,IAAI,IAAM,GAAKA,IAAS,IAExE,EAEA,eAAgB,SAAUA,EAAc,CAEpC,OAAA,OAAOA,GAAS,WAAaA,EAAK,QAAQ,KAAK,IAAM,GAAKA,IAAS,IAEvE,EAEA,eAAgB,SAAUA,EAAc,CAEpC,OAAA,OAAOA,GAAS,WAAaA,EAAK,QAAQ,KAAK,IAAM,GAAKA,IAAS,IAEvE,EAEA,cAAe,SAAUA,EAAc,CAEnC,OAAA,OAAOA,GAAS,WACfA,EAAK,QAAQ,QAAQ,IAAM,GAAKA,IAAS,KAE9C,EASA,YAAa,SAAUE,EAAgBC,EAAsB,CACvD,GAAAD,EAAS,GAAKA,EAAS,EACzB,MAAM,IAAI,MACR,2DAAA,EAgBJ,OAAOC,IAAgB,GAFL,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,EAE1BD,CAAM,EAXjC,CACX,SACA,SACA,UACA,YACA,WACA,SACA,UAAA,EAIqDA,CAAM,CAC/D,EASA,eAAgB,SAAUrS,EAAelC,EAAW,CAC5C,MAAAyU,MAAgB,KACd,OAAAvS,EAAAA,GAASuS,EAAU,WAIpBzU,EAAAA,GAAQyU,EAAU,UAElB,GAAK,IAAI,KAAKzU,EAAMkC,EAAO,EAAE,EAAE,SACxC,EAQA,qBAAsB,SAAUwS,EAAsB,CACpD,OAAIA,EAAe,KAAO,KAAK,MAAMA,EAAe,EAAE,EAE7CA,EAAe,GAAK,WAIzB,KAAK,MAAMA,EAAe,EAAE,EAC5B,iBACCA,EAAe,KAAK,MAAMA,EAAe,EAAE,EAAI,IAChD,UAGN,EAOA,YAAa,SAAUN,EAAa,CAClC,OAAOA,EAAM,GAAK,IAAMA,EAAMA,EAAI,UACpC,EAOA,OAAQ,SAAUlV,EAAY,CACrBA,EAAAA,OAAY,KACnB,MAAMgD,EAAQ,KAAK,YAAYhD,EAAK,SAAA,EAAa,CAAC,EAC5CW,EAAM,KAAK,YAAYX,EAAK,QAAS,CAAA,EAGpC,OAFMA,EAAK,cAEJ,IAAMgD,EAAQ,IAAMrC,CACpC,CACF,EClXMxC,GAAMC,GAAa,gBAAgB,cAAc,EAUjDqX,GAAe,CAMnB,QAAQtZ,EAAU,CACTA,OAAAA,EAAI,MAAM,SAAU,CACzB,kBAAmB,KAAK,kBAAkB,KAAK,IAAI,EACnD,kBAAmB,KAAK,kBAAkB,KAAK,IAAI,EACnD,iBAAkB,KAAK,iBAAiB,KAAK,IAAI,EACjD,gBAAiB,KAAK,gBAAgB,KAAK,IAAI,CAAA,CAChD,CACH,EAQA,kBAAmB,SAAUuZ,EAAa,CACxC,GAAI,CAACA,EACI,OAAA,KAGLvX,GAAA,oBAAqB,8BAA+BuX,EAAK,OAAO,EAE9D,MAAApF,EAAUoF,EAAI,MAAM,0BAA0B,EAEpD,GAAIpF,IAAY,MAAQA,EAAQ,OAAS,EAGvC,OAFiBoF,EAAI,MAAM,GAAG,EAEd,CAAC,EAGf,IAAA3L,EAAQuG,EAAQ,CAAC,EACjB,OAAAvG,EAAM,WAAW,MAAM,IACjBA,EAAAA,EAAM,QAAQ,OAAQ,EAAE,GAG3BA,CACT,EAQA,kBAAmB,SAAU2L,EAAa,CACpCvX,GAAA,oBAAqB,8BAA+BuX,EAAK,OAAO,EAE9D,MAAAC,EAAa,KAAK,kBAAkBD,CAAG,EAE7C,GAAI,CAACC,GAAcA,EAAW,SAAW,EAChC,MAAA,GAGH,MAAAC,EAAcD,EAAW,MAAM,GAAG,EAEpC,GAAAC,EAAY,SAAW,EAClB,OAAAD,EAIT,IAAIE,EAAaD,EAAYA,EAAY,OAAS,CAAC,EAInD,OAAAC,EAAaD,EAAYA,EAAY,OAAS,CAAC,EAAI,IAAMC,EAIrD,KAAK,kBAAkBF,CAAU,IACnCE,EAAaD,EAAYA,EAAY,OAAS,CAAC,EAAI,IAAMC,GAGpDA,CACT,EAeA,kBAAmB,SAAUF,EAAoB,CACzC,MAAAG,EAAS,MAAQH,EAAa,sBAE9BC,EAAcD,EAAW,MAAM,GAAG,EACxC,IAAII,EAAe,CAAA,EAEf,GAAAH,EAAY,SAAW,EACrBzX,OAAAA,GAAA,oBAAqB2X,EAAQ,KAAM,OAAO,EAEvC,GAKT,MAAME,EAAcJ,EAAYA,EAAY,OAAS,CAAC,EAWtD,GARII,EAAY,SAAW,GAQvBA,EAAY,SAAW,GAAKJ,EAAY,OAAS,EAC/CzX,OAAAA,GAAA,oBAAqB2X,EAAQ,MAAO,OAAO,EACxC,GAKT,GAAIE,EAAY,SAAW,GAAKJ,EAAY,QAAU,EAAG,CACxCG,EAAA,CACb,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KAAA,EAGF,UAAW7Y,KAAO6Y,EAChB,GACEA,EAAa,eAAe7Y,CAAG,GAC/B8Y,IAAgBD,EAAa7Y,CAAG,EAE5BiB,OAAAA,GAAA,oBAAqB2X,EAAQ,MAAO,OAAO,EACxC,EAGb,CAIA,GAAIE,EAAY,SAAW,GAAKJ,EAAY,QAAU,EAAG,CACxCG,EAAA,CACb,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MAAA,EAGF,UAAW5Y,KAAQ4Y,EACjB,GACEA,EAAa,eAAe5Y,CAAI,GAChC6Y,IAAgBD,EAAa5Y,CAAI,EAE7BgB,OAAAA,GAAA,oBAAqB2X,EAAQ,MAAO,OAAO,EAExC,EAGb,CAQI,GAAAF,EAAY,QAAU,EAAG,CAC3B,MAAMK,EAAkBL,EAAYA,EAAY,OAAS,CAAC,EAGxD,GAAAI,EAAY,SAAW,GACvBJ,EAAY,SAAW,GACvBK,EAAgB,OAAS,GACzBA,IAAoB,MAEhB9X,OAAAA,GAAA,oBAAqB2X,EAAQ,MAAO,OAAO,EAExC,EAEX,CAKI3X,OAAAA,GAAA,oBAAqB2X,EAAQ,KAAM,OAAO,EAEvC,EACT,EAQA,iBAAkB,SAChBI,EACAC,EACA,CAEAD,EACE,OAAOA,GAAkB,SACrBA,EAAc,YACd,EAAAA,EACNC,EACE,OAAOA,GAAoB,SACvBA,EAAgB,YAChB,EAAAA,EAEN,MAAML,EACJ,MAAQI,EAAgB,sBAAwBC,EAAkB,IAEpE,GACED,GAAiB,wBACjBC,GAAA,YAAAA,EAAiB,QAAQD,KAAkB,EAEpC,MAAA,GAKL,GAHYA,EAAA,KAAK,cAAcA,CAAa,EAC9BC,EAAA,KAAK,cAAcA,CAAe,EAEhDD,GAAiB,IAAMC,GAAmB,GAAW,MAAA,GAEnD,MAAAC,EAAsB,KAAK,kBAAkBD,CAAe,EAgBlE,GAdID,IAAkBC,GAMlBD,IAAkBE,GAQlBD,EAAgB,QAAQD,CAAa,IAAM,EACzC/X,OAAAA,GAAA,mBAAoB2X,EAAQ,MAAO,OAAO,EAEvC,GAGH,MAAAO,EAAoB,KAAK,kBAAkBH,CAAa,EAoC5D,OAfAG,IAAsBD,GACtBF,EAAc,QAAUC,EAAgB,QACxCA,EAAgB,QAAQD,CAAa,GAAK,IACzCC,EAAgB,QAAQ,GAAG,GAAK,GAAKA,EAAgB,QAAQ,GAAG,GAAK,IAYtEC,EAAoB,OAASC,EAAkB,QAC/CD,EAAoB,QAAQF,CAAa,EAAI,IAEzC/X,GAAA,mBAAoB2X,EAAQ,MAAO,OAAO,EAEvC,KAGL3X,GAAA,mBAAoB2X,EAAQ,KAAM,OAAO,EAEtC,GACT,EAQA,gBAAiB,SAAUQ,EAAkBH,EAAyB,CAChE,GAAAG,EAAS,QAAQ,GAAG,GAAK,GAAI,OACjC,MAAMR,EACJ,QAAUK,EAAkB,mBAAqBG,EAAW,IAE9DA,EAAWA,EAAS,cACpBH,EAAkBA,EAAgB,cAElC,MAAMI,EAAoBD,EAAS,QAAQ,IAAK,EAAE,EAGlD,GAFAH,EAAkBA,GAAmB,GAEjCA,EAAgB,QAAQI,CAAiB,IAAM,GAC7CpY,OAAAA,GAAA,kBAAmB2X,EAAQ,KAAM,OAAO,EAErC,GAGT,MAAMU,EAAqBL,EAAgB,UACzC,EACAA,EAAgB,QAAQI,CAAiB,EAAIA,EAAkB,MAAA,EAM3D3X,EAJkBuX,EAAgB,UACtCK,EAAmB,OAASD,EAAkB,OAC9CC,EAAmB,MAAA,IAEcD,EAEnCpY,OAAAA,GAAI,kBAAmB2X,EAAQlX,EAAS,MAAQ,KAAM,OAAO,EAEtDA,CACT,EAOA,cAAe,SAAU8W,EAAc,CACrC,OAAIA,EACKA,EAAI,QAAQ,KAAK,EAAI,GACxBA,EAAI,MAAMA,EAAI,QAAQ,KAAK,EAAI,EAAGA,EAAI,MAAM,EAC5CA,EAEG,EAEX,CACF,ECvXA,IAAIrX,GAEJ,SAASoY,IAA0B,CAC1B,OAAApY,GAAI,aAAa,IAAI,oBAAoB,CAClD,CAMA,MAAMqY,GAAiBC,IAAqB,CAC1C,WAAY,uBAAuBA,CAAO,GAM1C,MAAM,cAAe,CACnB,OAAOtY,GAAI,QAAQ,SAAS,KAAK,WAAY,KAAK,QAAQ,CAC5D,EAMA,MAAM,mBAAoB,CAEjB,OADU,MAAMoY,MACPE,CAAO,GAAK,CAC9B,EAKA,MAAM,WAAY,CACV,MAAAC,EAAiB,MAAM,KAAK,oBAElC,OADkB,MAAM,KAAK,eACVA,CACrB,EAKA,MAAM,OAAQ,CACL1Y,GAAA,IACL,qBACA,4BACA,CACE,UAAW,MAAM,KAAK,UAAU,EAChC,UAAW,MAAM,KAAK,aAAa,EACnC,eAAgB,MAAM,KAAK,kBAAkB,EAC7C,aAAc,MAAMuY,GAAwB,CAC9C,EACA,OAAA,CAEJ,EAUA,MAAM,QAAS,CACP,MAAApY,GAAI,QAAQ,IAAI,CAAE,CAAC,KAAK,UAAU,EAAG,EAAA,CAAI,CACjD,EAUA,MAAM,SAAU,CACR,MAAAA,GAAI,QAAQ,IAAI,CAAE,CAAC,KAAK,UAAU,EAAG,CAAA,CAAG,CAChD,EAUA,MAAM,WAAY,CACV,MAAAA,GAAI,QAAQ,IAAI,CAAE,CAAC,KAAK,UAAU,EAAG,KAAK,OAAO,CAAA,CAAG,CAC5D,CACF,GAEMwY,GAAqB,CACzB,QAAQ9E,EAAa,CACb1T,OAAAA,GAAA0T,EAEC1T,GAAI,MAAM,qBAAsB,CACrC,SAAUqY,GAAc,WAAW,CAAA,CACpC,CACH,CACF,ECtGA,IAAIrY,GAEJ,MAAMyY,GAAe,CAEnB,YAAa,KAEb,sBAAuB,KAEvB,QAAQ/E,EAAa,CACb1T,OAAAA,GAAA0T,EAEC1T,GAAI,MAAM,eAAgB,CAC/B,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,sBAAuB,KAAK,sBAAsB,KAAK,IAAI,EAC3D,iBAAkB,KAAK,iBAAiB,KAAK,IAAI,EACjD,iBAAkB,KAAK,iBAAiB,KAAK,IAAI,EACjD,wBAAyB,KAAK,wBAAwB,KAAK,IAAI,EAC/D,8BACE,KAAK,8BAA8B,KAAK,IAAI,EAC9C,qBAAsB,KAAK,qBAAqB,KAAK,IAAI,EACzD,2BAA4B,KAAK,2BAA2B,KAAK,IAAI,EACrE,UAAW,KAAK,UAAU,KAAK,IAAI,CAAA,CACpC,CACH,EAKA,MAAM,MAAO,CACX,GAAI,KAAK,aAAe,KAAM,OAE9B,KAAM,CAAE,QAAAX,EAAS,QAAAF,EAAS,OAAAC,CAAW,EAAAY,GAAI,MAAM,sBAC/C,KAAK,YAAcX,EAEd,KAAA,sBAAwB,MAAMW,GAAI,QAAQ,SAC7C,wBACA,IAAM,KAAK,OAAO,CAAA,EAGhB,GAAA,CACI,MAAA,QAAQ,IAAI,CAACA,GAAI,SAAS,UAAU,EAAGA,GAAI,aAAa,KAAK,CAAC,CAAC,EAC7Db,UACD0V,EAAK,CACZzV,EAAOyV,CAAG,CACZ,CACF,EAOA,MAAM,uBAAwB,CACtB,MAAA6D,EAAM,KAAK,MAEb,GAAA,KAAK,aAAe,KAChB,MAAA,MACJ,kFAAA,EAGJ,MAAM,KAAK,YAEL,MAAAC,EAAoB3Y,GAAI,aAAa,IACzC,8BAAA,EASE,GANA,EADmB,KAAK,sBAAyB2Y,IAGnC,KAAK,aAGD3Y,GAAI,SAAS,IAAI,iCAAiC,EAC9C,MAAA,GAG1B,GAAI,CADmBA,GAAI,SAAS,IAAI,gBAAgB,EAC5B,MAAA,GAE5B,MAAM4Y,EAAgB5Y,GAAI,SAAS,IAAI,0BAA0B,EAC3D6Y,EAAgB,MAAM,KAAK,mBAC3BC,EAAoB,MAAM,KAAK,uBACrC,MAAO,CAAC,CAACF,GAAiBF,EAAMG,GAAiBC,EAAoB,CACvE,EAQA,MAAM,kBAAmB,CAEvB,OADa,MAAM9Y,GAAI,QAAQ,IAAI,uBAAuB,GAC3C,CACjB,EAMA,iBAAiB+W,EAAc,CAC7B,OAAO/W,GAAI,QAAQ,IAAI,CAAE,sBAAuB+W,EAAM,CACxD,EAKA,MAAM,yBAA2C,CAE/C,OADc,MAAM/W,GAAI,QAAQ,IAAI,sBAAsB,GAC1C,CAClB,EAOA,MAAM,+BAAgC,CAC9B,MAAAiI,EAAQ,MAAM,KAAK,0BACzB,MAAMjI,GAAI,QAAQ,IAAI,CAAE,qBAAsBiI,EAAQ,EAAG,CAC3D,EAKA,MAAM,sBAAuB,CAE3B,OADc,MAAMjI,GAAI,QAAQ,IAAI,gCAAgC,GACpD,CAClB,EAOA,MAAM,4BAA6B,CAC3B,MAAAiI,EAAQ,MAAM,KAAK,uBACzB,MAAMjI,GAAI,QAAQ,IAAI,CAAE,+BAAgCiI,EAAQ,EAAG,CACrE,EAMA,WAAY,CAEN,GADgBjI,GAAI,SAAS,IAAI,aAAa,EAC1B,MAAA,GAExB,MAAM+Y,EAAM/Y,GAAI,SAAS,IAAI,KAAK,EAClC,OAAO+Y,GAAOA,EAAM,EACtB,EAKA,sBAAuB,CACrB,MAAMC,EAAmB,CAAC,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,CAAC,EAC3DC,EAAc,IAAI,KAAK,EAAE,SAAS,EACjC,MAAA,CAACD,EAAiB,SAASC,CAAW,CAC/C,CACF,EClKMnZ,GAAMC,GAAa,gBAAgB,SAAS,EAQlD,IAAIC,GAOJ,MAAMkZ,GAAU,CACd,MAAO,EACP,KAAM,EAMN,IAAK,KAML,MAAO,CAAC,EAOR,QAAS,SAAUxF,EAAa,CACxB1T,OAAAA,GAAA0T,EAEC1T,GAAI,MAAM,UAAW,CAC1B,oBAAqB,KAAK,oBAAoB,KAAK,IAAI,EACvD,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,UAAW,KAAK,UAAU,KAAK,IAAI,EACnC,IAAK,KAAK,IAAI,KAAK,IAAI,EACvB,SAAU,KAAK,SAAS,KAAK,IAAI,EACjC,OAAQ,KAAK,OAAO,KAAK,IAAI,EAC7B,IAAK,KAAK,IAAI,KAAK,IAAI,EACvB,MAAO,KAAK,MAAM,KAAK,IAAI,EAC3B,OAAQ,KAAK,OAAO,KAAK,IAAI,EAC7B,UAAW,KAAK,UAAU,KAAK,IAAI,CAAA,CACpC,CACH,EAOA,KAAM,eAAgBgV,EAAoB,CACpClV,GAAA,OAAQ,uBAAwB,KAAM,OAAO,EAEjD,KAAK,MAAQ,GACb,KAAK,IAAM,KAEX,MAAMuS,EAA2B,MAAM,KAAK,UAAU,YAAY,EAC9DvS,GAAA,OAAQ,kCAAmCuS,EAAK,OAAO,EAEvD,OAAOA,EAAQ,IACjB,KAAK,IAAMA,GAEX,KAAK,IAAM,GACX,MAAM,KAAK,WAGT,OAAO2C,GAAa,YACbA,GAEb,EAIA,WAA2B,CACzB,OAAO,IAAI,QAAS1V,GAAQ,KAAK,KAAKA,CAAG,CAAC,CAC5C,EASA,IAAK,eAAgBT,EAAasa,EAAwB,GAAO,CAC3D,IAAAC,EACJ,OAAI,KAAK,QAAQva,CAAG,GAAK,CAACsa,EACjBC,EAAA,KAAK,UAAUva,CAAG,EAChB,KAAK,OAAOA,CAAG,EACjBua,EAAA,MAAM,KAAK,UAAUva,CAAG,EAExBua,EAAA,MAAM,KAAK,SAASva,CAAG,EAEzBua,CACT,EAWA,MAAM,SACJva,EACAwa,EACAF,EAAwB,GACxB,CACA,IAAIna,EAAQ,MAAM,KAAK,IAAIH,EAAKsa,CAAY,EAC5C,OAAIna,GAAS,OACHA,EAAAqa,EACR,MAAM,KAAK,IAAI,CAAE,CAACxa,CAAG,EAAGG,CAAO,CAAA,GAE1BA,CACT,EAQA,QAAS,eAAgBH,EAAa,CAE7B,OADM,MAAM,KAAK,IAAIA,EAAK,EAAI,CAEvC,EAQA,OAAQ,eACNya,EAC8B,CAC9B,MAAMC,EACJ,OAAOD,GAAY,SAAWA,EAAQ,YAAgB,EAAAA,EAGxD,GAAKC,EAWL,IAAWA,IAAW,OACpB,OAAO,MAAMvZ,GAAI,OAAO,QAAQ,QAAQ,IAAI,EAC9C,GAAWuZ,IAAW,QACpB,OAAO,MAAMvZ,GAAI,OAAO,QAAQ,SAAS,IAAI,MAdlC,CACX,MAAMwZ,EAAgC,CAAA,EAEhC,CAACC,EAAMC,CAAK,EAA2B,MAAM,QAAQ,IAAI,CAC7D1Z,GAAI,OAAO,QAAQ,QAAQ,IAAI,EAC/BA,GAAI,OAAO,QAAQ,SAAS,IAAI,CAAA,CACjC,EACD,OAAAwZ,EAAS,KAAOC,EAChBD,EAAS,MAAQE,EAEVF,CAAA,CAMT,MAAO,EACT,EAWA,IAAK,eAAgB/a,EAAU6a,EAAyB,KAAM,CAC5D,MAAMC,EAAS,OAAOD,GAAY,SAAWA,EAAQ,YAAgB,EAAA,KAE/DG,EAA4B,CAAA,EAC5BC,EAA6B,CAAA,EACnC,IAAIC,EAAU,GACVC,EAAW,GAIf,UAAW/a,KAAOJ,EACZA,EAAI,eAAeI,CAAG,IACpB,KAAK,OAAOA,CAAG,GAAK0a,IAAW,QAC5BE,EAAA5a,CAAG,EAAIJ,EAAII,CAAG,EACT8a,EAAA,KAEJD,EAAA7a,CAAG,EAAIJ,EAAII,CAAG,EACT+a,EAAA,KASjB,MAAMC,EAA4B,CAAA,EAC9BF,GACFE,EAAS,KAAK,KAAK,UAAUJ,CAAI,CAAC,EAGhCG,GACFC,EAAS,KAAK,KAAK,SAASH,CAAK,CAAC,EAG9B,MAAA,QAAQ,IAAIG,CAAQ,CAC5B,EAUA,OAAQ,eAAgBhb,EAAa0a,EAA4B,OAC3D,KAAK,OAAO1a,CAAG,GAAK0a,IAAW,OAC3B,MAAA,KAAK,aAAa1a,CAAG,EAErB,MAAA,KAAK,YAAYA,CAAG,EAGxB,QAAO2V,EAAA,KAAK,MAAL,YAAAA,EAAW3V,IAAS,MACtB,OAAA,KAAK,IAAIA,CAAG,EACnB,MAAM,KAAK,UAEf,EAwBA,MAAO,eAAgBA,EAAaib,EAAgBC,EAAkB,CAQpE,GAPAja,GACE,QACA,WAAajB,EAAM,SAAWkb,EAAO,OAASD,EAC9C,KACA,OAAA,EAGEC,IAAS,OAAQ,CACnB,MAAM/b,EAA8B,MAAM,KAAK,UAAUa,CAAG,EACtDd,EAA8B,MAAM,KAAK,SAASc,CAAG,EAC3D,MAAM,KAAK,QAAQA,EAAKib,EAAI/b,EAAQC,CAAM,CAAA,SACjC+b,IAAS,QAAS,CAC3B,MAAM/b,EAA8B,MAAM,KAAK,SAASa,CAAG,EACrDd,EAA8B,MAAM,KAAK,UAAUc,CAAG,EAC5D,MAAM,KAAK,QAAQA,EAAKib,EAAI/b,EAAQC,CAAM,CAC5C,CACF,EAYA,QAAS,eACPa,EACAib,EACA/b,EACAC,EACA,CACAD,EAASF,GAAY,aAAaE,CAAM,EAAIA,EAAS,CAAA,EACrDC,EAASH,GAAY,aAAaG,CAAM,EAAIA,EAAS,CAAA,EAE/C,MAAA,KAAK,OAAOa,CAAG,EACrB,MAAM,KAAK,UAAUA,EAAKib,EAAI,EAAI,EAElC,MAAMrb,EAA2B,CAAA,EACjCA,EAAII,CAAG,EAAIhB,GAAY,MAAME,EAAQC,EAAQ,EAAI,EAE3C,MAAA,KAAK,IAAIS,CAAG,CACpB,EASA,UAAW,eACTub,EACAT,EACAU,EAAyB,GACzB,CAEI,GAAA,KAAK,QAAQD,CAAI,EAAG,CACtB,MAAMnb,EAAMmb,EACZ,QAASrM,EAAI,EAAGA,EAAI9O,EAAI,OAAQ8O,IAC9B,MAAM,KAAK,UAAU9O,EAAI8O,CAAC,EAAG4L,EAAQU,CAAa,CACpD,SACS,OAAOD,GAAS,SAAU,CACnC,MAAMnb,EAAMmb,EAER,OAAOT,GAAW,WACpBA,EAASA,EAAO,eAGlBA,EACE,OAAO,KAAKA,CAA2B,EAAM,IACzCA,EACA,QAENzZ,GACE,YACA,UAAYjB,EAAM,OAAS0a,EAAS,kBACpC,KACA,OAAA,EAGF,KAAK,IAAK1a,CAAG,EAAI,KAAK0a,CAA2B,EACjD,MAAM,KAAK,UAEPU,IAAkB,IACd,MAAA,KAAK,QAAQpb,EAAK0a,CAAO,CAEnC,CACF,EAKA,QAAS,eAAgBW,EAA4B,CAC7C,MAAA7H,EAAO6H,GAAQ,KAAK,IAE1B,MAAM,KAAK,UAAU,CACnB,WAAY7H,CAAA,CACb,CACH,EAQA,QAAS,eAAgBxT,EAAaib,EAAgB,CAC9C,MAAAC,EAAOD,IAAO,OAAS,QAAU,OASvC,GAPAha,GACE,UACA,aAAejB,EAAM,SAAWkb,EAAO,OAASD,EAChD,KACA,OAAA,EAGEA,IAAO,OAAQ,CACjB,MAAM9a,EAAa,MAAM,KAAK,SAASH,CAAG,EACpCJ,EAA2B,CAAA,EACjCA,EAAII,CAAG,EAAIG,EAEL,MAAA,KAAK,YAAYH,CAAG,EACpB,MAAA,KAAK,UAAUJ,CAAG,CAAA,SACfqb,IAAO,QAAS,CACzB,MAAM9a,EAAa,MAAM,KAAK,UAAUH,CAAG,EACrCJ,EAA2B,CAAA,EACjCA,EAAII,CAAG,EAAIG,EACL,MAAA,KAAK,aAAaH,CAAG,EACrB,MAAA,KAAK,SAASJ,CAAG,CACzB,CACF,EAOA,oBAAqB,SACnB8W,EACA,CACAA,EAAW,OAAOA,GAAa,WAAaA,EAAW,UAAY,CAAA,EAEnEvV,GAAI,OAAO,QAAQ,YAAY,YAAauV,CAAQ,CACtD,EAQA,QAAS,SAAU1W,EAAa,CAC9B,OAAO,OAAO,KAAK,MAAMA,CAAG,EAAM,GACpC,EAQA,OAAQ,SAAUA,EAAa,CAC7B,OAAO,KAAK,IAAKA,CAAG,IAAM,KAAK,IACjC,EAQA,QAAS,SAAUA,EAAa,CAC9B,OAAO,KAAK,IAAKA,CAAG,IAAM,KAAK,KACjC,EAOA,UAAW,SAAUsb,EAA4B,CAC3Cra,GAAA,YAAa,yBAA0Bqa,EAAO,OAAO,EAEzD,UAAWxM,KAAKwM,EACVA,EAAM,eAAexM,CAAC,IACxB,KAAK,MAAMA,CAAC,EAAIwM,EAAMxM,CAAC,EAG7B,EAQA,UAAW,SAAU9O,EAAa,CAChCiB,OAAAA,GAAI,YAAa,WAAajB,EAAM,cAAe,KAAM,OAAO,EAEzD,KAAK,MAAMA,CAAG,CACvB,EAOA,aAAc,SAAUA,EAAa,CACnCiB,GAAI,eAAgB,YAAcjB,EAAM,cAAe,KAAM,OAAO,EAE7D,OAAA,KAAK,MAAMA,CAAG,CACvB,EAQA,UAAW,eACTsb,EACAnF,EAAuB,IAAM,CAAA,EAC7B,CACIlV,GAAA,YAAa,gCAAiCqa,EAAO,OAAO,EAEhE,KAAK,UAAUA,CAAK,EAEpB,MAAMna,GAAI,OAAO,QAAQ,QAAQma,EAAOnF,CAAQ,CAClD,EAQA,UAAW,eAAgBnW,EAAa,CACtCiB,GAAI,YAAa,WAAajB,EAAM,qBAAsB,KAAM,OAAO,EAEvE,MAAMsb,EAA6B,MAAMna,GAAI,OAAO,QAAQ,QAAQnB,CAAG,EACnE,OAAA,OAAOA,GAAQ,UACjBiB,GACE,YACAjB,EAAM,gCACNsb,EAAMtb,CAAG,EACT,OAAA,EAGF,KAAK,UAAUsb,CAAK,EAEbA,EAAMtb,CAAG,IAEZiB,GAAA,YAAa,oCAAqCqa,EAAO,OAAO,EAC7DA,EAEX,EAQA,aAAc,eAAgBtb,EAAa,CACzCiB,GAAI,eAAgB,YAAcjB,EAAM,qBAAsB,KAAM,OAAO,EAE3E,KAAK,aAAaA,CAAG,EAErB,MAAMmB,GAAI,OAAO,QAAQ,WAAWnB,CAAG,CACzC,EAQA,SAAU,eAAgBsb,EAA4B,CAChDra,GAAA,WAAY,wCAAyCqa,EAAO,OAAO,EAEvE,KAAK,UAAUA,CAAK,EAEpB,MAAMna,GAAI,OAAO,QAAQ,SAASma,CAAK,CACzC,EAWA,SAAU,eAAgBtb,EAAa,CACjCiB,GAAA,WAAY,yCAA0CjB,EAAK,OAAO,EAGtE,IAAIsb,EAA6B,MAAMna,GAAI,OAAO,QAAQ,SAASnB,CAAG,EAClE,GAAA,OAAOA,GAAQ,SAAU,CAC3Bsb,EAAQA,GAAS,GACb,IAAAnb,EAAQmb,EAAMtb,CAAG,GAIjB,OAAOG,EAAU,KAAeA,IAAU,QACpCA,EAAA,MAAM,KAAK,0BAA0BH,CAAG,GAGlDiB,GAAI,WAAYjB,EAAM,iCAAkCG,EAAO,OAAO,EAEtE,MAAMob,EAAgC,CAAA,EACtC,OAAAA,EAASvb,CAAG,EAAIG,EAEhB,KAAK,UAAUob,CAAQ,EAEhBpb,CAAA,KAEHc,QAAAA,GAAA,WAAY,qCAAsCqa,EAAO,OAAO,EAE7DA,CAEX,EAQA,0BAA2B,eAAgBtb,EAA2B,CACpEiB,GACE,4BACA,WAAajB,EAAM,2BACnB,KACA,OAAA,EAGF,IAAIG,EAAQ,KACZ,MAAMqb,EAAM,MAAM,OAAO,QAAQ,MAAM,IAAIxb,CAAG,EAC9C,GAAIwb,GAAO,KAAa,OAAA,KAClB,MAAAC,EAAUD,EAAIxb,CAAG,EAIvB,GAAI,OAAOyb,EAAY,KAAeA,IAAY,KAAM,CACtDxa,GAAI,WAAYjB,EAAM,gCAAiCyb,EAAS,OAAO,EAGnE,GAAA,CACMtb,EAAA,KAAK,MAAMsb,CAAO,OAChB,CAEFtb,EAAAsb,CACV,CAGA,MAAM7b,EAA2B,CAAA,EACjCA,EAAII,CAAG,EAAIG,EAEL,MAAA,KAAK,SAASP,CAAG,CACzB,CAEO,OAAAO,CACT,EAQA,YAAa,eAAgBH,EAAa,CACxCiB,GACE,cACA,YAAcjB,EAAM,6BACpB,KACA,OAAA,EAGF,KAAK,aAAaA,CAAG,EAErB,MAAMmB,GAAI,OAAO,QAAQ,YAAYnB,CAAG,CAC1C,EAQA,QAAS,SAAUJ,EAAU,CAC3B,OACE,OAAOA,GAAQ,UAAYA,IAAQ,MAAQ,OAAOA,EAAI,QAAW,QAErE,CACF,EC7oBMqB,GAAMC,GAAa,gBAAgB,UAAU,EAEnD,IAAIC,GAEJ,MAAMrB,GAAO,CACX,aACA,cACA,mBACA,YACA,oBACA,gBACA,sBACA,yBACA,cACA,qBACA,mBACA,kCACA,oBACA,iBACA,uBACA,wBACA,qBACA,iBACA,iBACA,YACA,YACA,iBACA,2BACA,kCACA,cACA,MACA,YACA,oBACA,0BACA,eACA,iBACA,uBACA,eACA,iBACA,uBACA,uBACA,gBACA,qBACA,8BACA,8BACA,wBACA,wBACA,eACA,YACA,uBACF,EAOM4b,GAAW,CAEf,oBAAqB,EACrB,KAAA5b,GACA,MAAO,CAAC,EACR,WAAY,CAAC,EACb,YAAa,GAOb,QAAS,SAAU+U,EAAa,CACxB1T,OAAAA,GAAA0T,EAEC1T,GAAI,MAAM,WAAY,CAC3B,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,UAAW,KAAK,UAAU,KAAK,IAAI,EACnC,IAAK,KAAK,IAAI,KAAK,IAAI,EACvB,IAAK,KAAK,IAAI,KAAK,IAAI,EACvB,SAAU,KAAK,SAAS,KAAK,IAAI,EACjC,QAAS,KAAK,QAAQ,KAAK,IAAI,EAC/B,OAAQ,KAAK,OAAO,KAAK,IAAI,EAC7B,cAAe,KAAK,cAAc,KAAK,IAAI,EAC3C,cAAe,KAAK,cAAc,KAAK,IAAI,CAAA,CAC5C,CACH,EAQA,KAAM,SAAUgV,EAAgC,CAE1C,KAAK,aACPlV,GAAI,OAAQ,+BAAgC,KAAK,KAAM,OAAO,EAE1D,OAAOkV,GAAa,YACbA,MAGXlV,GAAI,OAAQ,wBAAyB,KAAK,KAAM,OAAO,EAEvD,KAAK,YAAc,GACnB,KAAK,MAAQ,GAEboZ,GAAQ,KAAK,IAAM,CACjB,KAAK,YAAY,EACjB,KAAK,QAAQlE,CAAQ,CAAA,CACtB,EAEL,EAIA,WAAY,CACV,OAAO,IAAI,QAAS1V,GAAQ,KAAK,KAAKA,CAAG,CAAC,CAC5C,EAOA,QAAS,SAAU0V,EAAqB,CACtClV,GAAI,UAAW,sBAAuB,KAAK,KAAM,OAAO,EAExD,IAAI0a,EAAY,EACV,MAAAC,EAAU,KAAK,KAAK,OAEpBC,EAAc7b,GAAgB,CAElCqa,GAAQ,QAAQra,CAAG,EAAE,KAAMG,GAAe,CACxC,KAAK,MAAMH,CAAG,EAAI,OAAOG,EAAU,IAAcA,EAAQ,KACzDwb,IAEIA,IAAcC,IACZ3a,GAAA,UAAW,qBAAsB,KAAM,OAAO,EAE9C,OAAOkV,GAAa,YACbA,IAEb,CACD,CAAA,EAGH,QAASrH,EAAI,EAAGA,EAAI8M,EAAS9M,IAChB+M,EAAA,KAAK,KAAK/M,CAAC,CAAC,CAE3B,EAUA,IAAK,SAAU9O,EAAkBwa,EAAoB,CACnD,GAAI,CAAC,KAAK,QAAQxa,CAAG,EACnB,MAAM,IAAI,MACR,oBACEA,EACA,4CAAA,EAIC,OAAA,KAAK,MAAMA,CAAG,IAAM,KAAO,KAAK,MAAMA,CAAG,EAAIwa,CACtD,EAUA,IACEc,EACAnF,EACAuE,EACAoB,EACA,CACA,KAAK,WAAW,EAEhB,UAAWX,KAAQG,EAAO,CACxB,MAAMtb,EAAMmb,EACR,GAAAG,EAAM,eAAetb,CAAG,EAAG,CAC7B,GAAI,CAAC,KAAK,QAAQA,CAAG,GAAK,CAAC8b,EACzB,MAAM,IAAI,MACR,oBACE9b,EACA,4CAAA,EAIN,KAAK,MAAMA,CAAG,EAAIsb,EAAMtb,CAAG,CAC7B,CACF,CAEAqa,GAAQ,IAAIiB,EAAOZ,CAAM,EAAE,KAAK,IAAM,CAChC,OAAOvE,GAAa,YACbA,GACX,CACD,CACH,EAIA,SACEmF,EACAZ,EACAoB,EACkB,CAClB,OAAO,IAAI,QAASrb,GAClB,KAAK,IAAI6a,EAAO7a,EAAKia,EAAQoB,CAAyB,CAAA,CAE1D,EAOA,OAAQ,SAAU9b,EAAkB,CAC9B,KAAK,QAAQA,CAAG,IACb,KAAA,MAAMA,CAAG,EAAI,MAGpBqa,GAAQ,OAAOra,CAAG,CACpB,EAMA,YAAa,UAAY,CACvBqa,GAAQ,IAAI,YAAY,EAAE,KAAM0B,GAAmC,CAC5D,KAAA,WACH,OAAOA,GAAe,SAAW,KAAK,MAAMA,CAAU,EAAI,GAEvD,KAAA,sBAAsB,KAAK,UAAU,CAAA,CAC3C,CACH,EAKA,WAAY,gBAAkB,CAC5B,MAAM/b,EAAM,UAAgB,IAAA,OAAO,QAAQ,EAE3CiB,GAAI,aAAc,kBAAoBjB,EAAK,KAAK,MAAO,OAAO,EAG1D,KAAK,WAAW,QAAU,KAAK,qBACjC,KAAK,aAAa,EAGf,KAAA,WAAW,QAAQA,CAAG,EAE3B,MAAMJ,EAA2B,CAAA,EACjCA,EAAII,CAAG,EAAI,KAAK,UAAU,KAAK,KAAK,EACpCJ,EAAI,WAAa,KAAK,UAAU,KAAK,UAAU,EAEzC,MAAAya,GAAQ,UAAUra,CAAG,EACrB,MAAAqa,GAAQ,IAAIza,CAAG,EACjBqB,GAAA,aAAc,eAAgB,KAAM,OAAO,CACjD,EAQA,cAAe,SAAU+a,EAAW,OAAW,CAC7C,MAAMpJ,EAAUoJ,GAAY,KAAK,WAAW,MAAM,EAElD,OAAKpJ,GAKD3R,GAAA,gBAAiB,mBAAoB2R,EAAS,OAAO,EAEzDyH,GAAQ,IAAIzH,CAAO,EAAE,KAAMqJ,GAA0B,CAG/C,GAFAhb,GAAA,gBAAiB,gBAAiB2R,EAAS,OAAO,EAElD,OAAOqJ,GAAiB,SACtB,GAAA,CACI,MAAAC,EAAS,KAAK,MAAMD,CAAY,EAEtC5B,GAAQ,IAAI6B,CAAM,EAAE,KAAK,SAAY,CAC7B,MAAA7B,GAAQ,OAAOzH,CAAO,EAExB3R,GAAA,gBAAiB,kBAAmB2R,EAAS,OAAO,EAElD,MAAAyH,GAAQ,IAAI,CAAE,WAAY,KAAK,UAAU,KAAK,UAAU,CAAA,CAAG,EAC7DlZ,GAAA,OAAO,UAAU,QAAO,CAC7B,OACS,CACVF,GACE,gBACA,4CACA2R,EACA,OAAA,EAIF,KAAK,cAAc,CACrB,MAEA3R,GACE,gBACA,yCACA2R,EACA,OAAA,EAIF,KAAK,cAAc,CACrB,CACD,EACM,KA5CD3R,GAAA,gBAAiB,iCAAkC,KAAM,MAAM,EAC5D,GA4CX,EAKA,aAAc,UAAY,CACxB,GAAI,KAAK,QAAQ,KAAK,UAAU,EAAG,CAC3B,MAAAkb,EAAS,KAAK,WAAW,IAAI,EAEnClb,GAAI,eAAgB,mBAAqBkb,EAAQ,KAAM,OAAO,EAE9D9B,GAAQ,OAAO8B,CAAO,CACxB,CACF,EAQA,sBAAuB,SAAUJ,EAAsB,CACjD9a,GAAA,wBAAyB,4BAA6B,KAAM,OAAO,EAEvE,MAAMmb,EAAuC,CAAA,EAG7C,QAAStN,EAAI,EAAGA,EAAIiN,EAAW,OAAQjN,IACrBsN,EAAAL,EAAWjN,CAAC,CAAC,EAAI,EAInCuL,GAAQ,IAAI,YAAY,EAAE,KAAME,GAA8B,CAC5D,IAAI8B,EAAa,GAEjB,UAAWC,KAAQ/B,EACbA,EAAK,eAAe+B,CAAI,GAEtBA,EAAK,QAAQ,SAAS,IAAM,GAAK,EAAEA,KAAQF,KAC7C,OAAO7B,EAAK+B,CAAI,EACHD,EAAA,IAMfA,GACFhC,GAAQ,QAAQE,CAAI,CACtB,CACD,CACH,EAQA,QAAS,SAAUva,EAAkB,CACnC,OAAO,OAAO,KAAK,MAAMA,CAAG,EAAM,GACpC,EAQA,QAAS,SAAUJ,EAAU,CAC3B,OACE,OAAOA,GAAQ,UAAYA,IAAQ,MAAQ,OAAOA,EAAI,QAAW,QAErE,EAEA,eAAgB,CACd,OAAO,KAAK,WACd,CACF,EC3Za2c,GAAS,IACTC,GAAS,GAAKD,GACdE,GAAO,GAAKD,GACZE,GAAM,GAAKD,GACXE,GAAO,EAAID,GACXE,GAAQ,GAAKF,GACbG,GAAgB,GAChBC,GAAc,GAAKD,GACnBE,GAAa,GAAKD,GAElBE,GAA2BH,GAAgB,GAgBlDI,GAAO,CAIX,UAAW,CACT,OAAOA,GAAK,cAAkB,IAAA,IAAM,CACtC,EAKA,eAAgB,CACd,OAAOA,GAAK,YAAgB,IAAA,IAAM,CACpC,EAMA,cAAcna,EAAY,CAClB,MAAAoa,EAAI,IAAI,KAAKpa,CAAI,EACvB,OAAAoa,EAAE,gBAAgB,CAAC,EACnBA,EAAE,WAAW,CAAC,EACdA,EAAE,WAAW,CAAC,EACdA,EAAE,SAAS,CAAC,EACLA,EAAE,SACX,EAMA,YAAYpa,EAAY,CAChB,MAAAoa,EAAI,IAAI,KAAKpa,CAAI,EACvB,OAAAoa,EAAE,gBAAgB,GAAG,EACrBA,EAAE,WAAW,EAAE,EACfA,EAAE,WAAW,EAAE,EACfA,EAAE,SAAS,EAAE,EACNA,EAAE,SACX,EAEA,wBAAwBC,EAAuB,CACzC,GAAAA,IAAkB,GAAKA,EAAgB,EAClC,MAAA,QAGT,MAAMC,EAAW,KAAK,MAAMD,EAAgBL,EAAW,EACjDO,EAAa,KAAK,OAAOF,EAAgBC,EAAWN,IAAe,EAAE,EACrEQ,EAAa,KAAK,MACtBH,GAAiBC,EAAWN,GAAcO,EAAa,GAAA,EAGnDlW,EAAQlI,EAAI,KAAK,YAAYme,CAAQ,EACrCvV,EAAU5I,EAAI,KAAK,YAAYoe,CAAU,EACzCtF,EAAU9Y,EAAI,KAAK,YAAYqe,CAAU,EAEvC,OAAAnW,GAAS,KAAO,GAAK,GAAGA,CAAK,KAAO,GAAGU,CAAO,IAAIkQ,CAAO,EACnE,EAEA,mBAAmBG,EAAc,CAC/B,OAAOA,GAAQ,GAAKA,EAAO,GAAK,IAAIA,CAAI,GAAKA,CAC/C,EAEA,mBAAmBH,EAA+B,CAChD,GAAIA,EAAU,EACL,MAAA,CACL,MAAO,EACP,QAAS,EACT,QAAS,CAAA,EAGb,MAAM5Q,EAAQ,KAAK,MAAM4Q,EAAU+E,EAAW,EACxCjV,EAAU,KAAK,OAAOkQ,EAAU5Q,EAAQ2V,IAAe,EAAE,EACzDS,EAAgBxF,GAAW5Q,EAAQ2V,GAAcjV,EAAU,IAC1D,MAAA,CACL,MAAAV,EACA,QAAAU,EACA,QAAS0V,CAAA,CAEb,EAEA,wBAAwBtX,EAAsB,CAC5C,MAAMuX,EAAkBvX,EAAeuW,GACjCiB,EACJD,EAAkB,GAAK,EAAI,KAAK,MAAMA,EAAkB,EAAE,EAC5D,IAAIE,EAAe,EACnB,OAAID,EAAa,EACfC,EAAeF,EAAkBC,EAAa,GAC1BC,EAAA,KAAK,MAAMF,CAAe,EACzC,CACL,MAAOC,EACP,QAASC,CAAA,CAEb,EAEA,sBAAsBvW,EAAeU,EAAiB,CAC7C,OAAAV,EAAQsV,GAAO5U,EAAU2U,EAClC,EAEA,iBAAiBrV,EAAeU,EAAiB,CACxC,OAAAV,EAAQ2V,GAAcjV,EAAUgV,EACzC,CACF,ECxHM5b,GAAMC,GAAa,gBAAgB,cAAc,EAEvD,IAAIC,GAmBJ,MAAMwc,GAAe,CACnB,MAAO,CAAC,EACR,YAAa,GACb,SAAU,CACR,6BAA8B,EAC9B,yBAA0B,GAC1B,kBAAmB,CAAC,EACpB,cAAe,EAAIjB,GACnB,eAAgB,GAChB,qBAAsB,IACtB,kBAAmB,CAAC,EACpB,mBAAoB,CAAC,EACrB,gBAAiB,IACjB,qBAAsB,CACpB,iCACA,gEACA,gCACA,mCACA,+EACA,wFACA,6DACA,gHACA,4CACF,EACA,mBAAoB,CAClB,gBAAiB,CAAC,2BAA2B,EAC7C,eAAgB,CAAC,wCAAwC,EACzD,YAAa,CAAC,aAAc,YAAY,EACxC,WAAY,CAAC,mBAAmB,EAChC,aAAc,CAAC,YAAa,YAAa,aAAc,WAAW,EAClE,YAAa,CAAC,YAAa,YAAa,aAAc,YAAY,EAClE,aAAc,CACZ,uCACA,uCACA,uCACA,sCACA,4BACF,CACF,EACA,qBAAsB,CAAC,OAAQ,UAAW,MAAM,EAChD,WAAY,uBACZ,uBAAwB,wBAC1B,EACA,IAAK,kEAGL,gBACE,yEACF,WAAY,gBAOZ,QAAQ7H,EAAa,CACb1T,OAAAA,GAAA0T,EAEC1T,GAAI,MAAM,eAAgB,CAC/B,WAAY,KAAK,WACjB,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,IAAK,KAAK,IAAI,KAAK,IAAI,EACvB,QAAS,KAAK,QAAQ,KAAK,IAAI,CAAA,CAChC,CACH,EAKA,MAAM,MAAO,CACX,GAAI,KAAK,YAAa,CACpBF,IAAAA,MAAAA,GAAM,OAAQ,mCAAoC,KAAK,MAAO,SAC9D,MACF,CAEAA,IAAAA,MAAAA,GAAM,OAAQ,4BAA6B,KAAK,SAAU,SAE1D,KAAK,YAAc,GACnB,KAAK,MAAQ,CAAE,GAAG,KAAK,QAAS,EAChC,KAAK,MAAQ,CACX,GAAG,KAAK,MACR,GAAI,MAAME,GAAI,QAAQ,IAAI,KAAK,UAAU,CAAA,EAG3CF,IAAAA,MAAAA,GAAM,OAAQ,cAAe,KAAK,MAAO,QAC3C,EAKA,MAAM,SAAU,CACdA,IAAAA,MAAAA,GAAM,UAAW,gBAAiB,CAAE,cAAe,KAAK,KAAA,EAAS,SAE7D,GAAA,CACI,MAAA2c,EAAe,MAAM,MAAM,KAAK,GAAG,EAAE,KAAMnd,GAAQA,EAAI,KAAM,CAAA,EAC7Dod,EAAqB,MAAM,MAAM,KAAK,eAAe,EAAE,KAAMpd,GACjEA,EAAI,KAAK,CAAA,EAELQ,IAAAA,MAAAA,GAAA,UAAW,iBAAkB2c,EAAc,SAEjD,KAAK,MAAQ,CACX,GAAG,KAAK,SACR,GAAGA,EACH,GAAGC,CAAA,EAEC,MAAA1c,GAAI,QAAQ,IAAI,CAAE,CAAC,KAAK,UAAU,EAAG,KAAK,KAAA,CAAO,EACvDF,IAAAA,MAAAA,GAAM,UAAW,eAAgB,KAAK,MAAO,eACtC+U,EAAK,CACN/U,IAAAA,MAAAA,GAAA,UAAW,gCAAiC+U,EAAK,OACzD,CACF,EAQA,IAAIhW,EAAa,CACf,GAAI,CAAC,KAAK,QAAQA,CAAG,EACnB,MAAM,IAAI,MACR,wBACEA,EACA,gDAAA,EAGC,OAAA,KAAK,MAAMA,CAAG,CACvB,EAQA,QAAQA,EAAa,CACnB,OAAO,OAAO,KAAK,MAAMA,CAAG,EAAM,GACpC,CACF,ECzKA,IAAI+S,GAAK,OAAO,eACZ+K,GAAK,CAACC,EAAGC,EAAG3d,IAAM2d,KAAKD,EAAIhL,GAAGgL,EAAGC,EAAG,CAAE,WAAY,GAAI,aAAc,GAAI,SAAU,GAAI,MAAO3d,CAAC,CAAE,EAAI0d,EAAEC,CAAC,EAAI3d,EAC3G4d,GAAI,CAACF,EAAGC,EAAG3d,KAAOyd,GAAGC,EAAG,OAAOC,GAAK,SAAWA,EAAI,GAAKA,EAAG3d,CAAC,EAAGA,GAAI6d,GAAK,CAACH,EAAGC,EAAG3d,IAAM,CACvF,GAAI,CAAC2d,EAAE,IAAID,CAAC,EACV,MAAM,UAAU,UAAY1d,CAAC,CACjC,EACI4O,EAAI,CAAC8O,EAAGC,EAAG3d,KAAO6d,GAAGH,EAAGC,EAAG,yBAAyB,EAAG3d,EAAIA,EAAE,KAAK0d,CAAC,EAAIC,EAAE,IAAID,CAAC,GAAII,GAAK,CAACJ,EAAGC,EAAG3d,IAAM,CACtG,GAAI2d,EAAE,IAAID,CAAC,EACT,MAAM,UAAU,mDAAmD,EACrEC,aAAa,QAAUA,EAAE,IAAID,CAAC,EAAIC,EAAE,IAAID,EAAG1d,CAAC,CAC9C,EAAG+d,GAAI,CAACL,EAAGC,EAAG3d,EAAGwO,KAAOqP,GAAGH,EAAGC,EAAG,wBAAwB,EAAGnP,EAAIA,EAAE,KAAKkP,EAAG1d,CAAC,EAAI2d,EAAE,IAAID,EAAG1d,CAAC,EAAGA,GACxFge,GAAK,CAACN,EAAGC,EAAG3d,KAAO6d,GAAGH,EAAGC,EAAG,uBAAuB,EAAG3d,GACtDie,IACH,SAASP,EAAG,CACXA,EAAE,YAAe,GAAM,EACvB,SAASC,EAAE,EAAG,CACb,CACDD,EAAE,SAAWC,EACb,SAAS3d,EAAE,EAAG,CACZ,MAAM,IAAI,KACX,CACD0d,EAAE,YAAc1d,EAAG0d,EAAE,YAAe,GAAM,CACxC,MAAMjP,EAAI,CAAA,EACV,UAAW,KAAK,EACdA,EAAE,CAAC,EAAI,EACT,OAAOA,CACX,EAAKiP,EAAE,mBAAsB,GAAM,CAC/B,MAAMjP,EAAIiP,EAAE,WAAW,CAAC,EAAE,OAAQlc,GAAM,OAAO,EAAE,EAAEA,CAAC,CAAC,GAAK,QAAQ,EAAG,EAAI,GACzE,UAAWA,KAAKiN,EACd,EAAEjN,CAAC,EAAI,EAAEA,CAAC,EACZ,OAAOkc,EAAE,aAAa,CAAC,CAC3B,EAAKA,EAAE,aAAgB,GAAMA,EAAE,WAAW,CAAC,EAAE,IAAI,SAASjP,EAAG,CACzD,OAAO,EAAEA,CAAC,CACX,CAAA,EAAGiP,EAAE,WAAa,OAAO,OAAO,MAAQ,WAAc,GAAM,OAAO,KAAK,CAAC,EAAK,GAAM,CACnF,MAAMjP,EAAI,CAAA,EACV,UAAW,KAAK,EACd,OAAO,UAAU,eAAe,KAAK,EAAG,CAAC,GAAKA,EAAE,KAAK,CAAC,EACxD,OAAOA,CACR,EAAEiP,EAAE,KAAO,CAAC,EAAGjP,IAAM,CACpB,UAAW,KAAK,EACd,GAAIA,EAAE,CAAC,EACL,OAAO,CACf,EAAKiP,EAAE,UAAY,OAAO,OAAO,WAAa,WAAc,GAAM,OAAO,UAAU,CAAC,EAAK,GAAM,OAAO,GAAK,UAAY,SAAS,CAAC,GAAK,KAAK,MAAM,CAAC,IAAM,EACtJ,SAASlP,EAAE,EAAGC,EAAI,MAAO,CACvB,OAAO,EAAE,IAAK,GAAM,OAAO,GAAK,SAAW,IAAI,CAAC,IAAM,CAAC,EAAE,KAAKA,CAAC,CAChE,CACDiP,EAAE,WAAalP,EAAGkP,EAAE,sBAAwB,CAAC,EAAGjP,IAAM,OAAOA,GAAK,SAAWA,EAAE,SAAQ,EAAKA,CAC9F,GAAGwP,KAAMA,GAAI,CAAE,EAAC,EAChB,MAAMC,EAAID,GAAE,YAAY,CACtB,SACA,MACA,SACA,UACA,QACA,UACA,OACA,SACA,SACA,WACA,YACA,OACA,QACA,SACA,UACA,UACA,OACA,QACA,MACA,KACF,CAAC,EAAGE,GAAMT,GAAM,CACd,OAAQ,OAAOA,EAAC,CACd,IAAK,YACH,OAAOQ,EAAE,UACX,IAAK,SACH,OAAOA,EAAE,OACX,IAAK,SACH,OAAO,MAAMR,CAAC,EAAIQ,EAAE,IAAMA,EAAE,OAC9B,IAAK,UACH,OAAOA,EAAE,QACX,IAAK,WACH,OAAOA,EAAE,SACX,IAAK,SACH,OAAOA,EAAE,OACX,IAAK,SACH,OAAOA,EAAE,OACX,IAAK,SACH,OAAO,MAAM,QAAQR,CAAC,EAAIQ,EAAE,MAAQR,IAAM,KAAOQ,EAAE,KAAOR,EAAE,MAAQ,OAAOA,EAAE,MAAQ,YAAcA,EAAE,OAAS,OAAOA,EAAE,OAAS,WAAaQ,EAAE,QAAU,OAAO,IAAM,KAAOR,aAAa,IAAMQ,EAAE,IAAM,OAAO,IAAM,KAAOR,aAAa,IAAMQ,EAAE,IAAM,OAAO,KAAO,KAAOR,aAAa,KAAOQ,EAAE,KAAOA,EAAE,OAC7S,QACE,OAAOA,EAAE,OACZ,CACH,EAAGE,EAAIH,GAAE,YAAY,CACnB,eACA,kBACA,SACA,gBACA,8BACA,qBACA,oBACA,oBACA,sBACA,eACA,iBACA,YACA,UACA,6BACA,kBACA,YACF,CAAC,EAAGI,GAAMX,GAAM,KAAK,UAAUA,EAAG,KAAM,CAAC,EAAE,QAAQ,cAAe,KAAK,EACvE,MAAMY,WAAW,KAAM,CACrB,YAAYX,EAAG,CACb,MAAK,EAAI,KAAK,OAAS,CAAE,EAAE,KAAK,SAAYnP,GAAM,CAChD,KAAK,OAAS,CAAC,GAAG,KAAK,OAAQA,CAAC,CACjC,EAAE,KAAK,UAAY,CAACA,EAAI,CAAA,IAAO,CAC9B,KAAK,OAAS,CAAC,GAAG,KAAK,OAAQ,GAAGA,CAAC,CACzC,EACI,MAAMxO,EAAI,WAAW,UACrB,OAAO,eAAiB,OAAO,eAAe,KAAMA,CAAC,EAAI,KAAK,UAAYA,EAAG,KAAK,KAAO,WAAY,KAAK,OAAS2d,CACpH,CACD,IAAI,QAAS,CACX,OAAO,KAAK,MACb,CACD,OAAOA,EAAG,CACR,MAAM3d,EAAI2d,GAAK,SAASlP,EAAG,CACzB,OAAOA,EAAE,OACf,EAAOD,EAAI,CAAE,QAAS,CAAE,CAAA,EAAI,EAAKC,GAAM,CACjC,UAAW,KAAKA,EAAE,OAChB,GAAI,EAAE,OAAS,gBACb,EAAE,YAAY,IAAI,CAAC,UACZ,EAAE,OAAS,sBAClB,EAAE,EAAE,eAAe,UACZ,EAAE,OAAS,oBAClB,EAAE,EAAE,cAAc,UACX,EAAE,KAAK,SAAW,EACzBD,EAAE,QAAQ,KAAKxO,EAAE,CAAC,CAAC,MAChB,CACH,IAAIwB,EAAIgN,EAAGqO,EAAI,EACf,KAAOA,EAAI,EAAE,KAAK,QAAU,CAC1B,MAAMzO,EAAI,EAAE,KAAKyO,CAAC,EAClBA,IAAM,EAAE,KAAK,OAAS,GAAKrb,EAAE4M,CAAC,EAAI5M,EAAE4M,CAAC,GAAK,CAAE,QAAS,CAAA,CAAI,EAAE5M,EAAE4M,CAAC,EAAE,QAAQ,KAAKpO,EAAE,CAAC,CAAC,GAAKwB,EAAE4M,CAAC,EAAI5M,EAAE4M,CAAC,GAAK,CAAE,QAAS,CAAE,CAAA,EAAI5M,EAAIA,EAAE4M,CAAC,EAAGyO,GACjI,CACF,CACT,EACI,OAAO,EAAE,IAAI,EAAGrO,CACjB,CACD,UAAW,CACT,OAAO,KAAK,OACb,CACD,IAAI,SAAU,CACZ,OAAO,KAAK,UAAU,KAAK,OAAQyP,GAAE,sBAAuB,CAAC,CAC9D,CACD,IAAI,SAAU,CACZ,OAAO,KAAK,OAAO,SAAW,CAC/B,CACD,QAAQN,EAAK3d,GAAMA,EAAE,QAAS,CAC5B,MAAMA,EAAI,CAAA,EAAIwO,EAAI,GAClB,UAAW,KAAK,KAAK,OACnB,EAAE,KAAK,OAAS,GAAKxO,EAAE,EAAE,KAAK,CAAC,CAAC,EAAIA,EAAE,EAAE,KAAK,CAAC,CAAC,GAAK,GAAIA,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK2d,EAAE,CAAC,CAAC,GAAKnP,EAAE,KAAKmP,EAAE,CAAC,CAAC,EAChG,MAAO,CAAE,WAAYnP,EAAG,YAAaxO,CAAC,CACvC,CACD,IAAI,YAAa,CACf,OAAO,KAAK,SACb,CACH,CACAse,GAAG,OAAUZ,GAAM,IAAIY,GAAGZ,CAAC,EAC3B,MAAMa,GAAK,CAACb,EAAGC,IAAM,CACnB,IAAI3d,EACJ,OAAQ0d,EAAE,KAAI,CACZ,KAAKU,EAAE,aACLV,EAAE,WAAaQ,EAAE,UAAYle,EAAI,WAAaA,EAAI,YAAY0d,EAAE,QAAQ,cAAcA,EAAE,QAAQ,GAChG,MACF,KAAKU,EAAE,gBACLpe,EAAI,mCAAmC,KAAK,UAAU0d,EAAE,SAAUO,GAAE,qBAAqB,CAAC,GAC1F,MACF,KAAKG,EAAE,kBACLpe,EAAI,kCAAkCie,GAAE,WAAWP,EAAE,KAAM,IAAI,CAAC,GAChE,MACF,KAAKU,EAAE,cACLpe,EAAI,gBACJ,MACF,KAAKoe,EAAE,4BACLpe,EAAI,yCAAyCie,GAAE,WAAWP,EAAE,OAAO,CAAC,GACpE,MACF,KAAKU,EAAE,mBACLpe,EAAI,gCAAgCie,GAAE,WAAWP,EAAE,OAAO,CAAC,eAAeA,EAAE,QAAQ,IACpF,MACF,KAAKU,EAAE,kBACLpe,EAAI,6BACJ,MACF,KAAKoe,EAAE,oBACLpe,EAAI,+BACJ,MACF,KAAKoe,EAAE,aACLpe,EAAI,eACJ,MACF,KAAKoe,EAAE,eACL,OAAOV,EAAE,YAAc,SAAW,eAAgBA,EAAE,WAAa1d,EAAI,mCAAmC0d,EAAE,WAAW,UAAU,IAAM,aAAcA,EAAE,WAAa1d,EAAI,iCAAiC0d,EAAE,WAAW,QAAQ,IAAMO,GAAE,YAAYP,EAAE,UAAU,EAAIA,EAAE,aAAe,QAAU1d,EAAI,WAAW0d,EAAE,UAAU,GAAK1d,EAAI,UAC/T,MACF,KAAKoe,EAAE,UACLV,EAAE,OAAS,QAAU1d,EAAI,sBAAsB0d,EAAE,MAAQ,UAAYA,EAAE,UAAY,WAAa,WAAW,IAAIA,EAAE,OAAO,cAAgBA,EAAE,OAAS,SAAW1d,EAAI,uBAAuB0d,EAAE,MAAQ,UAAYA,EAAE,UAAY,WAAa,MAAM,IAAIA,EAAE,OAAO,gBAAkBA,EAAE,OAAS,SAAW1d,EAAI,kBAAkB0d,EAAE,MAAQ,oBAAsBA,EAAE,UAAY,4BAA8B,eAAe,GAAGA,EAAE,OAAO,GAAKA,EAAE,OAAS,OAAS1d,EAAI,gBAAgB0d,EAAE,MAAQ,oBAAsBA,EAAE,UAAY,4BAA8B,eAAe,GAAG,IAAI,KAAKA,EAAE,OAAO,CAAC,GAAK1d,EAAI,gBACzkB,MACF,KAAKoe,EAAE,QACLV,EAAE,OAAS,QAAU1d,EAAI,sBAAsB0d,EAAE,MAAQ,UAAYA,EAAE,UAAY,UAAY,WAAW,IAAIA,EAAE,OAAO,cAAgBA,EAAE,OAAS,SAAW1d,EAAI,uBAAuB0d,EAAE,MAAQ,UAAYA,EAAE,UAAY,UAAY,OAAO,IAAIA,EAAE,OAAO,gBAAkBA,EAAE,OAAS,SAAW1d,EAAI,kBAAkB0d,EAAE,MAAQ,UAAYA,EAAE,UAAY,wBAA0B,WAAW,IAAIA,EAAE,OAAO,GAAKA,EAAE,OAAS,OAAS1d,EAAI,gBAAgB0d,EAAE,MAAQ,UAAYA,EAAE,UAAY,2BAA6B,cAAc,IAAI,IAAI,KAAKA,EAAE,OAAO,CAAC,GAAK1d,EAAI,gBAC5iB,MACF,KAAKoe,EAAE,OACLpe,EAAI,gBACJ,MACF,KAAKoe,EAAE,2BACLpe,EAAI,2CACJ,MACF,KAAKoe,EAAE,gBACLpe,EAAI,gCAAgC0d,EAAE,UAAU,GAChD,MACF,KAAKU,EAAE,WACLpe,EAAI,wBACJ,MACF,QACEA,EAAI2d,EAAE,aAAcM,GAAE,YAAYP,CAAC,CACtC,CACD,MAAO,CAAE,QAAS1d,EACpB,EACA,IAAIwe,GAAKD,GACT,SAASE,GAAGf,EAAG,CACbc,GAAKd,CACP,CACA,SAASgB,IAAK,CACZ,OAAOF,EACT,CACA,MAAMG,GAAMjB,GAAM,CAChB,KAAM,CAAE,KAAMC,EAAG,KAAM3d,EAAG,UAAWwO,EAAG,UAAW,CAAC,EAAKkP,EAAGjP,EAAI,CAAC,GAAGzO,EAAG,GAAG,EAAE,MAAQ,CAAA,CAAE,EAAG,EAAI,CAC3F,GAAG,EACH,KAAMyO,CACV,EACE,IAAIjN,EAAI,GACR,MAAMqb,EAAIrO,EAAE,OAAQJ,GAAM,CAAC,CAACA,CAAC,EAAE,QAAQ,UACvC,UAAWA,KAAKyO,EACdrb,EAAI4M,EAAE,EAAG,CAAE,KAAMuP,EAAG,aAAcnc,EAAG,EAAE,QACzC,MAAO,CACL,GAAG,EACH,KAAMiN,EACN,QAAS,EAAE,SAAWjN,CAC1B,CACA,EAAGod,GAAK,CAAA,EACR,SAASC,EAAEnB,EAAGC,EAAG,CACf,MAAM3d,EAAI2e,GAAG,CACX,UAAWhB,EACX,KAAMD,EAAE,KACR,KAAMA,EAAE,KACR,UAAW,CACTA,EAAE,OAAO,mBACTA,EAAE,eACFgB,GAAI,EACJH,EACD,EAAC,OAAQ/P,GAAM,CAAC,CAACA,CAAC,CACvB,CAAG,EACDkP,EAAE,OAAO,OAAO,KAAK1d,CAAC,CACxB,CACA,IAAA8e,GAAA,MAAMC,EAAG,CACP,aAAc,CACZ,KAAK,MAAQ,OACd,CACD,OAAQ,CACN,KAAK,QAAU,UAAY,KAAK,MAAQ,QACzC,CACD,OAAQ,CACN,KAAK,QAAU,YAAc,KAAK,MAAQ,UAC3C,CACD,OAAO,WAAWpB,EAAG3d,EAAG,CACtB,MAAMwO,EAAI,CAAA,EACV,UAAW,KAAKxO,EAAG,CACjB,GAAI,EAAE,SAAW,UACf,OAAOgf,EACT,EAAE,SAAW,SAAWrB,EAAE,QAASnP,EAAE,KAAK,EAAE,KAAK,CAClD,CACD,MAAO,CAAE,OAAQmP,EAAE,MAAO,MAAOnP,CAAC,CACnC,CACD,aAAa,iBAAiBmP,EAAG3d,EAAG,CAClC,MAAMwO,EAAI,CAAA,EACV,UAAW,KAAKxO,EACdwO,EAAE,KAAK,CACL,IAAK,MAAM,EAAE,IACb,MAAO,MAAM,EAAE,KACvB,CAAO,EACH,OAAOuQ,GAAG,gBAAgBpB,EAAGnP,CAAC,CAC/B,CACD,OAAO,gBAAgBmP,EAAG3d,EAAG,CAC3B,MAAMwO,EAAI,CAAA,EACV,UAAW,KAAKxO,EAAG,CACjB,KAAM,CAAE,IAAKyO,EAAG,MAAO,CAAC,EAAK,EAC7B,GAAIA,EAAE,SAAW,WAAa,EAAE,SAAW,UACzC,OAAOuQ,EACTvQ,EAAE,SAAW,SAAWkP,EAAE,MAAK,EAAI,EAAE,SAAW,SAAWA,EAAE,MAAO,GAAG,OAAO,EAAE,MAAQ,KAAO,EAAE,aAAenP,EAAEC,EAAE,KAAK,EAAI,EAAE,MAChI,CACD,MAAO,CAAE,OAAQkP,EAAE,MAAO,MAAOnP,CAAC,CACnC,CACH,EACA,MAAMwQ,EAAI,OAAO,OAAO,CACtB,OAAQ,SACV,CAAC,EAAGC,GAAMvB,IAAO,CAAE,OAAQ,QAAS,MAAOA,CAAC,GAAKwB,GAAMxB,IAAO,CAAE,OAAQ,QAAS,MAAOA,IAAMyB,GAAMzB,GAAMA,EAAE,SAAW,UAAW0B,GAAM1B,GAAMA,EAAE,SAAW,QAAS2B,GAAM3B,GAAMA,EAAE,SAAW,QAAS4B,GAAM5B,GAAM,OAAO,UAAY,QAAUA,aAAa,QAC5P,IAAI6B,GACH,SAAS7B,EAAG,CACXA,EAAE,SAAYC,GAAM,OAAOA,GAAK,SAAW,CAAE,QAASA,GAAMA,GAAK,CAAA,EAAID,EAAE,SAAYC,GAAM,OAAOA,GAAK,SAAWA,EAAIA,GAAK,KAAO,OAASA,EAAE,OAC7I,GAAG4B,IAAMA,EAAI,CAAE,EAAC,EAChB,IAAAC,GAAA,KAAS,CACP,YAAY7B,EAAG3d,EAAGwO,EAAG,EAAG,CACtB,KAAK,OAASmP,EAAG,KAAK,KAAO3d,EAAG,KAAK,MAAQwO,EAAG,KAAK,KAAO,CAC7D,CACD,IAAI,MAAO,CACT,OAAO,KAAK,MAAM,OAAO,KAAK,IAAI,CACnC,CACH,EACA,MAAMiR,GAAK,CAAC/B,EAAGC,IAAM,CACnB,GAAI0B,GAAG1B,CAAC,EACN,MAAO,CAAE,QAAS,GAAI,KAAMA,EAAE,OAChC,CACE,GAAI,CAACD,EAAE,OAAO,OAAO,OACnB,MAAM,IAAI,MAAM,2CAA2C,EAE7D,MAAO,CAAE,QAAS,GAAI,MADZ,IAAIY,GAAGZ,EAAE,OAAO,MAAM,CACF,CAC/B,CACH,EACA,SAAS7K,EAAE6K,EAAG,CACZ,GAAI,CAACA,EACH,MAAO,GACT,KAAM,CAAE,SAAUC,EAAG,mBAAoB3d,EAAG,eAAgBwO,EAAG,YAAa,CAAG,EAAGkP,EAClF,GAAIC,IAAM3d,GAAKwO,GACb,MAAM,IAAI,MAAM,0FAA0F,EAC5G,OAAOmP,EAAI,CAAE,SAAUA,EAAG,YAAa,CAAC,EAAK,CAAE,SAAU,CAACtP,EAAG7M,IAAM6M,EAAE,OAAS,eAAiB,CAAE,QAAS7M,EAAE,YAAY,EAAK,OAAOA,EAAE,KAAO,IAAM,CAAE,QAASgN,GAAgBhN,EAAE,YAAc,EAAG,CAAE,QAASxB,GAAgBwB,EAAE,cAAgB,YAAa,EAC7P,CACA,MAAMke,CAAE,CACN,YAAY/B,EAAG,CACb,KAAK,IAAM,KAAK,eAAgB,KAAK,KAAOA,EAAG,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EAAG,KAAK,UAAY,KAAK,UAAU,KAAK,IAAI,EAAG,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAAG,KAAK,eAAiB,KAAK,eAAe,KAAK,IAAI,EAAG,KAAK,IAAM,KAAK,IAAI,KAAK,IAAI,EAAG,KAAK,OAAS,KAAK,OAAO,KAAK,IAAI,EAAG,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAAG,KAAK,YAAc,KAAK,YAAY,KAAK,IAAI,EAAG,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EAAG,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EAAG,KAAK,QAAU,KAAK,QAAQ,KAAK,IAAI,EAAG,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EAAG,KAAK,QAAU,KAAK,QAAQ,KAAK,IAAI,EAAG,KAAK,GAAK,KAAK,GAAG,KAAK,IAAI,EAAG,KAAK,IAAM,KAAK,IAAI,KAAK,IAAI,EAAG,KAAK,UAAY,KAAK,UAAU,KAAK,IAAI,EAAG,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EAAG,KAAK,QAAU,KAAK,QAAQ,KAAK,IAAI,EAAG,KAAK,MAAQ,KAAK,MAAM,KAAK,IAAI,EAAG,KAAK,SAAW,KAAK,SAAS,KAAK,IAAI,EAAG,KAAK,KAAO,KAAK,KAAK,KAAK,IAAI,EAAG,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAAG,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,CAC/8B,CACD,IAAI,aAAc,CAChB,OAAO,KAAK,KAAK,WAClB,CACD,SAASA,EAAG,CACV,OAAOQ,GAAGR,EAAE,IAAI,CACjB,CACD,gBAAgBA,EAAG3d,EAAG,CACpB,OAAOA,GAAK,CACV,OAAQ2d,EAAE,OAAO,OACjB,KAAMA,EAAE,KACR,WAAYQ,GAAGR,EAAE,IAAI,EACrB,eAAgB,KAAK,KAAK,SAC1B,KAAMA,EAAE,KACR,OAAQA,EAAE,MAChB,CACG,CACD,oBAAoBA,EAAG,CACrB,MAAO,CACL,OAAQ,IAAIoB,GACZ,IAAK,CACH,OAAQpB,EAAE,OAAO,OACjB,KAAMA,EAAE,KACR,WAAYQ,GAAGR,EAAE,IAAI,EACrB,eAAgB,KAAK,KAAK,SAC1B,KAAMA,EAAE,KACR,OAAQA,EAAE,MACX,CACP,CACG,CACD,WAAWA,EAAG,CACZ,MAAM3d,EAAI,KAAK,OAAO2d,CAAC,EACvB,GAAI2B,GAAGtf,CAAC,EACN,MAAM,IAAI,MAAM,wCAAwC,EAC1D,OAAOA,CACR,CACD,YAAY2d,EAAG,CACb,MAAM3d,EAAI,KAAK,OAAO2d,CAAC,EACvB,OAAO,QAAQ,QAAQ3d,CAAC,CACzB,CACD,MAAM2d,EAAG3d,EAAG,CACV,MAAMwO,EAAI,KAAK,UAAUmP,EAAG3d,CAAC,EAC7B,GAAIwO,EAAE,QACJ,OAAOA,EAAE,KACX,MAAMA,EAAE,KACT,CACD,UAAUmP,EAAG3d,EAAG,CACd,IAAIwO,EACJ,MAAM,EAAI,CACR,OAAQ,CACN,OAAQ,CAAE,EACV,OAAQA,EAAIxO,GAAK,KAAO,OAASA,EAAE,SAAW,MAAQwO,IAAM,OAASA,EAAI,GACzE,mBAAoBxO,GAAK,KAAO,OAASA,EAAE,QAC5C,EACD,MAAOA,GAAK,KAAO,OAASA,EAAE,OAAS,CAAE,EACzC,eAAgB,KAAK,KAAK,SAC1B,OAAQ,KACR,KAAM2d,EACN,WAAYQ,GAAGR,CAAC,CACjB,EAAElP,EAAI,KAAK,WAAW,CAAE,KAAMkP,EAAG,KAAM,EAAE,KAAM,OAAQ,CAAG,CAAA,EAC3D,OAAO8B,GAAG,EAAGhR,CAAC,CACf,CACD,MAAM,WAAWkP,EAAG3d,EAAG,CACrB,MAAMwO,EAAI,MAAM,KAAK,eAAemP,EAAG3d,CAAC,EACxC,GAAIwO,EAAE,QACJ,OAAOA,EAAE,KACX,MAAMA,EAAE,KACT,CACD,MAAM,eAAemP,EAAG3d,EAAG,CACzB,MAAMwO,EAAI,CACR,OAAQ,CACN,OAAQ,CAAE,EACV,mBAAoBxO,GAAK,KAAO,OAASA,EAAE,SAC3C,MAAO,EACR,EACD,MAAOA,GAAK,KAAO,OAASA,EAAE,OAAS,CAAE,EACzC,eAAgB,KAAK,KAAK,SAC1B,OAAQ,KACR,KAAM2d,EACN,WAAYQ,GAAGR,CAAC,CACtB,EAAO,EAAI,KAAK,OAAO,CAAE,KAAMA,EAAG,KAAMnP,EAAE,KAAM,OAAQA,CAAC,CAAE,EAAGC,EAAI,MAAO6Q,GAAG,CAAC,EAAI,EAAI,QAAQ,QAAQ,CAAC,GAClG,OAAOG,GAAGjR,EAAGC,CAAC,CACf,CACD,OAAOkP,EAAG3d,EAAG,CACX,MAAMwO,EAAK,GAAM,OAAOxO,GAAK,UAAY,OAAOA,EAAI,IAAM,CAAE,QAASA,CAAG,EAAG,OAAOA,GAAK,WAAaA,EAAE,CAAC,EAAIA,EAC3G,OAAO,KAAK,YAAY,CAAC,EAAGyO,IAAM,CAChC,MAAM,EAAIkP,EAAE,CAAC,EAAGnc,EAAI,IAAMiN,EAAE,SAAS,CACnC,KAAM2P,EAAE,OACR,GAAG5P,EAAE,CAAC,CACd,CAAO,EACD,OAAO,OAAO,QAAU,KAAO,aAAa,QAAU,EAAE,KAAMqO,GAAMA,EAAI,IAAMrb,EAAG,EAAE,GAAG,EAAI,EAAI,IAAMA,EAAC,EAAI,GAC/G,CAAK,CACF,CACD,WAAWmc,EAAG3d,EAAG,CACf,OAAO,KAAK,YAAY,CAACwO,EAAG,IAAMmP,EAAEnP,CAAC,EAAI,IAAM,EAAE,SAAS,OAAOxO,GAAK,WAAaA,EAAEwO,EAAG,CAAC,EAAIxO,CAAC,EAAG,GAAG,CACrG,CACD,YAAY2d,EAAG,CACb,OAAO,IAAIgC,GAAG,CACZ,OAAQ,KACR,SAAUC,EAAE,WACZ,OAAQ,CAAE,KAAM,aAAc,WAAYjC,CAAG,CACnD,CAAK,CACF,CACD,YAAYA,EAAG,CACb,OAAO,KAAK,YAAYA,CAAC,CAC1B,CACD,UAAW,CACT,OAAOkC,GAAG,OAAO,IAAI,CACtB,CACD,UAAW,CACT,OAAOC,GAAG,OAAO,IAAI,CACtB,CACD,SAAU,CACR,OAAO,KAAK,WAAW,UACxB,CACD,OAAQ,CACN,OAAOC,GAAG,OAAO,IAAI,CACtB,CACD,SAAU,CACR,OAAOC,GAAG,OAAO,IAAI,CACtB,CACD,GAAGrC,EAAG,CACJ,OAAOsC,GAAG,OAAO,CAAC,KAAMtC,CAAC,CAAC,CAC3B,CACD,IAAIA,EAAG,CACL,OAAOuC,GAAG,OAAO,KAAMvC,CAAC,CACzB,CACD,UAAUA,EAAG,CACX,OAAO,IAAIgC,GAAG,CACZ,OAAQ,KACR,SAAUC,EAAE,WACZ,OAAQ,CAAE,KAAM,YAAa,UAAWjC,CAAG,CACjD,CAAK,CACF,CACD,QAAQA,EAAG,CACT,MAAM3d,EAAI,OAAO2d,GAAK,WAAaA,EAAI,IAAMA,EAC7C,OAAO,IAAIwC,GAAG,CACZ,UAAW,KACX,aAAcngB,EACd,SAAU4f,EAAE,UAClB,CAAK,CACF,CACD,OAAQ,CACN,OAAO,IAAIQ,GAAG,CACZ,SAAUR,EAAE,WACZ,KAAM,KACN,GAAG/M,EAAE,MAAM,CACjB,CAAK,CACF,CACD,MAAM8K,EAAG,CACP,MAAM3d,EAAI,OAAO2d,GAAK,WAAaA,EAAI,IAAMA,EAC7C,OAAO,IAAI0C,GAAG,CACZ,UAAW,KACX,aAAcrgB,EACd,SAAU4f,EAAE,QAClB,CAAK,CACF,CACD,SAASjC,EAAG,CACV,MAAM3d,EAAI,KAAK,YACf,OAAO,IAAIA,EAAE,CACX,GAAG,KAAK,KACR,YAAa2d,CACnB,CAAK,CACF,CACD,KAAKA,EAAG,CACN,OAAO2C,GAAG,OAAO,KAAM3C,CAAC,CACzB,CACD,YAAa,CACX,OAAO,KAAK,UAAU,MAAM,EAAE,OAC/B,CACD,YAAa,CACX,OAAO,KAAK,UAAU,IAAI,EAAE,OAC7B,CACH,CACA,MAAM4C,GAAK,iBAAkBC,GAAK,8GAA+GlL,GAAK,uHAAwHmL,GAAM/C,GAAMA,EAAE,UAAYA,EAAE,OAAS,IAAI,OAAO,oDAAoDA,EAAE,SAAS,2BAA2B,EAAI,IAAI,OAAO,oDAAoDA,EAAE,SAAS,KAAK,EAAIA,EAAE,YAAc,EAAIA,EAAE,OAAS,IAAI,OAAO,oEAAoE,EAAI,IAAI,OAAO,8CAA8C,EAAIA,EAAE,OAAS,IAAI,OAAO,8EAA8E,EAAI,IAAI,OAAO,wDAAwD,EACz0B,MAAMgD,WAAWhB,CAAE,CACjB,aAAc,CACZ,MAAM,GAAG,SAAS,EAAG,KAAK,OAAS,CAAC/B,EAAG3d,EAAGwO,IAAM,KAAK,WAAY,GAAMmP,EAAE,KAAK,CAAC,EAAG,CAChF,WAAY3d,EACZ,KAAMoe,EAAE,eACR,GAAGmB,EAAE,SAAS/Q,CAAC,CACrB,CAAK,EAAG,KAAK,SAAYmP,GAAM,KAAK,IAAI,EAAG4B,EAAE,SAAS5B,CAAC,CAAC,EAAG,KAAK,KAAO,IAAM,IAAI+C,GAAG,CAC9E,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQ,CAAE,KAAM,OAAQ,CACpD,CAAK,CACF,CACD,OAAO/C,EAAG,CACR,GAAI,KAAK,KAAK,SAAWA,EAAE,KAAO,OAAOA,EAAE,IAAI,GAAI,KAAK,SAASA,CAAC,IAAMO,EAAE,OAAQ,CAChF,MAAMzP,EAAI,KAAK,gBAAgBkP,CAAC,EAChC,OAAOkB,EACLpQ,EACA,CACE,KAAM2P,EAAE,aACR,SAAUF,EAAE,OACZ,SAAUzP,EAAE,UACb,CACF,EAAEuQ,CACJ,CACD,MAAM,EAAI,IAAID,GACd,IAAIxQ,EACJ,UAAWE,KAAK,KAAK,KAAK,OACxB,GAAIA,EAAE,OAAS,MACbkP,EAAE,KAAK,OAASlP,EAAE,QAAUF,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CAC/D,KAAM6P,EAAE,UACR,QAAS3P,EAAE,MACX,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAE,OACrB,CAAS,EAAG,EAAE,MAAK,WACJA,EAAE,OAAS,MAClBkP,EAAE,KAAK,OAASlP,EAAE,QAAUF,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CAC/D,KAAM6P,EAAE,QACR,QAAS3P,EAAE,MACX,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAE,OACrB,CAAS,EAAG,EAAE,MAAK,WACJA,EAAE,OAAS,SAAU,CAC5B,MAAMJ,EAAIsP,EAAE,KAAK,OAASlP,EAAE,MAAOjN,EAAImc,EAAE,KAAK,OAASlP,EAAE,OACxDJ,GAAK7M,KAAO+M,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGF,EAAIwQ,EAAEtQ,EAAG,CACpD,KAAM6P,EAAE,QACR,QAAS3P,EAAE,MACX,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAE,OACrB,CAAS,EAAIjN,GAAKqd,EAAEtQ,EAAG,CACb,KAAM6P,EAAE,UACR,QAAS3P,EAAE,MACX,KAAM,SACN,UAAW,GACX,MAAO,GACP,QAASA,EAAE,OACrB,CAAS,EAAG,EAAE,MAAK,EACnB,SAAiBA,EAAE,OAAS,QACpB6G,GAAG,KAAKqI,EAAE,IAAI,IAAMpP,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CACvD,WAAY,QACZ,KAAM6P,EAAE,eACR,QAAS3P,EAAE,OACrB,CAAS,EAAG,EAAE,MAAK,WACJA,EAAE,OAAS,OAClB+R,GAAG,KAAK7C,EAAE,IAAI,IAAMpP,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CACvD,WAAY,OACZ,KAAM6P,EAAE,eACR,QAAS3P,EAAE,OACrB,CAAS,EAAG,EAAE,MAAK,WACJA,EAAE,OAAS,OAClB8R,GAAG,KAAK5C,EAAE,IAAI,IAAMpP,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CACvD,WAAY,OACZ,KAAM6P,EAAE,eACR,QAAS3P,EAAE,OACrB,CAAS,EAAG,EAAE,MAAK,WACJA,EAAE,OAAS,MAClB,GAAI,CACF,IAAI,IAAIkP,EAAE,IAAI,CACxB,MAAgB,CACNpP,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CACnC,WAAY,MACZ,KAAM6P,EAAE,eACR,QAAS3P,EAAE,OACvB,CAAW,EAAG,EAAE,OACP,MAEDA,EAAE,OAAS,SAAWA,EAAE,MAAM,UAAY,EAAGA,EAAE,MAAM,KAAKkP,EAAE,IAAI,IAAMpP,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CACzG,WAAY,QACZ,KAAM6P,EAAE,eACR,QAAS3P,EAAE,OACZ,CAAA,EAAG,EAAE,MAAO,IAAKA,EAAE,OAAS,OAASkP,EAAE,KAAOA,EAAE,KAAK,KAAI,EAAKlP,EAAE,OAAS,aAAekP,EAAE,KAAK,WAAWlP,EAAE,KAAK,IAAMF,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CAC3J,KAAM6P,EAAE,eACR,WAAY,CAAE,WAAY3P,EAAE,KAAO,EACnC,QAASA,EAAE,OACrB,CAAS,EAAG,EAAE,SAAWA,EAAE,OAAS,WAAakP,EAAE,KAAK,SAASlP,EAAE,KAAK,IAAMF,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CACzG,KAAM6P,EAAE,eACR,WAAY,CAAE,SAAU3P,EAAE,KAAO,EACjC,QAASA,EAAE,OACrB,CAAS,EAAG,EAAE,MAAK,GAAMA,EAAE,OAAS,WAAagS,GAAGhS,CAAC,EAAE,KAAKkP,EAAE,IAAI,IAAMpP,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CACnG,KAAM6P,EAAE,eACR,WAAY,WACZ,QAAS3P,EAAE,OACrB,CAAS,EAAG,EAAE,MAAO,GAAIwP,GAAE,YAAYxP,CAAC,EACpC,MAAO,CAAE,OAAQ,EAAE,MAAO,MAAOkP,EAAE,KACpC,CACD,UAAUA,EAAG,CACX,OAAO,IAAI+C,GAAG,CACZ,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQ/C,CAAC,CACrC,CAAK,CACF,CACD,MAAMA,EAAG,CACP,OAAO,KAAK,UAAU,CAAE,KAAM,QAAS,GAAG4B,EAAE,SAAS5B,CAAC,CAAC,CAAE,CAC1D,CACD,IAAIA,EAAG,CACL,OAAO,KAAK,UAAU,CAAE,KAAM,MAAO,GAAG4B,EAAE,SAAS5B,CAAC,CAAC,CAAE,CACxD,CACD,KAAKA,EAAG,CACN,OAAO,KAAK,UAAU,CAAE,KAAM,OAAQ,GAAG4B,EAAE,SAAS5B,CAAC,CAAC,CAAE,CACzD,CACD,KAAKA,EAAG,CACN,OAAO,KAAK,UAAU,CAAE,KAAM,OAAQ,GAAG4B,EAAE,SAAS5B,CAAC,CAAC,CAAE,CACzD,CACD,SAASA,EAAG,CACV,IAAI3d,EACJ,OAAO,OAAO2d,GAAK,SAAW,KAAK,UAAU,CAC3C,KAAM,WACN,UAAW,KACX,OAAQ,GACR,QAASA,CACf,CAAK,EAAI,KAAK,UAAU,CAClB,KAAM,WACN,UAAW,OAAQA,GAAK,KAAO,OAASA,EAAE,WAAa,IAAM,KAAOA,GAAK,KAAO,OAASA,EAAE,UAC3F,QAAS3d,EAAI2d,GAAK,KAAO,OAASA,EAAE,UAAY,MAAQ3d,IAAM,OAASA,EAAI,GAC3E,GAAGuf,EAAE,SAAS5B,GAAK,KAAO,OAASA,EAAE,OAAO,CAClD,CAAK,CACF,CACD,MAAMA,EAAG3d,EAAG,CACV,OAAO,KAAK,UAAU,CACpB,KAAM,QACN,MAAO2d,EACP,GAAG4B,EAAE,SAASvf,CAAC,CACrB,CAAK,CACF,CACD,WAAW2d,EAAG3d,EAAG,CACf,OAAO,KAAK,UAAU,CACpB,KAAM,aACN,MAAO2d,EACP,GAAG4B,EAAE,SAASvf,CAAC,CACrB,CAAK,CACF,CACD,SAAS2d,EAAG3d,EAAG,CACb,OAAO,KAAK,UAAU,CACpB,KAAM,WACN,MAAO2d,EACP,GAAG4B,EAAE,SAASvf,CAAC,CACrB,CAAK,CACF,CACD,IAAI2d,EAAG3d,EAAG,CACR,OAAO,KAAK,UAAU,CACpB,KAAM,MACN,MAAO2d,EACP,GAAG4B,EAAE,SAASvf,CAAC,CACrB,CAAK,CACF,CACD,IAAI2d,EAAG3d,EAAG,CACR,OAAO,KAAK,UAAU,CACpB,KAAM,MACN,MAAO2d,EACP,GAAG4B,EAAE,SAASvf,CAAC,CACrB,CAAK,CACF,CACD,OAAO2d,EAAG3d,EAAG,CACX,OAAO,KAAK,UAAU,CACpB,KAAM,SACN,MAAO2d,EACP,GAAG4B,EAAE,SAASvf,CAAC,CACrB,CAAK,CACF,CACD,IAAI,YAAa,CACf,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAM2d,GAAMA,EAAE,OAAS,UAAU,CAC5D,CACD,IAAI,SAAU,CACZ,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAMA,EAAE,OAAS,OAAO,CACzD,CACD,IAAI,OAAQ,CACV,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAMA,EAAE,OAAS,KAAK,CACvD,CACD,IAAI,QAAS,CACX,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAMA,EAAE,OAAS,MAAM,CACxD,CACD,IAAI,QAAS,CACX,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAMA,EAAE,OAAS,MAAM,CACxD,CACD,IAAI,WAAY,CACd,IAAIA,EAAI,KACR,UAAW3d,KAAK,KAAK,KAAK,OACxBA,EAAE,OAAS,QAAU2d,IAAM,MAAQ3d,EAAE,MAAQ2d,KAAOA,EAAI3d,EAAE,OAC5D,OAAO2d,CACR,CACD,IAAI,WAAY,CACd,IAAIA,EAAI,KACR,UAAW3d,KAAK,KAAK,KAAK,OACxBA,EAAE,OAAS,QAAU2d,IAAM,MAAQ3d,EAAE,MAAQ2d,KAAOA,EAAI3d,EAAE,OAC5D,OAAO2d,CACR,CACH,CACA+C,GAAG,OAAUhD,GAAM,CACjB,IAAIC,EACJ,OAAO,IAAI+C,GAAG,CACZ,OAAQ,CAAE,EACV,SAAUd,EAAE,UACZ,QAASjC,EAAID,GAAK,KAAO,OAASA,EAAE,UAAY,MAAQC,IAAM,OAASA,EAAI,GAC3E,GAAG9K,EAAE6K,CAAC,CACV,CAAG,CACH,EACA,SAASiD,GAAGjD,EAAGC,EAAG,CAChB,MAAM3d,GAAK0d,EAAE,SAAU,EAAC,MAAM,GAAG,EAAE,CAAC,GAAK,IAAI,OAAQlP,GAAKmP,EAAE,SAAU,EAAC,MAAM,GAAG,EAAE,CAAC,GAAK,IAAI,OAAQ,EAAI3d,EAAIwO,EAAIxO,EAAIwO,EAAGC,EAAI,SAASiP,EAAE,QAAQ,CAAC,EAAE,QAAQ,IAAK,EAAE,CAAC,EAAG,EAAI,SAASC,EAAE,QAAQ,CAAC,EAAE,QAAQ,IAAK,EAAE,CAAC,EAC9M,OAAOlP,EAAI,EAAI,KAAK,IAAI,GAAI,CAAC,CAC/B,CACA,MAAMmS,WAAWlB,CAAE,CACjB,aAAc,CACZ,MAAM,GAAG,SAAS,EAAG,KAAK,IAAM,KAAK,IAAK,KAAK,IAAM,KAAK,IAAK,KAAK,KAAO,KAAK,UACjF,CACD,OAAO/B,EAAG,CACR,GAAI,KAAK,KAAK,SAAWA,EAAE,KAAO,OAAOA,EAAE,IAAI,GAAI,KAAK,SAASA,CAAC,IAAMO,EAAE,OAAQ,CAChF,MAAMzP,EAAI,KAAK,gBAAgBkP,CAAC,EAChC,OAAOkB,EAAEpQ,EAAG,CACV,KAAM2P,EAAE,aACR,SAAUF,EAAE,OACZ,SAAUzP,EAAE,UACb,CAAA,EAAGuQ,CACL,CACD,IAAI,EACJ,MAAMzQ,EAAI,IAAIwQ,GACd,UAAWtQ,KAAK,KAAK,KAAK,OACxBA,EAAE,OAAS,MAAQwP,GAAE,UAAUN,EAAE,IAAI,IAAM,EAAI,KAAK,gBAAgBA,EAAG,CAAC,EAAGkB,EAAE,EAAG,CAC9E,KAAMT,EAAE,aACR,SAAU,UACV,SAAU,QACV,QAAS3P,EAAE,OACZ,CAAA,EAAGF,EAAE,MAAO,GAAIE,EAAE,OAAS,OAASA,EAAE,UAAYkP,EAAE,KAAOlP,EAAE,MAAQkP,EAAE,MAAQlP,EAAE,SAAW,EAAI,KAAK,gBAAgBkP,EAAG,CAAC,EAAGkB,EAAE,EAAG,CAChI,KAAMT,EAAE,UACR,QAAS3P,EAAE,MACX,KAAM,SACN,UAAWA,EAAE,UACb,MAAO,GACP,QAASA,EAAE,OACZ,CAAA,EAAGF,EAAE,MAAO,GAAIE,EAAE,OAAS,OAASA,EAAE,UAAYkP,EAAE,KAAOlP,EAAE,MAAQkP,EAAE,MAAQlP,EAAE,SAAW,EAAI,KAAK,gBAAgBkP,EAAG,CAAC,EAAGkB,EAAE,EAAG,CAChI,KAAMT,EAAE,QACR,QAAS3P,EAAE,MACX,KAAM,SACN,UAAWA,EAAE,UACb,MAAO,GACP,QAASA,EAAE,OACnB,CAAO,EAAGF,EAAE,MAAK,GAAME,EAAE,OAAS,aAAekS,GAAGhD,EAAE,KAAMlP,EAAE,KAAK,IAAM,IAAM,EAAI,KAAK,gBAAgBkP,EAAG,CAAC,EAAGkB,EAAE,EAAG,CAC5G,KAAMT,EAAE,gBACR,WAAY3P,EAAE,MACd,QAASA,EAAE,OACnB,CAAO,EAAGF,EAAE,SAAWE,EAAE,OAAS,SAAW,OAAO,SAASkP,EAAE,IAAI,IAAM,EAAI,KAAK,gBAAgBA,EAAG,CAAC,EAAGkB,EAAE,EAAG,CACtG,KAAMT,EAAE,WACR,QAAS3P,EAAE,OACnB,CAAO,EAAGF,EAAE,MAAO,GAAI0P,GAAE,YAAYxP,CAAC,EAClC,MAAO,CAAE,OAAQF,EAAE,MAAO,MAAOoP,EAAE,KACpC,CACD,IAAIA,EAAG3d,EAAG,CACR,OAAO,KAAK,SAAS,MAAO2d,EAAG,GAAI4B,EAAE,SAASvf,CAAC,CAAC,CACjD,CACD,GAAG2d,EAAG3d,EAAG,CACP,OAAO,KAAK,SAAS,MAAO2d,EAAG,GAAI4B,EAAE,SAASvf,CAAC,CAAC,CACjD,CACD,IAAI2d,EAAG3d,EAAG,CACR,OAAO,KAAK,SAAS,MAAO2d,EAAG,GAAI4B,EAAE,SAASvf,CAAC,CAAC,CACjD,CACD,GAAG2d,EAAG3d,EAAG,CACP,OAAO,KAAK,SAAS,MAAO2d,EAAG,GAAI4B,EAAE,SAASvf,CAAC,CAAC,CACjD,CACD,SAAS2d,EAAG3d,EAAGwO,EAAG,EAAG,CACnB,OAAO,IAAIoS,GAAG,CACZ,GAAG,KAAK,KACR,OAAQ,CACN,GAAG,KAAK,KAAK,OACb,CACE,KAAMjD,EACN,MAAO3d,EACP,UAAWwO,EACX,QAAS+Q,EAAE,SAAS,CAAC,CACtB,CACF,CACP,CAAK,CACF,CACD,UAAU5B,EAAG,CACX,OAAO,IAAIiD,GAAG,CACZ,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQjD,CAAC,CACrC,CAAK,CACF,CACD,IAAIA,EAAG,CACL,OAAO,KAAK,UAAU,CACpB,KAAM,MACN,QAAS4B,EAAE,SAAS5B,CAAC,CAC3B,CAAK,CACF,CACD,SAASA,EAAG,CACV,OAAO,KAAK,UAAU,CACpB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAAS4B,EAAE,SAAS5B,CAAC,CAC3B,CAAK,CACF,CACD,SAASA,EAAG,CACV,OAAO,KAAK,UAAU,CACpB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAAS4B,EAAE,SAAS5B,CAAC,CAC3B,CAAK,CACF,CACD,YAAYA,EAAG,CACb,OAAO,KAAK,UAAU,CACpB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAAS4B,EAAE,SAAS5B,CAAC,CAC3B,CAAK,CACF,CACD,YAAYA,EAAG,CACb,OAAO,KAAK,UAAU,CACpB,KAAM,MACN,MAAO,EACP,UAAW,GACX,QAAS4B,EAAE,SAAS5B,CAAC,CAC3B,CAAK,CACF,CACD,WAAWA,EAAG3d,EAAG,CACf,OAAO,KAAK,UAAU,CACpB,KAAM,aACN,MAAO2d,EACP,QAAS4B,EAAE,SAASvf,CAAC,CAC3B,CAAK,CACF,CACD,OAAO2d,EAAG,CACR,OAAO,KAAK,UAAU,CACpB,KAAM,SACN,QAAS4B,EAAE,SAAS5B,CAAC,CAC3B,CAAK,CACF,CACD,IAAI,UAAW,CACb,IAAIA,EAAI,KACR,UAAW3d,KAAK,KAAK,KAAK,OACxBA,EAAE,OAAS,QAAU2d,IAAM,MAAQ3d,EAAE,MAAQ2d,KAAOA,EAAI3d,EAAE,OAC5D,OAAO2d,CACR,CACD,IAAI,UAAW,CACb,IAAIA,EAAI,KACR,UAAW3d,KAAK,KAAK,KAAK,OACxBA,EAAE,OAAS,QAAU2d,IAAM,MAAQ3d,EAAE,MAAQ2d,KAAOA,EAAI3d,EAAE,OAC5D,OAAO2d,CACR,CACD,IAAI,OAAQ,CACV,MAAO,CAAC,CAAC,KAAK,KAAK,OAAO,KAAMA,GAAMA,EAAE,OAAS,KAAK,CACvD,CACH,CACAiD,GAAG,OAAUlD,GAAM,IAAIkD,GAAG,CACxB,OAAQ,CAAE,EACV,SAAUhB,EAAE,UACZ,QAASlC,GAAK,KAAO,OAASA,EAAE,SAAW,GAC3C,GAAG7K,EAAE6K,CAAC,CACR,CAAC,EACD,MAAMmD,WAAWnB,CAAE,CACjB,OAAO/B,EAAG,CACR,GAAI,KAAK,KAAK,SAAWA,EAAE,KAAO,OAAOA,EAAE,IAAI,GAAI,KAAK,SAASA,CAAC,IAAMO,EAAE,OAAQ,CAChF,MAAM,EAAI,KAAK,gBAAgBP,CAAC,EAChC,OAAOkB,EAAE,EAAG,CACV,KAAMT,EAAE,aACR,SAAUF,EAAE,OACZ,SAAU,EAAE,UACb,CAAA,EAAGc,CACL,CACD,OAAOE,GAAGvB,EAAE,IAAI,CACjB,CACH,CACAkD,GAAG,OAAUnD,GAAM,CACjB,IAAIC,EACJ,OAAO,IAAIkD,GAAG,CACZ,SAAUjB,EAAE,UACZ,QAASjC,EAAID,GAAK,KAAO,OAASA,EAAE,UAAY,MAAQC,IAAM,OAASA,EAAI,GAC3E,GAAG9K,EAAE6K,CAAC,CACV,CAAG,CACH,EACA,MAAMoD,WAAWpB,CAAE,CACjB,OAAO/B,EAAG,CACR,GAAI,KAAK,KAAK,SAAWA,EAAE,KAAO,EAAQA,EAAE,MAAQ,KAAK,SAASA,CAAC,IAAMO,EAAE,QAAS,CAClF,MAAM,EAAI,KAAK,gBAAgBP,CAAC,EAChC,OAAOkB,EAAE,EAAG,CACV,KAAMT,EAAE,aACR,SAAUF,EAAE,QACZ,SAAU,EAAE,UACb,CAAA,EAAGc,CACL,CACD,OAAOE,GAAGvB,EAAE,IAAI,CACjB,CACH,CACAmD,GAAG,OAAUpD,GAAM,IAAIoD,GAAG,CACxB,SAAUlB,EAAE,WACZ,QAASlC,GAAK,KAAO,OAASA,EAAE,SAAW,GAC3C,GAAG7K,EAAE6K,CAAC,CACR,CAAC,EACD,MAAMqD,WAAWrB,CAAE,CACjB,OAAO/B,EAAG,CACR,GAAI,KAAK,KAAK,SAAWA,EAAE,KAAO,IAAI,KAAKA,EAAE,IAAI,GAAI,KAAK,SAASA,CAAC,IAAMO,EAAE,KAAM,CAChF,MAAMzP,EAAI,KAAK,gBAAgBkP,CAAC,EAChC,OAAOkB,EAAEpQ,EAAG,CACV,KAAM2P,EAAE,aACR,SAAUF,EAAE,KACZ,SAAUzP,EAAE,UACb,CAAA,EAAGuQ,CACL,CACD,GAAI,MAAMrB,EAAE,KAAK,QAAS,CAAA,EAAG,CAC3B,MAAMlP,EAAI,KAAK,gBAAgBkP,CAAC,EAChC,OAAOkB,EAAEpQ,EAAG,CACV,KAAM2P,EAAE,YACT,CAAA,EAAGY,CACL,CACD,MAAM,EAAI,IAAID,GACd,IAAIxQ,EACJ,UAAWE,KAAK,KAAK,KAAK,OACxBA,EAAE,OAAS,MAAQkP,EAAE,KAAK,QAAO,EAAKlP,EAAE,QAAUF,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CACrF,KAAM6P,EAAE,UACR,QAAS3P,EAAE,QACX,UAAW,GACX,MAAO,GACP,QAASA,EAAE,MACX,KAAM,MACd,CAAO,EAAG,EAAE,SAAWA,EAAE,OAAS,MAAQkP,EAAE,KAAK,QAAS,EAAGlP,EAAE,QAAUF,EAAI,KAAK,gBAAgBoP,EAAGpP,CAAC,EAAGsQ,EAAEtQ,EAAG,CACtG,KAAM6P,EAAE,QACR,QAAS3P,EAAE,QACX,UAAW,GACX,MAAO,GACP,QAASA,EAAE,MACX,KAAM,MACd,CAAO,EAAG,EAAE,MAAO,GAAIwP,GAAE,YAAYxP,CAAC,EAClC,MAAO,CACL,OAAQ,EAAE,MACV,MAAO,IAAI,KAAKkP,EAAE,KAAK,QAAO,CAAE,CACtC,CACG,CACD,UAAUA,EAAG,CACX,OAAO,IAAIoD,GAAG,CACZ,GAAG,KAAK,KACR,OAAQ,CAAC,GAAG,KAAK,KAAK,OAAQpD,CAAC,CACrC,CAAK,CACF,CACD,IAAIA,EAAG3d,EAAG,CACR,OAAO,KAAK,UAAU,CACpB,KAAM,MACN,MAAO2d,EAAE,QAAS,EAClB,QAAS4B,EAAE,SAASvf,CAAC,CAC3B,CAAK,CACF,CACD,IAAI2d,EAAG3d,EAAG,CACR,OAAO,KAAK,UAAU,CACpB,KAAM,MACN,MAAO2d,EAAE,QAAS,EAClB,QAAS4B,EAAE,SAASvf,CAAC,CAC3B,CAAK,CACF,CACD,IAAI,SAAU,CACZ,IAAI2d,EAAI,KACR,UAAW3d,KAAK,KAAK,KAAK,OACxBA,EAAE,OAAS,QAAU2d,IAAM,MAAQ3d,EAAE,MAAQ2d,KAAOA,EAAI3d,EAAE,OAC5D,OAAO2d,GAAK,KAAO,IAAI,KAAKA,CAAC,EAAI,IAClC,CACD,IAAI,SAAU,CACZ,IAAIA,EAAI,KACR,UAAW3d,KAAK,KAAK,KAAK,OACxBA,EAAE,OAAS,QAAU2d,IAAM,MAAQ3d,EAAE,MAAQ2d,KAAOA,EAAI3d,EAAE,OAC5D,OAAO2d,GAAK,KAAO,IAAI,KAAKA,CAAC,EAAI,IAClC,CACH,CACAoD,GAAG,OAAUrD,GAAM,IAAIqD,GAAG,CACxB,OAAQ,CAAE,EACV,QAASrD,GAAK,KAAO,OAASA,EAAE,SAAW,GAC3C,SAAUkC,EAAE,QACZ,GAAG/M,EAAE6K,CAAC,CACR,CAAC,EACD,MAAMsD,WAAWtB,CAAE,CACjB,OAAO/B,EAAG,CACR,GAAI,KAAK,SAASA,CAAC,IAAMO,EAAE,OAAQ,CACjC,MAAM,EAAI,KAAK,gBAAgBP,CAAC,EAChC,OAAOkB,EAAE,EAAG,CACV,KAAMT,EAAE,aACR,SAAUF,EAAE,OACZ,SAAU,EAAE,UACb,CAAA,EAAGc,CACL,CACD,OAAOE,GAAGvB,EAAE,IAAI,CACjB,CACH,CACAqD,GAAG,OAAUtD,GAAM,IAAIsD,GAAG,CACxB,SAAUpB,EAAE,UACZ,GAAG/M,EAAE6K,CAAC,CACR,CAAC,EACD,MAAMuD,WAAWvB,CAAE,CACjB,OAAO/B,EAAG,CACR,GAAI,KAAK,SAASA,CAAC,IAAMO,EAAE,UAAW,CACpC,MAAM,EAAI,KAAK,gBAAgBP,CAAC,EAChC,OAAOkB,EAAE,EAAG,CACV,KAAMT,EAAE,aACR,SAAUF,EAAE,UACZ,SAAU,EAAE,UACb,CAAA,EAAGc,CACL,CACD,OAAOE,GAAGvB,EAAE,IAAI,CACjB,CACH,CACAsD,GAAG,OAAUvD,GAAM,IAAIuD,GAAG,CACxB,SAAUrB,EAAE,aACZ,GAAG/M,EAAE6K,CAAC,CACR,CAAC,EACD,MAAMwD,WAAWxB,CAAE,CACjB,OAAO/B,EAAG,CACR,GAAI,KAAK,SAASA,CAAC,IAAMO,EAAE,KAAM,CAC/B,MAAM,EAAI,KAAK,gBAAgBP,CAAC,EAChC,OAAOkB,EAAE,EAAG,CACV,KAAMT,EAAE,aACR,SAAUF,EAAE,KACZ,SAAU,EAAE,UACb,CAAA,EAAGc,CACL,CACD,OAAOE,GAAGvB,EAAE,IAAI,CACjB,CACH,CACAuD,GAAG,OAAUxD,GAAM,IAAIwD,GAAG,CACxB,SAAUtB,EAAE,QACZ,GAAG/M,EAAE6K,CAAC,CACR,CAAC,EACD,MAAMyD,WAAWzB,CAAE,CACjB,aAAc,CACZ,MAAM,GAAG,SAAS,EAAG,KAAK,KAAO,EAClC,CACD,OAAO/B,EAAG,CACR,OAAOuB,GAAGvB,EAAE,IAAI,CACjB,CACH,CACAwD,GAAG,OAAUzD,GAAM,IAAIyD,GAAG,CACxB,SAAUvB,EAAE,OACZ,GAAG/M,EAAE6K,CAAC,CACR,CAAC,EACD,MAAM0D,WAAW1B,CAAE,CACjB,aAAc,CACZ,MAAM,GAAG,SAAS,EAAG,KAAK,SAAW,EACtC,CACD,OAAO/B,EAAG,CACR,OAAOuB,GAAGvB,EAAE,IAAI,CACjB,CACH,CACAyD,GAAG,OAAU1D,GAAM,IAAI0D,GAAG,CACxB,SAAUxB,EAAE,WACZ,GAAG/M,EAAE6K,CAAC,CACR,CAAC,SACD,cAAiBgC,CAAE,CACjB,OAAO/B,EAAG,CACR,MAAM3d,EAAI,KAAK,gBAAgB2d,CAAC,EAChC,OAAOkB,EAAE7e,EAAG,CACV,KAAMoe,EAAE,aACR,SAAUF,EAAE,MACZ,SAAUle,EAAE,UACb,CAAA,EAAGgf,CACL,CACH,EACAqC,GAAG,OAAU3D,GAAM,IAAI2D,GAAG,CACxB,SAAUzB,EAAE,SACZ,GAAG/M,EAAE6K,CAAC,CACR,CAAC,EACD,MAAM4D,WAAW5B,CAAE,CACjB,OAAO/B,EAAG,CACR,GAAI,KAAK,SAASA,CAAC,IAAMO,EAAE,UAAW,CACpC,MAAM,EAAI,KAAK,gBAAgBP,CAAC,EAChC,OAAOkB,EAAE,EAAG,CACV,KAAMT,EAAE,aACR,SAAUF,EAAE,KACZ,SAAU,EAAE,UACb,CAAA,EAAGc,CACL,CACD,OAAOE,GAAGvB,EAAE,IAAI,CACjB,CACH,CACA2D,GAAG,OAAU5D,GAAM,IAAI4D,GAAG,CACxB,SAAU1B,EAAE,QACZ,GAAG/M,EAAE6K,CAAC,CACR,CAAC,EACD,MAAMqC,WAAWL,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,IAAK3d,EAAG,OAAQwO,CAAG,EAAG,KAAK,oBAAoBmP,CAAC,EAAG,EAAI,KAAK,KACpE,GAAI3d,EAAE,aAAeke,EAAE,MACrB,OAAOW,EAAE7e,EAAG,CACV,KAAMoe,EAAE,aACR,SAAUF,EAAE,MACZ,SAAUle,EAAE,UACb,CAAA,EAAGgf,EACN,GAAI,EAAE,cAAgB,KAAM,CAC1B,MAAM,EAAIhf,EAAE,KAAK,OAAS,EAAE,YAAY,MAAOwB,EAAIxB,EAAE,KAAK,OAAS,EAAE,YAAY,OAChF,GAAKwB,KAAOqd,EAAE7e,EAAG,CAChB,KAAM,EAAIoe,EAAE,QAAUA,EAAE,UACxB,QAAS5c,EAAI,EAAE,YAAY,MAAQ,OACnC,QAAS,EAAI,EAAE,YAAY,MAAQ,OACnC,KAAM,QACN,UAAW,GACX,MAAO,GACP,QAAS,EAAE,YAAY,OAC/B,CAAO,EAAGgN,EAAE,MAAK,EACZ,CACD,GAAI,EAAE,YAAc,MAAQxO,EAAE,KAAK,OAAS,EAAE,UAAU,QAAU6e,EAAE7e,EAAG,CACrE,KAAMoe,EAAE,UACR,QAAS,EAAE,UAAU,MACrB,KAAM,QACN,UAAW,GACX,MAAO,GACP,QAAS,EAAE,UAAU,OAC3B,CAAK,EAAG5P,EAAE,MAAK,GAAK,EAAE,YAAc,MAAQxO,EAAE,KAAK,OAAS,EAAE,UAAU,QAAU6e,EAAE7e,EAAG,CACjF,KAAMoe,EAAE,QACR,QAAS,EAAE,UAAU,MACrB,KAAM,QACN,UAAW,GACX,MAAO,GACP,QAAS,EAAE,UAAU,OAC3B,CAAK,EAAG5P,EAAE,MAAK,GAAKxO,EAAE,OAAO,MACvB,OAAO,QAAQ,IAAIA,EAAE,KAAK,IAAI,CAAC,EAAGwB,IAAM,EAAE,KAAK,YAAY,IAAI+f,GAAGvhB,EAAG,EAAGA,EAAE,KAAMwB,CAAC,CAAC,CAAC,CAAC,EAAE,KAAM,GAAMud,GAAG,WAAWvQ,EAAG,CAAC,CAAC,EACvH,MAAMC,EAAIzO,EAAE,KAAK,IAAI,CAAC,EAAGwB,IAAM,EAAE,KAAK,WAAW,IAAI+f,GAAGvhB,EAAG,EAAGA,EAAE,KAAMwB,CAAC,CAAC,CAAC,EACzE,OAAOud,GAAG,WAAWvQ,EAAGC,CAAC,CAC1B,CACD,IAAI,SAAU,CACZ,OAAO,KAAK,KAAK,IAClB,CACD,IAAIkP,EAAG3d,EAAG,CACR,OAAO,IAAI+f,GAAG,CACZ,GAAG,KAAK,KACR,UAAW,CAAE,MAAOpC,EAAG,QAAS4B,EAAE,SAASvf,CAAC,CAAG,CACrD,CAAK,CACF,CACD,IAAI2d,EAAG3d,EAAG,CACR,OAAO,IAAI+f,GAAG,CACZ,GAAG,KAAK,KACR,UAAW,CAAE,MAAOpC,EAAG,QAAS4B,EAAE,SAASvf,CAAC,CAAG,CACrD,CAAK,CACF,CACD,OAAO2d,EAAG3d,EAAG,CACX,OAAO,IAAI+f,GAAG,CACZ,GAAG,KAAK,KACR,YAAa,CAAE,MAAOpC,EAAG,QAAS4B,EAAE,SAASvf,CAAC,CAAG,CACvD,CAAK,CACF,CACD,SAAS2d,EAAG,CACV,OAAO,KAAK,IAAI,EAAGA,CAAC,CACrB,CACH,CACAoC,GAAG,OAAS,CAACrC,EAAGC,IAAM,IAAIoC,GAAG,CAC3B,KAAMrC,EACN,UAAW,KACX,UAAW,KACX,YAAa,KACb,SAAUkC,EAAE,SACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD,IAAI6D,IACH,SAAS9D,EAAG,CACXA,EAAE,YAAc,CAACC,EAAG3d,KAAO,CACzB,GAAG2d,EACH,GAAG3d,CACP,EACA,GAAGwhB,KAAOA,GAAK,CAAE,EAAC,EAClB,MAAMC,GAAM/D,GAAOC,GAAM,IAAI+D,GAAE,CAC7B,GAAGhE,EACH,MAAO,KAAO,CACZ,GAAGA,EAAE,MAAO,EACZ,GAAGC,CACP,EACA,CAAC,EACD,SAASgE,GAAGjE,EAAG,CACb,GAAIA,aAAagE,GAAG,CAClB,MAAM/D,EAAI,CAAA,EACV,UAAW3d,KAAK0d,EAAE,MAAO,CACvB,MAAMlP,EAAIkP,EAAE,MAAM1d,CAAC,EACnB2d,EAAE3d,CAAC,EAAI6f,GAAG,OAAO8B,GAAGnT,CAAC,CAAC,CACvB,CACD,OAAO,IAAIkT,GAAE,CACX,GAAGhE,EAAE,KACL,MAAO,IAAMC,CACnB,CAAK,CACF,KACC,QAAOD,aAAaqC,GAAKA,GAAG,OAAO4B,GAAGjE,EAAE,OAAO,CAAC,EAAIA,aAAamC,GAAKA,GAAG,OAAO8B,GAAGjE,EAAE,QAAQ,CAAC,EAAIA,aAAaoC,GAAKA,GAAG,OAAO6B,GAAGjE,EAAE,OAAM,CAAE,CAAC,EAAIA,aAAakE,GAAKA,GAAG,OAAOlE,EAAE,MAAM,IAAKC,GAAMgE,GAAGhE,CAAC,CAAC,CAAC,EAAID,CAC7M,CACA,MAAMgE,WAAUhC,CAAE,CAChB,aAAc,CACZ,MAAM,GAAG,SAAS,EAAG,KAAK,QAAU,KAAM,KAAK,UAAY,KAAK,YAAa,KAAK,QAAU+B,GAAG,KAAK,IAAI,EAAG,KAAK,OAASA,GAAG,KAAK,IAAI,CACtI,CACD,YAAa,CACX,GAAI,KAAK,UAAY,KACnB,OAAO,KAAK,QACd,MAAM9D,EAAI,KAAK,KAAK,MAAK,EAAI3d,EAAIie,GAAE,WAAWN,CAAC,EAC/C,OAAO,KAAK,QAAU,CAAE,MAAOA,EAAG,KAAM3d,EACzC,CACD,OAAO2d,EAAG,CACR,GAAI,KAAK,SAASA,CAAC,IAAMO,EAAE,OAAQ,CACjC,MAAM9P,EAAI,KAAK,gBAAgBuP,CAAC,EAChC,OAAOkB,EAAEzQ,EAAG,CACV,KAAMgQ,EAAE,aACR,SAAUF,EAAE,OACZ,SAAU9P,EAAE,UACb,CAAA,EAAG4Q,CACL,CACD,KAAM,CAAE,OAAQ,EAAG,IAAKzQ,CAAC,EAAK,KAAK,oBAAoBoP,CAAC,EAAG,CAAE,MAAOlP,EAAG,KAAMJ,CAAG,EAAG,KAAK,WAAY,EAAE7M,EAAI,GAC1G,GAAI,EAAE,KAAK,KAAK,oBAAoB6f,IAAM,KAAK,KAAK,cAAgB,SAClE,UAAWjT,KAAKG,EAAE,KAChBF,EAAE,SAASD,CAAC,GAAK5M,EAAE,KAAK4M,CAAC,EAC7B,MAAMyO,EAAI,CAAA,EACV,UAAWzO,KAAKC,EAAG,CACjB,MAAMwT,EAAIpT,EAAEL,CAAC,EAAG0T,EAAIvT,EAAE,KAAKH,CAAC,EAC5ByO,EAAE,KAAK,CACL,IAAK,CAAE,OAAQ,QAAS,MAAOzO,CAAG,EAClC,MAAOyT,EAAE,OAAO,IAAIN,GAAGhT,EAAGuT,EAAGvT,EAAE,KAAMH,CAAC,CAAC,EACvC,UAAWA,KAAKG,EAAE,IAC1B,CAAO,CACF,CACD,GAAI,KAAK,KAAK,oBAAoB8S,GAAI,CACpC,MAAMjT,EAAI,KAAK,KAAK,YACpB,GAAIA,IAAM,cACR,UAAWyT,KAAKrgB,EACdqb,EAAE,KAAK,CACL,IAAK,CAAE,OAAQ,QAAS,MAAOgF,CAAG,EAClC,MAAO,CAAE,OAAQ,QAAS,MAAOtT,EAAE,KAAKsT,CAAC,CAAG,CACxD,CAAW,UACIzT,IAAM,SACb5M,EAAE,OAAS,IAAMqd,EAAEtQ,EAAG,CACpB,KAAM6P,EAAE,kBACR,KAAM5c,CAChB,CAAS,EAAG,EAAE,MAAK,WACJ4M,IAAM,QACb,MAAM,IAAI,MAAM,sDAAsD,CAC9E,KAAW,CACL,MAAMA,EAAI,KAAK,KAAK,SACpB,UAAWyT,KAAKrgB,EAAG,CACjB,MAAMsgB,EAAIvT,EAAE,KAAKsT,CAAC,EAClBhF,EAAE,KAAK,CACL,IAAK,CAAE,OAAQ,QAAS,MAAOgF,CAAG,EAClC,MAAOzT,EAAE,OACP,IAAImT,GAAGhT,EAAGuT,EAAGvT,EAAE,KAAMsT,CAAC,CACvB,EACD,UAAWA,KAAKtT,EAAE,IAC5B,CAAS,CACF,CACF,CACD,OAAOA,EAAE,OAAO,MAAQ,QAAQ,QAAO,EAAG,KAAK,SAAY,CACzD,MAAMH,EAAI,CAAA,EACV,UAAWyT,KAAKhF,EAAG,CACjB,MAAMiF,EAAI,MAAMD,EAAE,IAClBzT,EAAE,KAAK,CACL,IAAK0T,EACL,MAAO,MAAMD,EAAE,MACf,UAAWA,EAAE,SACvB,CAAS,CACF,CACD,OAAOzT,CACR,CAAA,EAAE,KAAMA,GAAM2Q,GAAG,gBAAgB,EAAG3Q,CAAC,CAAC,EAAI2Q,GAAG,gBAAgB,EAAGlC,CAAC,CACnE,CACD,IAAI,OAAQ,CACV,OAAO,KAAK,KAAK,OAClB,CACD,OAAOc,EAAG,CACR,OAAO4B,EAAE,SAAU,IAAImC,GAAE,CACvB,GAAG,KAAK,KACR,YAAa,SACb,GAAG/D,IAAM,OAAS,CAChB,SAAU,CAAC3d,EAAGwO,IAAM,CAClB,IAAI,EAAGC,EAAG,EAAGjN,EACb,MAAMqb,GAAK,GAAKpO,GAAK,EAAI,KAAK,MAAM,YAAc,MAAQA,IAAM,OAAS,OAASA,EAAE,KAAK,EAAGzO,EAAGwO,CAAC,EAAE,WAAa,MAAQ,IAAM,OAAS,EAAIA,EAAE,aAC5I,OAAOxO,EAAE,OAAS,oBAAsB,CACtC,SAAUwB,EAAI+d,EAAE,SAAS5B,CAAC,EAAE,WAAa,MAAQnc,IAAM,OAASA,EAAIqb,CAChF,EAAc,CACF,QAASA,CACrB,CACS,CACT,EAAU,CAAE,CACZ,CAAK,CACF,CACD,OAAQ,CACN,OAAO,IAAI6E,GAAE,CACX,GAAG,KAAK,KACR,YAAa,OACnB,CAAK,CACF,CACD,aAAc,CACZ,OAAO,IAAIA,GAAE,CACX,GAAG,KAAK,KACR,YAAa,aACnB,CAAK,CACF,CACD,OAAO/D,EAAG3d,EAAG,CACX,OAAO,KAAK,QAAQ,CAAE,CAAC2d,CAAC,EAAG3d,CAAG,CAAA,CAC/B,CACD,MAAM2d,EAAG,CACP,OAAO,IAAI+D,GAAE,CACX,YAAa/D,EAAE,KAAK,YACpB,SAAUA,EAAE,KAAK,SACjB,MAAO,IAAM6D,GAAG,YAAY,KAAK,KAAK,MAAK,EAAI7D,EAAE,KAAK,OAAO,EAC7D,SAAUiC,EAAE,SAClB,CAAK,CACF,CACD,SAASjC,EAAG,CACV,OAAO,IAAI+D,GAAE,CACX,GAAG,KAAK,KACR,SAAU/D,CAChB,CAAK,CACF,CACD,KAAKA,EAAG,CACN,MAAM3d,EAAI,CAAA,EACV,OAAOie,GAAE,WAAWN,CAAC,EAAE,IAAKnP,GAAM,CAChC,KAAK,MAAMA,CAAC,IAAMxO,EAAEwO,CAAC,EAAI,KAAK,MAAMA,CAAC,EAC3C,CAAK,EAAG,IAAIkT,GAAE,CACR,GAAG,KAAK,KACR,MAAO,IAAM1hB,CACnB,CAAK,CACF,CACD,KAAK2d,EAAG,CACN,MAAM3d,EAAI,CAAA,EACV,OAAOie,GAAE,WAAW,KAAK,KAAK,EAAE,IAAKzP,GAAM,CACzCyP,GAAE,WAAWN,CAAC,EAAE,QAAQnP,CAAC,IAAM,KAAOxO,EAAEwO,CAAC,EAAI,KAAK,MAAMA,CAAC,EAC/D,CAAK,EAAG,IAAIkT,GAAE,CACR,GAAG,KAAK,KACR,MAAO,IAAM1hB,CACnB,CAAK,CACF,CACD,aAAc,CACZ,OAAO2hB,GAAG,IAAI,CACf,CACD,QAAQhE,EAAG,CACT,MAAM3d,EAAI,CAAA,EACV,GAAI2d,EACF,OAAOM,GAAE,WAAW,KAAK,KAAK,EAAE,IAAKzP,GAAM,CACzCyP,GAAE,WAAWN,CAAC,EAAE,QAAQnP,CAAC,IAAM,GAAKxO,EAAEwO,CAAC,EAAI,KAAK,MAAMA,CAAC,EAAIxO,EAAEwO,CAAC,EAAI,KAAK,MAAMA,CAAC,EAAE,UACxF,CAAO,EAAG,IAAIkT,GAAE,CACR,GAAG,KAAK,KACR,MAAO,IAAM1hB,CACrB,CAAO,EACH,UAAWwO,KAAK,KAAK,MAAO,CAC1B,MAAM,EAAI,KAAK,MAAMA,CAAC,EACtBxO,EAAEwO,CAAC,EAAI,EAAE,SAAQ,CAClB,CACD,OAAO,IAAIkT,GAAE,CACX,GAAG,KAAK,KACR,MAAO,IAAM1hB,CACnB,CAAK,CACF,CACD,SAAS2d,EAAG,CACV,MAAM3d,EAAI,CAAA,EACV,GAAI2d,EACFM,GAAE,WAAW,KAAK,KAAK,EAAE,IAAKzP,GAAM,CAClC,GAAIyP,GAAE,WAAWN,CAAC,EAAE,QAAQnP,CAAC,IAAM,GACjCxO,EAAEwO,CAAC,EAAI,KAAK,MAAMA,CAAC,MAChB,CACH,IAAIC,EAAI,KAAK,MAAMD,CAAC,EACpB,KAAOC,aAAaoR,IAClBpR,EAAIA,EAAE,KAAK,UACbzO,EAAEwO,CAAC,EAAIC,CACR,CACT,CAAO,MAED,WAAWD,KAAK,KAAK,MAAO,CAC1B,IAAIC,EAAI,KAAK,MAAMD,CAAC,EACpB,KAAOC,aAAaoR,IAClBpR,EAAIA,EAAE,KAAK,UACbzO,EAAEwO,CAAC,EAAIC,CACR,CACH,OAAO,IAAIiT,GAAE,CACX,GAAG,KAAK,KACR,MAAO,IAAM1hB,CACnB,CAAK,CACF,CACD,OAAQ,CACN,OAAO+hB,GAAG9D,GAAE,WAAW,KAAK,KAAK,CAAC,CACnC,CACH,CACAyD,GAAE,OAAS,CAAChE,EAAGC,IAAM,IAAI+D,GAAE,CACzB,MAAO,IAAMhE,EACb,YAAa,QACb,SAAU2D,GAAG,OAAQ,EACrB,SAAUzB,EAAE,UACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD+D,GAAE,aAAe,CAAChE,EAAGC,IAAM,IAAI+D,GAAE,CAC/B,MAAO,IAAMhE,EACb,YAAa,SACb,SAAU2D,GAAG,OAAQ,EACrB,SAAUzB,EAAE,UACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD+D,GAAE,WAAa,CAAChE,EAAGC,IAAM,IAAI+D,GAAE,CAC7B,MAAOhE,EACP,YAAa,QACb,SAAU2D,GAAG,OAAQ,EACrB,SAAUzB,EAAE,UACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD,MAAMsC,WAAWP,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,IAAK3d,CAAG,EAAG,KAAK,oBAAoB2d,CAAC,EAAGnP,EAAI,KAAK,KAAK,QAC9D,SAAS,EAAEC,EAAG,CACZ,UAAWjN,KAAKiN,EACd,GAAIjN,EAAE,OAAO,SAAW,QACtB,OAAOA,EAAE,OACb,UAAWA,KAAKiN,EACd,GAAIjN,EAAE,OAAO,SAAW,QACtB,OAAOxB,EAAE,OAAO,OAAO,KAAK,GAAGwB,EAAE,IAAI,OAAO,MAAM,EAAGA,EAAE,OAC3D,MAAM,EAAIiN,EAAE,IAAKjN,GAAM,IAAI8c,GAAG9c,EAAE,IAAI,OAAO,MAAM,CAAC,EAClD,OAAOqd,EAAE7e,EAAG,CACV,KAAMoe,EAAE,cACR,YAAa,CACd,CAAA,EAAGY,CACL,CACD,GAAIhf,EAAE,OAAO,MACX,OAAO,QAAQ,IAAIwO,EAAE,IAAI,MAAOC,GAAM,CACpC,MAAM,EAAI,CACR,GAAGzO,EACH,OAAQ,CACN,GAAGA,EAAE,OACL,OAAQ,CAAE,CACX,EACD,OAAQ,IAClB,EACQ,MAAO,CACL,OAAQ,MAAMyO,EAAE,YAAY,CAC1B,KAAMzO,EAAE,KACR,KAAMA,EAAE,KACR,OAAQ,CACpB,CAAW,EACD,IAAK,CACf,CACA,CAAO,CAAC,EAAE,KAAK,CAAC,EACZ,CACE,IAAIyO,EACJ,MAAM,EAAI,CAAA,EACV,UAAWoO,KAAKrO,EAAG,CACjB,MAAMJ,EAAI,CACR,GAAGpO,EACH,OAAQ,CACN,GAAGA,EAAE,OACL,OAAQ,CAAE,CACX,EACD,OAAQ,IAClB,EAAW6hB,EAAIhF,EAAE,WAAW,CAClB,KAAM7c,EAAE,KACR,KAAMA,EAAE,KACR,OAAQoO,CAClB,CAAS,EACD,GAAIyT,EAAE,SAAW,QACf,OAAOA,EACTA,EAAE,SAAW,SAAW,CAACpT,IAAMA,EAAI,CAAE,OAAQoT,EAAG,IAAKzT,CAAC,GAAKA,EAAE,OAAO,OAAO,QAAU,EAAE,KAAKA,EAAE,OAAO,MAAM,CAC5G,CACD,GAAIK,EACF,OAAOzO,EAAE,OAAO,OAAO,KAAK,GAAGyO,EAAE,IAAI,OAAO,MAAM,EAAGA,EAAE,OACzD,MAAMjN,EAAI,EAAE,IAAKqb,GAAM,IAAIyB,GAAGzB,CAAC,CAAC,EAChC,OAAOgC,EAAE7e,EAAG,CACV,KAAMoe,EAAE,cACR,YAAa5c,CACd,CAAA,EAAGwd,CACL,CACF,CACD,IAAI,SAAU,CACZ,OAAO,KAAK,KAAK,OAClB,CACH,CACAiB,GAAG,OAAS,CAACvC,EAAGC,IAAM,IAAIsC,GAAG,CAC3B,QAASvC,EACT,SAAUkC,EAAE,SACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD,MAAMqE,GAAMtE,GAAMA,aAAauE,GAAKD,GAAGtE,EAAE,MAAM,EAAIA,aAAaiC,GAAKqC,GAAGtE,EAAE,UAAW,CAAA,EAAIA,aAAawE,GAAK,CAACxE,EAAE,KAAK,EAAIA,aAAayE,GAAKzE,EAAE,QAAUA,aAAa0E,GAAK,OAAO,KAAK1E,EAAE,IAAI,EAAIA,aAAayC,GAAK6B,GAAGtE,EAAE,KAAK,SAAS,EAAIA,aAAauD,GAAK,CAAC,MAAM,EAAIvD,aAAawD,GAAK,CAAC,IAAI,EAAI,KAC9R,MAAMmB,WAAW3C,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,IAAK3d,CAAC,EAAK,KAAK,oBAAoB2d,CAAC,EAC7C,GAAI3d,EAAE,aAAeke,EAAE,OACrB,OAAOW,EAAE7e,EAAG,CACV,KAAMoe,EAAE,aACR,SAAUF,EAAE,OACZ,SAAUle,EAAE,UACb,CAAA,EAAGgf,EACN,MAAMxQ,EAAI,KAAK,cAAe,EAAIxO,EAAE,KAAKwO,CAAC,EAAGC,EAAI,KAAK,WAAW,IAAI,CAAC,EACtE,OAAOA,EAAIzO,EAAE,OAAO,MAAQyO,EAAE,YAAY,CACxC,KAAMzO,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CACd,CAAK,EAAIyO,EAAE,WAAW,CAChB,KAAMzO,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CACd,CAAK,GAAK6e,EAAE7e,EAAG,CACT,KAAMoe,EAAE,4BACR,QAAS,MAAM,KAAK,KAAK,WAAW,KAAI,CAAE,EAC1C,KAAM,CAAC5P,CAAC,CACd,CAAK,EAAGwQ,EACL,CACD,IAAI,eAAgB,CAClB,OAAO,KAAK,KAAK,aAClB,CACD,IAAI,SAAU,CACZ,OAAO,KAAK,KAAK,OAClB,CACD,IAAI,YAAa,CACf,OAAO,KAAK,KAAK,UAClB,CACD,OAAO,OAAOrB,EAAG3d,EAAGwO,EAAG,CACrB,MAAM,EAAoB,IAAI,IAC9B,UAAWC,KAAKzO,EAAG,CACjB,MAAM,EAAIgiB,GAAGvT,EAAE,MAAMkP,CAAC,CAAC,EACvB,GAAI,CAAC,EACH,MAAM,IAAI,MAAM,mCAAmCA,CAAC,mDAAmD,EACzG,UAAWnc,KAAK,EAAG,CACjB,GAAI,EAAE,IAAIA,CAAC,EACT,MAAM,IAAI,MAAM,0BAA0B,OAAOmc,CAAC,CAAC,wBAAwB,OAAOnc,CAAC,CAAC,EAAE,EACxF,EAAE,IAAIA,EAAGiN,CAAC,CACX,CACF,CACD,OAAO,IAAI4T,GAAG,CACZ,SAAUzC,EAAE,sBACZ,cAAejC,EACf,QAAS3d,EACT,WAAY,EACZ,GAAG6S,EAAErE,CAAC,CACZ,CAAK,CACF,CACH,CACA,SAAS8T,GAAG5E,EAAGC,EAAG,CAChB,MAAM3d,EAAIme,GAAGT,CAAC,EAAGlP,EAAI2P,GAAGR,CAAC,EACzB,GAAID,IAAMC,EACR,MAAO,CAAE,MAAO,GAAI,KAAMD,CAAC,EAC7B,GAAI1d,IAAMke,EAAE,QAAU1P,IAAM0P,EAAE,OAAQ,CACpC,MAAM,EAAID,GAAE,WAAWN,CAAC,EAAGlP,EAAIwP,GAAE,WAAWP,CAAC,EAAE,OAAQlc,GAAM,EAAE,QAAQA,CAAC,IAAM,EAAE,EAAG,EAAI,CAAE,GAAGkc,EAAG,GAAGC,GAClG,UAAWnc,KAAKiN,EAAG,CACjB,MAAMoO,EAAIyF,GAAG5E,EAAElc,CAAC,EAAGmc,EAAEnc,CAAC,CAAC,EACvB,GAAI,CAACqb,EAAE,MACL,MAAO,CAAE,MAAO,IAClB,EAAErb,CAAC,EAAIqb,EAAE,IACV,CACD,MAAO,CAAE,MAAO,GAAI,KAAM,CAAC,CAC/B,SAAa7c,IAAMke,EAAE,OAAS1P,IAAM0P,EAAE,MAAO,CACzC,GAAIR,EAAE,SAAWC,EAAE,OACjB,MAAO,CAAE,MAAO,IAClB,MAAM,EAAI,CAAA,EACV,QAASlP,EAAI,EAAGA,EAAIiP,EAAE,OAAQjP,IAAK,CACjC,MAAM,EAAIiP,EAAEjP,CAAC,EAAGjN,EAAImc,EAAElP,CAAC,EAAGoO,EAAIyF,GAAG,EAAG9gB,CAAC,EACrC,GAAI,CAACqb,EAAE,MACL,MAAO,CAAE,MAAO,IAClB,EAAE,KAAKA,EAAE,IAAI,CACd,CACD,MAAO,CAAE,MAAO,GAAI,KAAM,CAAC,CAC5B,KACC,QAAO7c,IAAMke,EAAE,MAAQ1P,IAAM0P,EAAE,MAAQ,CAACR,GAAK,CAACC,EAAI,CAAE,MAAO,GAAI,KAAMD,CAAG,EAAG,CAAE,MAAO,GACxF,CACA,MAAMwC,WAAWR,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,OAAQ3d,EAAG,IAAKwO,CAAC,EAAK,KAAK,oBAAoBmP,CAAC,EAAG,EAAI,CAAClP,EAAG,IAAM,CACvE,GAAI0Q,GAAG1Q,CAAC,GAAK0Q,GAAG,CAAC,EACf,OAAOH,EACT,MAAMxd,EAAI8gB,GAAG7T,EAAE,MAAO,EAAE,KAAK,EAC7B,OAAOjN,EAAE,QAAU4d,GAAG3Q,CAAC,GAAK2Q,GAAG,CAAC,IAAMpf,EAAE,MAAO,EAAE,CAAE,OAAQA,EAAE,MAAO,MAAOwB,EAAE,IAAI,IAAOqd,EAAErQ,EAAG,CAC3F,KAAM4P,EAAE,0BAChB,CAAO,EAAGY,EACV,EACI,OAAOxQ,EAAE,OAAO,MAAQ,QAAQ,IAAI,CAClC,KAAK,KAAK,KAAK,YAAY,CACzB,KAAMA,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CAChB,CAAO,EACD,KAAK,KAAK,MAAM,YAAY,CAC1B,KAAMA,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CAChB,CAAO,CACP,CAAK,EAAE,KAAK,CAAC,CAACC,EAAG,CAAC,IAAM,EAAEA,EAAG,CAAC,CAAC,EAAI,EAAE,KAAK,KAAK,KAAK,WAAW,CACzD,KAAMD,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CACT,CAAA,EAAG,KAAK,KAAK,MAAM,WAAW,CAC7B,KAAMA,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CACT,CAAA,CAAC,CACH,CACH,CACA0R,GAAG,OAAS,CAACxC,EAAGC,EAAG3d,IAAM,IAAIkgB,GAAG,CAC9B,KAAMxC,EACN,MAAOC,EACP,SAAUiC,EAAE,gBACZ,GAAG/M,EAAE7S,CAAC,CACR,CAAC,SACD,MAAM4hB,WAAWlC,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,OAAQ3d,EAAG,IAAKwO,CAAC,EAAK,KAAK,oBAAoBmP,CAAC,EACxD,GAAInP,EAAE,aAAe0P,EAAE,MACrB,OAAOW,EAAErQ,EAAG,CACV,KAAM4P,EAAE,aACR,SAAUF,EAAE,MACZ,SAAU1P,EAAE,UACb,CAAA,EAAGwQ,EACN,GAAIxQ,EAAE,KAAK,OAAS,KAAK,KAAK,MAAM,OAClC,OAAOqQ,EAAErQ,EAAG,CACV,KAAM4P,EAAE,UACR,QAAS,KAAK,KAAK,MAAM,OACzB,UAAW,GACX,MAAO,GACP,KAAM,OACP,CAAA,EAAGY,EACN,CAAC,KAAK,KAAK,MAAQxQ,EAAE,KAAK,OAAS,KAAK,KAAK,MAAM,SAAWqQ,EAAErQ,EAAG,CACjE,KAAM4P,EAAE,QACR,QAAS,KAAK,KAAK,MAAM,OACzB,UAAW,GACX,MAAO,GACP,KAAM,OACZ,CAAK,EAAGpe,EAAE,MAAK,GACX,MAAMyO,EAAID,EAAE,KAAK,IAAI,CAACH,EAAG7M,IAAM,CAC7B,MAAMqb,EAAI,KAAK,KAAK,MAAMrb,CAAC,GAAK,KAAK,KAAK,KAC1C,OAAOqb,EAAIA,EAAE,OAAO,IAAI0E,GAAG/S,EAAGH,EAAGG,EAAE,KAAMhN,CAAC,CAAC,EAAI,IAChD,CAAA,EAAE,OAAQ6M,GAAM,CAAC,CAACA,CAAC,EACpB,OAAOG,EAAE,OAAO,MAAQ,QAAQ,IAAIC,CAAC,EAAE,KAAMJ,GAAM0Q,GAAG,WAAW/e,EAAGqO,CAAC,CAAC,EAAI0Q,GAAG,WAAW/e,EAAGyO,CAAC,CAC7F,CACD,IAAI,OAAQ,CACV,OAAO,KAAK,KAAK,KAClB,CACD,KAAKkP,EAAG,CACN,OAAO,IAAIiE,GAAG,CACZ,GAAG,KAAK,KACR,KAAMjE,CACZ,CAAK,CACF,CACH,EACAiE,GAAG,OAAS,CAAClE,EAAGC,IAAM,CACpB,GAAI,CAAC,MAAM,QAAQD,CAAC,EAClB,MAAM,IAAI,MAAM,uDAAuD,EACzE,OAAO,IAAIkE,GAAG,CACZ,MAAOlE,EACP,SAAUkC,EAAE,SACZ,KAAM,KACN,GAAG/M,EAAE8K,CAAC,CACV,CAAG,CACH,EACA,MAAM4E,WAAW7C,CAAE,CACjB,IAAI,WAAY,CACd,OAAO,KAAK,KAAK,OAClB,CACD,IAAI,aAAc,CAChB,OAAO,KAAK,KAAK,SAClB,CACD,OAAO/B,EAAG,CACR,KAAM,CAAE,OAAQ3d,EAAG,IAAKwO,CAAC,EAAK,KAAK,oBAAoBmP,CAAC,EACxD,GAAInP,EAAE,aAAe0P,EAAE,OACrB,OAAOW,EAAErQ,EAAG,CACV,KAAM4P,EAAE,aACR,SAAUF,EAAE,OACZ,SAAU1P,EAAE,UACb,CAAA,EAAGwQ,EACN,MAAM,EAAI,CAAA,EAAIvQ,EAAI,KAAK,KAAK,QAAS,EAAI,KAAK,KAAK,UACnD,UAAWjN,KAAKgN,EAAE,KAChB,EAAE,KAAK,CACL,IAAKC,EAAE,OAAO,IAAI8S,GAAG/S,EAAGhN,EAAGgN,EAAE,KAAMhN,CAAC,CAAC,EACrC,MAAO,EAAE,OAAO,IAAI+f,GAAG/S,EAAGA,EAAE,KAAKhN,CAAC,EAAGgN,EAAE,KAAMhN,CAAC,CAAC,CACvD,CAAO,EACH,OAAOgN,EAAE,OAAO,MAAQuQ,GAAG,iBAAiB/e,EAAG,CAAC,EAAI+e,GAAG,gBAAgB/e,EAAG,CAAC,CAC5E,CACD,IAAI,SAAU,CACZ,OAAO,KAAK,KAAK,SAClB,CACD,OAAO,OAAO2d,EAAG3d,EAAGwO,EAAG,CACrB,OAAOxO,aAAa0f,EAAI,IAAI6C,GAAG,CAC7B,QAAS5E,EACT,UAAW3d,EACX,SAAU4f,EAAE,UACZ,GAAG/M,EAAErE,CAAC,CACZ,CAAK,EAAI,IAAI+T,GAAG,CACV,QAAS7B,GAAG,OAAQ,EACpB,UAAW/C,EACX,SAAUiC,EAAE,UACZ,GAAG/M,EAAE7S,CAAC,CACZ,CAAK,CACF,CACH,CACA,MAAMwiB,WAAW9C,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,OAAQ3d,EAAG,IAAKwO,CAAC,EAAK,KAAK,oBAAoBmP,CAAC,EACxD,GAAInP,EAAE,aAAe0P,EAAE,IACrB,OAAOW,EAAErQ,EAAG,CACV,KAAM4P,EAAE,aACR,SAAUF,EAAE,IACZ,SAAU1P,EAAE,UACb,CAAA,EAAGwQ,EACN,MAAM,EAAI,KAAK,KAAK,QAASvQ,EAAI,KAAK,KAAK,UAAW,EAAI,CAAC,GAAGD,EAAE,KAAK,QAAO,CAAE,EAAE,IAAI,CAAC,CAAChN,EAAGqb,CAAC,EAAGzO,KAAO,CAClG,IAAK,EAAE,OAAO,IAAImT,GAAG/S,EAAGhN,EAAGgN,EAAE,KAAM,CAACJ,EAAG,KAAK,CAAC,CAAC,EAC9C,MAAOK,EAAE,OAAO,IAAI8S,GAAG/S,EAAGqO,EAAGrO,EAAE,KAAM,CAACJ,EAAG,OAAO,CAAC,CAAC,CACnD,EAAC,EACF,GAAII,EAAE,OAAO,MAAO,CAClB,MAAMhN,EAAoB,IAAI,IAC9B,OAAO,QAAQ,UAAU,KAAK,SAAY,CACxC,UAAWqb,KAAK,EAAG,CACjB,MAAMzO,EAAI,MAAMyO,EAAE,IAAKgF,EAAI,MAAMhF,EAAE,MACnC,GAAIzO,EAAE,SAAW,WAAayT,EAAE,SAAW,UACzC,OAAO7C,GACR5Q,EAAE,SAAW,SAAWyT,EAAE,SAAW,UAAY7hB,EAAE,MAAK,EAAIwB,EAAE,IAAI4M,EAAE,MAAOyT,EAAE,KAAK,CACpF,CACD,MAAO,CAAE,OAAQ7hB,EAAE,MAAO,MAAOwB,CAAC,CAC1C,CAAO,CACP,KAAW,CACL,MAAMA,EAAoB,IAAI,IAC9B,UAAWqb,KAAK,EAAG,CACjB,MAAMzO,EAAIyO,EAAE,IAAKgF,EAAIhF,EAAE,MACvB,GAAIzO,EAAE,SAAW,WAAayT,EAAE,SAAW,UACzC,OAAO7C,GACR5Q,EAAE,SAAW,SAAWyT,EAAE,SAAW,UAAY7hB,EAAE,MAAK,EAAIwB,EAAE,IAAI4M,EAAE,MAAOyT,EAAE,KAAK,CACpF,CACD,MAAO,CAAE,OAAQ7hB,EAAE,MAAO,MAAOwB,CAAC,CACnC,CACF,CACH,CACAghB,GAAG,OAAS,CAAC9E,EAAGC,EAAG3d,IAAM,IAAIwiB,GAAG,CAC9B,UAAW7E,EACX,QAASD,EACT,SAAUkC,EAAE,OACZ,GAAG/M,EAAE7S,CAAC,CACR,CAAC,EACD,MAAMyiB,WAAW/C,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,OAAQ3d,EAAG,IAAKwO,CAAC,EAAK,KAAK,oBAAoBmP,CAAC,EACxD,GAAInP,EAAE,aAAe0P,EAAE,IACrB,OAAOW,EAAErQ,EAAG,CACV,KAAM4P,EAAE,aACR,SAAUF,EAAE,IACZ,SAAU1P,EAAE,UACb,CAAA,EAAGwQ,EACN,MAAM,EAAI,KAAK,KACf,EAAE,UAAY,MAAQxQ,EAAE,KAAK,KAAO,EAAE,QAAQ,QAAUqQ,EAAErQ,EAAG,CAC3D,KAAM4P,EAAE,UACR,QAAS,EAAE,QAAQ,MACnB,KAAM,MACN,UAAW,GACX,MAAO,GACP,QAAS,EAAE,QAAQ,OACzB,CAAK,EAAGpe,EAAE,MAAK,GAAK,EAAE,UAAY,MAAQwO,EAAE,KAAK,KAAO,EAAE,QAAQ,QAAUqQ,EAAErQ,EAAG,CAC3E,KAAM4P,EAAE,QACR,QAAS,EAAE,QAAQ,MACnB,KAAM,MACN,UAAW,GACX,MAAO,GACP,QAAS,EAAE,QAAQ,OACzB,CAAK,EAAGpe,EAAE,MAAK,GACX,MAAMyO,EAAI,KAAK,KAAK,UACpB,SAAS,EAAEoO,EAAG,CACZ,MAAMzO,EAAoB,IAAI,IAC9B,UAAWyT,KAAKhF,EAAG,CACjB,GAAIgF,EAAE,SAAW,UACf,OAAO7C,EACT6C,EAAE,SAAW,SAAW7hB,EAAE,QAASoO,EAAE,IAAIyT,EAAE,KAAK,CACjD,CACD,MAAO,CAAE,OAAQ7hB,EAAE,MAAO,MAAOoO,CAAC,CACnC,CACD,MAAM5M,EAAI,CAAC,GAAGgN,EAAE,KAAK,QAAQ,EAAE,IAAI,CAACqO,EAAGzO,IAAMK,EAAE,OAAO,IAAI8S,GAAG/S,EAAGqO,EAAGrO,EAAE,KAAMJ,CAAC,CAAC,CAAC,EAC9E,OAAOI,EAAE,OAAO,MAAQ,QAAQ,IAAIhN,CAAC,EAAE,KAAMqb,GAAM,EAAEA,CAAC,CAAC,EAAI,EAAErb,CAAC,CAC/D,CACD,IAAImc,EAAG3d,EAAG,CACR,OAAO,IAAIyiB,GAAG,CACZ,GAAG,KAAK,KACR,QAAS,CAAE,MAAO9E,EAAG,QAAS4B,EAAE,SAASvf,CAAC,CAAG,CACnD,CAAK,CACF,CACD,IAAI2d,EAAG3d,EAAG,CACR,OAAO,IAAIyiB,GAAG,CACZ,GAAG,KAAK,KACR,QAAS,CAAE,MAAO9E,EAAG,QAAS4B,EAAE,SAASvf,CAAC,CAAG,CACnD,CAAK,CACF,CACD,KAAK2d,EAAG3d,EAAG,CACT,OAAO,KAAK,IAAI2d,EAAG3d,CAAC,EAAE,IAAI2d,EAAG3d,CAAC,CAC/B,CACD,SAAS2d,EAAG,CACV,OAAO,KAAK,IAAI,EAAGA,CAAC,CACrB,CACH,CACA8E,GAAG,OAAS,CAAC/E,EAAGC,IAAM,IAAI8E,GAAG,CAC3B,UAAW/E,EACX,QAAS,KACT,QAAS,KACT,SAAUkC,EAAE,OACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD,MAAM+E,WAAWhD,CAAE,CACjB,aAAc,CACZ,MAAM,GAAG,SAAS,EAAG,KAAK,SAAW,KAAK,SAC3C,CACD,OAAO/B,EAAG,CACR,KAAM,CAAE,IAAK3d,CAAC,EAAK,KAAK,oBAAoB2d,CAAC,EAC7C,GAAI3d,EAAE,aAAeke,EAAE,SACrB,OAAOW,EAAE7e,EAAG,CACV,KAAMoe,EAAE,aACR,SAAUF,EAAE,SACZ,SAAUle,EAAE,UACb,CAAA,EAAGgf,EACN,SAASxQ,EAAEhN,EAAGqb,EAAG,CACf,OAAO8B,GAAG,CACR,KAAMnd,EACN,KAAMxB,EAAE,KACR,UAAW,CACTA,EAAE,OAAO,mBACTA,EAAE,eACF0e,GAAI,EACJH,EACD,EAAC,OAAQnQ,GAAM,CAAC,CAACA,CAAC,EACnB,UAAW,CACT,KAAMgQ,EAAE,kBACR,eAAgBvB,CACjB,CACT,CAAO,CACF,CACD,SAAS,EAAErb,EAAGqb,EAAG,CACf,OAAO8B,GAAG,CACR,KAAMnd,EACN,KAAMxB,EAAE,KACR,UAAW,CACTA,EAAE,OAAO,mBACTA,EAAE,eACF0e,GAAI,EACJH,EACD,EAAC,OAAQnQ,GAAM,CAAC,CAACA,CAAC,EACnB,UAAW,CACT,KAAMgQ,EAAE,oBACR,gBAAiBvB,CAClB,CACT,CAAO,CACF,CACD,MAAMpO,EAAI,CAAE,SAAUzO,EAAE,OAAO,oBAAsB,EAAIA,EAAE,KAC3D,OAAO,KAAK,KAAK,mBAAmBggB,GAAKd,GAAG,SAAU1d,IAAM,CAC1D,MAAMqb,EAAI,IAAIyB,GAAG,CAAE,CAAA,EAAGlQ,EAAI,MAAM,KAAK,KAAK,KAAK,WAAW5M,EAAGiN,CAAC,EAAE,MAAOI,GAAM,CAC3E,MAAMgO,EAAE,SAASrO,EAAEhN,EAAGqN,CAAC,CAAC,EAAGgO,CAC5B,CAAA,EAAGgF,EAAI,MAAM,EAAE,GAAGzT,CAAC,EACpB,OAAO,MAAM,KAAK,KAAK,QAAQ,KAAK,KAAK,WAAWyT,EAAGpT,CAAC,EAAE,MAAOI,GAAM,CACrE,MAAMgO,EAAE,SAAS,EAAEgF,EAAGhT,CAAC,CAAC,EAAGgO,CACnC,CAAO,CACP,CAAK,EAAIqC,GAAG,IAAI1d,IAAM,CAChB,MAAMqb,EAAI,KAAK,KAAK,KAAK,UAAUrb,EAAGiN,CAAC,EACvC,GAAI,CAACoO,EAAE,QACL,MAAM,IAAIyB,GAAG,CAAC9P,EAAEhN,EAAGqb,EAAE,KAAK,CAAC,CAAC,EAC9B,MAAMzO,EAAI,EAAE,GAAGyO,EAAE,IAAI,EAAGgF,EAAI,KAAK,KAAK,QAAQ,UAAUzT,EAAGK,CAAC,EAC5D,GAAI,CAACoT,EAAE,QACL,MAAM,IAAIvD,GAAG,CAAC,EAAElQ,EAAGyT,EAAE,KAAK,CAAC,CAAC,EAC9B,OAAOA,EAAE,IACf,CAAK,CACF,CACD,YAAa,CACX,OAAO,KAAK,KAAK,IAClB,CACD,YAAa,CACX,OAAO,KAAK,KAAK,OAClB,CACD,QAAQlE,EAAG,CACT,OAAO,IAAI+E,GAAG,CACZ,GAAG,KAAK,KACR,KAAMd,GAAG,OAAOjE,CAAC,EAAE,KAAKyD,GAAG,QAAQ,CACzC,CAAK,CACF,CACD,QAAQzD,EAAG,CACT,OAAO,IAAI+E,GAAG,CACZ,GAAG,KAAK,KACR,QAAS/E,CACf,CAAK,CACF,CACD,UAAUA,EAAG,CACX,OAAO,KAAK,MAAMA,CAAC,CACpB,CACD,gBAAgBA,EAAG,CACjB,OAAO,KAAK,MAAMA,CAAC,CACpB,CACD,OAAO,OAAOA,EAAG3d,EAAGwO,EAAG,CACrB,OAAO,IAAIkU,GAAG,CACZ,KAAM/E,GAAKiE,GAAG,OAAO,CAAE,CAAA,EAAE,KAAKR,GAAG,QAAQ,EACzC,QAASphB,GAAKohB,GAAG,OAAQ,EACzB,SAAUxB,EAAE,YACZ,GAAG/M,EAAErE,CAAC,CACZ,CAAK,CACF,CACH,CACA,MAAMyT,WAAWvC,CAAE,CACjB,IAAI,QAAS,CACX,OAAO,KAAK,KAAK,QAClB,CACD,OAAO/B,EAAG,CACR,KAAM,CAAE,IAAK3d,CAAC,EAAK,KAAK,oBAAoB2d,CAAC,EAC7C,OAAO,KAAK,KAAK,OAAQ,EAAC,OAAO,CAAE,KAAM3d,EAAE,KAAM,KAAMA,EAAE,KAAM,OAAQA,CAAG,CAAA,CAC3E,CACH,CACAiiB,GAAG,OAAS,CAACvE,EAAGC,IAAM,IAAIsE,GAAG,CAC3B,OAAQvE,EACR,SAAUkC,EAAE,QACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD,MAAMuE,WAAWxC,CAAE,CACjB,OAAO/B,EAAG,CACR,GAAIA,EAAE,OAAS,KAAK,KAAK,MAAO,CAC9B,MAAM3d,EAAI,KAAK,gBAAgB2d,CAAC,EAChC,OAAOkB,EAAE7e,EAAG,CACV,KAAMoe,EAAE,gBACR,SAAU,KAAK,KAAK,KACrB,CAAA,EAAGY,CACL,CACD,MAAO,CAAE,OAAQ,QAAS,MAAOrB,EAAE,IAAI,CACxC,CACD,IAAI,OAAQ,CACV,OAAO,KAAK,KAAK,KAClB,CACH,CACAuE,GAAG,OAAS,CAACxE,EAAGC,IAAM,IAAIuE,GAAG,CAC3B,MAAOxE,EACP,SAAUkC,EAAE,WACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD,SAASoE,GAAGrE,EAAGC,EAAG,CAChB,OAAO,IAAIwE,GAAG,CACZ,OAAQzE,EACR,SAAUkC,EAAE,QACZ,GAAG/M,EAAE8K,CAAC,CACV,CAAG,CACH,CACA,MAAMwE,WAAWzC,CAAE,CACjB,OAAO/B,EAAG,CACR,GAAI,OAAOA,EAAE,MAAQ,SAAU,CAC7B,MAAM3d,EAAI,KAAK,gBAAgB2d,CAAC,EAAGnP,EAAI,KAAK,KAAK,OACjD,OAAOqQ,EAAE7e,EAAG,CACV,SAAUie,GAAE,WAAWzP,CAAC,EACxB,SAAUxO,EAAE,WACZ,KAAMoe,EAAE,YACT,CAAA,EAAGY,CACL,CACD,GAAI,KAAK,KAAK,OAAO,QAAQrB,EAAE,IAAI,IAAM,GAAI,CAC3C,MAAM3d,EAAI,KAAK,gBAAgB2d,CAAC,EAAGnP,EAAI,KAAK,KAAK,OACjD,OAAOqQ,EAAE7e,EAAG,CACV,SAAUA,EAAE,KACZ,KAAMoe,EAAE,mBACR,QAAS5P,CACV,CAAA,EAAGwQ,CACL,CACD,OAAOE,GAAGvB,EAAE,IAAI,CACjB,CACD,IAAI,SAAU,CACZ,OAAO,KAAK,KAAK,MAClB,CACD,IAAI,MAAO,CACT,MAAMA,EAAI,CAAA,EACV,UAAW3d,KAAK,KAAK,KAAK,OACxB2d,EAAE3d,CAAC,EAAIA,EACT,OAAO2d,CACR,CACD,IAAI,QAAS,CACX,MAAMA,EAAI,CAAA,EACV,UAAW3d,KAAK,KAAK,KAAK,OACxB2d,EAAE3d,CAAC,EAAIA,EACT,OAAO2d,CACR,CACD,IAAI,MAAO,CACT,MAAMA,EAAI,CAAA,EACV,UAAW3d,KAAK,KAAK,KAAK,OACxB2d,EAAE3d,CAAC,EAAIA,EACT,OAAO2d,CACR,CACH,CACAwE,GAAG,OAASJ,GACZ,MAAMK,WAAW1C,CAAE,CACjB,OAAO/B,EAAG,CACR,MAAM3d,EAAIie,GAAE,mBAAmB,KAAK,KAAK,MAAM,EAAGzP,EAAI,KAAK,gBAAgBmP,CAAC,EAC5E,GAAInP,EAAE,aAAe0P,EAAE,QAAU1P,EAAE,aAAe0P,EAAE,OAAQ,CAC1D,MAAM,EAAID,GAAE,aAAaje,CAAC,EAC1B,OAAO6e,EAAErQ,EAAG,CACV,SAAUyP,GAAE,WAAW,CAAC,EACxB,SAAUzP,EAAE,WACZ,KAAM4P,EAAE,YACT,CAAA,EAAGY,CACL,CACD,GAAIhf,EAAE,QAAQ2d,EAAE,IAAI,IAAM,GAAI,CAC5B,MAAM,EAAIM,GAAE,aAAaje,CAAC,EAC1B,OAAO6e,EAAErQ,EAAG,CACV,SAAUA,EAAE,KACZ,KAAM4P,EAAE,mBACR,QAAS,CACV,CAAA,EAAGY,CACL,CACD,OAAOE,GAAGvB,EAAE,IAAI,CACjB,CACD,IAAI,MAAO,CACT,OAAO,KAAK,KAAK,MAClB,CACH,CACAyE,GAAG,OAAS,CAAC1E,EAAGC,IAAM,IAAIyE,GAAG,CAC3B,OAAQ1E,EACR,SAAUkC,EAAE,cACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD,MAAMqC,WAAWN,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,IAAK3d,CAAC,EAAK,KAAK,oBAAoB2d,CAAC,EAC7C,GAAI3d,EAAE,aAAeke,EAAE,SAAWle,EAAE,OAAO,QAAU,GACnD,OAAO6e,EAAE7e,EAAG,CACV,KAAMoe,EAAE,aACR,SAAUF,EAAE,QACZ,SAAUle,EAAE,UACb,CAAA,EAAGgf,EACN,MAAMxQ,EAAIxO,EAAE,aAAeke,EAAE,QAAUle,EAAE,KAAO,QAAQ,QAAQA,EAAE,IAAI,EACtE,OAAOkf,GAAG1Q,EAAE,KAAM,GAAM,KAAK,KAAK,KAAK,WAAW,EAAG,CACnD,KAAMxO,EAAE,KACR,SAAUA,EAAE,OAAO,kBACpB,CAAA,CAAC,CAAC,CACJ,CACH,CACAggB,GAAG,OAAS,CAACtC,EAAGC,IAAM,IAAIqC,GAAG,CAC3B,KAAMtC,EACN,SAAUkC,EAAE,WACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,SACD,cAAiB+B,CAAE,CACjB,WAAY,CACV,OAAO,KAAK,KAAK,MAClB,CACD,YAAa,CACX,OAAO,KAAK,KAAK,OAAO,KAAK,WAAaE,EAAE,WAAa,KAAK,KAAK,OAAO,WAAY,EAAG,KAAK,KAAK,MACpG,CACD,OAAOjC,EAAG,CACR,KAAM,CAAE,OAAQ3d,EAAG,IAAKwO,CAAG,EAAG,KAAK,oBAAoBmP,CAAC,EAAG,EAAI,KAAK,KAAK,QAAU,KACnF,GAAI,EAAE,OAAS,aAAc,CAC3B,MAAM,EAAI,EAAE,UAAUnP,EAAE,IAAI,EAC5B,OAAOA,EAAE,OAAO,MAAQ,QAAQ,QAAQ,CAAC,EAAE,KAAMhN,GAAM,KAAK,KAAK,OAAO,YAAY,CAClF,KAAMA,EACN,KAAMgN,EAAE,KACR,OAAQA,CACT,CAAA,CAAC,EAAI,KAAK,KAAK,OAAO,WAAW,CAChC,KAAM,EACN,KAAMA,EAAE,KACR,OAAQA,CAChB,CAAO,CACF,CACD,MAAMC,EAAI,CACR,SAAW,GAAM,CACfoQ,EAAErQ,EAAG,CAAC,EAAG,EAAE,MAAQxO,EAAE,MAAO,EAAGA,EAAE,OAClC,EACD,IAAI,MAAO,CACT,OAAOwO,EAAE,IACV,CACP,EACI,GAAIC,EAAE,SAAWA,EAAE,SAAS,KAAKA,CAAC,EAAG,EAAE,OAAS,aAAc,CAC5D,MAAM,EAAKjN,GAAM,CACf,MAAMqb,EAAI,EAAE,WAAWrb,EAAGiN,CAAC,EAC3B,GAAID,EAAE,OAAO,MACX,OAAO,QAAQ,QAAQqO,CAAC,EAC1B,GAAIA,aAAa,QACf,MAAM,IAAI,MAAM,2FAA2F,EAC7G,OAAOrb,CACf,EACM,GAAIgN,EAAE,OAAO,QAAU,GAAI,CACzB,MAAMhN,EAAI,KAAK,KAAK,OAAO,WAAW,CACpC,KAAMgN,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CAClB,CAAS,EACD,OAAOhN,EAAE,SAAW,UAAYwd,GAAKxd,EAAE,SAAW,SAAWxB,EAAE,MAAO,EAAE,EAAEwB,EAAE,KAAK,EAAG,CAAE,OAAQxB,EAAE,MAAO,MAAOwB,EAAE,KAAK,EACtH,KACC,QAAO,KAAK,KAAK,OAAO,YAAY,CAAE,KAAMgN,EAAE,KAAM,KAAMA,EAAE,KAAM,OAAQA,EAAG,EAAE,KAAMhN,GAAMA,EAAE,SAAW,UAAYwd,GAAKxd,EAAE,SAAW,SAAWxB,EAAE,MAAK,EAAI,EAAEwB,EAAE,KAAK,EAAE,KAAK,KAAO,CAAE,OAAQxB,EAAE,MAAO,MAAOwB,EAAE,KAAK,EAAG,EAAE,CAC5N,CACD,GAAI,EAAE,OAAS,YACb,GAAIgN,EAAE,OAAO,QAAU,GAAI,CACzB,MAAM,EAAI,KAAK,KAAK,OAAO,WAAW,CACpC,KAAMA,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CAClB,CAAS,EACD,GAAI,CAAC6Q,GAAG,CAAC,EACP,OAAO,EACT,MAAM7d,EAAI,EAAE,UAAU,EAAE,MAAOiN,CAAC,EAChC,GAAIjN,aAAa,QACf,MAAM,IAAI,MAAM,iGAAiG,EACnH,MAAO,CAAE,OAAQxB,EAAE,MAAO,MAAOwB,CAAC,CACnC,KACC,QAAO,KAAK,KAAK,OAAO,YAAY,CAAE,KAAMgN,EAAE,KAAM,KAAMA,EAAE,KAAM,OAAQA,CAAG,CAAA,EAAE,KAAM,GAAM6Q,GAAG,CAAC,EAAI,QAAQ,QAAQ,EAAE,UAAU,EAAE,MAAO5Q,CAAC,CAAC,EAAE,KAAMjN,IAAO,CAAE,OAAQxB,EAAE,MAAO,MAAOwB,GAAI,EAAI,CAAC,EAChMyc,GAAE,YAAY,CAAC,CAChB,CACH,EACA0B,GAAG,OAAS,CAACjC,EAAGC,EAAG3d,IAAM,IAAI2f,GAAG,CAC9B,OAAQjC,EACR,SAAUkC,EAAE,WACZ,OAAQjC,EACR,GAAG9K,EAAE7S,CAAC,CACR,CAAC,EACD2f,GAAG,qBAAuB,CAACjC,EAAGC,EAAG3d,IAAM,IAAI2f,GAAG,CAC5C,OAAQhC,EACR,OAAQ,CAAE,KAAM,aAAc,UAAWD,CAAG,EAC5C,SAAUkC,EAAE,WACZ,GAAG/M,EAAE7S,CAAC,CACR,CAAC,EACD,MAAM6f,WAAWH,CAAE,CACjB,OAAO/B,EAAG,CACR,OAAO,KAAK,SAASA,CAAC,IAAMO,EAAE,UAAYgB,GAAG,MAAM,EAAI,KAAK,KAAK,UAAU,OAAOvB,CAAC,CACpF,CACD,QAAS,CACP,OAAO,KAAK,KAAK,SAClB,CACH,CACAkC,GAAG,OAAS,CAACnC,EAAGC,IAAM,IAAIkC,GAAG,CAC3B,UAAWnC,EACX,SAAUkC,EAAE,YACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD,MAAMmC,WAAWJ,CAAE,CACjB,OAAO/B,EAAG,CACR,OAAO,KAAK,SAASA,CAAC,IAAMO,EAAE,KAAOgB,GAAG,IAAI,EAAI,KAAK,KAAK,UAAU,OAAOvB,CAAC,CAC7E,CACD,QAAS,CACP,OAAO,KAAK,KAAK,SAClB,CACH,CACAmC,GAAG,OAAS,CAACpC,EAAGC,IAAM,IAAImC,GAAG,CAC3B,UAAWpC,EACX,SAAUkC,EAAE,YACZ,GAAG/M,EAAE8K,CAAC,CACR,CAAC,EACD,MAAMwC,WAAWT,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,IAAK3d,CAAC,EAAK,KAAK,oBAAoB2d,CAAC,EAC7C,IAAInP,EAAIxO,EAAE,KACV,OAAOA,EAAE,aAAeke,EAAE,YAAc1P,EAAI,KAAK,KAAK,aAAc,GAAG,KAAK,KAAK,UAAU,OAAO,CAChG,KAAMA,EACN,KAAMxO,EAAE,KACR,OAAQA,CACd,CAAK,CACF,CACD,eAAgB,CACd,OAAO,KAAK,KAAK,SAClB,CACH,CACAmgB,GAAG,OAAS,CAACzC,EAAGC,IAAM,IAAIwC,GAAG,CAC3B,UAAWzC,EACX,SAAUkC,EAAE,WACZ,aAAc,OAAOjC,EAAE,SAAW,WAAaA,EAAE,QAAU,IAAMA,EAAE,QACnE,GAAG9K,EAAE8K,CAAC,CACR,CAAC,EACD,MAAM0C,WAAWX,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,IAAK3d,CAAG,EAAG,KAAK,oBAAoB2d,CAAC,EAAGnP,EAAI,KAAK,KAAK,UAAU,OAAO,CAC7E,KAAMxO,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CACd,CAAK,EACD,OAAOsf,GAAG9Q,CAAC,EAAIA,EAAE,KAAM,IAAO,CAC5B,OAAQ,QACR,MAAO,EAAE,SAAW,QAAU,EAAE,MAAQ,KAAK,KAAK,aAAc,CACjE,EAAC,EAAI,CACJ,OAAQ,QACR,MAAOA,EAAE,SAAW,QAAUA,EAAE,MAAQ,KAAK,KAAK,aAAc,CACtE,CACG,CACD,eAAgB,CACd,OAAO,KAAK,KAAK,SAClB,CACH,CACA6R,GAAG,OAAS,CAAC3C,EAAGC,IAAM,IAAI0C,GAAG,CAC3B,UAAW3C,EACX,SAAUkC,EAAE,SACZ,aAAc,OAAOjC,EAAE,SAAW,WAAaA,EAAE,QAAU,IAAMA,EAAE,QACnE,GAAG9K,EAAE8K,CAAC,CACR,CAAC,EACD,MAAMgF,WAAWjD,CAAE,CACjB,OAAO/B,EAAG,CACR,GAAI,KAAK,SAASA,CAAC,IAAMO,EAAE,IAAK,CAC9B,MAAM,EAAI,KAAK,gBAAgBP,CAAC,EAChC,OAAOkB,EAAE,EAAG,CACV,KAAMT,EAAE,aACR,SAAUF,EAAE,IACZ,SAAU,EAAE,UACb,CAAA,EAAGc,CACL,CACD,MAAO,CAAE,OAAQ,QAAS,MAAOrB,EAAE,IAAI,CACxC,CACH,CACAgF,GAAG,OAAUjF,GAAM,IAAIiF,GAAG,CACxB,SAAU/C,EAAE,OACZ,GAAG/M,EAAE6K,CAAC,CACR,CAAC,EACD,MAAMkF,GAAK,OAAO,WAAW,EAC7B,MAAMxC,WAAWV,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,IAAK3d,CAAC,EAAK,KAAK,oBAAoB2d,CAAC,EAAGnP,EAAIxO,EAAE,KACtD,OAAO,KAAK,KAAK,KAAK,OAAO,CAC3B,KAAMwO,EACN,KAAMxO,EAAE,KACR,OAAQA,CACd,CAAK,CACF,CACD,QAAS,CACP,OAAO,KAAK,KAAK,IAClB,CACH,CACA,MAAMsgB,WAAWZ,CAAE,CACjB,OAAO/B,EAAG,CACR,KAAM,CAAE,OAAQ3d,EAAG,IAAKwO,CAAC,EAAK,KAAK,oBAAoBmP,CAAC,EACxD,GAAInP,EAAE,OAAO,MACX,OAAQ,SAAY,CAClB,MAAMC,EAAI,MAAM,KAAK,KAAK,GAAG,YAAY,CACvC,KAAMD,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CAClB,CAAS,EACD,OAAOC,EAAE,SAAW,UAAYuQ,EAAIvQ,EAAE,SAAW,SAAWzO,EAAE,MAAK,EAAIif,GAAGxQ,EAAE,KAAK,GAAK,KAAK,KAAK,IAAI,YAAY,CAC9G,KAAMA,EAAE,MACR,KAAMD,EAAE,KACR,OAAQA,CAClB,CAAS,CACT,KACI,CACE,MAAM,EAAI,KAAK,KAAK,GAAG,WAAW,CAChC,KAAMA,EAAE,KACR,KAAMA,EAAE,KACR,OAAQA,CAChB,CAAO,EACD,OAAO,EAAE,SAAW,UAAYwQ,EAAI,EAAE,SAAW,SAAWhf,EAAE,QAAS,CACrE,OAAQ,QACR,MAAO,EAAE,KACV,GAAI,KAAK,KAAK,IAAI,WAAW,CAC5B,KAAM,EAAE,MACR,KAAMwO,EAAE,KACR,OAAQA,CAChB,CAAO,CACF,CACF,CACD,OAAO,OAAOmP,EAAG3d,EAAG,CAClB,OAAO,IAAIsgB,GAAG,CACZ,GAAI3C,EACJ,IAAK3d,EACL,SAAU4f,EAAE,WAClB,CAAK,CACF,CACH,CACA,MAAMiD,GAAK,CAACnF,EAAGC,EAAI,CAAA,EAAI3d,IAAM0d,EAAIyD,GAAG,OAAM,EAAG,YAAY,CAAC3S,EAAG,IAAM,CACjE,GAAI,CAACkP,EAAElP,CAAC,EAAG,CACT,MAAMC,EAAI,OAAOkP,GAAK,WAAaA,EAAEnP,CAAC,EAAImP,EAAG,EAAI,OAAOlP,GAAK,SAAW,CAAE,QAASA,CAAG,EAAGA,EACzF,EAAE,SAAS,CAAE,KAAM,SAAU,GAAG,EAAG,MAAOzO,CAAC,CAAE,CAC9C,CACH,CAAC,EAAImhB,GAAG,OAAQ,EAAE2B,GAAK,CACrB,OAAQpB,GAAE,UACZ,EACA,IAAI9B,GACH,SAASlC,EAAG,CACXA,EAAE,UAAY,YAAaA,EAAE,UAAY,YAAaA,EAAE,OAAS,SAAUA,EAAE,UAAY,YAAaA,EAAE,WAAa,aAAcA,EAAE,QAAU,UAAWA,EAAE,UAAY,YAAaA,EAAE,aAAe,eAAgBA,EAAE,QAAU,UAAWA,EAAE,OAAS,SAAUA,EAAE,WAAa,aAAcA,EAAE,SAAW,WAAYA,EAAE,QAAU,UAAWA,EAAE,SAAW,WAAYA,EAAE,UAAY,YAAaA,EAAE,SAAW,WAAYA,EAAE,sBAAwB,wBAAyBA,EAAE,gBAAkB,kBAAmBA,EAAE,SAAW,WAAYA,EAAE,UAAY,YAAaA,EAAE,OAAS,SAAUA,EAAE,OAAS,SAAUA,EAAE,YAAc,cAAeA,EAAE,QAAU,UAAWA,EAAE,WAAa,aAAcA,EAAE,QAAU,UAAWA,EAAE,WAAa,aAAcA,EAAE,cAAgB,gBAAiBA,EAAE,YAAc,cAAeA,EAAE,YAAc,cAAeA,EAAE,WAAa,aAAcA,EAAE,SAAW,WAAYA,EAAE,WAAa,aAAcA,EAAE,WAAa,aAAcA,EAAE,YAAc,aAC97B,GAAGkC,IAAMA,EAAI,CAAE,EAAC,EAChB,MAAMmD,GAAK,CAACrF,EAAGC,EAAI,CACjB,QAAS,yBAAyBD,EAAE,IAAI,EAC1C,IAAMmF,GAAI7iB,GAAMA,aAAa0d,EAAGC,EAAG,EAAE,EAAGqF,GAAKtC,GAAG,OAAQ5N,GAAI8N,GAAG,OAAQqC,GAAKN,GAAG,OAAQO,GAAKrC,GAAG,OAAQsC,GAAKrC,GAAG,OAAQsC,GAAKrC,GAAG,OAAQsC,GAAKrC,GAAG,OAAQsC,GAAKrC,GAAG,OAAQsC,GAAKrC,GAAG,OAAQsC,GAAKrC,GAAG,OAAQsC,GAAKrC,GAAG,OAAQsC,GAAKrC,GAAG,OAAQsC,GAAKrC,GAAG,OAAQsC,GAAK7D,GAAG,OAAQ8D,GAAKnC,GAAE,OAAQoC,GAAKpC,GAAE,aAAcqC,GAAK9D,GAAG,OAAQ+D,GAAK3B,GAAG,OAAQ4B,GAAK/D,GAAG,OAAQgE,GAAKtC,GAAG,OAAQuC,GAAK5B,GAAG,OAAQ6B,GAAK5B,GAAG,OAAQ6B,GAAK5B,GAAG,OAAQ6B,GAAK5B,GAAG,OAAQ6B,GAAKtC,GAAG,OAAQuC,GAAKtC,GAAG,OAAQuC,GAAKtC,GAAG,OAAQuC,GAAKtC,GAAG,OAAQuC,GAAK3E,GAAG,OAAQ4E,GAAKjF,GAAG,OAAQkF,GAAKhF,GAAG,OAAQiF,GAAKhF,GAAG,OAAQiF,GAAKpF,GAAG,qBAAsBqF,GAAK1E,GAAG,OAAQ2E,GAAK,IAAMjC,GAAI,EAAC,SAAQ,EAAIkC,GAAK,IAAMpS,GAAC,EAAG,SAAU,EAAEqS,GAAK,IAAMhC,GAAI,EAAC,SAAQ,EAAIiC,GAAK,CAC/qB,OAAS1H,GAAMgD,GAAG,OAAO,CAAE,GAAGhD,EAAG,OAAQ,GAAI,EAC7C,OAASA,GAAMkD,GAAG,OAAO,CAAE,GAAGlD,EAAG,OAAQ,GAAI,EAC7C,QAAUA,GAAMoD,GAAG,OAAO,CAAE,GAAGpD,EAAG,OAAQ,GAAI,EAC9C,OAASA,GAAMmD,GAAG,OAAO,CAAE,GAAGnD,EAAG,OAAQ,GAAI,EAC7C,KAAOA,GAAMqD,GAAG,OAAO,CAAE,GAAGrD,EAAG,OAAQ,GAAI,CAC7C,EAAG2H,GAAKrG,EACR,IAAIsG,GAAqB,OAAO,OAAO,CACrC,UAAW,KACX,gBAAiB/G,GACjB,YAAaE,GACb,YAAaC,GACb,UAAWC,GACX,WAAYC,GACZ,kBAAmBC,EACnB,YAAaE,GACb,QAASC,EACT,MAAOC,GACP,GAAIC,GACJ,UAAWC,GACX,QAASC,GACT,QAASC,GACT,QAASC,GACT,IAAI,MAAO,CACT,OAAOrB,EACR,EACD,cAAeC,EACf,cAAeC,GACf,QAASuB,EACT,UAAWgB,GACX,UAAWE,GACX,UAAWC,GACX,WAAYC,GACZ,QAASC,GACT,UAAWC,GACX,aAAcC,GACd,QAASC,GACT,OAAQC,GACR,WAAYC,GACZ,SAAUC,GACV,QAASC,GACT,SAAUvB,GACV,IAAI,YAAa,CACf,OAAOyB,EACR,EACD,UAAWE,GACX,SAAUzB,GACV,sBAAuBoC,GACvB,gBAAiBnC,GACjB,SAAU0B,GACV,UAAWW,GACX,OAAQC,GACR,OAAQC,GACR,YAAaC,GACb,QAAST,GACT,WAAYC,GACZ,QAASC,GACT,cAAeC,GACf,WAAYpC,GACZ,WAAYL,GACZ,eAAgBA,GAChB,YAAaE,GACb,YAAaC,GACb,WAAYK,GACZ,SAAUE,GACV,OAAQsC,GACR,MAAOC,GACP,WAAYxC,GACZ,YAAaE,GACb,OAAQuC,GACR,OAAQnD,EACR,UAAWA,EACX,KAAMoD,GACN,IAAI,uBAAwB,CAC1B,OAAOlD,CACR,EACD,OAAQwF,GACR,IAAK5B,GACL,MAAOI,GACP,OAAQV,GACR,QAASC,GACT,KAAMC,GACN,mBAAoBY,GACpB,OAAQY,GACR,KAAMH,GACN,SAAUH,GACV,WAAYvB,GACZ,aAAckB,GACd,KAAMM,GACN,QAASC,GACT,IAAKJ,GACL,IAAKnB,GACL,WAAYyB,GACZ,MAAOhB,GACP,KAAMH,GACN,SAAUuB,GACV,OAAQhS,GACR,OAAQ+Q,GACR,SAAUsB,GACV,QAASD,GACT,SAAUL,GACV,QAASI,GACT,SAAUD,GACV,WAAYD,GACZ,QAASJ,GACT,OAAQR,GACR,IAAKE,GACL,aAAcP,GACd,OAAQd,GACR,OAAQK,GACR,YAAauB,GACb,MAAOV,GACP,UAAWZ,GACX,MAAOS,GACP,QAASN,GACT,KAAME,GACN,MAAO0B,GACP,aAAcjH,EACd,cAAeC,GACf,SAAUC,EACZ,CAAC,EACD,MAAMiH,GAAK,IAAMvC,KAAK,KAAM,EAAEwC,GAAK,sIAAuIC,GAAK,IAAMzC,GAAE,EAAG,MAAMwC,EAAE,EAClM3B,GAAG,CACD,GAAI0B,GAAI,EACR,KAAME,GAAI,EACV,UAAW3S,GAAG,EAAC,SAAU,EACzB,QAASA,GAAC,EAAG,SAAQ,EAAG,SAAU,CACpC,CAAC,EAAE,OAAM,EACT,MAAM4S,GAAK7B,GAAG,CACZ,GAAI0B,GAAI,EACR,UAAWA,GAAI,EACf,MAAOvC,GAAI,EAAC,IAAK,EACjB,UAAWlQ,GAAG,EAAC,SAAQ,EAAG,SAAS,oDAAoD,CACzF,CAAC,EAAE,OAAQ,EAAE8H,GAAK8K,GAAG,OAAO,CAC1B,KAAMjB,GAAG,CAAC,OAAO,CAAC,EAClB,kBAAmBZ,GAAG,CACpB,MAAO/Q,GAAG,EAAC,YAAa,EACxB,OAAQA,GAAG,EAAC,YAAa,CAC7B,CAAG,CACH,CAAC,EAAE,OAAQ,EAAE6S,GAAKD,GAAG,OAAO,CAC1B,KAAMjB,GAAG,CAAC,QAAQ,CAAC,EACnB,kBAAmBZ,GAAG,CACpB,MAAO/Q,GAAG,EAAC,YAAa,EACxB,OAAQA,GAAG,EAAC,YAAa,CAC7B,CAAG,CACH,CAAC,EAAE,OAAM,EACTiR,GAAG,CAACnJ,GAAI+K,EAAE,CAAC,EACX,MAAMC,GAAKL,GAAIM,GAAKJ,GAAIK,GAAK,IAAM3C,KAAK,SAAU,EAAC,SAAQ,EAAI4C,GAAK,IAAM5C,GAAI,EAAC,SAAQ,EAAG,WAC1FU,GAAG,CACD,GAAI+B,GAAI,EACR,KAAMC,GAAI,EACV,UAAW/S,GAAG,EAAC,SAAU,EACzB,QAASA,GAAC,EAAG,SAAQ,EAAG,SAAU,EAClC,SAAUgT,GAAI,EACd,UAAWC,GAAI,CACjB,CAAC,EAAE,OAAM,EACT,MAAMC,GAAKnC,GAAG,CACZ,GAAIb,GAAI,EACR,UAAW4C,GAAI,EACf,UAAW9S,GAAG,EAAC,SAAQ,EAAG,SAAS,oDAAoD,EACvF,SAAUgT,GAAI,CAChB,CAAC,EAAE,OAAQ,EAAEG,GAAKD,GAAG,OAAO,CAC1B,KAAMvB,GAAG,CAAC,eAAe,CAAC,EAC1B,QAASZ,GAAG,CACV,KAAMY,GAAG,CAAC,QAAS,QAAQ,CAAC,EAC5B,IAAKzB,GAAI,EAAC,IAAG,EAAG,SAAS,iCAAiC,EAC1D,MAAOlQ,GAAG,EAAC,YAAa,EACxB,OAAQA,GAAG,EAAC,YAAa,CAC1B,CAAA,EAAE,OAAQ,CACb,CAAC,EAAGoT,GAAK,IAAM/B,GAAGnB,GAAE,EAAIQ,GAAE,CAAE,EAAG2C,GAAKH,GAAG,OAAO,CAC5C,KAAMvB,GAAG,CAAC,oBAAqB,YAAY,CAAC,EAC5C,QAASyB,GAAI,CACf,CAAC,EAAGE,GAAKrC,GAAG,CAACkC,GAAIE,EAAE,CAAC,EAAGE,GAAKT,GAAIU,GAAKR,GAAIS,GAAKR,GAAIS,GAAK,IAAMX,GAAE,EAAG,SAAS,8CAA8C,EAAGY,GAAK5C,GAAG,CAClI,GAAIwC,GAAI,EACR,MAAOG,GAAI,EACX,UAAWxD,GAAG,CAAE,YAAa,yCAAyC,CAAE,EACxE,UAAWlQ,GAAG,EAAC,SAAU,EACzB,QAASA,GAAG,EACZ,SAAUwT,GAAI,EACd,UAAWC,GAAI,CACjB,CAAC,EAAE,OAAM,EAAIG,GAAK7C,GAAG,CACnB,GAAIwC,GAAI,EACR,MAAOG,GAAI,EACX,UAAWxD,GAAI,EACf,UAAWlQ,GAAG,EAAC,SAAU,EACzB,QAASA,GAAC,EAAG,SAAQ,EAAG,SAAU,EAClC,SAAUwT,GAAI,EACd,UAAWP,GAAI,CACjB,CAAC,EAAE,OAAM,EAAIY,GAAKP,GAAIQ,GAAKP,GAAIQ,GAAKP,GAAIQ,GAAKN,GAAIO,GAAKN,GAAIO,GAAKN,GAAIO,GAAKpD,GAAG,CACzE,GAAI+C,GAAI,EACR,MAAOE,GAAI,EACX,KAAM9D,GAAE,EAAG,WAAW,GAAG,EACzB,SAAUA,GAAI,EAAC,QAAS,EACxB,UAAWA,GAAI,EACf,UAAWlQ,GAAG,EAAC,SAAU,EACzB,QAASA,GAAG,EACZ,SAAU+T,GAAI,CAChB,CAAC,EAAE,OAAM,EAAIK,GAAKrD,GAAG,CACnB,GAAI+C,GAAI,EACR,MAAOE,GAAI,EACX,KAAM9D,GAAE,EAAG,WAAW,GAAG,EACzB,SAAUA,GAAI,EAAC,QAAS,EACxB,UAAWA,GAAI,EACf,UAAWlQ,GAAG,EAAC,SAAU,EACzB,QAASA,GAAG,EAAC,QAAS,EACtB,SAAU+T,GAAI,CAChB,CAAC,EAAE,OAAM,EAAIM,GAAKR,GAAIS,GAAKL,GAAIM,GAAKL,GAAIM,GAAKL,GAAIM,GAAKL,GAAIM,GAAKL,GAC/D,MAAMM,EAAG,CACP,YAAY9J,EAAG3d,EAAG,CAChB,KAAK,GAAK2d,EAAG,KAAK,UAAY3d,CAC/B,CACD,MAAM,WAAY,CAChB,MAAMA,GAAK,MAAM,KAAK,IAAI,YAAY,KAAK,UAAW,WAAW,EACjE,IAAI,EAAI,MAAMA,EAAE,YAAY,KAAK,SAAS,EAAE,aAC5C,KAAO,GACL,MAAM,EAAE,OAAQ,EAAE,EAAI,MAAM,EAAE,WAChC,MAAMA,EAAE,IACT,CACD,MAAM,SAAU,CACd,OAAO,MAAO,MAAM,KAAK,IAAI,OAAO,KAAK,SAAS,CACnD,CACH,CACA,MAAM0nB,GAAK,cAAcD,EAAG,CAC1B,YAAY/J,EAAG,CACb,MAAMA,EAAE,GAAIgK,GAAG,iBAAiB,EAAG,KAAK,OAAShK,CAClD,CACD,MAAM,QAAQA,EAAGC,EAAG,CAClB,OAAO,MAAO,MAAM,KAAK,IAAI,gBAC3B,KAAK,UACL+J,GAAG,gBACH,YAAY,MAAMhK,EAAGC,EAAG,GAAI,EAAE,CACpC,CACG,CACD,MAAM,kBAAkBD,EAAG,CACzB,OAAO,MAAO,MAAM,KAAK,IAAI,gBAAgB,KAAK,UAAWgK,GAAG,iBAAkBhK,CAAC,CACpF,CACD,MAAM,SAASA,EAAG,CAChB,IAAIlP,EAAGD,EACP,MAAMoP,EAAI,MAAM,KAAK,GAAI3d,EAAIwnB,GAAG,MAAM9J,CAAC,EACvC,OAAQnP,GAAKC,EAAI,KAAK,QAAQ,eAAiB,MAAQD,EAAE,KAAKC,EAAGxO,CAAC,EAAG,MAAM2d,EAAE,IAAI,KAAK,UAAW3d,CAAC,EAAGA,CACtG,CACH,EACA,IAAI2nB,GAAID,GACRC,GAAE,aAAe,MACjBA,GAAE,aAAe,QACjBA,GAAE,kBAAoBD,GAAG,aACzBC,GAAE,iBAAmB,mBACrBA,GAAE,gBAAkB,mBACpB,IAAIC,GACJ,MAAMC,GAAK,IAAI,WAAW,EAAE,EAC5B,SAASC,IAAK,CACZ,GAAI,CAACF,KAAOA,GAAK,OAAO,OAAS,KAAO,OAAO,iBAAmB,OAAO,gBAAgB,KAAK,MAAM,EAAG,CAACA,IACtG,MAAM,IAAI,MAAM,0GAA0G,EAC5H,OAAOA,GAAGC,EAAE,CACd,CACA,MAAME,GAAK,CAAA,EACX,QAASrK,EAAI,EAAGA,EAAI,IAAK,EAAEA,EACzBqK,GAAG,MAAMrK,EAAI,KAAK,SAAS,EAAE,EAAE,MAAM,CAAC,CAAC,EACzC,SAASsK,GAAGtK,EAAGC,EAAI,EAAG,CACpB,OAAQoK,GAAGrK,EAAEC,EAAI,CAAC,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,CAAC,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,CAAC,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,CAAC,CAAC,EAAI,IAAMoK,GAAGrK,EAAEC,EAAI,CAAC,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,CAAC,CAAC,EAAI,IAAMoK,GAAGrK,EAAEC,EAAI,CAAC,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,CAAC,CAAC,EAAI,IAAMoK,GAAGrK,EAAEC,EAAI,CAAC,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,CAAC,CAAC,EAAI,IAAMoK,GAAGrK,EAAEC,EAAI,EAAE,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,EAAE,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,EAAE,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,EAAE,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,EAAE,CAAC,EAAIoK,GAAGrK,EAAEC,EAAI,EAAE,CAAC,GAAG,aACvR,CACA,MAAMsK,GAAK,OAAO,OAAS,KAAO,OAAO,YAAc,OAAO,WAAW,KAAK,MAAM,EAAGC,GAAK,CAC1F,WAAYD,EACd,EACA,SAASE,GAAGzK,EAAGC,EAAG3d,EAAG,CACnB,GAAIkoB,GAAG,YAAc,CAACvK,GAAK,CAACD,EAC1B,OAAOwK,GAAG,aACZxK,EAAIA,GAAK,GACT,MAAMlP,EAAIkP,EAAE,SAAWA,EAAE,KAAOoK,MAChC,GAAItZ,EAAE,CAAC,EAAIA,EAAE,CAAC,EAAI,GAAK,GAAIA,EAAE,CAAC,EAAIA,EAAE,CAAC,EAAI,GAAK,IAAKmP,EAAG,CACpD3d,EAAIA,GAAK,EACT,QAAS,EAAI,EAAG,EAAI,GAAI,EAAE,EACxB2d,EAAE3d,EAAI,CAAC,EAAIwO,EAAE,CAAC,EAChB,OAAOmP,CACR,CACD,OAAOqK,GAAGxZ,CAAC,CACb,CACA,MAAM4Z,GAAK,GACX,SAASC,GAAG3K,EAAG,CACb,IAAIC,EACJ,MAAO,CACL,GAAID,EAAE,GACN,MAAOA,EAAE,MACT,KAAMA,EAAE,KACR,SAAUA,EAAE,SACZ,UAAWA,EAAE,UACb,SAAUC,EAAID,EAAE,UAAY,KAAOC,EAAIyK,GACvC,UAAW1K,EAAE,UACb,SAAUA,EAAE,QAChB,CACA,CACA,SAAS4K,GAAG5K,EAAG,CACb,MAAO,CACL,GAAIA,EAAE,GACN,MAAOA,EAAE,MACT,KAAMA,EAAE,KACR,SAAUA,EAAE,SACZ,UAAWA,EAAE,UACb,QAASA,EAAE,UAAY0K,GAAK,KAAO1K,EAAE,QACrC,UAAWA,EAAE,UACb,SAAUA,EAAE,QAChB,CACA,CACA,MAAM6K,GAAK,cAAcd,EAAG,CAC1B,YAAY/J,EAAG,CACb,MAAMA,EAAE,GAAI6K,GAAG,iBAAiB,EAAG,KAAK,OAAS7K,CAClD,CACD,MAAM,cAAcA,EAAG,CACrB,MAAMC,EAAI,MAAM,KAAK,GAAI3d,EAAIunB,GAAG,MAAM,CACpC,GAAG7J,EACH,GAAIyK,GAAI,EACR,UAAW,MAAM,KAAK,OAAO,aAAc,EAC3C,QAAS,MACV,CAAA,EAAG3Z,EAAI6Z,GAAGroB,CAAC,EACZ,OAAO,MAAM2d,EAAE,IAAI,KAAK,UAAWnP,CAAC,EAAGxO,CACxC,CACD,MAAM,YAAY0d,EAAGC,EAAG,CACtB,MAAM3d,EAAI,MAAM,KAAK,GAAIwO,EAAI,MAAMxO,EAAE,IAAI,KAAK,UAAW0d,EAAE,EAAE,EAC7D,GAAIlP,GAAK,KACP,MAAM,MAAM,6CAA6CkP,EAAE,EAAE,EAAE,EACjE,MAAM,EAAI,CAAE,GAAGlP,EAAG,QAASmP,CAAC,EAC5B,OAAO,MAAM3d,EAAE,IAAI,KAAK,UAAW,CAAC,EAAGsoB,GAAG,CAAC,CAC5C,CACD,MAAM,oBAAqB,CACzB,OAAQ,MAAO,MAAM,KAAK,IAAI,gBAC5B,KAAK,UACLC,GAAG,eACHH,EACN,GAAO,IAAIE,EAAE,CACV,CACD,MAAM,uBAAuB5K,EAAGC,EAAG,CACjC,OAAQ,MAAO,MAAM,KAAK,IAAI,gBAC5B,KAAK,UACL4K,GAAG,eACH,YAAY,MAAM7K,EAAGC,EAAG,GAAI,EAAE,CACpC,GAAO,IAAI2K,EAAE,CACV,CACD,MAAM,6BAA8B,CAClC,MAAM,GAAK,MAAM,KAAK,IAAI,YAAY,KAAK,UAAW,WAAW,EACjE,IAAItoB,EAAI,MAAM,EAAE,MAAM,WAAU,EAChC,KAAOA,GACLA,EAAE,MAAM,UAAY,MAAMA,EAAE,OAAQ,EAAEA,EAAI,MAAMA,EAAE,WACpD,MAAM,EAAE,IACT,CACH,EACA,IAAIwoB,GAAKD,GACTC,GAAG,aAAe,aAClBA,GAAG,kBAAoBD,GAAG,aAC1BC,GAAG,eAAiB,wBACpBA,GAAG,iBAAmB,0BACtB,SAASC,GAAG/K,EAAGC,EAAG3d,EAAGwO,EAAG,CACtB,SAAS,EAAEC,EAAG,CACZ,OAAOA,aAAazO,EAAIyO,EAAI,IAAIzO,EAAE,SAAS,EAAG,CAC5C,EAAEyO,CAAC,CACT,CAAK,CACF,CACD,OAAO,IAAKzO,IAAMA,EAAI,UAAU,SAASyO,EAAG,EAAG,CAC7C,SAASjN,EAAEqgB,EAAG,CACZ,GAAI,CACFzT,EAAEI,EAAE,KAAKqT,CAAC,CAAC,CACZ,OAAQC,EAAG,CACV,EAAEA,CAAC,CACJ,CACF,CACD,SAASjF,EAAEgF,EAAG,CACZ,GAAI,CACFzT,EAAEI,EAAE,MAAMqT,CAAC,CAAC,CACb,OAAQC,EAAG,CACV,EAAEA,CAAC,CACJ,CACF,CACD,SAAS1T,EAAEyT,EAAG,CACZA,EAAE,KAAOpT,EAAEoT,EAAE,KAAK,EAAI,EAAEA,EAAE,KAAK,EAAE,KAAKrgB,EAAGqb,CAAC,CAC3C,CACDzO,GAAGI,EAAIA,EAAE,MAAMkP,EAAGC,GAAK,CAAE,CAAA,GAAG,KAAI,CAAE,CACtC,CAAG,CACH,CACA,SAAS+K,GAAGhL,EAAGC,EAAG,CAChB,IAAI3d,EAAI,CAAE,MAAO,EAAG,KAAM,UAAW,CACnC,GAAIyO,EAAE,CAAC,EAAI,EACT,MAAMA,EAAE,CAAC,EACX,OAAOA,EAAE,CAAC,CACd,EAAK,KAAM,CAAE,EAAE,IAAK,CAAA,CAAI,EAAED,EAAG,EAAGC,EAAG,EACjC,OAAO,EAAI,CAAE,KAAMjN,EAAE,CAAC,EAAG,MAAOA,EAAE,CAAC,EAAG,OAAQA,EAAE,CAAC,CAAG,EAAE,OAAO,QAAU,aAAe,EAAE,OAAO,QAAQ,EAAI,UAAW,CACpH,OAAO,IACR,GAAG,EACJ,SAASA,EAAE4M,EAAG,CACZ,OAAO,SAASyT,EAAG,CACjB,OAAOhF,EAAE,CAACzO,EAAGyT,CAAC,CAAC,CACrB,CACG,CACD,SAAShF,EAAEzO,EAAG,CACZ,GAAII,EACF,MAAM,IAAI,UAAU,iCAAiC,EACvD,KAAO,IAAM,EAAI,EAAGJ,EAAE,CAAC,IAAMpO,EAAI,IAAKA,GACpC,GAAI,CACF,GAAIwO,EAAI,EAAG,IAAMC,EAAIL,EAAE,CAAC,EAAI,EAAI,EAAE,OAASA,EAAE,CAAC,EAAI,EAAE,SAAWK,EAAI,EAAE,SAAWA,EAAE,KAAK,CAAC,EAAG,GAAK,EAAE,OAAS,EAAEA,EAAIA,EAAE,KAAK,EAAGL,EAAE,CAAC,CAAC,GAAG,KAChI,OAAOK,EACT,OAAQ,EAAI,EAAGA,IAAML,EAAI,CAACA,EAAE,CAAC,EAAI,EAAGK,EAAE,KAAK,GAAIL,EAAE,CAAC,EAAC,CACjD,IAAK,GACL,IAAK,GACHK,EAAIL,EACJ,MACF,IAAK,GACH,OAAOpO,EAAE,QAAS,CAAE,MAAOoO,EAAE,CAAC,EAAG,KAAM,IACzC,IAAK,GACHpO,EAAE,QAAS,EAAIoO,EAAE,CAAC,EAAGA,EAAI,CAAC,CAAC,EAC3B,SACF,IAAK,GACHA,EAAIpO,EAAE,IAAI,IAAK,EAAEA,EAAE,KAAK,MACxB,SACF,QACE,GAAIyO,EAAIzO,EAAE,KAAM,EAAEyO,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAOL,EAAE,CAAC,IAAM,GAAKA,EAAE,CAAC,IAAM,GAAI,CACpFpO,EAAI,EACJ,QACD,CACD,GAAIoO,EAAE,CAAC,IAAM,IAAM,CAACK,GAAKL,EAAE,CAAC,EAAIK,EAAE,CAAC,GAAKL,EAAE,CAAC,EAAIK,EAAE,CAAC,GAAI,CACpDzO,EAAE,MAAQoO,EAAE,CAAC,EACb,KACD,CACD,GAAIA,EAAE,CAAC,IAAM,GAAKpO,EAAE,MAAQyO,EAAE,CAAC,EAAG,CAChCzO,EAAE,MAAQyO,EAAE,CAAC,EAAGA,EAAIL,EACpB,KACD,CACD,GAAIK,GAAKzO,EAAE,MAAQyO,EAAE,CAAC,EAAG,CACvBzO,EAAE,MAAQyO,EAAE,CAAC,EAAGzO,EAAE,IAAI,KAAKoO,CAAC,EAC5B,KACD,CACDK,EAAE,CAAC,GAAKzO,EAAE,IAAI,IAAG,EAAIA,EAAE,KAAK,MAC5B,QACH,CACDoO,EAAIuP,EAAE,KAAKD,EAAG1d,CAAC,CAChB,OAAQ6hB,EAAG,CACVzT,EAAI,CAAC,EAAGyT,CAAC,EAAG,EAAI,CACxB,QAAgB,CACRrT,EAAIC,EAAI,CACT,CACH,GAAIL,EAAE,CAAC,EAAI,EACT,MAAMA,EAAE,CAAC,EACX,MAAO,CAAE,MAAOA,EAAE,CAAC,EAAIA,EAAE,CAAC,EAAI,OAAQ,KAAM,EAAE,CAC/C,CACH,CACA,IAAIua,GAAK,IAAI,MAAM,2BAA2B,EAAGC,GAAK,UAAW,CAC/D,SAASlL,EAAEC,EAAG3d,EAAG,CACfA,IAAM,SAAWA,EAAI2oB,IAAK,KAAK,OAAShL,EAAG,KAAK,aAAe3d,EAAG,KAAK,gBAAkB,CAAA,EAAI,KAAK,iBAAmB,EACtH,CACD,OAAO0d,EAAE,UAAU,QAAU,SAASC,EAAG,CACvC,IAAI3d,EAAI,KACR,GAAI2d,IAAM,SAAWA,EAAI,GAAIA,GAAK,EAChC,MAAM,IAAI,MAAM,kBAAkB,OAAOA,EAAG,oBAAoB,CAAC,EACnE,OAAO,IAAI,QAAQ,SAASnP,EAAG,EAAG,CAChCxO,EAAE,gBAAgB2d,EAAI,CAAC,IAAM3d,EAAE,gBAAgB2d,EAAI,CAAC,EAAI,CAAA,GAAK3d,EAAE,gBAAgB2d,EAAI,CAAC,EAAE,KAAK,CAAE,QAASnP,EAAG,OAAQ,CAAG,CAAA,EAAGxO,EAAE,UAAS,CACxI,CAAK,CACF,EAAE0d,EAAE,UAAU,aAAe,SAASC,EAAG3d,EAAG,CAC3C,OAAOA,IAAM,SAAWA,EAAI,GAAIyoB,GAAG,KAAM,OAAQ,OAAQ,UAAW,CAClE,IAAIja,EAAG,EAAGC,EACV,OAAOia,GAAG,KAAM,SAAS,EAAG,CAC1B,OAAQ,EAAE,MAAK,CACb,IAAK,GACH,MAAO,CAAC,EAAG,KAAK,QAAQ1oB,CAAC,CAAC,EAC5B,IAAK,GACHwO,EAAI,EAAE,KAAM,EAAE,EAAIA,EAAE,CAAC,EAAGC,EAAID,EAAE,CAAC,EAAG,EAAE,MAAQ,EAC9C,IAAK,GACH,OAAO,EAAE,KAAK,KAAK,CAAC,EAAC,CAAI,EAAG,CAAC,CAAC,EAAG,CAAC,EAAGmP,EAAE,CAAC,CAAC,EAC3C,IAAK,GACH,MAAO,CAAC,EAAG,EAAE,KAAM,CAAA,EACrB,IAAK,GACH,OAAOlP,EAAC,EAAI,CAAC,CAAC,EAChB,IAAK,GACH,MAAO,CAAC,CAAC,CACZ,CACT,CAAO,CACP,CAAK,CACF,EAAEiP,EAAE,UAAU,cAAgB,SAASC,EAAG,CACzC,IAAI3d,EAAI,KACR,GAAI2d,IAAM,SAAWA,EAAI,GAAIA,GAAK,EAChC,MAAM,IAAI,MAAM,kBAAkB,OAAOA,EAAG,oBAAoB,CAAC,EACnE,OAAO,IAAI,QAAQ,SAASnP,EAAG,CAC7BxO,EAAE,iBAAiB2d,EAAI,CAAC,IAAM3d,EAAE,iBAAiB2d,EAAI,CAAC,EAAI,CAAA,GAAK3d,EAAE,iBAAiB2d,EAAI,CAAC,EAAE,KAAKnP,CAAC,EAAGxO,EAAE,WAC1G,CAAK,CACL,EAAK0d,EAAE,UAAU,SAAW,UAAW,CACnC,OAAO,KAAK,QAAU,CAC1B,EAAKA,EAAE,UAAU,SAAW,UAAW,CACnC,OAAO,KAAK,MACb,EAAEA,EAAE,UAAU,SAAW,SAASC,EAAG,CACpC,KAAK,OAASA,EAAG,KAAK,UAAS,CAChC,EAAED,EAAE,UAAU,QAAU,SAASC,EAAG,CACnC,GAAIA,IAAM,SAAWA,EAAI,GAAIA,GAAK,EAChC,MAAM,IAAI,MAAM,kBAAkB,OAAOA,EAAG,oBAAoB,CAAC,EACnE,KAAK,QAAUA,EAAG,KAAK,UAAS,CACpC,EAAKD,EAAE,UAAU,OAAS,UAAW,CACjC,IAAIC,EAAI,KACR,KAAK,gBAAgB,QAAQ,SAAS3d,EAAG,CACvC,OAAOA,EAAE,QAAQ,SAASwO,EAAG,CAC3B,OAAOA,EAAE,OAAOmP,EAAE,YAAY,CACtC,CAAO,CACP,CAAK,EAAG,KAAK,gBAAkB,EAC/B,EAAKD,EAAE,UAAU,UAAY,UAAW,CACpC,QAASC,EAAG3d,EAAI,KAAK,OAAQA,EAAI,EAAGA,IAAK,CACvC,IAAIwO,GAAKmP,EAAI,KAAK,gBAAgB3d,EAAI,CAAC,KAAO,MAAQ2d,IAAM,OAAS,OAASA,EAAE,QAChF,GAAMnP,EAAG,CACP,IAAI,EAAI,KAAK,OAAQC,EAAIzO,EACzB,KAAK,QAAUA,EAAGA,EAAI,KAAK,OAAS,EAAGwO,EAAE,QAAQ,CAAC,EAAG,KAAK,aAAaC,CAAC,CAAC,CAAC,CAC3E,CACF,CACD,KAAK,oBAAmB,CACzB,EAAEiP,EAAE,UAAU,aAAe,SAASC,EAAG,CACxC,IAAI3d,EAAI,KAAMwO,EAAI,GAClB,OAAO,UAAW,CAChBA,IAAMA,EAAI,GAAIxO,EAAE,QAAQ2d,CAAC,EAC/B,CACA,EAAKD,EAAE,UAAU,oBAAsB,UAAW,CAC9C,QAASC,EAAI,KAAK,OAAQA,EAAI,EAAGA,IAC/B,CAAC,KAAK,iBAAiBA,EAAI,CAAC,IAAM,KAAK,iBAAiBA,EAAI,CAAC,EAAE,QAAQ,SAAS3d,EAAG,CACjF,OAAOA,EAAC,CAChB,CAAO,EAAG,KAAK,iBAAiB2d,EAAI,CAAC,EAAI,CAAA,EACtC,EAAED,CACL,EAAG,EAAEmL,GAAK,UAAW,CACnB,SAASnL,EAAEC,EAAG,CACZ,KAAK,WAAa,IAAIiL,GAAG,EAAGjL,CAAC,CAC9B,CACD,OAAOD,EAAE,UAAU,QAAU,UAAW,CACtC,OAAO+K,GAAG,KAAM,OAAQ,OAAQ,UAAW,CACzC,IAAI9K,EAAG3d,EACP,OAAO0oB,GAAG,KAAM,SAASla,EAAG,CAC1B,OAAQA,EAAE,MAAK,CACb,IAAK,GACH,MAAO,CAAC,EAAG,KAAK,WAAW,QAAS,CAAA,EACtC,IAAK,GACH,OAAOmP,EAAInP,EAAE,KAAI,EAAIxO,EAAI2d,EAAE,CAAC,EAAG,CAAC,EAAG3d,CAAC,CACvC,CACT,CAAO,CACP,CAAK,CACF,EAAE0d,EAAE,UAAU,aAAe,SAASC,EAAG,CACxC,OAAO,KAAK,WAAW,aAAa,UAAW,CAC7C,OAAOA,EAAC,CACd,CAAK,CACL,EAAKD,EAAE,UAAU,SAAW,UAAW,CACnC,OAAO,KAAK,WAAW,UAC3B,EAAKA,EAAE,UAAU,cAAgB,UAAW,CACxC,OAAO,KAAK,WAAW,eAC3B,EAAKA,EAAE,UAAU,QAAU,UAAW,CAClC,KAAK,WAAW,SAAQ,GAAM,KAAK,WAAW,SAClD,EAAKA,EAAE,UAAU,OAAS,UAAW,CACjC,OAAO,KAAK,WAAW,QACxB,EAAEA,CACL,IAAKoL,GAAK,OAAO,WAAa,IAAM,WAAa,OAAO,OAAS,IAAM,OAAS,OAAO,OAAS,IAAM,OAAS,OAAO,KAAO,IAAM,KAAO,CAAE,EAAEC,GAAK,CAAE,QAAS,CAAA,IAC7J,SAASrL,EAAGC,EAAG,EACb,SAAS3d,EAAGwO,EAAG,CACdA,EAAEkP,CAAC,CACP,GAAK,OAAO,WAAa,IAAM,WAAa,OAAO,KAAO,IAAM,KAAOoL,GAAI,SAAS9oB,EAAG,CACnF,IAAIwO,EAAG,EACP,GAAI,GAAG,GAAKA,EAAI,WAAW,SAAW,KAAO,OAASA,EAAE,UAAY,MAAQ,EAAE,IAC5E,MAAM,IAAI,MAAM,2DAA2D,EAC7E,GAAI,OAAO,WAAW,QAAU,KAAO,OAAO,eAAe,WAAW,OAAO,IAAM,OAAO,UAAW,CACrG,MAAMC,EAAI,0DAA2D,EAAKjN,GAAM,CAC9E,MAAMqb,EAAI,CACR,OAAQ,CACN,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,UAAW,CACT,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,cAAe,CACb,QAAS,CACP,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,OAAQ,CACN,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,wBAAyB,CACvB,QAAS,EACT,QAAS,CACV,EACD,aAAc,CACZ,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,wBAAyB,CACvB,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,aAAc,CACZ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,aAAc,CACZ,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,iBAAkB,CAChB,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,aAAc,CACZ,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,gBAAiB,CACf,KAAM,CACJ,QAAS,EACT,QAAS,EACT,kBAAmB,EACpB,CACF,EACD,OAAQ,CACN,OAAQ,CACN,QAAS,EACT,QAAS,EACT,kBAAmB,EACpB,EACD,SAAU,CACR,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,CACF,CACF,CACF,EACD,UAAW,CACT,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,UAAW,CACT,0BAA2B,CACzB,QAAS,EACT,QAAS,CACV,EACD,yBAA0B,CACxB,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,WAAY,CACV,QAAS,EACT,QAAS,CACV,CACF,EACD,WAAY,CACV,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,CACF,EACD,cAAe,CACb,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,WAAY,CACV,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,YAAa,CACX,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,MAAO,CACL,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,CACF,EACD,KAAM,CACJ,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,CACV,EACD,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,EACD,cAAe,CACb,aAAc,CACZ,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,CACF,EACD,WAAY,CACV,uBAAwB,CACtB,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,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,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,cAAe,CACb,QAAS,CACP,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,OAAQ,CACN,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,wBAAyB,CACvB,QAAS,EACT,QAAS,CACV,EACD,aAAc,CACZ,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,wBAAyB,CACvB,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,aAAc,CACZ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,aAAc,CACZ,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,iBAAkB,CAChB,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,aAAc,CACZ,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,gBAAiB,CACf,KAAM,CACJ,QAAS,EACT,QAAS,EACT,kBAAmB,EACpB,CACF,EACD,OAAQ,CACN,OAAQ,CACN,QAAS,EACT,QAAS,EACT,kBAAmB,EACpB,EACD,SAAU,CACR,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,CACF,CACF,CACF,EACD,UAAW,CACT,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,UAAW,CACT,0BAA2B,CACzB,QAAS,EACT,QAAS,CACV,EACD,yBAA0B,CACxB,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,WAAY,CACV,QAAS,EACT,QAAS,CACV,CACF,EACD,WAAY,CACV,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,CACF,EACD,cAAe,CACb,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,WAAY,CACV,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,YAAa,CACX,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,MAAO,CACL,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,CACF,EACD,KAAM,CACJ,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QA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","x_google_ignoreList":[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,51,53,55,56,57,58,59]}