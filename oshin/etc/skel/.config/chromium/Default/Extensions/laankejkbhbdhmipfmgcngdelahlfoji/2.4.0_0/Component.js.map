{"version":3,"file":"Component.js","sources":["../src/core/Component.ts"],"sourcesContent":["export type ClassType = 'Model' | 'View' | 'Controller'\nexport default class Component {\n  name: null | string = null\n  Model: null | any = null\n  View: null | any = null\n  Controller: null | any = null\n\n  constructor(name: string, initObj: any) {\n    this.name = name\n    this.Model = this.decorateClass(initObj.Model)\n    this.View = this.decorateClass(initObj.View)\n    this.Controller = this.decorateClass(initObj.Controller)\n  }\n\n  /**\n   * Creates an instance of the specified class type\n   *\n   * @param classType The type of class instance to create\n   * @param instanceName The name of the instance\n   * @returns {} Instance of specified class\n   */\n  create(classType: ClassType, instanceName: string) {\n    const allowedTypes = {\n      Model: null,\n      View: null,\n      Controller: null,\n    }\n\n    if (!(classType in allowedTypes)) {\n      throw new Error(\n        '[Component.create] ' + classType + ' is not a valid class type',\n      )\n    }\n\n    if (!this[classType]) {\n      throw new Error(\n        '[Component.create] The ' +\n          this.name +\n          ' Component does not support the ' +\n          classType +\n          'class',\n      )\n    }\n\n    return this.decorateInstance(new this[classType](), classType, instanceName)\n  }\n\n  /**\n   * Decorates class with additional getters for metadata\n   *\n   * @param classObj The class to decorate\n   * @returns {null} Decorated class\n   */\n  decorateClass(classObj: any) {\n    classObj = classObj || null\n\n    if (classObj) {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const self = this\n\n      classObj.prototype.component = self\n\n      classObj.prototype.getComponent = function getComponent() {\n        return self\n      }\n\n      classObj.prototype.getComponentName = function getComponentName() {\n        return this.__meta.componentName\n      }\n\n      classObj.prototype.getClassName = function getClassName() {\n        return this.__meta.className\n      }\n\n      classObj.prototype.getInstanceName = function getInstanceName() {\n        return this.__meta.instanceName\n      }\n\n      classObj.prototype.getInstanceID = function getInstanceID() {\n        return this.__meta.instanceID\n      }\n\n      classObj.prototype.getOriginator = function getOriginator() {\n        return this.__meta.originator\n      }\n    }\n\n    return classObj\n  }\n\n  /**\n   * Adds instance metadata to instance\n   *\n   * @param instance The instance to decorate\n   * @param classType The instance's class type\n   * @param instanceName The name of the instance\n   * @returns {*}\n   */\n  decorateInstance(instance: any, classType: ClassType, instanceName: string) {\n    const className = this.name + classType\n\n    instance.__meta = {\n      componentName: this.name,\n      className: className,\n      instanceName: instanceName,\n      instanceID: className + ':' + instanceName,\n      originator: instanceName + ': ' + this.name + classType,\n    }\n\n    instance.originator = instanceName + ': ' + className\n\n    return instance\n  }\n}\n"],"names":["Component","name","initObj","__publicField","classType","instanceName","classObj","self","instance","className"],"mappings":"wKACA,MAAqBA,CAAU,CAM7B,YAAYC,EAAcC,EAAc,CALxCC,EAAA,YAAsB,MACtBA,EAAA,aAAoB,MACpBA,EAAA,YAAmB,MACnBA,EAAA,kBAAyB,MAGvB,KAAK,KAAOF,EACZ,KAAK,MAAQ,KAAK,cAAcC,EAAQ,KAAK,EAC7C,KAAK,KAAO,KAAK,cAAcA,EAAQ,IAAI,EAC3C,KAAK,WAAa,KAAK,cAAcA,EAAQ,UAAU,CACzD,CASA,OAAOE,EAAsBC,EAAsB,CAO7C,GAAA,EAAED,IANe,CACnB,MAAO,KACP,KAAM,KACN,WAAY,IAAA,GAIZ,MAAM,IAAI,MACR,sBAAwBA,EAAY,4BAAA,EAIpC,GAAA,CAAC,KAAKA,CAAS,EACjB,MAAM,IAAI,MACR,0BACE,KAAK,KACL,mCACAA,EACA,OAAA,EAIC,OAAA,KAAK,iBAAiB,IAAI,KAAKA,CAAS,EAAKA,EAAWC,CAAY,CAC7E,CAQA,cAAcC,EAAe,CAG3B,GAFAA,EAAWA,GAAY,KAEnBA,EAAU,CAEZ,MAAMC,EAAO,KAEbD,EAAS,UAAU,UAAYC,EAEtBD,EAAA,UAAU,aAAe,UAAwB,CACjD,OAAAC,CAAA,EAGAD,EAAA,UAAU,iBAAmB,UAA4B,CAChE,OAAO,KAAK,OAAO,aAAA,EAGZA,EAAA,UAAU,aAAe,UAAwB,CACxD,OAAO,KAAK,OAAO,SAAA,EAGZA,EAAA,UAAU,gBAAkB,UAA2B,CAC9D,OAAO,KAAK,OAAO,YAAA,EAGZA,EAAA,UAAU,cAAgB,UAAyB,CAC1D,OAAO,KAAK,OAAO,UAAA,EAGZA,EAAA,UAAU,cAAgB,UAAyB,CAC1D,OAAO,KAAK,OAAO,UAAA,CAEvB,CAEO,OAAAA,CACT,CAUA,iBAAiBE,EAAeJ,EAAsBC,EAAsB,CACpE,MAAAI,EAAY,KAAK,KAAOL,EAE9B,OAAAI,EAAS,OAAS,CAChB,cAAe,KAAK,KACpB,UAAAC,EACA,aAAAJ,EACA,WAAYI,EAAY,IAAMJ,EAC9B,WAAYA,EAAe,KAAO,KAAK,KAAOD,CAAA,EAGvCI,EAAA,WAAaH,EAAe,KAAOI,EAErCD,CACT,CACF"}