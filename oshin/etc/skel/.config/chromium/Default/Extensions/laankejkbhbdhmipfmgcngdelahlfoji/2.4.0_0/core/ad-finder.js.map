{"version":3,"file":"ad-finder.js","sources":["../../node_modules/.pnpm/@sensortower+ad-finder@2.4.9_krx4milwcm7copkrlki2bk4huu/node_modules/@sensortower/ad-finder/dist/index.mjs","../../src/core/ObjectUtils.ts","../../node_modules/.pnpm/@bugsnag+web-worker@7.22.7_evc7uvc2yt46ngx2sxnx6rr2ki/node_modules/@bugsnag/web-worker/dist/bugsnag.web-worker.js","../../src/utils/serialize.js","../../node_modules/.pnpm/webextension-polyfill@0.10.0/node_modules/webextension-polyfill/dist/browser-polyfill.js","../../src/core/Bugsnag.ts","../../src/core/Logger.ts","../../src/core/GeneralUtils.ts","../../src/core/API.ts","../../node_modules/.pnpm/@babel+runtime@7.24.4/node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/toInteger/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/requiredArgs/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/toDate/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/addMilliseconds/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/defaultOptions/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/isDate/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/isValid/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/subMilliseconds/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/getUTCWeek/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/addLeadingZeros/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/format/lightFormatters/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/format/formatters/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/format/longFormatters/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/_lib/protectedTokens/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/locale/en-US/index.js","../../node_modules/.pnpm/date-fns@2.30.0/node_modules/date-fns/esm/format/index.js","../../node_modules/.pnpm/@sensortower+panel-api-utils@1.2.6_chance@1.1.11/node_modules/@sensortower/panel-api-utils/dist/index.mjs","../../node_modules/.pnpm/ua-parser-js@1.0.37/node_modules/ua-parser-js/src/ua-parser.js","../../src/core/Amplitude.ts","../../src/core/AmplitudeAPI.ts","../../src/core/ChromeAPI.ts","../../src/core/DateUtils.ts","../../src/core/DomainParser.ts","../../src/core/IncrementalRollout.ts","../../src/core/Requirements.ts","../../src/core/Storage.ts","../../src/core/Settings.ts","../../src/core/Time.ts","../../src/core/RemoteConfig.ts","../../node_modules/.pnpm/@sensortower+web-ext-usage@2.1.0_7ym2mnjylomc6kk2sgp3nhwrju/node_modules/@sensortower/web-ext-usage/dist/index.mjs","../../src/core/AppConsts.ts","../../src/core/WebUsage.ts","../../node_modules/.pnpm/destr@2.0.3/node_modules/destr/dist/index.mjs","../../node_modules/.pnpm/ufo@1.5.3/node_modules/ufo/dist/index.mjs","../../node_modules/.pnpm/ofetch@1.3.4/node_modules/ofetch/dist/shared/ofetch.37386b05.mjs","../../node_modules/.pnpm/ofetch@1.3.4/node_modules/ofetch/dist/index.mjs","../../node_modules/.pnpm/@sensortower+panel-api@2.10.0_t6aiv4xuc4hyw7ldb5ubdjntwe/node_modules/@sensortower/panel-api/dist/index.mjs","../../src/core/ScheduleJobs.ts","../../src/core/vendor/DropletJS.PubSub.min.js","../../src/core/Notification.ts","../../src/core/badge-icons.ts","../../src/core/NuclearOption.ts","../../src/core/BlockedGroupsTimer.ts","../../src/core/BlockedAllWebsites.ts","../../src/utils/isHostnameBlocked.ts","../../src/core/BlockedGroupsRepository.ts","../../src/core/Message.ts","../../src/core/StayFocusd.ts","../../src/core/WhitelistRepository.ts","../../src/core/CoreAPI.ts","../../node_modules/.pnpm/serialize-error@11.0.3/node_modules/serialize-error/error-constructors.js","../../node_modules/.pnpm/serialize-error@11.0.3/node_modules/serialize-error/index.js","../../node_modules/.pnpm/@webext-core+messaging@1.4.0/node_modules/@webext-core/messaging/lib/chunk-ALTBYIMW.js","../../node_modules/.pnpm/@webext-core+messaging@1.4.0/node_modules/@webext-core/messaging/lib/index.js","../../node_modules/.pnpm/isobject@3.0.1/node_modules/isobject/index.js","../../node_modules/.pnpm/get-value@3.0.1/node_modules/get-value/index.js","../../node_modules/.pnpm/@webext-core+proxy-service@1.2.0_ol2sj45kaakabqa22bqe6d4lxy/node_modules/@webext-core/proxy-service/lib/index.js","../../src/utils/backround-api.ts","../../src/utils/initPubSubForwarder.js","../../src/core/ad-finder.ts"],"sourcesContent":["var ae = Object.defineProperty;\nvar ce = (r, t, e) => t in r ? ae(r, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : r[t] = e;\nvar k = (r, t, e) => (ce(r, typeof t != \"symbol\" ? t + \"\" : t, e), e);\nconst le = '\"use strict\";(()=>{var Pe=Object.create;var Ht=Object.defineProperty;var Me=Object.getOwnPropertyDescriptor;var Oe=Object.getOwnPropertyNames;var Fe=Object.getPrototypeOf,Ue=Object.prototype.hasOwnProperty;var Le=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var De=(e,t,r,o)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let s of Oe(t))!Ue.call(e,s)&&s!==r&&Ht(e,s,{get:()=>t[s],enumerable:!(o=Me(t,s))||o.enumerable});return e};var Vt=(e,t,r)=>(r=e!=null?Pe(Fe(e)):{},De(t||!e||!e.__esModule?Ht(r,\"default\",{value:e,enumerable:!0}):r,e));var vt=Le((Bt,Wt)=>{\"use strict\";(function(e){if(typeof Bt==\"object\")Wt.exports=e();else if(typeof define==\"function\"&&define.amd)define(e);else{var t;try{t=window}catch{t=self}t.SparkMD5=e()}})(function(e){\"use strict\";var t=function(d,l){return d+l&4294967295},r=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"];function o(d,l,i,n,c,a){return l=t(t(l,d),t(n,a)),t(l<<c|l>>>32-c,i)}function s(d,l){var i=d[0],n=d[1],c=d[2],a=d[3];i+=(n&c|~n&a)+l[0]-680876936|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&c)+l[1]-389564586|0,a=(a<<12|a>>>20)+i|0,c+=(a&i|~a&n)+l[2]+606105819|0,c=(c<<17|c>>>15)+a|0,n+=(c&a|~c&i)+l[3]-1044525330|0,n=(n<<22|n>>>10)+c|0,i+=(n&c|~n&a)+l[4]-176418897|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&c)+l[5]+1200080426|0,a=(a<<12|a>>>20)+i|0,c+=(a&i|~a&n)+l[6]-1473231341|0,c=(c<<17|c>>>15)+a|0,n+=(c&a|~c&i)+l[7]-45705983|0,n=(n<<22|n>>>10)+c|0,i+=(n&c|~n&a)+l[8]+1770035416|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&c)+l[9]-1958414417|0,a=(a<<12|a>>>20)+i|0,c+=(a&i|~a&n)+l[10]-42063|0,c=(c<<17|c>>>15)+a|0,n+=(c&a|~c&i)+l[11]-1990404162|0,n=(n<<22|n>>>10)+c|0,i+=(n&c|~n&a)+l[12]+1804603682|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&c)+l[13]-40341101|0,a=(a<<12|a>>>20)+i|0,c+=(a&i|~a&n)+l[14]-1502002290|0,c=(c<<17|c>>>15)+a|0,n+=(c&a|~c&i)+l[15]+1236535329|0,n=(n<<22|n>>>10)+c|0,i+=(n&a|c&~a)+l[1]-165796510|0,i=(i<<5|i>>>27)+n|0,a+=(i&c|n&~c)+l[6]-1069501632|0,a=(a<<9|a>>>23)+i|0,c+=(a&n|i&~n)+l[11]+643717713|0,c=(c<<14|c>>>18)+a|0,n+=(c&i|a&~i)+l[0]-373897302|0,n=(n<<20|n>>>12)+c|0,i+=(n&a|c&~a)+l[5]-701558691|0,i=(i<<5|i>>>27)+n|0,a+=(i&c|n&~c)+l[10]+38016083|0,a=(a<<9|a>>>23)+i|0,c+=(a&n|i&~n)+l[15]-660478335|0,c=(c<<14|c>>>18)+a|0,n+=(c&i|a&~i)+l[4]-405537848|0,n=(n<<20|n>>>12)+c|0,i+=(n&a|c&~a)+l[9]+568446438|0,i=(i<<5|i>>>27)+n|0,a+=(i&c|n&~c)+l[14]-1019803690|0,a=(a<<9|a>>>23)+i|0,c+=(a&n|i&~n)+l[3]-187363961|0,c=(c<<14|c>>>18)+a|0,n+=(c&i|a&~i)+l[8]+1163531501|0,n=(n<<20|n>>>12)+c|0,i+=(n&a|c&~a)+l[13]-1444681467|0,i=(i<<5|i>>>27)+n|0,a+=(i&c|n&~c)+l[2]-51403784|0,a=(a<<9|a>>>23)+i|0,c+=(a&n|i&~n)+l[7]+1735328473|0,c=(c<<14|c>>>18)+a|0,n+=(c&i|a&~i)+l[12]-1926607734|0,n=(n<<20|n>>>12)+c|0,i+=(n^c^a)+l[5]-378558|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^c)+l[8]-2022574463|0,a=(a<<11|a>>>21)+i|0,c+=(a^i^n)+l[11]+1839030562|0,c=(c<<16|c>>>16)+a|0,n+=(c^a^i)+l[14]-35309556|0,n=(n<<23|n>>>9)+c|0,i+=(n^c^a)+l[1]-1530992060|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^c)+l[4]+1272893353|0,a=(a<<11|a>>>21)+i|0,c+=(a^i^n)+l[7]-155497632|0,c=(c<<16|c>>>16)+a|0,n+=(c^a^i)+l[10]-1094730640|0,n=(n<<23|n>>>9)+c|0,i+=(n^c^a)+l[13]+681279174|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^c)+l[0]-358537222|0,a=(a<<11|a>>>21)+i|0,c+=(a^i^n)+l[3]-722521979|0,c=(c<<16|c>>>16)+a|0,n+=(c^a^i)+l[6]+76029189|0,n=(n<<23|n>>>9)+c|0,i+=(n^c^a)+l[9]-640364487|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^c)+l[12]-421815835|0,a=(a<<11|a>>>21)+i|0,c+=(a^i^n)+l[15]+530742520|0,c=(c<<16|c>>>16)+a|0,n+=(c^a^i)+l[2]-995338651|0,n=(n<<23|n>>>9)+c|0,i+=(c^(n|~a))+l[0]-198630844|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~c))+l[7]+1126891415|0,a=(a<<10|a>>>22)+i|0,c+=(i^(a|~n))+l[14]-1416354905|0,c=(c<<15|c>>>17)+a|0,n+=(a^(c|~i))+l[5]-57434055|0,n=(n<<21|n>>>11)+c|0,i+=(c^(n|~a))+l[12]+1700485571|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~c))+l[3]-1894986606|0,a=(a<<10|a>>>22)+i|0,c+=(i^(a|~n))+l[10]-1051523|0,c=(c<<15|c>>>17)+a|0,n+=(a^(c|~i))+l[1]-2054922799|0,n=(n<<21|n>>>11)+c|0,i+=(c^(n|~a))+l[8]+1873313359|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~c))+l[15]-30611744|0,a=(a<<10|a>>>22)+i|0,c+=(i^(a|~n))+l[6]-1560198380|0,c=(c<<15|c>>>17)+a|0,n+=(a^(c|~i))+l[13]+1309151649|0,n=(n<<21|n>>>11)+c|0,i+=(c^(n|~a))+l[4]-145523070|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~c))+l[11]-1120210379|0,a=(a<<10|a>>>22)+i|0,c+=(i^(a|~n))+l[2]+718787259|0,c=(c<<15|c>>>17)+a|0,n+=(a^(c|~i))+l[9]-343485551|0,n=(n<<21|n>>>11)+c|0,d[0]=i+d[0]|0,d[1]=n+d[1]|0,d[2]=c+d[2]|0,d[3]=a+d[3]|0}function u(d){var l=[],i;for(i=0;i<64;i+=4)l[i>>2]=d.charCodeAt(i)+(d.charCodeAt(i+1)<<8)+(d.charCodeAt(i+2)<<16)+(d.charCodeAt(i+3)<<24);return l}function h(d){var l=[],i;for(i=0;i<64;i+=4)l[i>>2]=d[i]+(d[i+1]<<8)+(d[i+2]<<16)+(d[i+3]<<24);return l}function f(d){var l=d.length,i=[1732584193,-271733879,-1732584194,271733878],n,c,a,x,O,L;for(n=64;n<=l;n+=64)s(i,u(d.substring(n-64,n)));for(d=d.substring(n-64),c=d.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<c;n+=1)a[n>>2]|=d.charCodeAt(n)<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(s(i,a),n=0;n<16;n+=1)a[n]=0;return x=l*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),O=parseInt(x[2],16),L=parseInt(x[1],16)||0,a[14]=O,a[15]=L,s(i,a),i}function p(d){var l=d.length,i=[1732584193,-271733879,-1732584194,271733878],n,c,a,x,O,L;for(n=64;n<=l;n+=64)s(i,h(d.subarray(n-64,n)));for(d=n-64<l?d.subarray(n-64):new Uint8Array(0),c=d.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<c;n+=1)a[n>>2]|=d[n]<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(s(i,a),n=0;n<16;n+=1)a[n]=0;return x=l*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),O=parseInt(x[2],16),L=parseInt(x[1],16)||0,a[14]=O,a[15]=L,s(i,a),i}function m(d){var l=\"\",i;for(i=0;i<4;i+=1)l+=r[d>>i*8+4&15]+r[d>>i*8&15];return l}function g(d){var l;for(l=0;l<d.length;l+=1)d[l]=m(d[l]);return d.join(\"\")}g(f(\"hello\"))!==\"5d41402abc4b2a76b9719d911017c592\"&&(t=function(d,l){var i=(d&65535)+(l&65535),n=(d>>16)+(l>>16)+(i>>16);return n<<16|i&65535}),typeof ArrayBuffer<\"u\"&&!ArrayBuffer.prototype.slice&&function(){function d(l,i){return l=l|0||0,l<0?Math.max(l+i,0):Math.min(l,i)}ArrayBuffer.prototype.slice=function(l,i){var n=this.byteLength,c=d(l,n),a=n,x,O,L,Dt;return i!==e&&(a=d(i,n)),c>a?new ArrayBuffer(0):(x=a-c,O=new ArrayBuffer(x),L=new Uint8Array(O),Dt=new Uint8Array(this,c,x),L.set(Dt),O)}}();function w(d){return/[\\\\u0080-\\\\uFFFF]/.test(d)&&(d=unescape(encodeURIComponent(d))),d}function v(d,l){var i=d.length,n=new ArrayBuffer(i),c=new Uint8Array(n),a;for(a=0;a<i;a+=1)c[a]=d.charCodeAt(a);return l?c:n}function R(d){return String.fromCharCode.apply(null,new Uint8Array(d))}function b(d,l,i){var n=new Uint8Array(d.byteLength+l.byteLength);return n.set(new Uint8Array(d)),n.set(new Uint8Array(l),d.byteLength),i?n:n.buffer}function q(d){var l=[],i=d.length,n;for(n=0;n<i-1;n+=2)l.push(parseInt(d.substr(n,2),16));return String.fromCharCode.apply(String,l)}function A(){this.reset()}return A.prototype.append=function(d){return this.appendBinary(w(d)),this},A.prototype.appendBinary=function(d){this._buff+=d,this._length+=d.length;var l=this._buff.length,i;for(i=64;i<=l;i+=64)s(this._hash,u(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},A.prototype.end=function(d){var l=this._buff,i=l.length,n,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a;for(n=0;n<i;n+=1)c[n>>2]|=l.charCodeAt(n)<<(n%4<<3);return this._finish(c,i),a=g(this._hash),d&&(a=q(a)),this.reset(),a},A.prototype.reset=function(){return this._buff=\"\",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},A.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},A.prototype.setState=function(d){return this._buff=d.buff,this._length=d.length,this._hash=d.hash,this},A.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},A.prototype._finish=function(d,l){var i=l,n,c,a;if(d[i>>2]|=128<<(i%4<<3),i>55)for(s(this._hash,d),i=0;i<16;i+=1)d[i]=0;n=this._length*8,n=n.toString(16).match(/(.*?)(.{0,8})$/),c=parseInt(n[2],16),a=parseInt(n[1],16)||0,d[14]=c,d[15]=a,s(this._hash,d)},A.hash=function(d,l){return A.hashBinary(w(d),l)},A.hashBinary=function(d,l){var i=f(d),n=g(i);return l?q(n):n},A.ArrayBuffer=function(){this.reset()},A.ArrayBuffer.prototype.append=function(d){var l=b(this._buff.buffer,d,!0),i=l.length,n;for(this._length+=d.byteLength,n=64;n<=i;n+=64)s(this._hash,h(l.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(l.buffer.slice(n-64)):new Uint8Array(0),this},A.ArrayBuffer.prototype.end=function(d){var l=this._buff,i=l.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c,a;for(c=0;c<i;c+=1)n[c>>2]|=l[c]<<(c%4<<3);return this._finish(n,i),a=g(this._hash),d&&(a=q(a)),this.reset(),a},A.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},A.ArrayBuffer.prototype.getState=function(){var d=A.prototype.getState.call(this);return d.buff=R(d.buff),d},A.ArrayBuffer.prototype.setState=function(d){return d.buff=v(d.buff,!0),A.prototype.setState.call(this,d)},A.ArrayBuffer.prototype.destroy=A.prototype.destroy,A.ArrayBuffer.prototype._finish=A.prototype._finish,A.ArrayBuffer.hash=function(d,l){var i=p(new Uint8Array(d)),n=g(i);return l?q(n):n},A})});var T=class e{constructor(t,r){this.operation=t;this.data=r}static NONCE=\"z3ZCw_12v\";nonce=e.NONCE;static fromObject(t){return!t||t.nonce!==e.NONCE?null:new e(t.operation,t.data)}validate(){return this.nonce===e.NONCE}};var X=class{crawlId;installId;zys;dateCrawlStarted;dateCrawled;crawlUrl;fragmentIndex;youTubeChannelId;youTubeChannelName;youTubeVideoId;constructor(t,r,o,s,u,h,f,p){this.crawlId=t,this.installId=r,this.zys=o,this.dateCrawlStarted=s,this.dateCrawled=u,this.crawlUrl=h,this.fragmentIndex=f,Object.assign(this,p)}get ads(){return this.zys}set ads(t){this.zys=t}};var ct=Vt(vt(),1);var _=class{x;y;width;height;text;sourceUrls;hash;hashOverride;type;typeOverride;canvases;svgs;depth;adRuleId;dedupeKey;duration;language;youTubeId;netflixData;twitterData;vastData;outerHtml;static minWidth=120;static minHeight=28;static minimumVideoToAdAreaRatio=.5;static minimumImageToAdAreaRatio=.05;constructor(t){this.x=t.x??0,this.y=t.y??0,this.width=t.width,this.height=t.height,this.text=t.text??\"\",this.sourceUrls=t.sourceUrls??[],this.hash=t.hash??\"\",this.type=t.type,this.canvases=[],this.svgs=[],this.depth=0,this.adRuleId=t.adRuleId,this.duration=t.duration,this.language=t.language,this.youTubeId=t.youTubeId,this.netflixData=t.netflixData,this.twitterData=t.twitterData,this.vastData=t.vastData}};var y=class e{u;t;h;d;width;height;constructor(t){this.u=e.qualifyURL(t.url,t.doc),this.t=t.urlType,this.d=t.depth,this.width=t.width,this.height=t.height}get url(){return this.u}set url(t){this.u=t}get urlType(){return this.t}set urlType(t){this.t=t}get depth(){return this.d}set depth(t){this.d=t}get hash(){return this.h}set hash(t){this.h=t}static SourceUrlTags=new Set([\"A\",\"DIV\",\"IFRAME\",\"IMG\",\"LINK\",\"SCRIPT\",\"SPAN\",\"VIDEO\"]);static qualifyURL(t,r){if(!t||new RegExp(\"^(?:\\\\\\\\w+-extension)|(?:about)|(?:blob)|(?:javascript):\").test(t))return\"\";r=r||document;let o=r.createElement(\"a\");return o.href=t,o.href}};async function Q(e,t){if(!e)return[];let r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u=>y.SourceUrlTags.has(u.nodeName)||u?.shadowRoot?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),o=[],s=r.currentNode;for(;s;){o.push(...await He(s,t));let u=s?.shadowRoot;u&&o.push(...await Q(u?.firstElementChild,t)),s=r.nextNode()}return o.filter(u=>u.url)}async function He(e,t){if(!e||!y.SourceUrlTags.has(e.nodeName))return[];if(e.nodeName==\"IMG\")return[await qt(e,t)];if(e.nodeName==\"DIV\"||e.nodeName==\"SPAN\"){let s=/url\\\\([\\'\"]?([^\\'\"]+)[\\'\"]?\\\\)/gi,u=getComputedStyle(e).getPropertyValue(\"background-image\");return Promise.all(Array.from(u.matchAll(s)).filter(h=>h).map(h=>h[1]).map(async h=>{try{let f=new Image;return f.src=h,await f.decode(),qt(f,t)}catch{return new y({url:h,urlType:7,depth:t,doc:e?.ownerDocument})}}))}if(e.nodeName===\"VIDEO\"){if(e=e.hasAttribute(\"src\")?e:e.querySelector(\"source\"),!e)return[];let s=e.getBoundingClientRect(),u=Math.round(s.width),h=Math.round(s.height);return[new y({url:e.getAttribute(\"src\"),urlType:4,depth:t,width:u,height:h,doc:e.ownerDocument})]}if(e.nodeName===\"IFRAME\")return[new y({url:e.getAttribute(\"src\"),urlType:1,depth:t,width:e.offsetWidth,height:e.offsetHeight,doc:e.ownerDocument})];let r=null,o=0;switch(e.nodeName){case\"SCRIPT\":r=e.getAttribute(\"src\"),o=6;break;case\"LINK\":r=e.getAttribute(\"href\"),o=6;break;case\"A\":r=e.getAttribute(\"href\"),o=8;break}return[new y({url:r,urlType:o,depth:t,doc:e.ownerDocument})]}async function qt(e,t){let r=e.getAttribute(\"src\"),o=e.getBoundingClientRect(),s=Math.round(e.naturalWidth||o.width),u=Math.round(e.naturalHeight||o.height);if(!(s||u)&&r)try{let f=new Image;f.src=r,await f.decode(),s=f.naturalWidth,u=f.naturalHeight}catch{}let h=0;return(o.width||s)<2&&(o.height||u)<2||s===43&&u===22||o.y+window.scrollY<5&&(o.width||s)<85&&(o.height||u)<=20?h=7:h=3,new y({url:r,urlType:h,depth:t,width:o.width||s,height:o.height||u,doc:e.ownerDocument})}async function ut(e,t){e.sourceUrls=lt(e.sourceUrls,h=>h.u);let r=e.sourceUrls.filter(h=>h.t===3||h.t===4),s=r.filter(h=>h.t===3).sort((h,f)=>(h.width||0)*(h.height||0)-(f.width||0)*(f.height||0)).pop(),u=r.filter(h=>h.t===4);if(e.type=e.typeOverride??(r.length===1&&(r[0].width||0)>=e.width-2&&(r[0].height||0)>=e.height-2?r[0].t===3?1:3:u.length===1&&(u[0].width||0)*(u[0].height||0)>=e.width*e.height*_.minimumVideoToAdAreaRatio?3:7),e.hashOverride)return e.hash=e.hashOverride;if(e.type===7&&!u.length&&(s?.width||0)*(s?.height||0)<e.width*e.height*_.minimumImageToAdAreaRatio)return e.hash=\"\";for(let h of r)h.h=await j(h.u||\"\",t);if(e.hash=r.filter(h=>h.h).reduce((h,f)=>z(h,f.h),\"\")||\"\",e.type===3&&!e.hash&&(e.hash=k(r[0].u??\"\",!0)),e.type===7&&e.text){let h=k(e.text.toLowerCase(),!0);e.hash=z(e.hash,h)}if(e.hash||(e.canvases?.length&&(e.hash=e.canvases.reduce((h,f)=>z(k(f),h),e.hash)),e.svgs?.length&&(e.hash=e.svgs.reduce((h,f)=>z(k(f),h),e.hash))),e.type===7&&e.hash){let h=k(Be(kt(Math.round(e.height)),kt(Math.round(e.width))),!0);e.hash=z(e.hash,h)}r.forEach(h=>{h.h&&(h.h=btoa(h.h))}),e.hash=btoa(e.hash)}async function j(e,t){try{return k(await t(e))}catch(r){return S(r),\"\"}}function k(e,t){if(Ve(e)===\"arraybuffer\"){let r=e;return r.byteLength===0?\"\":ct.default.ArrayBuffer.hash(r,!0)}else{let r=e;return t?ct.default.hash(r,!0):ct.default.hashBinary(r,!0)}}function Ve(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}function z(e,t){if(!t)return e||\"\";if(!e)return t;if(e.length<t.length){let u=e;e=t,t=u}let r=e.length,o=t.length,s=\"\";for(let u=0;u<o;u++)s+=String.fromCharCode(e.charCodeAt(u)^t.charCodeAt(u));for(let u=o;u<r;u++)s+=String.fromCharCode(e.charCodeAt(u));return s}function kt(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!0),t}function Be(e,t){let r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}var V=3e3;var Et=\"pc\",Ct=\"ca\",et=72e5,Z=null;function S(...e){Z&&(e=e||[],e=e.map(t=>t?.stack&&t.message?{error:t.message,stack:t.stack}:t),e=e.map(t=>typeof t!=\"object\"||t instanceof String?t:JSON.stringify(t)),e.length==1?Z(e[0]):Z(e))}function Jt(e){Z=e||Z}var ht=class{constructor(t,r,o,s){let u=Xt(t);u===\"object\"?(this.left=0,Object.assign(this,t)):u===\"number\"&&(this.left=Math.round(Math.max(t||0,0))||0,this.top=Math.round(Math.max(r||0,0))||0,this.width=Math.round(Math.max(o||0,0))||0,this.height=Math.round(Math.max(s||0,0))||0)}get bottom(){return this.top+this.height}get right(){return this.left+this.width}toString(){return`${this.width}x${this.height}@${this.left},${this.top}`}};function We(){return([1e7]+-1e3+-1e3+-1e3+-1e11).replace(/[01]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function Xt(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}function qe(e,t){let r={},o=Object.keys(t);for(let s=0,u=o.length;s<u;s++){let h=o[s];if(t.hasOwnProperty(h)){let f=t[h];if(f==null||f===\"\"&&e[h]||f instanceof Array&&!f.length&&e[h]?.length||(h===\"top\"||h===\"left\"||h===\"X\"||h===\"Y\")&&e[h]>0)continue;r[h]=t[h]}}return Object.assign(e,t)}function E(e){try{return e()}catch{return null}}var $r=Array.from(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\").map(e=>e.charCodeAt(0));function zt(e){return e.tagName?.toUpperCase?.()||E(()=>e.outerHTML.substr(1,e.outerHTML.indexOf(\" \")-1).toUpperCase())||\"\"}function jt(e){let t=0,r=\"\",o={\" \":1,\"\\\\f\":1,\"\\\\n\":1,\"\\\\r\":1,\"\t\":1,\"\\\\v\":1,\"\\\\xA0\":1,\"\\\\u2028\":1,\"\\\\u2029\":1};for(let s=0,u=e.length;s<u;s++)o[e.charAt(s)]?(t||(r+=\" \"),t=1):(t=0,r+=e.charAt(s));return r.trim()}function F(){return ke(C.location.hostname)}function ke(e){return e.split(\".\").slice(e.endsWith(\".uk\")||e.endsWith(\".jp\")?-3:-2).join(\".\")}function pt(){let e=new Set([\"aarp.org\",\"abc.com\",\"aol.com\",\"attn.com\",\"atttvnow.com\",\"brainly.com\",\"bravotv.com\",\"cartoonnetwork.com\",\"cbs.com\",\"cbssports.com\",\"chron.com\",\"citationmachine.net\",\"cnet.com\",\"cnn.com\",\"crunchyroll.com\",\"dailymail.co.uk\",\"delish.com\",\"discoveryplus.com\",\"easybib.com\",\"espn.com\",\"fandom.com\",\"foxbusiness.com\",\"foxnews.com\",\"fubo.tv\",\"genius.com\",\"go.cnn.com\",\"go.com\",\"goodhousekeeping.com\",\"happykids.tv\",\"hulu.com\",\"imdb.com\",\"investigationdiscovery.com\",\"linkedin.com\",\"locast.org\",\"mlb.com\",\"msn.com\",\"music.amazon.com\",\"music.apple.com\",\"music.youtube.com\",\"mytuner-radio.com\",\"nexusmods.com\",\"nfl.com\",\"nhl.com\",\"nypost.com\",\"nytimes.com\",\"paramountplus.com\",\"pch.com\",\"philo.com\",\"playstation.com\",\"pluto.tv\",\"rawstory.com\",\"realtor.com\",\"refinery29.com\",\"seattlepi.com\",\"sfgate.com\",\"sling.com\",\"spanishdict.com\",\"sporcle.com\",\"steampowered.com\",\"tablotv.com\",\"therokuchannel.roku.com\",\"try.frndlytv.com\",\"tubitv.com\",\"tv.apple.com\",\"tv.youtube.com\",\"twitch.tv\",\"uproxx.com\",\"usatoday.com\",\"vudu.com\",\"washingtonpost.com\",\"watch.hgtv.com\",\"watch.spectrum.net\",\"weather.com\",\"www3.nhk.or.jp\",\"xbox.com\",\"xfinity.com\",\"yahoo.com\",\"yelp.com\",\"youtubekids.com\"]);return I&&(e.has(C.location.hostname)||e.has(F()))}function U(e){e.documentElement&&(e=e.documentElement);let t=zt(e);if(e.offsetParent===null&&t!==\"BODY\"&&t!==\"HTML\"&&t!==\"FRAME\")return new ht;let o=(e.ownerDocument||document).defaultView||C,s=e.getBoundingClientRect();return new ht(s.left+o.scrollX,s.top+o.scrollY,s.width,s.height)}var Gt=[\"background-image\",\"display\",\"visibility\",\"z-index\",\"border-top-width\",\"border-left-width\",\"border-bottom-width\",\"border-right-width\",\"padding-top\",\"padding-left\",\"padding-bottom\",\"padding-right\",\"position\",\"width\",\"height\",\"top\",\"bottom\",\"left\",\"right\",\"font-size\"];function je(e){if(e._pm_st)return e.style&&(e._pm_st=qe(e._pm_st,JSON.parse(JSON.stringify(e.style,Gt)))),e._pm_st;let t=e.ownerDocument?.defaultView;typeof window<\"u\"&&(!t||!t.opener)&&(t=window);let r=JSON.parse(JSON.stringify(t.getComputedStyle(e),Gt));return e._pm_st=r,r}function Kt(e,t){let r=e.nodeName,o=je(e),s=U(e);if(o?.display!==\"none\"&&s&&s.width>20&&s.height>20)if(r===\"CANVAS\"&&!e.matches(\".__pm_marker\"))try{t.canvases.push(e.toDataURL(\"image/jpeg\",.2))}catch{}else r===\"SVG\"&&t.svgs.push(e.outerHTML)}function mt(e){if(!e)return\"\";let t=e?.ownerDocument||document,r=t.defaultView.NodeFilter;if(Xt(e)===\"htmldocument\"&&e.body&&(e=e.body),!e)return\"\";let o={SCRIPT:1,NOSCRIPT:1,STYLE:1},s=zt(e);if(s===\"HTML\"&&(e=e.querySelector(\"body\")),!e)return\"\";let u=function(m){try{return m.nodeType===3?r.FILTER_ACCEPT:!m.tagName||o[m.tagName]||m.offsetParent===null?r.FILTER_REJECT:r.FILTER_ACCEPT}catch{return r.FILTER_REJECT}};if(e.nodeType!==3&&(!s||o[s]))return\"\";let h=t.createTreeWalker(e,r.SHOW_ELEMENT|r.SHOW_TEXT,{acceptNode:u},!0),f={\"LEARN MORE\":1,REPLAY:1},p=[];for(;e;){if(e.nodeType===3){let m=jt(e.nodeValue||\"\");!f[m.toUpperCase()]&&!p.includes(m)&&p.push(m)}e=h.nextNode()}return p.length?jt(p.join(\" \")):\"\"}function P(e,t){return C.requestIdleCallback?{id:C.requestIdleCallback(e,{timeout:t}),isIdleCallback:!0}:{id:setTimeout(e,t),isIdleCallback:!1}}var tt=null;function G(e){tt=e||tt}function It(){tt=null}function Yt(){if(typeof window>\"u\")return;let e=function(f,p,m,g){P(()=>{!tt||!f||tt(f,p,m,g)},1e4)},t=f=>new TextDecoder(\"utf-8\").decode(new Uint8Array(f)),r=function(f,p){try{if(p=f.currentTarget||p,p=p._datadog_xhr||p,p.readyState===4&&p.status>=200&&p.status<=210){let m=E(()=>p.responseXML),g=E(()=>p.responseText)||E(()=>t(p.response))||E(()=>m.documentElement.outerHTML);(g||m)&&e(g,m,p.reponseType===\"json\",p.responseURL)}}catch{}},o=XMLHttpRequest.prototype.send;function s(){let f=this.onreadystatechange,p=arguments;this.onreadystatechange=function(m){return r(m,this),f?.apply?.(this,arguments)},o.apply(this,p)}XMLHttpRequest.prototype.send=s;let u=C.fetch,h=function(){return u.apply(this,arguments).then(f=>{let p=f.headers.get(\"Content-Type\");if(p&&(p.includes(\"text\")||p.includes(\"json\")||p.includes(\"xml\")||p.includes(\"javascript\"))){let m=f.clone();P(()=>{m.text().then(g=>e(g,null,p.includes(\"json\"),f.url))},5e3)}return f})};C.fetch=h}function Tt(e){if(!e)return null;let t=null;return e=(e+\"\").trim(),e==\"start\"?t=0:e.indexOf(\":\")>=0?t=E(()=>Math.round(e.split(\":\").reduce((r,o,s,u)=>r+parseFloat(o)*Math.pow(60,u.length-s-1),0)))||t:isNaN(e)||(t=Math.round(parseFloat(e))),t}var Qt,$,Zt,St,H,dt,ft;function te(e){H[e.dedupeKey]?.depth>e.depth||H[e.dedupeKey]?.depth===e.depth&&H[e.dedupeKey].adRuleId<e.adRuleId||(H[e.dedupeKey]=e)}function Ge(){let e=C.location;return e.href.indexOf(\"youtube.com/watch\")===-1?e.origin+e.pathname:e.href}async function $e(e){await Promise.all(e.map(t=>ut(t,M)))}async function Je(){let e=Object.values(H),t=Object.values(dt);return H={},dt={},await $e(e),new X(Qt,gt,e.concat(t).filter(r=>r.hash),$-(D?.TimeOffset||0),Date.now()-(D?.TimeOffset||0),St,Zt++,ft)}function N(e,t){if(!I){W(top,new T(Et,[e,t]));return}e.forEach(r=>dt[r.hash]=r),ft=t||ft,B()}var $t=0;async function B(){let e=Date.now();if(e-$t>V){$t=e;let t=await Je();Nt?.(JSON.stringify(t))}}function ee(){if(!I)return;Qt=We(),$=Date.now(),Zt=0;let e=D?.ParsedSiteConfigs[F()];if(e){let t=new RegExp(e).exec(location.href);St=t?t.slice(1).join(\"\"):location.protocol+\"://\"+location.hostname}else St=Ge();H={},dt={},ft=void 0}function Xe(e,t){return e.reduce(function(r,o){return(r[t(o)]=r[t(o)]||[]).push(o),r},{})}function lt(e,t){return Object.values(Xe(e,t)).map(r=>r[0])}function W(e,t){e.postMessage(t,\"*\")}var re=null;function ne(){let e=document.querySelector(\"video.ad-video-player,video#ad-video-player\"),t=document.querySelector(\".AdUnitView a\"),r=e&&e.src;if(e&&t&&r&&re!==r&&r.endsWith(\".mp4\")&&r.indexOf(\"bumper\")===-1&&(r.indexOf(\"ads\")>=0||r.indexOf(\"Ads\")>=0)){if(!e.duration||isNaN(e.duration))return;re=r,P(()=>{j(r,M).then(o=>N([new _({width:1920,height:1080,sourceUrls:[new y({url:r,urlType:4}),new y({url:t.href,urlType:8})],hash:btoa(o),type:3,duration:Math.round(e.duration)})]))});return}}var yt={},ie=!1;function oe(){if(S(\"NETFLIX AD CAPTURE\"),!(typeof window>\"u\")){if(!ie){let e=Object.defineProperty;Object.defineProperty=function(r,o,s){return Date.now()-$<et&&P(()=>{if(Object.hasOwn(r,\"isAd\")&&r.isAd){let u=ze(r);u&&(yt[u.hash]=u)}}),e(r,o,s)},ie=!0}N(Object.values(yt)),yt={}}}function ze(e){let t=e.movieId;if(!t||yt[t])return;let r=e.video_tracks[0].streams[0],o=r.res_w,s=r.res_h,u=e.audio_tracks[0].streams[0];return new _({hash:(\"n+++\"+t).padEnd(t.length+4+(t.length+4)*6%8/2,\"=\").replace(\"===\",\"A==\"),type:3,sourceUrls:[new y({url:r.urls[0].url,urlType:4,width:o,height:s}),new y({url:u.urls[0].url,urlType:9})],width:o,height:s,duration:e.duration,language:u.language,netflixData:{id:t}})}var rt=[];async function Rt(){S(\"TWITTER AD CAPTURE\"),G((e,t,r,o)=>{try{if(!o||!o.includes(\"HomeTimeline\")&&!(o.includes(\"/conversation/\")&&o.includes(\"/\"+/\\\\d+$/.exec(window.location.pathname)[0]+\".json\")))return;let s=Ke(e);rt=rt.concat(s)}catch{}}),await Ye()}function Ke(e){let t=JSON.parse(e);return([].concat.apply([],t?.data?.home?.home_timeline_urt?.instructions?.filter?.(s=>s?.type==\"TimelineAddEntries\")?.map?.(s=>s.entries))||[]).map(s=>s.content?.itemContent).filter(s=>s?.promotedMetadata).map(s=>{let u=s.tweet_results?.result?.card?.legacy?.binding_values?.filter?.(f=>f?.key==\"unified_card\")?.map?.(f=>JSON.parse(f.value?.string_value))?.[0],h=u?.destination_objects?.browser_1?.data?.url_data?.url||u?.destination_objects?.browser_with_docked_media_1?.url_data?.url;return{id_str:s?.tweet_results?.result?.rest_id,screen_name:s?.tweet_results?.result?.core?.user_results?.result?.legacy?.screen_name,cardDestination:h,advertiserId:s?.promotedMetadata?.advertiser_results?.result?.rest_id,user_id_str:s?.tweet_results?.result?.legacy?.user_id_str}}).filter(s=>s.id_str&&s.screen_name)}async function Ye(){if(!nt)return;let e=await Qe(document,rt),t=e.map(r=>r.twitterData.tid);rt=rt.filter(r=>!t.includes(r.id_str)),N(e)}async function Qe(e,t){let r=\"div.tweet.promoted-tweet\",o=Array.from(e.querySelectorAll(r));o.length||(o=Array.from(e.querySelectorAll(\"article div>svg\")).map(u=>u.parentElement.querySelector(\"span\")).filter(u=>u?.textContent&&u.textContent.length<50).map(u=>u.closest(\"article\"))),o.length||(o=Array.from(document.querySelectorAll(\"span\")).filter(u=>u.textContent===\"Ad\").map(u=>u.closest(\"article\")));let s=[];for(let u=0;u<o.length;u++){let h=o[u],f=Array.from(h.querySelectorAll(\"div>span,a span\")).map(b=>b.textContent).filter(b=>b?.startsWith(\"@\"))[0];f=f.startsWith(\"@\")?f.substring(1):f;let p=null,m=null;for(m of t)if(m.screen_name==f&&(p=m.id_str,p))break;if(!p)continue;let g=mt(h);g&&(g=g.replace(new RegExp(\"# (\\\\\\\\w)\",\"gi\"),\"#$1\"));let w=U(h),v=new _({x:w.left,y:w.top,width:w.width,height:w.height,text:g,sourceUrls:(await Q(h.querySelector(\".tweet-details-fixer\")||h)).concat([new y({url:m.cardDestination,urlType:8})]).filter(b=>b.url&&!b.url.includes(\"/profile_images/\")&&!b.url.includes(p+\"/retweets\")&&!b.url.includes(p+\"/likes\")&&!b.url.includes(\"/using-twitter/how-to\")),hash:(\"t+++\"+p).padEnd(p.length+4+(p.length+4)*6%8/2,\"=\").replace(\"===\",\"A==\"),type:h.querySelector(\"video\")||h.querySelector(\".PlayableMedia\")?105:Array.from(h.querySelectorAll(\"img\")).filter(b=>b.naturalWidth>200&&b.naturalHeight>40).length?104:h.querySelector(\"iframe\")?102:103,twitterData:{taid:m.advertiserId||m.user_id_str||0,tid:p,tsn:f}}),R=(v.sourceUrls||[]).filter(b=>b?.url);v.sourceUrls=lt(R,b=>b.url),s.push(v)}return s}function Pt(){S(\"VAST AD CAPTURE\"),G((e,t,r)=>{try{let o=e.substring(0,500),s=o.indexOf(\\'\"ad_id\":\\')>=0||o.indexOf(\\'\"ad_type\"\\')>=0,u=[];if(r||s)Ze(e,u);else if(o.indexOf(\"<VAST \")>=0||o.indexOf(\"<vmap:AdBreak \")>=0){let h=E(()=>t?.documentElement||e&&new DOMParser().parseFromString(e,\"application/xml\").documentElement);tr(h,u)}else return;Promise.allSettled(u).then(h=>{S(\"Ads found.\",h.map(f=>f.value)),N(h.map(f=>f.value).filter(f=>f))})}catch(o){S(o)}})}function Ze(e,t){let r=E,o=r(()=>e&&JSON.parse(e)),s=r(()=>o.items);s?.length&&Array.from(s).forEach(u=>{let h=r(()=>u.media.streamurl);if(!h)return;let f=r(()=>u.clickthrough),p=r(()=>u.media.duration),m=r(()=>u.ad_id||u.ad_video_id),g=r(()=>u.title);m&&F()===\"peacocktv.com\"&&(m=m.split(\".\")[0]);let w=r(()=>u.system);t.push(j(h,M).then(v=>new _({width:1920,height:1080,sourceUrls:[new y({url:h,urlType:4}),new y({url:f,urlType:8}),new y({url:\"http://\"+w,urlType:1})].filter(b=>b.url),hash:btoa(v)||m,type:3,duration:Math.round(p),vastData:{Id:m,Title:g,System:w}})))})}function tr(e,t){let r=E,o=r(()=>e?.querySelectorAll(\"VAST Ad\"));o&&Array.from(o).forEach(s=>{let u=s.querySelector(\"Creatives Creative\");if(!u)return;let h=u.querySelector(\"MediaFiles\");if(!h)return;let f=r(()=>u.querySelector(\"VideoClicks ClickThrough\").textContent.trim())||r(()=>document.querySelector(\".AdUnitView a\").href.trim()),p=r(()=>Tt(u.querySelector(\"Duration\").textContent)),m=r(()=>h.querySelector(\"MediaFile[type=\\'video/mp4\\'],MediaFile[type=\\'application/dash+xml\\'],MediaFile[type=\\'video/mpd\\']\").textContent.trim());if(!m){let l=u.querySelector(\"AdParameters\"),i={},n,c=new RegExp(\"<(\\\\\\\\w+)>([^<]+)</\\\\\\\\1>\",\"gi\");for(;(n=c.exec(l.textContent))!==null;)i[n[1]]=n[2];p=r(()=>Tt(i.adDuration)),f=r(()=>i.clickUrl);let a=i.JsParameters;if(!a)return;let x=JSON.parse(a);m=r(()=>x.videos[0].url),m&&(p=p||x.duration,f=f||x.clickThruUrl||x.clickThroughUrl)}if(!m)return;let g=u.getAttribute(\"AdID\")||u.getAttribute(\"AdId\")||u.getAttribute(\"adid\")||s.getAttribute(\"id\");if(!g)return;F()===\"peacocktv.com\"&&(g=g.split(\".\")[0]);let w=r(()=>s.querySelector(\"AdTitle\").textContent.trim()),v=r(()=>s.querySelector(\"AdSystem\").textContent.trim()),R=s.querySelector(\"Extension\"),b=r(()=>R.querySelector(\"CreativeParameter[name=\\'_fw_advertiser_name\\']\").textContent.trim())||r(()=>R.querySelector(\"CreativeParameter[name=\\'fw_advertiser_name\\']\").textContent.trim())||r(()=>R.querySelector(\"CreativeParameter[name=\\'fw_advertiser\\']\").textContent.trim()),q=r(()=>R.querySelector(\"CreativeParameter[name=\\'fw_brand\\']\").textContent.trim()),A=r(()=>R.querySelector(\"CreativeParameter[name=\\'industry\\']\").textContent.trim()),d=r(()=>R.querySelector(\"CreativeParameter[name=\\'ccr_measurement\\']\").textContent.trim());t.push(j(m,M).then(l=>new _({width:1920,height:1080,sourceUrls:[new y({url:m,urlType:4}),new y({url:f,urlType:8}),new y({url:d,urlType:0})].filter(i=>i.url),hash:btoa(l)||g,type:3,duration:Math.round(p),vastData:{Id:g,Adv:b,Brand:q,Cat:A,Title:w,System:v}})))})}var ae=Vt(vt(),1);function er(e){return e?new URL(e).searchParams.get(\"v\"):null}var Mt;function wt(){return Mt||(Mt=document.querySelector(\"#movie_player\")),Mt}function rr(){return E(()=>{let e=JSON.parse(wt().getDebugText());return e.ad_debug_videoId||e.addebug_videoId||e.ad_videoId})}function nr(){return E(()=>{let e=document.querySelector(\"#upload-info a.yt-simple-endpoint\"),t=e.href.split(\"/\");return{youTubeChannelId:t[t.length-1],youTubeChannelName:e.textContent.trim(),youTubeVideoId:E(()=>er(window.location.href))}})}function ir(){let e=E(()=>document.querySelector(\".ytp-ad-player-overlay-instream-info .ytp-ad-button-text\").textContent);if(e&&ar.test(e)){let t=e.indexOf(\"http://\")===0||e.indexOf(\"https://\")===0?e:\"https://\"+e.toLowerCase();return new y({url:t,urlType:8})}return null}function or(e){return e?btoa(ae.default.hash(\"YouTube+\"+e,!0)):null}function sr(){return E(()=>wt().getAdState()>0||JSON.parse(wt().getDebugText()).addebug_videoId)}var ar=new RegExp(\"^(?:https?://)?[a-z0-9.-]+(\\\\\\\\.[a-z]+)+(?:$|/)\"),ce={};function se(e){[e?.playerAds??[],e?.adPlacements??[]].flat().map(t=>(t.adPlacementRenderer?.renderer?.linearAdSequenceRenderer?.linearAds?.map(r=>r?.instreamVideoAdRenderer)??[]).concat([t.adPlacementRenderer?.renderer?.instreamVideoAdRenderer])).flat().filter(t=>t).map(function(t){let r=t?.playerOverlay?.instreamAdPlayerOverlayRenderer?.visitAdvertiserRenderer?.buttonRenderer?.navigationEndpoint?.urlEndpoint?.url;return r?{videoId:t.externalVideoId,lp:r}:null}).filter(t=>t).reduce((t,r)=>Object.assign(t,{[r.videoId]:new y({url:r.lp,urlType:8})}),ce)}function ue(){try{if(G((p,m,g,w)=>{try{if(!w||!w.includes(\"/ad_break?\")&&!w.includes(\"/player?\"))return;se(JSON.parse(p))}catch(v){S(v)}}),!sr())return B();se(window.ytInitialPlayerResponse);let e=0,t=640,r=360,o=0,s=0,u=wt(),h=u.querySelector(\"a.ytp-title-link\"),f=u.querySelector(\"video\");if(f){e=f.duration||0;let p=U(f);t=p?.width||t,r=p?.height||r,o=p?.left||o,s=p?.top||s}P(()=>{let p=rr()||void 0,m=ce[p]??ir(),g=nr(),w=m?[m]:[],v=new _({x:o,y:s,width:t,height:r,text:h?.textContent,sourceUrls:w,hash:or(p),type:3,duration:Math.round(e),youTubeId:p});N([v],g)})}catch(e){S(e)}}var it=class{constructor(t=null){this.log=t,this.#t.log=t??(()=>{})}simplifyTree(t){let r;for(;;){if(r=this.#t[t.r],!r)throw new Error(`Rule ${t.r} not implemented.`);if(r!==this.#t.PassOn||!t.c||!t.c.length)break;t=t.c[0]}return t.c&&t.c.length&&(t.c=t.c.map(o=>this.simplifyTree(o))),t}debugPrintParseTree(t,r=0){this.log(`${\" \".repeat(r*2)}${t.r}: ${this.#t.GetText(t)}`),t.c&&t.c.length&&t.c.forEach(o=>this.debugPrintParseTree(o,r+1))}isValidRuleName(t){return t.indexOf(\"TerminalNode\")===0||!!this.#t[t]}evaluate(t,r){return this.#t.evaluate(t,r)}#t=class{static#s=0;static evaluate(t,r,o){try{if(!this[t.r])throw new Error(t.r+\" is not a parser rule function.\");return this[t.r](t,r,o)}catch(s){this.log(\"Error \"+t.r+\\' at \"\\'+this.GetText(t)+\\'\": \\'+s)}}static#i=new RegExp(`(?:^[\\'\"])|(?:[\\'\"]$)`,\"g\");static#o=new RegExp(\"\\\\\\\\s+\",\"g\");static#a=this;static PassOn(t,r){return this.evaluate(t.c[0],r)}static NoOp(t){this.log(`Unimplemented rule: ${t.r} at \"${this.GetText(t.t)}\".`)}static ExpStmt=this.PassOn;static ExpSequence=this.PassOn;static LitExp=this.PassOn;static Literal=this.PassOn;static ArrayLitExp=this.PassOn;static ArrayLit=this.PassOn;static ArrowFuncBody=this.PassOn;static ObjectLitExp=this.PassOn;static IdName=this.PassOn;static MultOperator=this.NoOp;static AdditionOperator=this.NoOp;static RelationalOperator=this.NoOp;static EqualityOperator=this.NoOp;static ReservedWord=this.NoOp;static AssignExp=this.NoOp;static VarModifier=this.NoOp;static FormalParameterList=this.NoOp;static FormalParameterArg=this.NoOp;static PropAssign=this.NoOp;static Exp=this.NoOp;static Assignable=this.NoOp;static AnonFunc=this.NoOp;static ArrowFuncParameters=this.NoOp;static PropName(t){return t.c?t.c[0].t:this.#r(t.t)}static ObjectLit(t,r){let o={};return t.c.forEach(s=>this.PropExpAssign(s,r,o)),o}static PropExpAssign(t,r,o){let s=this.evaluate(t.c[0],r),u=this.evaluate(t.c[1],r);o[s]=u}static#r(t){return t?.replaceAll(this.#i,\"\")}static StrLit(t){return this.#r(t?.t)}static NumLit(t){return Number.parseFloat(t?.t)}static IntLit(t){return Number.parseInt(t?.t)}static BoolLit(t){return t.t&&t.t==\"true\"}static NullLit(){return null}static IdExp(t,r){return this.evaluate(t.c[0],r)}static Id(t,r){return r[t.t]}static FuncExp(t,r){return this.evaluate(t.c[0],r)}static ArrowFunc(t,r){let o=t.c[0]?.c?.map(u=>this.#e(u)).flat(),s=this;return function(...u){o.forEach((f,p)=>{r[f]=u[p]});let h=s.evaluate(t.c[1],r);return o.forEach(f=>{delete r[f]}),h}}static AnonFuncDecl(t,r){let o=t.c[0]?.c?.map(u=>this.#e(u)).flat(),s=this;return function(...u){o.forEach((f,p)=>{r[f]=u[p]});let h=s.evaluate(t.c[1],r);return o.forEach(f=>{delete r[f]}),h}}static#e(t,r=null){return r=r??[],t.c?.forEach(o=>this.#e(o,r)),t.t&&r.push(t.t),r}static#c(t,r=0){this.log(`${\"  \".repeat(r)}${t.r}: ${this.GetText(t)}`)}static GetText(t){return this.#e(t).join(\" \")}static ElementList(t,r){return t.c.map(o=>this.evaluate(o,r))}static ArrayElem=this.PassOn;static ArgsExp(t,r){let o=t.c[0],s=this.evaluate(t.c[1],r),u=this.evaluate(o,r,s);return typeof u==\"function\"&&(u=u.apply(o._this??null,s)),delete o._this,u}static Args(t,r){return t.c.map(o=>this.evaluate(o,r))}static Arg(t,r){return this.evaluate(t.c[0],r)}static MemberDotExp(t,r,o){return this.#n(t,r,o,!0)}static MemberIndexExp(t,r,o){return this.#n(t,r,o)}static#n(t,r,o,s){let u=this.evaluate(t.c[0],r),h=s?t.c[1].t:this.evaluate(t.c[1],r);return this[\"_x_\"+h]?this[\"_x_\"+h](u,...o??[]):(t._this=u,u[h])}static ErrorNodeImpl(t){this.log(`Error parsing ${t.r} at ${t.t} (unexpected token?)`)}static AdditiveExp(t,r){switch(t.c[1].t){case\"+\":return this.evaluate(t.c[0],r)+this.evaluate(t.c[2],r);case\"-\":return this.evaluate(t.c[0],r)-this.evaluate(t.c[2],r);default:throw new Error(\"Unknown binary operator \"+t.c[1].t)}}static MultiplicativeExp(t,r){switch(t.c[1].t){case\"*\":return this.evaluate(t.c[0],r)*this.evaluate(t.c[2],r);case\"/\":return this.evaluate(t.c[0],r)/this.evaluate(t.c[2],r);case\"%\":return this.evaluate(t.c[0],r)%this.evaluate(t.c[2],r);default:throw new Error(\"Unknown binary operator \"+t.c[1].t)}}static RelationalExp(t,r){switch(t.c[1].t){case\">\":return this.evaluate(t.c[0],r)>this.evaluate(t.c[2],r);case\"<\":return this.evaluate(t.c[0],r)<this.evaluate(t.c[2],r);case\">=\":return this.evaluate(t.c[0],r)>=this.evaluate(t.c[2],r);case\"<=\":return this.evaluate(t.c[0],r)<=this.evaluate(t.c[2],r);default:throw new Error(\"Unknown binary operator \"+t.c[1].t)}}static EqualityExp(t,r){switch(t.c[1].t){case\"==\":return this.evaluate(t.c[0],r)==this.evaluate(t.c[2],r);case\"!=\":return this.evaluate(t.c[0],r)!=this.evaluate(t.c[2],r);case\"===\":return this.evaluate(t.c[0],r)===this.evaluate(t.c[2],r);case\"!==\":return this.evaluate(t.c[0],r)!==this.evaluate(t.c[2],r);default:throw new Error(\"Unknown binary operator \"+t.c[1].t)}}static TernaryExp(t,r){return this.evaluate(t.c[0],r)?this.evaluate(t.c[1],r):this.evaluate(t.c[2],r)}static CoalesceExp(t,r){return this.evaluate(t.c[0],r)??this.evaluate(t.c[1],r)}static InstanceofExp(t,r){return this.evaluate(t.c[0],r)instanceof this.evaluate(t.c[1],r)}static LogicalAndExp(t,r){return this.evaluate(t.c[0],r)&&this.evaluate(t.c[1],r)}static LogicalOrExp(t,r){return this.evaluate(t.c[0],r)||this.evaluate(t.c[1],r)}static UnaryPlusExp(t,r){return+this.evaluate(t.c[0],r)}static UnaryMinusExp(t,r){return-this.evaluate(t.c[0],r)}static BitNotExp(t,r){return~this.evaluate(t.c[0],r)}static NotExp(t,r){return!this.evaluate(t.c[0],r)}static ParenthesizedExp(t,r){return this.evaluate(t.c[0],r)}static Eos(){return null}static _x_query(t,r){return Array.from(t?.querySelectorAll(r)??[])}static _x_where(t,r){return t?.filter(r)}static _x_select(t,...r){let o=r.length;if(!r||o===0)throw new Error(\"Method \\'select\\' expects on or more arrow functions.\");return t?.map((s,u)=>{if(o>1){let h=[];for(let f=0;f<o-1;f++)h[f]=r[f](s,...f==0?[u]:h);return r[o-1](s,...h)}else return r[0](s,u)})}static _x_width(t){return t?.offsetWidth}static _x_height(t){return t?.offsetHeight}static _x_text(t){return t?.textContent?.trim()?.replaceAll(this.#o,\" \")}static _x_parent(t){return t?.parentNode}static _x_matchRegExp(t,r,o){return t.match(new RegExp(r,o))}}};function Ot(e){if(e.checkVisibility&&!e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}))return!1;let t=e.ownerDocument,r=t.defaultView,o=r?.getComputedStyle(e);if(o&&(o.opacity===\"0\"||o.visibility===\"hidden\"))return!1;let s=e.getBoundingClientRect();if(!s||s.width<=0||s.height<=0)return!1;let{top:u,left:h,right:f,bottom:p}=s;if(f<0||p<0)return!1;let m=r?.innerWidth||t.documentElement.clientWidth,g=r?.innerHeight||t.documentElement.clientHeight;if(u>g||h>m)return!1;let w=e.parentNode;if(w&&w instanceof Element&&getComputedStyle(w).overflow===\"hidden\"){let v=w.getBoundingClientRect();if(p<v.top||u>v.bottom||f<v.left||h>v.right)return!1}return!0}function le(e,t){return r=>new Promise(o=>{let s=e+\"-response\",u=Math.random(),h=p=>{let{type:m,payload:g,nonce:w}=p.data??{};m!==s||w!==u||(o(g),f())},f=()=>{window.removeEventListener(\"message\",h)};window.addEventListener(\"message\",h),s===\"getFrameId-response\"?r.postMessage(new T(\"getFrameId\",u),\"*\"):window.postMessage({type:e,nonce:u,payload:r},\"*\"),t&&setTimeout(o,t)})}var de,fe,pe,J,_t=new Set,bt=new Set,Ft=new Set,at=!1,Ut=[],me=[],Nt,M,D,gt,nt,C=typeof window>\"u\"?{location:{hostname:\"\"}}:window,I=C.top===C.self,cr=(Math.random()+1).toString(36).substring(2),ur=2e3,ge=7e3,lr=5*ge,hr=2e3;function st(e,t,...r){let o=setTimeout(e,t,...r);return _t.add(o),o}function ot(e,t,...r){let o=setInterval(e,t,...r);return bt.add(o),o}function Lt(e,t){let r=P(e,t);return r.isIdleCallback?Ft.add(r.id):_t.add(r.id),r}var dr={\"hulu.com\":[ne],\"netflix.com\":[oe],\"twitter.com\":[Rt],\"x.com\":[Rt],\"youtube.com\":[ue]};at||(typeof F<\"u\"&&(J=F()),typeof pt<\"u\"&&(pt()||ye())&&Yt());function ye(){return dr[J]}function fr(){if(!I||!nt)return;if(pt()){Pt();let s=new Set,u=()=>{let h=Array.from(C.frames).concat(Array.from(document.querySelectorAll(\"frame,iframe\")).map(f=>E(f.contentWindow)).filter(f=>f));for(let f=0;f<h.length;f++)try{let p=h[f];if(!p||s.has(p))continue;W(p,new T(Ct,et-(Date.now()-$))),s.add(p)}catch(p){S(p)}};u(),ot(u,5e3)}let e=Date.now(),t=ye(),r=function(s){e=Date.now(),Lt(async()=>{for(let u=0,h=t?.length;t&&u<h;u++)await t[u].call();I&&(t||s)&&B()},V-500)},o=ot(r,V);r(!0),ot(()=>{Date.now()-e>V*5&&(clearInterval(o),bt.delete(o),o=ot(r,V),r(!0))},V)}function we(){I&&(J=F(),_t=new Set,bt=new Set,Ft=new Set,ee(),B())}function pr(){if(!I)return;let e=D.AdRules.filter(o=>!o.Hostnames||o.Hostnames.startsWith(\"^\")&&!o.Hostnames.includes(J)),t=D.AdRules.filter(o=>o.Hostnames&&!o.Hostnames.startsWith(\"^\")&&o.Hostnames.includes(J)),r=e.concat(t);st(()=>{Pr();let o=ot(()=>{he(r)},ge);he(r),st(()=>{t.length?r=t:clearInterval(o)},lr)},ur)}var mr=new Set([\"facebook.com\",\"hulu.com\",\"netflix.com\",\"twitter.com\",\"x.com\"]);function Ae(){fr(),mr.has(J)||pr(),st(wr,et)}function gr(e){if(!I)return;let t=C.location.href.split(\"#\")[0];setInterval(()=>{let r=C.location.href.split(\"#\")[0];r!==t&&(t=r,e())},1e3)}function _e(){_t.forEach(e=>clearTimeout(e)),bt.forEach(e=>clearInterval(e)),Ft.forEach(e=>cancelIdleCallback(e))}function yr(){_e(),we(),Ae()}function wr(){It(),_e()}function Ar(e){at?ut(e,M).then(()=>window.dispatchEvent(new CustomEvent(\"displayAdFound\",{detail:e}))):te(e)}async function _r(e){try{let t=T.fromObject(e.data);if(!t)return;let r=t.data;switch(t.operation){case Ct:r>0&&(Pt(),st(It,r));break;case Et:N(r[0],r[1]);break;case\"extractDisplayAd\":I||await At(document.documentElement,r);break;case\"displayAdFound\":I&&Ar(r);break;case\"getFrameId\":W(e.source,{type:\"getFrameId-response\",payload:cr,nonce:r});break}}catch(t){S(t);return}}function br(){function e(){C.addEventListener(\"message\",_r,!0)}e();let t=setInterval(e,200);setTimeout(clearInterval,1e4,t)}function xr(e){fe=e.getInstallId,at=e.isRuleEditor,Nt=e.sendData,M=e.fetchHttpResponse,de=e.getExternalConfiguration?t=>e.getExternalConfiguration(t):null,Jt(e.pm_log)}function be(e){pe=le(\"getFrameId\",1e3),M=e.fetchHttpResponse,br(),I&&(xr(e),fe().then(t=>gt=t).then(t=>de()).then(t=>D=t||{EnabledPct:0}).then(t=>{nt=Array.from(gt).map(r=>r.charCodeAt(0)).reduce((r,o)=>r+o,0)%100<D.EnabledPct,nt&&(we(),Ae(),gr(yr))}))}async function vr(e,t){at||(I||(t.dedupeKey=await pe(e.ownerDocument.defaultView)),t.dedupeKey??=`${t.width}x${t.height} @ ${t.x},${t.y}`),W(top,new T(\"displayAdFound\",t))}async function Sr(e,t){if(e){let r=U(e);(t.isFromIFrame||e.nodeName!==\"IFRAME\")&&(t.x+=r.left,t.y+=r.top),t.sourceUrls.push(...await Q(e,t.depth)),t.text+=mt(e)+\" \";let o=Array.from(e.querySelectorAll(\"canvas, svg\"));o.length&&o.forEach(s=>Kt(s,t))}}async function At(e,t){if(await Sr(e,t),e.nodeName===\"IFRAME\"){t.depth++,t.outerHtml=e.outerHTML;try{await At(e.contentWindow.document.documentElement,t)}catch{W(e.contentWindow,new T(\"extractDisplayAd\",t));try{var r=e.contentWindow.frames;for(let s=0,u=r.length;s<u;s++)try{W(r[s],new T(\"extractDisplayAd\",t))}catch(h){S(h)}}catch(s){S(s)}}}else{e.nodeName===\"HTML\"&&(t.outerHtml+=`<!-- IFRAME Content -->${e.outerHTML}`);let o;if(t.isFromIFrame){if(e.scrollWidth<=t.width-5||e.scrollHeight<=t.height-5)return;o=Array.from(e.querySelectorAll(\"iframe\")).filter(s=>(s.scrollWidth>=t.width||s.scrollHeight>=t.height)&&s.scrollWidth>=_.minWidth&&s.scrollHeight>=_.minHeight&&Ot(s))}else o=Array.from(e.querySelectorAll(\"iframe\")).filter(s=>Ot(s)).sort((s,u)=>s.scrollWidth*s.scrollHeight-u.scrollWidth*u.scrollHeight).slice(0,1);o?.length?await Promise.allSettled(o.map(s=>{let u={...t,width:Math.min(t.width,s.offsetWidth),height:Math.min(t.height,s.offsetHeight),sourceUrls:t.sourceUrls.map(h=>h)};return At(s,u)})):(t.text=t.textOverride??t.text.trim(),vr(e,t))}}function Er(e,t,r){try{let o=new it,s=o.evaluate(t,{doc:document});Ut.forEach(u=>s.push(...o.evaluate(t,{doc:u}))),me.forEach(u=>{u.doc.defaultView&&s.push(...o.evaluate(t,{doc:u.doc}).map(h=>xe(h)?(h.x??=u.x,h.y??=u.y,h.depth??=u.depth,h):{element:h,x:u.x,y:u.y,depth:u.depth}))}),s&&s.forEach(async u=>await Ir(e,u,r))}catch{}}function Cr(e){e.forEach(t=>Er(t.Id,t.ParseTree))}async function Ir(e,t,r){let o={};xe(t)&&(o=t,t=t.element,delete o.element);let s=new _({width:t.offsetWidth,height:t.offsetHeight,adRuleId:e});s.isFromIFrame=t.nodeName===\"IFRAME\",at&&(s.adRuleName=r,s.tabUrl=location.href),Object.assign(s,o),await At(t,s)}function he(e){I&&Lt(t=>{t.didTimeout||(Cr(e),st(B,hr))},4e3)}function Tr(e){let t=Date.now(),r=null;for(;r=e[0];){for(var o=null;o=r.nextNode();)if(o.shadowRoot&&(e.push(document.createTreeWalker(o.shadowRoot,NodeFilter.SHOW_ELEMENT)),Ut.push(o.shadowRoot)),Date.now()-t>50)return!1;e.shift()}return!0}function Nr(){Ut=[];let e=[];try{e.push(document.createTreeWalker(document.body,NodeFilter.SHOW_ELEMENT))}catch{}let t=!1,r=0;for(;!t&&r++<100;)Lt(()=>t||=Tr(e))}function Rr(){me=Array.from(document.querySelectorAll(\"iframe\")).filter(e=>e.src&&new URL(e.src).origin==top.location.origin&&e.offsetWidth>=_.minWidth&&e.offsetHeight>=_.minHeight).map(e=>{try{let t=e.contentWindow,r=U(e),o=r.left,s=r.top,u=1;for(;t?.parent&&t.parent!==top;)t=t.parent,r=U(t.frameElement),o+=r.left,s+=r.top,u++;return{doc:e.contentDocument,x:o,y:s,depth:u}}catch{return null}}).filter(e=>e)}function Pr(){Nr(),Rr()}function xe(e){return!(e instanceof Node)&&e.element}function ve(...e){console.log(\"[injected-script]\",...Array.isArray(e)?e:[e])}function xt(e,t){return r=>new Promise(o=>{let s=t+\"-response\",u=Math.random(),h=p=>{let{type:m,payload:g,nonce:w}=p.data??{};m!==s||w!==u||(e?.(\"Got response:\",{name:t,payload:r,response:g}),o(g),f())},f=()=>{window.removeEventListener(\"message\",h)};window.addEventListener(\"message\",h),e?.(\"Sending message:\",{name:t,payload:r}),window.postMessage({type:t,payload:r,nonce:u},\"*\")})}function Se(e,t){return r=>{e?.(\"Sending message:\",{type:t,payload:r}),window.postMessage({type:t,payload:r},\"*\")}}var Ee=\"ads#INIT\",Ce=\"ads#SEND_DATA\",Ie=\"ads#GET_INSTALL_ID\",Te=\"ads#GET_EXTERNAL_CONFIG\",Ne=\"ads#FETCH_HTTP_RESPONSE\";function Re(e){let t=e.enableLogs?ve:void 0;t?.(\"Recieved init event\",{config:e});let r=Se(t,Ce),o=xt(t,Ie),s=xt(t,Te),u=xt(t,Ne);be({getInstallId:o,fetchHttpResponse:u,sendData:r,pm_log:t,getExternalConfiguration:s})}function Mr(){window.addEventListener(\"message\",({data:e})=>{e?.type===Ee&&Re(e.payload)})}Mr();})();\\n';\nvar te = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {};\nfunction J(r) {\n  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, \"default\") ? r.default : r;\n}\nvar re = { exports: {} };\n(function(r, t) {\n  (function(e, s) {\n    s(r);\n  })(typeof globalThis < \"u\" ? globalThis : typeof self < \"u\" ? self : te, function(e) {\n    var s, a;\n    if (!((a = (s = globalThis.chrome) == null ? void 0 : s.runtime) != null && a.id))\n      throw new Error(\"This script should only be loaded in a browser extension.\");\n    if (typeof globalThis.browser > \"u\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n      const o = \"The message port closed before a response was received.\", f = (g) => {\n        const n = {\n          alarms: {\n            clear: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            clearAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            get: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          bookmarks: {\n            create: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getChildren: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getRecent: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getSubTree: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTree: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            move: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeTree: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          browserAction: {\n            disable: {\n              minArgs: 0,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            enable: {\n              minArgs: 0,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            getBadgeBackgroundColor: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getBadgeText: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getPopup: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTitle: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            openPopup: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            setBadgeBackgroundColor: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setBadgeText: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setIcon: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            setPopup: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setTitle: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          browsingData: {\n            remove: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            removeCache: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeCookies: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeDownloads: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeFormData: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeHistory: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeLocalStorage: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removePasswords: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removePluginData: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            settings: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          commands: {\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          contextMenus: {\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          cookies: {\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAllCookieStores: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            set: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          devtools: {\n            inspectedWindow: {\n              eval: {\n                minArgs: 1,\n                maxArgs: 2,\n                singleCallbackArg: !1\n              }\n            },\n            panels: {\n              create: {\n                minArgs: 3,\n                maxArgs: 3,\n                singleCallbackArg: !0\n              },\n              elements: {\n                createSidebarPane: {\n                  minArgs: 1,\n                  maxArgs: 1\n                }\n              }\n            }\n          },\n          downloads: {\n            cancel: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            download: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            erase: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getFileIcon: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            open: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            pause: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeFile: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            resume: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            show: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          extension: {\n            isAllowedFileSchemeAccess: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            isAllowedIncognitoAccess: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          history: {\n            addUrl: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            deleteAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            deleteRange: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            deleteUrl: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getVisits: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          i18n: {\n            detectLanguage: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAcceptLanguages: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          identity: {\n            launchWebAuthFlow: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          idle: {\n            queryState: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          management: {\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getSelf: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            setEnabled: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            uninstallSelf: {\n              minArgs: 0,\n              maxArgs: 1\n            }\n          },\n          notifications: {\n            clear: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            create: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getPermissionLevel: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          pageAction: {\n            getPopup: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTitle: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            hide: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setIcon: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            setPopup: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setTitle: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            show: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          permissions: {\n            contains: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            request: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          runtime: {\n            getBackgroundPage: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getPlatformInfo: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            openOptionsPage: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            requestUpdateCheck: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            sendMessage: {\n              minArgs: 1,\n              maxArgs: 3\n            },\n            sendNativeMessage: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            setUninstallURL: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          sessions: {\n            getDevices: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getRecentlyClosed: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            restore: {\n              minArgs: 0,\n              maxArgs: 1\n            }\n          },\n          storage: {\n            local: {\n              clear: {\n                minArgs: 0,\n                maxArgs: 0\n              },\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              remove: {\n                minArgs: 1,\n                maxArgs: 1\n              },\n              set: {\n                minArgs: 1,\n                maxArgs: 1\n              }\n            },\n            managed: {\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              }\n            },\n            sync: {\n              clear: {\n                minArgs: 0,\n                maxArgs: 0\n              },\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              remove: {\n                minArgs: 1,\n                maxArgs: 1\n              },\n              set: {\n                minArgs: 1,\n                maxArgs: 1\n              }\n            }\n          },\n          tabs: {\n            captureVisibleTab: {\n              minArgs: 0,\n              maxArgs: 2\n            },\n            create: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            detectLanguage: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            discard: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            duplicate: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            executeScript: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getCurrent: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getZoom: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getZoomSettings: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            goBack: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            goForward: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            highlight: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            insertCSS: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            move: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            query: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            reload: {\n              minArgs: 0,\n              maxArgs: 2\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeCSS: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            sendMessage: {\n              minArgs: 2,\n              maxArgs: 3\n            },\n            setZoom: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            setZoomSettings: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            update: {\n              minArgs: 1,\n              maxArgs: 2\n            }\n          },\n          topSites: {\n            get: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          webNavigation: {\n            getAllFrames: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getFrame: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          webRequest: {\n            handlerBehaviorChanged: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          windows: {\n            create: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getCurrent: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getLastFocused: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          }\n        };\n        if (Object.keys(n).length === 0)\n          throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n        class c extends WeakMap {\n          constructor(p, E = void 0) {\n            super(E), this.createItem = p;\n          }\n          get(p) {\n            return this.has(p) || this.set(p, this.createItem(p)), super.get(p);\n          }\n        }\n        const l = (i) => i && typeof i == \"object\" && typeof i.then == \"function\", u = (i, p) => (...E) => {\n          g.runtime.lastError ? i.reject(new Error(g.runtime.lastError.message)) : p.singleCallbackArg || E.length <= 1 && p.singleCallbackArg !== !1 ? i.resolve(E[0]) : i.resolve(E);\n        }, d = (i) => i == 1 ? \"argument\" : \"arguments\", A = (i, p) => function(T, ...N) {\n          if (N.length < p.minArgs)\n            throw new Error(`Expected at least ${p.minArgs} ${d(p.minArgs)} for ${i}(), got ${N.length}`);\n          if (N.length > p.maxArgs)\n            throw new Error(`Expected at most ${p.maxArgs} ${d(p.maxArgs)} for ${i}(), got ${N.length}`);\n          return new Promise((P, R) => {\n            if (p.fallbackToNoCallback)\n              try {\n                T[i](...N, u({\n                  resolve: P,\n                  reject: R\n                }, p));\n              } catch (b) {\n                console.warn(`${i} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `, b), T[i](...N), p.fallbackToNoCallback = !1, p.noCallback = !0, P();\n              }\n            else\n              p.noCallback ? (T[i](...N), P()) : T[i](...N, u({\n                resolve: P,\n                reject: R\n              }, p));\n          });\n        }, C = (i, p, E) => new Proxy(p, {\n          apply(T, N, P) {\n            return E.call(N, i, ...P);\n          }\n        });\n        let S = Function.call.bind(Object.prototype.hasOwnProperty);\n        const O = (i, p = {}, E = {}) => {\n          let T = /* @__PURE__ */ Object.create(null), N = {\n            has(R, b) {\n              return b in i || b in T;\n            },\n            get(R, b, M) {\n              if (b in T)\n                return T[b];\n              if (!(b in i))\n                return;\n              let I = i[b];\n              if (typeof I == \"function\")\n                if (typeof p[b] == \"function\")\n                  I = C(i, i[b], p[b]);\n                else if (S(E, b)) {\n                  let q = A(b, E[b]);\n                  I = C(i, i[b], q);\n                } else\n                  I = I.bind(i);\n              else if (typeof I == \"object\" && I !== null && (S(p, b) || S(E, b)))\n                I = O(I, p[b], E[b]);\n              else if (S(E, \"*\"))\n                I = O(I, p[b], E[\"*\"]);\n              else\n                return Object.defineProperty(T, b, {\n                  configurable: !0,\n                  enumerable: !0,\n                  get() {\n                    return i[b];\n                  },\n                  set(q) {\n                    i[b] = q;\n                  }\n                }), I;\n              return T[b] = I, I;\n            },\n            set(R, b, M, I) {\n              return b in T ? T[b] = M : i[b] = M, !0;\n            },\n            defineProperty(R, b, M) {\n              return Reflect.defineProperty(T, b, M);\n            },\n            deleteProperty(R, b) {\n              return Reflect.deleteProperty(T, b);\n            }\n          }, P = Object.create(i);\n          return new Proxy(P, N);\n        }, x = (i) => ({\n          addListener(p, E, ...T) {\n            p.addListener(i.get(E), ...T);\n          },\n          hasListener(p, E) {\n            return p.hasListener(i.get(E));\n          },\n          removeListener(p, E) {\n            p.removeListener(i.get(E));\n          }\n        }), v = new c((i) => typeof i != \"function\" ? i : function(E) {\n          const T = O(\n            E,\n            {},\n            {\n              getContent: {\n                minArgs: 0,\n                maxArgs: 0\n              }\n            }\n          );\n          i(T);\n        }), _ = new c((i) => typeof i != \"function\" ? i : function(E, T, N) {\n          let P = !1, R, b = new Promise((B) => {\n            R = function(L) {\n              P = !0, B(L);\n            };\n          }), M;\n          try {\n            M = i(E, T, R);\n          } catch (B) {\n            M = Promise.reject(B);\n          }\n          const I = M !== !0 && l(M);\n          if (M !== !0 && !I && !P)\n            return !1;\n          const q = (B) => {\n            B.then((L) => {\n              N(L);\n            }, (L) => {\n              let G;\n              L && (L instanceof Error || typeof L.message == \"string\") ? G = L.message : G = \"An unexpected error occurred\", N({\n                __mozWebExtensionPolyfillReject__: !0,\n                message: G\n              });\n            }).catch((L) => {\n              console.error(\"Failed to send onMessage rejected reply\", L);\n            });\n          };\n          return q(I ? M : b), !0;\n        }), y = ({\n          reject: i,\n          resolve: p\n        }, E) => {\n          g.runtime.lastError ? g.runtime.lastError.message === o ? p() : i(new Error(g.runtime.lastError.message)) : E && E.__mozWebExtensionPolyfillReject__ ? i(new Error(E.message)) : p(E);\n        }, w = (i, p, E, ...T) => {\n          if (T.length < p.minArgs)\n            throw new Error(`Expected at least ${p.minArgs} ${d(p.minArgs)} for ${i}(), got ${T.length}`);\n          if (T.length > p.maxArgs)\n            throw new Error(`Expected at most ${p.maxArgs} ${d(p.maxArgs)} for ${i}(), got ${T.length}`);\n          return new Promise((N, P) => {\n            const R = y.bind(null, {\n              resolve: N,\n              reject: P\n            });\n            T.push(R), E.sendMessage(...T);\n          });\n        }, h = {\n          devtools: {\n            network: {\n              onRequestFinished: x(v)\n            }\n          },\n          runtime: {\n            onMessage: x(_),\n            onMessageExternal: x(_),\n            sendMessage: w.bind(null, \"sendMessage\", {\n              minArgs: 1,\n              maxArgs: 3\n            })\n          },\n          tabs: {\n            sendMessage: w.bind(null, \"sendMessage\", {\n              minArgs: 2,\n              maxArgs: 3\n            })\n          }\n        }, m = {\n          clear: {\n            minArgs: 1,\n            maxArgs: 1\n          },\n          get: {\n            minArgs: 1,\n            maxArgs: 1\n          },\n          set: {\n            minArgs: 1,\n            maxArgs: 1\n          }\n        };\n        return n.privacy = {\n          network: {\n            \"*\": m\n          },\n          services: {\n            \"*\": m\n          },\n          websites: {\n            \"*\": m\n          }\n        }, O(g, h, n);\n      };\n      e.exports = f(chrome);\n    } else\n      e.exports = globalThis.browser;\n  });\n})(re);\nvar ue = re.exports;\nconst F = /* @__PURE__ */ J(ue);\nvar X = { exports: {} };\nX.exports;\n(function(r) {\n  var t = function() {\n    var e = String.fromCharCode, s = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", a = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\", o = {};\n    function f(n, c) {\n      if (!o[n]) {\n        o[n] = {};\n        for (var l = 0; l < n.length; l++)\n          o[n][n.charAt(l)] = l;\n      }\n      return o[n][c];\n    }\n    var g = {\n      compressToBase64: function(n) {\n        if (n == null)\n          return \"\";\n        var c = g._compress(n, 6, function(l) {\n          return s.charAt(l);\n        });\n        switch (c.length % 4) {\n          default:\n          case 0:\n            return c;\n          case 1:\n            return c + \"===\";\n          case 2:\n            return c + \"==\";\n          case 3:\n            return c + \"=\";\n        }\n      },\n      decompressFromBase64: function(n) {\n        return n == null ? \"\" : n == \"\" ? null : g._decompress(n.length, 32, function(c) {\n          return f(s, n.charAt(c));\n        });\n      },\n      compressToUTF16: function(n) {\n        return n == null ? \"\" : g._compress(n, 15, function(c) {\n          return e(c + 32);\n        }) + \" \";\n      },\n      decompressFromUTF16: function(n) {\n        return n == null ? \"\" : n == \"\" ? null : g._decompress(n.length, 16384, function(c) {\n          return n.charCodeAt(c) - 32;\n        });\n      },\n      //compress into uint8array (UCS-2 big endian format)\n      compressToUint8Array: function(n) {\n        for (var c = g.compress(n), l = new Uint8Array(c.length * 2), u = 0, d = c.length; u < d; u++) {\n          var A = c.charCodeAt(u);\n          l[u * 2] = A >>> 8, l[u * 2 + 1] = A % 256;\n        }\n        return l;\n      },\n      //decompress from uint8array (UCS-2 big endian format)\n      decompressFromUint8Array: function(n) {\n        if (n == null)\n          return g.decompress(n);\n        for (var c = new Array(n.length / 2), l = 0, u = c.length; l < u; l++)\n          c[l] = n[l * 2] * 256 + n[l * 2 + 1];\n        var d = [];\n        return c.forEach(function(A) {\n          d.push(e(A));\n        }), g.decompress(d.join(\"\"));\n      },\n      //compress into a string that is already URI encoded\n      compressToEncodedURIComponent: function(n) {\n        return n == null ? \"\" : g._compress(n, 6, function(c) {\n          return a.charAt(c);\n        });\n      },\n      //decompress from an output of compressToEncodedURIComponent\n      decompressFromEncodedURIComponent: function(n) {\n        return n == null ? \"\" : n == \"\" ? null : (n = n.replace(/ /g, \"+\"), g._decompress(n.length, 32, function(c) {\n          return f(a, n.charAt(c));\n        }));\n      },\n      compress: function(n) {\n        return g._compress(n, 16, function(c) {\n          return e(c);\n        });\n      },\n      _compress: function(n, c, l) {\n        if (n == null)\n          return \"\";\n        var u, d, A = {}, C = {}, S = \"\", O = \"\", x = \"\", v = 2, _ = 3, y = 2, w = [], h = 0, m = 0, i;\n        for (i = 0; i < n.length; i += 1)\n          if (S = n.charAt(i), Object.prototype.hasOwnProperty.call(A, S) || (A[S] = _++, C[S] = !0), O = x + S, Object.prototype.hasOwnProperty.call(A, O))\n            x = O;\n          else {\n            if (Object.prototype.hasOwnProperty.call(C, x)) {\n              if (x.charCodeAt(0) < 256) {\n                for (u = 0; u < y; u++)\n                  h = h << 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++;\n                for (d = x.charCodeAt(0), u = 0; u < 8; u++)\n                  h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n              } else {\n                for (d = 1, u = 0; u < y; u++)\n                  h = h << 1 | d, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = 0;\n                for (d = x.charCodeAt(0), u = 0; u < 16; u++)\n                  h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n              }\n              v--, v == 0 && (v = Math.pow(2, y), y++), delete C[x];\n            } else\n              for (d = A[x], u = 0; u < y; u++)\n                h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n            v--, v == 0 && (v = Math.pow(2, y), y++), A[O] = _++, x = String(S);\n          }\n        if (x !== \"\") {\n          if (Object.prototype.hasOwnProperty.call(C, x)) {\n            if (x.charCodeAt(0) < 256) {\n              for (u = 0; u < y; u++)\n                h = h << 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++;\n              for (d = x.charCodeAt(0), u = 0; u < 8; u++)\n                h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n            } else {\n              for (d = 1, u = 0; u < y; u++)\n                h = h << 1 | d, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = 0;\n              for (d = x.charCodeAt(0), u = 0; u < 16; u++)\n                h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n            }\n            v--, v == 0 && (v = Math.pow(2, y), y++), delete C[x];\n          } else\n            for (d = A[x], u = 0; u < y; u++)\n              h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n          v--, v == 0 && (v = Math.pow(2, y), y++);\n        }\n        for (d = 2, u = 0; u < y; u++)\n          h = h << 1 | d & 1, m == c - 1 ? (m = 0, w.push(l(h)), h = 0) : m++, d = d >> 1;\n        for (; ; )\n          if (h = h << 1, m == c - 1) {\n            w.push(l(h));\n            break;\n          } else\n            m++;\n        return w.join(\"\");\n      },\n      decompress: function(n) {\n        return n == null ? \"\" : n == \"\" ? null : g._decompress(n.length, 32768, function(c) {\n          return n.charCodeAt(c);\n        });\n      },\n      _decompress: function(n, c, l) {\n        var u = [], d = 4, A = 4, C = 3, S = \"\", O = [], x, v, _, y, w, h, m, i = { val: l(0), position: c, index: 1 };\n        for (x = 0; x < 3; x += 1)\n          u[x] = x;\n        for (_ = 0, w = Math.pow(2, 2), h = 1; h != w; )\n          y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n        switch (_) {\n          case 0:\n            for (_ = 0, w = Math.pow(2, 8), h = 1; h != w; )\n              y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n            m = e(_);\n            break;\n          case 1:\n            for (_ = 0, w = Math.pow(2, 16), h = 1; h != w; )\n              y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n            m = e(_);\n            break;\n          case 2:\n            return \"\";\n        }\n        for (u[3] = m, v = m, O.push(m); ; ) {\n          if (i.index > n)\n            return \"\";\n          for (_ = 0, w = Math.pow(2, C), h = 1; h != w; )\n            y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n          switch (m = _) {\n            case 0:\n              for (_ = 0, w = Math.pow(2, 8), h = 1; h != w; )\n                y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n              u[A++] = e(_), m = A - 1, d--;\n              break;\n            case 1:\n              for (_ = 0, w = Math.pow(2, 16), h = 1; h != w; )\n                y = i.val & i.position, i.position >>= 1, i.position == 0 && (i.position = c, i.val = l(i.index++)), _ |= (y > 0 ? 1 : 0) * h, h <<= 1;\n              u[A++] = e(_), m = A - 1, d--;\n              break;\n            case 2:\n              return O.join(\"\");\n          }\n          if (d == 0 && (d = Math.pow(2, C), C++), u[m])\n            S = u[m];\n          else if (m === A)\n            S = v + v.charAt(0);\n          else\n            return null;\n          O.push(S), u[A++] = v + S.charAt(0), d--, v = S, d == 0 && (d = Math.pow(2, C), C++);\n        }\n      }\n    };\n    return g;\n  }();\n  r != null && (r.exports = t);\n})(X);\nvar he = X.exports;\nconst K = /* @__PURE__ */ J(he);\nfunction de(r) {\n  const t = K.decompressFromUint8Array(new Uint8Array(r));\n  if (t == null)\n    throw Error(\"Failed to convert string to ArrayBuffer\");\n  return t;\n}\nasync function Z(r) {\n  if (!r.byteLength)\n    return \"\";\n  const t = new Blob([r]), e = await new Promise((s, a) => {\n    const o = new FileReader();\n    o.onload = () => {\n      typeof o.result == \"string\" && s(o.result), a(Error(\"Failed to read buffer as string, got \" + typeof o.result));\n    }, o.onerror = () => a(o.error), o.onabort = () => a(\"FileReader aborted\"), o.readAsDataURL(t);\n  });\n  return (e == null ? void 0 : e.split(\",\").pop()) || \"\";\n}\nfunction fe(r) {\n  if (!r)\n    return Promise.resolve(new ArrayBuffer(0));\n  try {\n    const t = \"data:application/octet-binary;base64,\" + r;\n    return fetch(t).then(\n      (e) => e.arrayBuffer(),\n      () => new ArrayBuffer(0)\n    );\n  } catch {\n    return Promise.resolve(new ArrayBuffer(0));\n  }\n}\nvar U = /* @__PURE__ */ ((r) => (r.UPLOAD_CRAWL = \"ads#CRAWL\", r.GET_PM_EXTERNAL_CONFIG = \"ads#GET_EXTERNAL_CONFIGURATION\", r.FETCH_HTTP_RESPONSE = \"ads#FETCH_HTTP_RESPONSE\", r))(U || {});\nfunction $(r) {\n  try {\n    return JSON.parse(r);\n  } catch {\n    return;\n  }\n}\nasync function ge(r) {\n  return (await F.storage.local.get(r))[r];\n}\nasync function ne(r, t) {\n  const e = {};\n  e[r] = t, await F.storage.local.set(e);\n}\nasync function Y(r, t, e) {\n  let s = await (e ? null : ge(r));\n  return s == null && (s = await t(), await ne(r, s)), s;\n}\nfunction ie(r) {\n  return r.split(\".\").slice(r.endsWith(\".uk\") || r.endsWith(\".jp\") ? -3 : -2).join(\".\");\n}\nasync function Q(r) {\n  const t = await Y(\"configTs\", Date.now), e = Date.now() - t > 18e5;\n  return Y(\"config\", async () => {\n    const a = await r({\n      type: U.GET_PM_EXTERNAL_CONFIG,\n      payload: void 0\n    }), o = $(a);\n    if (o != null)\n      return o.TimeOffset = o.Now && Date.now() - o.Now || 0, me(o), pe(o), ye(o), ne(\"configTs\", Date.now()), o;\n  }, e);\n}\nfunction me(r) {\n  var t;\n  (t = r.AdRules) == null || t.filter((e) => {\n    const s = K.decompressFromUTF16(e.ParseTreeString || \"\") ?? \"\";\n    return e.ParseTree = $(s), e.ParseTree == null ? !1 : (delete e.ParseTreeString, !0);\n  });\n}\nfunction pe(r) {\n  var t;\n  r.ParsedSiteConfigs = (t = r.SiteConfigs) == null ? void 0 : t.reduce((e, s) => (e[s.d] = s.r, e), {}), delete r.SiteConfigs;\n}\nfunction ye(r) {\n  var t;\n  r.ParsedUrlBlackList = (t = r.UrlBlackList) == null ? void 0 : t.filter(\n    (e) => e.BlockAllAds\n  ).reduce((e, s) => {\n    var a;\n    return (e[a = ie(s.Hostname)] ?? (e[a] = [])).push(s.UrlRegex), e;\n  }, {}), delete r.UrlBlackList;\n}\nfunction ee() {\n  return window.self === window.top;\n}\nclass Ae {\n  constructor(t) {\n    this.config = t;\n  }\n  async inject(t) {\n    return new Promise((e, s) => {\n      const a = this.defineOnCspError(s), o = () => {\n        var f, g;\n        try {\n          document.addEventListener(\"securitypolicyviolation\", a);\n          const n = document.createElement(t), c = () => {\n            var d, A;\n            this.config.keepInDom || n.remove(), (A = (d = this.config).onInjected) == null || A.call(d);\n          }, l = this.getManifestVersion();\n          l === 3 ? n.onload = c : setTimeout(c), this.setSrc(n, l), (f = this.config.logger) == null || f.log(n);\n          const u = (g = document.documentElement) == null ? void 0 : g.firstElementChild;\n          u == null || u.insertBefore(n, u.firstChild), document.removeEventListener(\"securitypolicyviolation\", a), e();\n        } catch (n) {\n          s(n);\n        } finally {\n          document.removeEventListener(\"DOMContentLoaded\", o);\n        }\n      };\n      document.readyState === \"loading\" ? document.addEventListener(\"DOMContentLoaded\", o) : o();\n    });\n  }\n  defineOnCspError(t) {\n    return (e) => {\n      t == null || t(\n        Error(\n          \"Blocked by CSP: \" + JSON.stringify({\n            host: window.location.hostname,\n            blockedUri: e.blockedURI,\n            violatedDirective: e.violatedDirective,\n            originalPolicy: e.originalPolicy\n          })\n        )\n      );\n    };\n  }\n  getManifestVersion() {\n    return typeof __AD_FINDER_MANIFEST_VERSION__ == \"number\" ? __AD_FINDER_MANIFEST_VERSION__ : F.runtime.getManifest().manifest_version;\n  }\n  setSrc(t, e) {\n    if (e === 3) {\n      if (!this.config.mv3Path)\n        throw Error(\"mv3Path config must be passed for Manifest V3 extensions\");\n      t.src = F.runtime.getURL(this.config.mv3Path);\n    } else if (e === 2) {\n      if (!this.config.mv2Content)\n        throw Error(\"mv2Content config must be passed for Manifest V2 extensions\");\n      t.innerHTML = this.config.mv2Content;\n    } else\n      throw Error(`Unsupported manifest version ${e}`);\n  }\n}\nclass we {\n  constructor(t) {\n    this.config = t;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  sendMessage(t, e, s, a) {\n    const o = { type: t, payload: e, nonce: a };\n    window.postMessage(o, \"*\", s);\n  }\n  onMessage(t, e) {\n    window.addEventListener(\"message\", async (s) => {\n      var l, u;\n      const { type: a, payload: o, nonce: f } = s.data ?? {};\n      if (a !== t)\n        return;\n      (l = this.config.logger) == null || l.debug(\"[ad-finder-custom-event] Recieved message:\", {\n        type: a,\n        payload: o\n      });\n      const g = await e(o);\n      if (g === void 0)\n        return;\n      const { response: n, transferables: c } = g;\n      (u = this.config.logger) == null || u.debug(\"[ad-finder-custom-event] Sending response:\", {\n        name: a,\n        payload: o,\n        response: n\n      }), this.sendMessage(a + this.config.responseSuffix, n, c, f);\n    });\n  }\n}\nconst xe = \"ads#INIT\", ve = \"ads#SEND_DATA\", be = \"ads#GET_INSTALL_ID\", Ee = \"ads#GET_EXTERNAL_CONFIG\", Se = \"ads#FETCH_HTTP_RESPONSE\", D = class D {\n  constructor(t) {\n    k(this, \"injector\");\n    k(this, \"messenger\");\n    this.config = t, this.injector = new Ae({\n      logger: t.logger,\n      keepInDom: t.keepPathmaticsInDom,\n      mv2Content: le,\n      mv3Path: t.mv3PathmaticsPath,\n      onInjected: this.initPathmaticsScript.bind(this)\n    }), this.messenger = new we({\n      logger: t.logger,\n      responseSuffix: D.MESSENGER_SUFFIX\n    });\n  }\n  /**\n   * Checks whether the Pathmatics script should be injected on the current frame.\n   * Unsupported websites and iframes either don't have ads or the\n   * ad-finder code has known issues (like effecting authentication).\n   * @returns A boolean representing whether or not the Pathmatics script should be injected.\n   */\n  async isSupportedSite() {\n    var s, a;\n    const t = ie(location.hostname);\n    if (!ee())\n      return !(location.hostname === D.GOOGLE_AUTH_HOSTNAME || D.SUBFRAME_DOMAIN_BLOCKLIST.has(t));\n    const e = await Q(this.config.sendMessageToBackground);\n    return e != null ? !((a = (s = e.ParsedUrlBlackList) == null ? void 0 : s[t]) != null && a.some((o) => new RegExp(o).test(location.href))) : (\n      // Stop ad capture if there was an error parsing the config.\n      !1\n    );\n  }\n  async start() {\n    var e, s, a, o, f, g;\n    if (!document.documentElement) {\n      (e = this.config.logger) == null || e.log(\"Page is blank, stopping pathmatics\", window.location.hostname);\n      return;\n    }\n    const t = await this.isSupportedSite();\n    if ((s = this.config.logger) == null || s.log(\"Is supported site?\", t), !t) {\n      (a = this.config.logger) == null || a.log(\"Not supported site, stopping pathmatics\", window.location.hostname);\n      return;\n    }\n    try {\n      (o = this.config.logger) == null || o.log(\"Starting Pathmatics ad-finder...\", { url: window.location.href }), this.setupMessageListeners(), await this.injector.inject(\"script\"), (f = this.config.logger) == null || f.log(\"Pathmatics ad-finder injected!\");\n    } catch (n) {\n      (g = this.config.logger) == null || g.error(\"Failed to start Pathmatics ad-finder\", n);\n    }\n  }\n  /**\n   * Setup communication channels with the injected script\n   */\n  setupMessageListeners() {\n    if (F.storage == null)\n      throw Error(\"The storage permission is required for pathmatics' ad-finder\");\n    this.messenger.onMessage(Se, async (t) => {\n      const e = await this.config.sendMessageToBackground({\n        type: U.FETCH_HTTP_RESPONSE,\n        payload: t\n      }), s = await fe(e);\n      return {\n        response: s,\n        transferables: [s]\n      };\n    }), ee() && (this.messenger.onMessage(be, async () => ({ response: await this.config.getInstallId() })), this.messenger.onMessage(ve, async (t) => {\n      var f, g, n, c, l;\n      const e = $(t);\n      if (e == null)\n        return;\n      const s = e.crawlId;\n      let a = e.zys ?? [];\n      if (typeof a == \"string\" && (a = $(a)), a == null)\n        return;\n      const o = Date.now();\n      for (const u of a) {\n        const d = {\n          id: `${s}-${u.hash}`,\n          type: \"pathmatics\",\n          timestamp: o,\n          details: u\n        };\n        (f = this.config.logger) == null || f.log(\"Ad detected\", d);\n        try {\n          await ((n = (g = this.config).onAdDetected) == null ? void 0 : n.call(g, d));\n        } catch (A) {\n          (c = this.config.logger) == null || c.error(\"onAdDetected failed\", { err: A });\n        }\n      }\n      await this.config.sendMessageToBackground({\n        type: U.UPLOAD_CRAWL,\n        payload: e\n      }).catch((l = this.config.logger) == null ? void 0 : l.error);\n    }), this.messenger.onMessage(Ee, async () => ({\n      response: await Q(this.config.sendMessageToBackground)\n    })));\n  }\n  initPathmaticsScript() {\n    var e;\n    (e = this.config.logger) == null || e.log(\"Initializing script\");\n    const t = {\n      enableLogs: this.config.enablePathmaticsLogs ?? !1\n    };\n    this.messenger.sendMessage(xe, t);\n  }\n};\nk(D, \"MESSENGER_SUFFIX\", \"-response\"), // These probably belong in the server-side config, but the check would need to happen later in\n// the page lifecycle.\nk(D, \"SUBFRAME_DOMAIN_BLOCKLIST\", /* @__PURE__ */ new Set([\"google.com\", \"okta.com\", \"amazon.com\"])), k(D, \"GOOGLE_AUTH_HOSTNAME\", \"accounts.youtube.com\");\nlet z = D;\nconst j = 1e3, H = {\n  setItem(r, t) {\n    try {\n      if (t == null) {\n        sessionStorage.removeItem(r);\n        return;\n      }\n      sessionStorage.setItem(r, JSON.stringify(t));\n    } catch {\n      return;\n    }\n  },\n  getItem(r, t) {\n    try {\n      const e = sessionStorage.getItem(r);\n      return e == null ? t : JSON.parse(e);\n    } catch {\n      return t;\n    }\n  }\n};\nfunction V(r) {\n  const t = window.location.href;\n  if (!t.includes(r.url))\n    return;\n  const e = \"ad-finder-captured-urls\", s = H.getItem(e, []);\n  if (s.includes(t))\n    return;\n  s.push(t), H.setItem(e, s);\n  const a = [], o = r.website + \"-session-order\";\n  setInterval(() => {\n    let f = r.finder(document.body, t, r.onAdFound, r.instacartSelectors);\n    f = f.filter((n) => !a.includes(n.title));\n    let g = H.getItem(o, 0);\n    f.forEach((n) => {\n      n.session_order = ++g;\n    }), H.setItem(o, g), _e(r, f), f.forEach((n) => {\n      a.push(n.title);\n    });\n  }, r.loadDelay || 3 * j);\n}\nfunction _e(r, t) {\n  const e = {\n    appId: r.appId,\n    installId: r.installId,\n    website: r.website,\n    ads: t\n  };\n  t.length > 0 && r.api.uploadRetailAds(e);\n}\nfunction se(r) {\n  return {\n    ...r,\n    logger: r.logger === void 0 ? console : r.logger ?? void 0\n  };\n}\nfunction Te(r, t, e, s) {\n  if (!s)\n    return [];\n  const a = W(r, s.companyName), o = Ne(r, s.searchTerm);\n  let f = Ce(r, s);\n  f.length === 0 && (f = Oe(r, s));\n  const g = [], n = Math.round(Date.now() / j);\n  return f.forEach((c) => {\n    const l = Pe(c, 5);\n    if (l) {\n      const u = W(l, s.productTitle), d = W(l, s.productSize), A = W(l, s.productPrice), C = {\n        title: u,\n        size: d,\n        price: A,\n        timestamp: n,\n        store: a,\n        search_url: t,\n        search_term: o\n      };\n      C.title && (g.push(C), e == null || e(C, l));\n    }\n  }), g;\n}\nfunction W(r, t) {\n  var e;\n  for (const s of t) {\n    const a = r.querySelector(s);\n    if (a) {\n      const o = (e = a.textContent) == null ? void 0 : e.trim();\n      if (o)\n        return o;\n    }\n  }\n  return \"\";\n}\nfunction Ce(r, t) {\n  const e = t.sponsoredRegex.map((o) => {\n    const f = o.slice(o.lastIndexOf(\"/\") + 1), g = o.slice(1, o.lastIndexOf(\"/\"));\n    return new RegExp(g, f);\n  }), s = r.querySelectorAll(t.productSelector.join(\", \"));\n  return Array.from(s).filter((o) => {\n    const f = o.innerHTML, g = o.textContent;\n    return f && g ? e.some((n) => n.test(f) || n.test(g)) : !1;\n  });\n}\nfunction Oe(r, t) {\n  var a;\n  const e = r.querySelectorAll(t.productSelector.join(\", \")), s = [];\n  if (e)\n    for (const o of e) {\n      const f = (a = o.lastElementChild) == null ? void 0 : a.previousElementSibling;\n      if (f) {\n        const g = f.querySelector(\"div\");\n        g && Ie(g) && s.push(f);\n      }\n    }\n  return s;\n}\nfunction Ie(r) {\n  if (r.shadowRoot)\n    return !1;\n  try {\n    return r.attachShadow({ mode: \"open\" }), !1;\n  } catch {\n    return !0;\n  }\n}\nfunction Ne(r, t) {\n  for (const e of t) {\n    const s = r.querySelector(e);\n    if (s)\n      return s.value || \"\";\n  }\n  return \"\";\n}\nfunction Pe(r, t) {\n  let e = r;\n  if (e.getAttribute(\"aria-label\") === \"Product\")\n    return e;\n  for (let s = 0; s < t && e; s++) {\n    const a = e.parentElement;\n    if (a && a.getAttribute(\"aria-label\") === \"Product\")\n      return a;\n    e = a;\n  }\n  return null;\n}\nfunction Re(r, t, e) {\n  const s = r.querySelector(\n    '[data-test=\"@web/Search/SearchInput\"]'\n  ), a = [], o = Math.round(Date.now() / j);\n  return r.querySelectorAll('[data-test=\"sponsoredText\"]').forEach((g) => {\n    if (g) {\n      const n = g.closest('[data-test=\"product-details\"]'), c = n == null ? void 0 : n.querySelector('[data-test=\"product-title\"]'), l = n == null ? void 0 : n.querySelector('[data-test=\"current-price\"]'), u = {\n        title: (c == null ? void 0 : c.textContent) || \"\",\n        size: \"\",\n        price: (l == null ? void 0 : l.textContent) || \"\",\n        timestamp: o,\n        store: \"\",\n        search_url: t,\n        search_term: (s == null ? void 0 : s.value) || \"\"\n      };\n      u.title && (a.push(u), e == null || e(u, n));\n    }\n  }), a;\n}\nfunction Me(r, t, e) {\n  const s = r.querySelector('input[name=\"q\"]'), a = [], o = Math.round(Date.now() / j), f = [\"current price \", \"Now \", \"Was \"];\n  return r.querySelectorAll(\"div[data-item-id]\").forEach((n) => {\n    var c, l, u;\n    if (n && ((c = n.textContent) != null && c.includes(\"Sponsored\"))) {\n      const d = n.querySelector('span[data-automation-id=\"product-title\"]'), A = n.querySelector('div[data-automation-id=\"product-price\"]'), C = A == null ? void 0 : A.querySelector(\"div:last-child\"), S = A == null ? void 0 : A.querySelectorAll(\"span\");\n      let O = (u = (l = S == null ? void 0 : S[S.length - 1]) == null ? void 0 : l.textContent) == null ? void 0 : u.trim();\n      for (const v of f)\n        O != null && O.startsWith(v) && (O = O.replace(v, \"\"));\n      const x = {\n        title: (d == null ? void 0 : d.textContent) || \"\",\n        size: (C == null ? void 0 : C.textContent) || \"\",\n        price: O,\n        timestamp: o,\n        store: \"\",\n        search_url: t,\n        search_term: s.value || \"\"\n      };\n      x.title && (a.push(x), e == null || e(x, n));\n    }\n  }), a;\n}\nfunction je(r, t) {\n  var a;\n  const e = se(r);\n  new z(e).start().catch((a = e.logger) == null ? void 0 : a.error), V({\n    ...t,\n    url: \"https://www.walmart.com\",\n    website: \"walmart\",\n    finder: Me\n  }), V({\n    ...t,\n    url: \"https://www.target.com\",\n    website: \"target\",\n    finder: Re\n  }), V({\n    ...t,\n    url: \"https://www.instacart.com\",\n    website: \"instacart\",\n    finder: Te,\n    loadDelay: 5 * j\n  });\n}\nvar oe = { exports: {} };\n(function(r, t) {\n  (function(e, s) {\n    r.exports = s();\n  })(te, function() {\n    var e = function(o, f) {\n      if (f = f || {}, typeof o != \"function\")\n        throw new a(\"fetch must be a function\");\n      if (typeof f != \"object\")\n        throw new a(\"defaults must be an object\");\n      if (f.retries !== void 0 && !s(f.retries))\n        throw new a(\"retries must be a positive integer\");\n      if (f.retryDelay !== void 0 && !s(f.retryDelay) && typeof f.retryDelay != \"function\")\n        throw new a(\"retryDelay must be a positive integer or a function returning a positive integer\");\n      if (f.retryOn !== void 0 && !Array.isArray(f.retryOn) && typeof f.retryOn != \"function\")\n        throw new a(\"retryOn property expects an array or function\");\n      var g = {\n        retries: 3,\n        retryDelay: 1e3,\n        retryOn: []\n      };\n      return f = Object.assign(g, f), function(c, l) {\n        var u = f.retries, d = f.retryDelay, A = f.retryOn;\n        if (l && l.retries !== void 0)\n          if (s(l.retries))\n            u = l.retries;\n          else\n            throw new a(\"retries must be a positive integer\");\n        if (l && l.retryDelay !== void 0)\n          if (s(l.retryDelay) || typeof l.retryDelay == \"function\")\n            d = l.retryDelay;\n          else\n            throw new a(\"retryDelay must be a positive integer or a function returning a positive integer\");\n        if (l && l.retryOn)\n          if (Array.isArray(l.retryOn) || typeof l.retryOn == \"function\")\n            A = l.retryOn;\n          else\n            throw new a(\"retryOn property expects an array or function\");\n        return new Promise(function(C, S) {\n          var O = function(v) {\n            var _ = typeof Request < \"u\" && c instanceof Request ? c.clone() : c;\n            o(_, l).then(function(y) {\n              if (Array.isArray(A) && A.indexOf(y.status) === -1)\n                C(y);\n              else if (typeof A == \"function\")\n                try {\n                  return Promise.resolve(A(v, null, y)).then(function(w) {\n                    w ? x(v, null, y) : C(y);\n                  }).catch(S);\n                } catch (w) {\n                  S(w);\n                }\n              else\n                v < u ? x(v, null, y) : C(y);\n            }).catch(function(y) {\n              if (typeof A == \"function\")\n                try {\n                  Promise.resolve(A(v, y, null)).then(function(w) {\n                    w ? x(v, y, null) : S(y);\n                  }).catch(function(w) {\n                    S(w);\n                  });\n                } catch (w) {\n                  S(w);\n                }\n              else\n                v < u ? x(v, y, null) : S(y);\n            });\n          };\n          function x(v, _, y) {\n            var w = typeof d == \"function\" ? d(v, _, y) : d;\n            setTimeout(function() {\n              O(++v);\n            }, w);\n          }\n          O(0);\n        });\n      };\n    };\n    function s(o) {\n      return Number.isInteger(o) && o >= 0;\n    }\n    function a(o) {\n      this.name = \"ArgumentError\", this.message = o;\n    }\n    return e;\n  });\n})(oe);\nvar Le = oe.exports;\nconst De = /* @__PURE__ */ J(Le);\nfunction ke(r) {\n  return Math.random() * r + r / 2;\n}\nfunction Ue(r) {\n  return De(fetch, {\n    retryOn(t, e, s) {\n      var a;\n      if (e !== null || s.status >= 500)\n        return (a = r.logger) == null || a.log(`retrying, attempt number ${t + 1}`), !0;\n    },\n    retries: 5,\n    retryDelay(t) {\n      const e = Math.pow(2, t) * 500;\n      return ke(e);\n    }\n  });\n}\nclass Fe {\n  constructor(t) {\n    k(this, \"fetch\");\n    this.config = t, this.fetch = Ue(t);\n  }\n  async upload(t) {\n    var o, f, g;\n    if (!await this.config.isEnabled())\n      return;\n    const s = this.prepareData(t);\n    (o = this.config.logger) == null || o.log(\"Uploading data:\", s);\n    const a = await this.fetch(this.config.crawlUploadUrl, {\n      method: \"POST\",\n      body: K.compressToUint8Array(JSON.stringify(s)),\n      headers: {\n        \"Content-Type\": \"application/octet-stream\"\n      }\n    }).then((n) => {\n      var c;\n      return (c = this.config.logger) == null ? void 0 : c.log({ status: n.status });\n    }).catch((f = this.config.logger) == null ? void 0 : f.error);\n    (g = this.config.logger) == null || g.log(\"Response:\", a);\n  }\n  prepareData(t) {\n    return {\n      ...t,\n      PartnerVersion: F.runtime.getManifest().version,\n      ExtensionId: F.runtime.id,\n      ExtensionVersion: this.config.extensionVersion,\n      UserAgent: navigator.userAgent,\n      BrowserLanguage: navigator.language,\n      BlankZys: null,\n      PanelPartnerId: this.config.panelPartnerId\n    };\n  }\n}\nasync function qe(r) {\n  const t = await fetch(r).then((e) => e.arrayBuffer());\n  return de(t);\n}\nfunction He(r) {\n  const t = se(r), e = new Fe(t);\n  return {\n    // TODO: instead of returning a method for processing messages and letting the consumer of this\n    // library manage messages, Manage messaging internally using channels:\n    // https://developer.chrome.com/docs/extensions/mv3/messaging/#connect\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async processAdFinderMessage(s) {\n      const a = (o) => {\n        var f;\n        throw (f = t.logger) == null || f.error(\n          \"Error handling message from ad-finder: \" + JSON.stringify(s),\n          o\n        ), o;\n      };\n      switch (s.type) {\n        case U.UPLOAD_CRAWL:\n          return e.upload(s.payload).catch(a);\n        case U.GET_PM_EXTERNAL_CONFIG:\n          return qe(\n            `${r.pmExternalConfigUrl}?installId=${await r.getInstallId()}`\n          ).catch(a);\n        case U.FETCH_HTTP_RESPONSE:\n          return fetch(s.payload).then((o) => {\n            const f = parseInt(o.headers.get(\"Content-Length\") ?? \"\");\n            return !isNaN(f) && f > 1 << 25 ? new ArrayBuffer(0) : o.arrayBuffer();\n          }).then((o) => o.byteLength > 1 << 25 ? Z(new ArrayBuffer(0)) : Z(o));\n      }\n    }\n  };\n}\nconst We = 0, $e = \"https://p.qljx.co/Ajax0001/IPD\", Ge = \"https://p.qljx.co/Ajax0001/Config\";\nexport {\n  Ge as PROD_PM_EXTERNAL_CONFIG_ENDPOINT,\n  $e as PROD_UPLOAD_CRAWL_ENDPOINT,\n  We as UNKNOWN_PARTNER_ID,\n  He as initAdFinderInBackground,\n  je as initAdFinderInContentScript\n};\n//# sourceMappingURL=index.mjs.map\n","import { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Object: ReturnType<typeof ObjectUtils.initAPI>\n  }\n}\n\n/**\n * ObjectUtils singleton definition\n */\nconst ObjectUtils = {\n  /**\n   * Initializes the Object API\n   *\n   * @param API\n   */\n  initAPI(API: API) {\n    return API.mixin('Object', this)\n  },\n\n  /**\n   * Merges source object into target object\n   *\n   * @param target The target object\n   * @param source The source object\n   * @param deep If true, deep merge is conducted\n   * @return {Object} Merged object\n   */\n  merge: function (\n    target: Record<string, any>,\n    source: Record<string, any>,\n    deep: boolean = false,\n  ): Record<string, any> {\n    return deep\n      ? Object.assign(true, target, source)\n      : Object.assign(target, source)\n  },\n\n  /**\n   * Looks up the value of nested object based on dot notation.\n   *\n   * For example:\n   *\n   * var foo = {\n   *     bar : {\n   *         baz : 'yay!'\n   *     }\n   * };\n   *\n   * ObjectUtils.lookup('bar.baz',foo); // returns 'yay!'\n   *\n   * @param dotPath Dot-notated path to nested object\n   * @param sourceObj\n   * @return {*}\n   */\n  lookup: function (dotPath: string, sourceObj: Record<string, any>) {\n    const parts = dotPath.split('.')\n    const lastPart = parts.pop()!\n    const len = parts.length\n    let counter = 1\n    let current = parts[0]\n\n    while ((sourceObj = sourceObj[current]) && counter < len) {\n      current = parts[counter]\n      counter += 1\n    }\n\n    if (sourceObj) {\n      return sourceObj[lastPart]\n    }\n  },\n\n  /**\n   * Checks whether an object is an object literal\n   *\n   * @param obj\n   * @returns {boolean}\n   */\n  isObjLiteral: function (obj: Record<string, any>) {\n    return (\n      typeof obj === 'object' &&\n      obj !== null &&\n      typeof obj.length === 'undefined'\n    )\n  },\n\n  /**\n   * Checks whether an object is an array\n   *\n   * @param obj\n   * @returns {boolean}\n   */\n  isArray: function (obj: any) {\n    return (\n      typeof obj === 'object' &&\n      obj !== null &&\n      typeof obj.length !== 'undefined'\n    )\n  },\n\n  /**\n   * Checks whether a string can be parsed as JSON\n   *\n   * @param str The string to check\n   * @returns {boolean}\n   */\n  isJSON: function (str: any) {\n    try {\n      JSON.parse(str)\n    } catch (e) {\n      return false\n    }\n\n    return true\n  },\n\n  /**\n   * Sorts object by property name\n   *\n   * @param obj The object to sort\n   * @returns {Object} The sorted object\n   */\n  sort: function (obj: Record<string, any>) {\n    const keys = []\n    const sortedObj: Record<string, any> = {}\n\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        keys.push(key)\n      }\n    }\n\n    keys.sort()\n\n    for (let i = 0; i < keys.length; i++) {\n      const key2 = keys[i]\n      sortedObj[key2] = obj[key2]\n    }\n\n    return sortedObj\n  },\n}\n\nexport default ObjectUtils\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Bugsnag\"] = factory();\n\telse\n\t\troot[\"Bugsnag\"] = factory();\n})(self, () => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 11:\n/***/ ((module) => {\n\nclass Breadcrumb {\n  constructor (message, metadata, type, timestamp = new Date()) {\n    this.type = type\n    this.message = message\n    this.metadata = metadata\n    this.timestamp = timestamp\n  }\n\n  toJSON () {\n    return {\n      type: this.type,\n      name: this.message,\n      timestamp: this.timestamp,\n      metaData: this.metadata\n    }\n  }\n}\n\nmodule.exports = Breadcrumb\n\n\n/***/ }),\n\n/***/ 953:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst config = __webpack_require__(510)\nconst Event = __webpack_require__(750)\nconst Breadcrumb = __webpack_require__(11)\nconst Session = __webpack_require__(743)\nconst map = __webpack_require__(964)\nconst includes = __webpack_require__(566)\nconst filter = __webpack_require__(58)\nconst reduce = __webpack_require__(611)\nconst keys = __webpack_require__(929)\nconst assign = __webpack_require__(795)\nconst runCallbacks = __webpack_require__(698)\nconst metadataDelegate = __webpack_require__(987)\nconst runSyncCallbacks = __webpack_require__(100)\nconst BREADCRUMB_TYPES = __webpack_require__(377)\nconst { add, clear, merge } = __webpack_require__(908)\n\nconst noop = () => {}\n\nclass Client {\n  constructor (configuration, schema = config.schema, internalPlugins = [], notifier) {\n    // notifier id\n    this._notifier = notifier\n\n    // intialise opts and config\n    this._config = {}\n    this._schema = schema\n\n    // i/o\n    this._delivery = { sendSession: noop, sendEvent: noop }\n    this._logger = { debug: noop, info: noop, warn: noop, error: noop }\n\n    // plugins\n    this._plugins = {}\n\n    // state\n    this._breadcrumbs = []\n    this._session = null\n    this._metadata = {}\n    this._featuresIndex = {}\n    this._features = []\n    this._context = undefined\n    this._user = {}\n\n    // callbacks:\n    //  e: onError\n    //  s: onSession\n    //  sp: onSessionPayload\n    //  b: onBreadcrumb\n    // (note these names are minified by hand because object\n    // properties are not safe to minify automatically)\n    this._cbs = {\n      e: [],\n      s: [],\n      sp: [],\n      b: []\n    }\n\n    // expose internal constructors\n    this.Client = Client\n    this.Event = Event\n    this.Breadcrumb = Breadcrumb\n    this.Session = Session\n\n    this._config = this._configure(configuration, internalPlugins)\n    map(internalPlugins.concat(this._config.plugins), pl => {\n      if (pl) this._loadPlugin(pl)\n    })\n\n    // when notify() is called we need to know how many frames are from our own source\n    // this inital value is 1 not 0 because we wrap notify() to ensure it is always\n    // bound to have the client as its `this` value  see below.\n    this._depth = 1\n\n    const self = this\n    const notify = this.notify\n    this.notify = function () {\n      return notify.apply(self, arguments)\n    }\n  }\n\n  addMetadata (section, keyOrObj, maybeVal) {\n    return metadataDelegate.add(this._metadata, section, keyOrObj, maybeVal)\n  }\n\n  getMetadata (section, key) {\n    return metadataDelegate.get(this._metadata, section, key)\n  }\n\n  clearMetadata (section, key) {\n    return metadataDelegate.clear(this._metadata, section, key)\n  }\n\n  addFeatureFlag (name, variant = null) {\n    add(this._features, this._featuresIndex, name, variant)\n  }\n\n  addFeatureFlags (featureFlags) {\n    merge(this._features, featureFlags, this._featuresIndex)\n  }\n\n  clearFeatureFlag (name) {\n    clear(this._features, this._featuresIndex, name)\n  }\n\n  clearFeatureFlags () {\n    this._features = []\n    this._featuresIndex = {}\n  }\n\n  getContext () {\n    return this._context\n  }\n\n  setContext (c) {\n    this._context = c\n  }\n\n  _configure (opts, internalPlugins) {\n    const schema = reduce(internalPlugins, (schema, plugin) => {\n      if (plugin && plugin.configSchema) return assign({}, schema, plugin.configSchema)\n      return schema\n    }, this._schema)\n\n    // accumulate configuration and error messages\n    const { errors, config } = reduce(keys(schema), (accum, key) => {\n      const defaultValue = schema[key].defaultValue(opts[key])\n\n      if (opts[key] !== undefined) {\n        const valid = schema[key].validate(opts[key])\n        if (!valid) {\n          accum.errors[key] = schema[key].message\n          accum.config[key] = defaultValue\n        } else {\n          if (schema[key].allowPartialObject) {\n            accum.config[key] = assign(defaultValue, opts[key])\n          } else {\n            accum.config[key] = opts[key]\n          }\n        }\n      } else {\n        accum.config[key] = defaultValue\n      }\n\n      return accum\n    }, { errors: {}, config: {} })\n\n    if (schema.apiKey) {\n      // missing api key is the only fatal error\n      if (!config.apiKey) throw new Error('No Bugsnag API Key set')\n      // warn about an apikey that is not of the expected format\n      if (!/^[0-9a-f]{32}$/i.test(config.apiKey)) errors.apiKey = 'should be a string of 32 hexadecimal characters'\n    }\n\n    // update and elevate some options\n    this._metadata = assign({}, config.metadata)\n    merge(this._features, config.featureFlags, this._featuresIndex)\n    this._user = assign({}, config.user)\n    this._context = config.context\n    if (config.logger) this._logger = config.logger\n\n    // add callbacks\n    if (config.onError) this._cbs.e = this._cbs.e.concat(config.onError)\n    if (config.onBreadcrumb) this._cbs.b = this._cbs.b.concat(config.onBreadcrumb)\n    if (config.onSession) this._cbs.s = this._cbs.s.concat(config.onSession)\n\n    // finally warn about any invalid config where we fell back to the default\n    if (keys(errors).length) {\n      this._logger.warn(generateConfigErrorMessage(errors, opts))\n    }\n\n    return config\n  }\n\n  getUser () {\n    return this._user\n  }\n\n  setUser (id, email, name) {\n    this._user = { id, email, name }\n  }\n\n  _loadPlugin (plugin) {\n    const result = plugin.load(this)\n    // JS objects are not the safest way to store arbitrarily keyed values,\n    // so bookend the key with some characters that prevent tampering with\n    // stuff like __proto__ etc. (only store the result if the plugin had a\n    // name)\n    if (plugin.name) this._plugins[`~${plugin.name}~`] = result\n    return this\n  }\n\n  getPlugin (name) {\n    return this._plugins[`~${name}~`]\n  }\n\n  _setDelivery (d) {\n    this._delivery = d(this)\n  }\n\n  startSession () {\n    const session = new Session()\n\n    session.app.releaseStage = this._config.releaseStage\n    session.app.version = this._config.appVersion\n    session.app.type = this._config.appType\n\n    session._user = assign({}, this._user)\n\n    // run onSession callbacks\n    const ignore = runSyncCallbacks(this._cbs.s, session, 'onSession', this._logger)\n\n    if (ignore) {\n      this._logger.debug('Session not started due to onSession callback')\n      return this\n    }\n    return this._sessionDelegate.startSession(this, session)\n  }\n\n  addOnError (fn, front = false) {\n    this._cbs.e[front ? 'unshift' : 'push'](fn)\n  }\n\n  removeOnError (fn) {\n    this._cbs.e = filter(this._cbs.e, f => f !== fn)\n  }\n\n  _addOnSessionPayload (fn) {\n    this._cbs.sp.push(fn)\n  }\n\n  addOnSession (fn) {\n    this._cbs.s.push(fn)\n  }\n\n  removeOnSession (fn) {\n    this._cbs.s = filter(this._cbs.s, f => f !== fn)\n  }\n\n  addOnBreadcrumb (fn, front = false) {\n    this._cbs.b[front ? 'unshift' : 'push'](fn)\n  }\n\n  removeOnBreadcrumb (fn) {\n    this._cbs.b = filter(this._cbs.b, f => f !== fn)\n  }\n\n  pauseSession () {\n    return this._sessionDelegate.pauseSession(this)\n  }\n\n  resumeSession () {\n    return this._sessionDelegate.resumeSession(this)\n  }\n\n  leaveBreadcrumb (message, metadata, type) {\n    // coerce bad values so that the defaults get set\n    message = typeof message === 'string' ? message : ''\n    type = (typeof type === 'string' && includes(BREADCRUMB_TYPES, type)) ? type : 'manual'\n    metadata = typeof metadata === 'object' && metadata !== null ? metadata : {}\n\n    // if no message, discard\n    if (!message) return\n\n    const crumb = new Breadcrumb(message, metadata, type)\n\n    // run onBreadcrumb callbacks\n    const ignore = runSyncCallbacks(this._cbs.b, crumb, 'onBreadcrumb', this._logger)\n\n    if (ignore) {\n      this._logger.debug('Breadcrumb not attached due to onBreadcrumb callback')\n      return\n    }\n\n    // push the valid crumb onto the queue and maintain the length\n    this._breadcrumbs.push(crumb)\n    if (this._breadcrumbs.length > this._config.maxBreadcrumbs) {\n      this._breadcrumbs = this._breadcrumbs.slice(this._breadcrumbs.length - this._config.maxBreadcrumbs)\n    }\n  }\n\n  _isBreadcrumbTypeEnabled (type) {\n    const types = this._config.enabledBreadcrumbTypes\n\n    return types === null || includes(types, type)\n  }\n\n  notify (maybeError, onError, postReportCallback = noop) {\n    const event = Event.create(maybeError, true, undefined, 'notify()', this._depth + 1, this._logger)\n    this._notify(event, onError, postReportCallback)\n  }\n\n  _notify (event, onError, postReportCallback = noop) {\n    event.app = assign({}, event.app, {\n      releaseStage: this._config.releaseStage,\n      version: this._config.appVersion,\n      type: this._config.appType\n    })\n    event.context = event.context || this._context\n    event._metadata = assign({}, event._metadata, this._metadata)\n    event._user = assign({}, event._user, this._user)\n    event.breadcrumbs = this._breadcrumbs.slice()\n    merge(event._features, this._features, event._featuresIndex)\n\n    // exit early if events should not be sent on the current releaseStage\n    if (this._config.enabledReleaseStages !== null && !includes(this._config.enabledReleaseStages, this._config.releaseStage)) {\n      this._logger.warn('Event not sent due to releaseStage/enabledReleaseStages configuration')\n      return postReportCallback(null, event)\n    }\n\n    const originalSeverity = event.severity\n\n    const onCallbackError = err => {\n      // errors in callbacks are tolerated but we want to log them out\n      this._logger.error('Error occurred in onError callback, continuing anyway')\n      this._logger.error(err)\n    }\n\n    const callbacks = [].concat(this._cbs.e).concat(onError)\n    runCallbacks(callbacks, event, onCallbackError, (err, shouldSend) => {\n      if (err) onCallbackError(err)\n\n      if (!shouldSend) {\n        this._logger.debug('Event not sent due to onError callback')\n        return postReportCallback(null, event)\n      }\n\n      if (this._isBreadcrumbTypeEnabled('error')) {\n        // only leave a crumb for the error if actually got sent\n        Client.prototype.leaveBreadcrumb.call(this, event.errors[0].errorClass, {\n          errorClass: event.errors[0].errorClass,\n          errorMessage: event.errors[0].errorMessage,\n          severity: event.severity\n        }, 'error')\n      }\n\n      if (originalSeverity !== event.severity) {\n        event._handledState.severityReason = { type: 'userCallbackSetSeverity' }\n      }\n\n      if (event.unhandled !== event._handledState.unhandled) {\n        event._handledState.severityReason.unhandledOverridden = true\n        event._handledState.unhandled = event.unhandled\n      }\n\n      if (this._session) {\n        this._session._track(event)\n        event._session = this._session\n      }\n\n      this._delivery.sendEvent({\n        apiKey: event.apiKey || this._config.apiKey,\n        notifier: this._notifier,\n        events: [event]\n      }, (err) => postReportCallback(err, event))\n    })\n  }\n}\n\nconst generateConfigErrorMessage = (errors, rawInput) => {\n  const er = new Error(\n  `Invalid configuration\\n${map(keys(errors), key => `  - ${key} ${errors[key]}, got ${stringify(rawInput[key])}`).join('\\n\\n')}`)\n  return er\n}\n\nconst stringify = val => {\n  switch (typeof val) {\n    case 'string':\n    case 'number':\n    case 'object':\n      return JSON.stringify(val)\n    default: return String(val)\n  }\n}\n\nmodule.exports = Client\n\n\n/***/ }),\n\n/***/ 510:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst filter = __webpack_require__(58)\nconst reduce = __webpack_require__(611)\nconst keys = __webpack_require__(929)\nconst isArray = __webpack_require__(37)\nconst includes = __webpack_require__(566)\nconst intRange = __webpack_require__(849)\nconst stringWithLength = __webpack_require__(937)\nconst listOfFunctions = __webpack_require__(90)\n\nconst BREADCRUMB_TYPES = __webpack_require__(377)\nconst defaultErrorTypes = () => ({ unhandledExceptions: true, unhandledRejections: true })\n\nmodule.exports.schema = {\n  apiKey: {\n    defaultValue: () => null,\n    message: 'is required',\n    validate: stringWithLength\n  },\n  appVersion: {\n    defaultValue: () => undefined,\n    message: 'should be a string',\n    validate: value => value === undefined || stringWithLength(value)\n  },\n  appType: {\n    defaultValue: () => undefined,\n    message: 'should be a string',\n    validate: value => value === undefined || stringWithLength(value)\n  },\n  autoDetectErrors: {\n    defaultValue: () => true,\n    message: 'should be true|false',\n    validate: value => value === true || value === false\n  },\n  enabledErrorTypes: {\n    defaultValue: () => defaultErrorTypes(),\n    message: 'should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }',\n    allowPartialObject: true,\n    validate: value => {\n      // ensure we have an object\n      if (typeof value !== 'object' || !value) return false\n      const providedKeys = keys(value)\n      const defaultKeys = keys(defaultErrorTypes())\n      // ensure it only has a subset of the allowed keys\n      if (filter(providedKeys, k => includes(defaultKeys, k)).length < providedKeys.length) return false\n      // ensure all of the values are boolean\n      if (filter(keys(value), k => typeof value[k] !== 'boolean').length > 0) return false\n      return true\n    }\n  },\n  onError: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: listOfFunctions\n  },\n  onSession: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: listOfFunctions\n  },\n  onBreadcrumb: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: listOfFunctions\n  },\n  endpoints: {\n    defaultValue: () => ({\n      notify: 'https://notify.bugsnag.com',\n      sessions: 'https://sessions.bugsnag.com'\n    }),\n    message: 'should be an object containing endpoint URLs { notify, sessions }',\n    validate: val =>\n      // first, ensure it's an object\n      (val && typeof val === 'object') &&\n      (\n        // notify and sessions must always be set\n        stringWithLength(val.notify) && stringWithLength(val.sessions)\n      ) &&\n      // ensure no keys other than notify/session are set on endpoints object\n      filter(keys(val), k => !includes(['notify', 'sessions'], k)).length === 0\n  },\n  autoTrackSessions: {\n    defaultValue: val => true,\n    message: 'should be true|false',\n    validate: val => val === true || val === false\n  },\n  enabledReleaseStages: {\n    defaultValue: () => null,\n    message: 'should be an array of strings',\n    validate: value => value === null || (isArray(value) && filter(value, f => typeof f === 'string').length === value.length)\n  },\n  releaseStage: {\n    defaultValue: () => 'production',\n    message: 'should be a string',\n    validate: value => typeof value === 'string' && value.length\n  },\n  maxBreadcrumbs: {\n    defaultValue: () => 25,\n    message: 'should be a number 100',\n    validate: value => intRange(0, 100)(value)\n  },\n  enabledBreadcrumbTypes: {\n    defaultValue: () => BREADCRUMB_TYPES,\n    message: `should be null or a list of available breadcrumb types (${BREADCRUMB_TYPES.join(',')})`,\n    validate: value => value === null || (isArray(value) && reduce(value, (accum, maybeType) => {\n      if (accum === false) return accum\n      return includes(BREADCRUMB_TYPES, maybeType)\n    }, true))\n  },\n  context: {\n    defaultValue: () => undefined,\n    message: 'should be a string',\n    validate: value => value === undefined || typeof value === 'string'\n  },\n  user: {\n    defaultValue: () => ({}),\n    message: 'should be an object with { id, email, name } properties',\n    validate: value =>\n      (value === null) ||\n      (value && reduce(\n        keys(value),\n        (accum, key) => accum && includes(['id', 'email', 'name'], key),\n        true\n      ))\n  },\n  metadata: {\n    defaultValue: () => ({}),\n    message: 'should be an object',\n    validate: (value) => typeof value === 'object' && value !== null\n  },\n  logger: {\n    defaultValue: () => undefined,\n    message: 'should be null or an object with methods { debug, info, warn, error }',\n    validate: value =>\n      (!value) ||\n      (value && reduce(\n        ['debug', 'info', 'warn', 'error'],\n        (accum, method) => accum && typeof value[method] === 'function',\n        true\n      ))\n  },\n  redactedKeys: {\n    defaultValue: () => ['password'],\n    message: 'should be an array of strings|regexes',\n    validate: value =>\n      isArray(value) && value.length === filter(value, s =>\n        (typeof s === 'string' || (s && typeof s.test === 'function'))\n      ).length\n  },\n  plugins: {\n    defaultValue: () => ([]),\n    message: 'should be an array of plugin objects',\n    validate: value =>\n      isArray(value) && value.length === filter(value, p =>\n        (p && typeof p === 'object' && typeof p.load === 'function')\n      ).length\n  },\n  featureFlags: {\n    defaultValue: () => [],\n    message: 'should be an array of objects that have a \"name\" property',\n    validate: value =>\n      isArray(value) && value.length === filter(value, feature =>\n        feature && typeof feature === 'object' && typeof feature.name === 'string'\n      ).length\n  }\n}\n\n\n/***/ }),\n\n/***/ 750:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst ErrorStackParser = __webpack_require__(866)\nconst StackGenerator = __webpack_require__(346)\nconst hasStack = __webpack_require__(391)\nconst map = __webpack_require__(964)\nconst reduce = __webpack_require__(611)\nconst filter = __webpack_require__(58)\nconst assign = __webpack_require__(795)\nconst metadataDelegate = __webpack_require__(987)\nconst featureFlagDelegate = __webpack_require__(908)\nconst isError = __webpack_require__(473)\n\nclass Event {\n  constructor (errorClass, errorMessage, stacktrace = [], handledState = defaultHandledState(), originalError) {\n    this.apiKey = undefined\n    this.context = undefined\n    this.groupingHash = undefined\n    this.originalError = originalError\n\n    this._handledState = handledState\n    this.severity = this._handledState.severity\n    this.unhandled = this._handledState.unhandled\n\n    this.app = {}\n    this.device = {}\n    this.request = {}\n\n    this.breadcrumbs = []\n    this.threads = []\n\n    this._metadata = {}\n    this._features = []\n    this._featuresIndex = {}\n    this._user = {}\n    this._session = undefined\n\n    this.errors = [\n      createBugsnagError(errorClass, errorMessage, Event.__type, stacktrace)\n    ]\n\n    // Flags.\n    // Note these are not initialised unless they are used\n    // to save unnecessary bytes in the browser bundle\n\n    /* this.attemptImmediateDelivery, default: true */\n  }\n\n  addMetadata (section, keyOrObj, maybeVal) {\n    return metadataDelegate.add(this._metadata, section, keyOrObj, maybeVal)\n  }\n\n  getMetadata (section, key) {\n    return metadataDelegate.get(this._metadata, section, key)\n  }\n\n  clearMetadata (section, key) {\n    return metadataDelegate.clear(this._metadata, section, key)\n  }\n\n  addFeatureFlag (name, variant = null) {\n    featureFlagDelegate.add(this._features, this._featuresIndex, name, variant)\n  }\n\n  addFeatureFlags (featureFlags) {\n    featureFlagDelegate.merge(this._features, featureFlags, this._featuresIndex)\n  }\n\n  getFeatureFlags () {\n    return featureFlagDelegate.toEventApi(this._features)\n  }\n\n  clearFeatureFlag (name) {\n    featureFlagDelegate.clear(this._features, this._featuresIndex, name)\n  }\n\n  clearFeatureFlags () {\n    this._features = []\n    this._featuresIndex = {}\n  }\n\n  getUser () {\n    return this._user\n  }\n\n  setUser (id, email, name) {\n    this._user = { id, email, name }\n  }\n\n  toJSON () {\n    return {\n      payloadVersion: '4',\n      exceptions: map(this.errors, er => assign({}, er, { message: er.errorMessage })),\n      severity: this.severity,\n      unhandled: this._handledState.unhandled,\n      severityReason: this._handledState.severityReason,\n      app: this.app,\n      device: this.device,\n      request: this.request,\n      breadcrumbs: this.breadcrumbs,\n      context: this.context,\n      groupingHash: this.groupingHash,\n      metaData: this._metadata,\n      user: this._user,\n      session: this._session,\n      featureFlags: this.getFeatureFlags()\n    }\n  }\n}\n\n// takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n// and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\nconst formatStackframe = frame => {\n  const f = {\n    file: frame.fileName,\n    method: normaliseFunctionName(frame.functionName),\n    lineNumber: frame.lineNumber,\n    columnNumber: frame.columnNumber,\n    code: undefined,\n    inProject: undefined\n  }\n  // Some instances result in no file:\n  // - calling notify() from chrome's terminal results in no file/method.\n  // - non-error exception thrown from global code in FF\n  // This adds one.\n  if (f.lineNumber > -1 && !f.file && !f.method) {\n    f.file = 'global code'\n  }\n  return f\n}\n\nconst normaliseFunctionName = name => /^global code$/i.test(name) ? 'global code' : name\n\nconst defaultHandledState = () => ({\n  unhandled: false,\n  severity: 'warning',\n  severityReason: { type: 'handledException' }\n})\n\nconst ensureString = (str) => typeof str === 'string' ? str : ''\n\nfunction createBugsnagError (errorClass, errorMessage, type, stacktrace) {\n  return {\n    errorClass: ensureString(errorClass),\n    errorMessage: ensureString(errorMessage),\n    type,\n    stacktrace: reduce(stacktrace, (accum, frame) => {\n      const f = formatStackframe(frame)\n      // don't include a stackframe if none of its properties are defined\n      try {\n        if (JSON.stringify(f) === '{}') return accum\n        return accum.concat(f)\n      } catch (e) {\n        return accum\n      }\n    }, [])\n  }\n}\n\nfunction getCauseStack (error) {\n  if (error.cause) {\n    return [error, ...getCauseStack(error.cause)]\n  } else {\n    return [error]\n  }\n}\n\n// Helpers\n\nEvent.getStacktrace = function (error, errorFramesToSkip, backtraceFramesToSkip) {\n  if (hasStack(error)) return ErrorStackParser.parse(error).slice(errorFramesToSkip)\n  // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n  try {\n    return filter(StackGenerator.backtrace(), frame =>\n      (frame.functionName || '').indexOf('StackGenerator$$') === -1\n    ).slice(1 + backtraceFramesToSkip)\n  } catch (e) {\n    return []\n  }\n}\n\nEvent.create = function (maybeError, tolerateNonErrors, handledState, component, errorFramesToSkip = 0, logger) {\n  const [error, internalFrames] = normaliseError(maybeError, tolerateNonErrors, component, logger)\n  let event\n  try {\n    const stacktrace = Event.getStacktrace(\n      error,\n      // if an error was created/throw in the normaliseError() function, we need to\n      // tell the getStacktrace() function to skip the number of frames we know will\n      // be from our own functions. This is added to the number of frames deep we\n      // were told about\n      internalFrames > 0 ? 1 + internalFrames + errorFramesToSkip : 0,\n      // if there's no stacktrace, the callstack may be walked to generated one.\n      // this is how many frames should be removed because they come from our library\n      1 + errorFramesToSkip\n    )\n    event = new Event(error.name, error.message, stacktrace, handledState, maybeError)\n  } catch (e) {\n    event = new Event(error.name, error.message, [], handledState, maybeError)\n  }\n  if (error.name === 'InvalidError') {\n    event.addMetadata(`${component}`, 'non-error parameter', makeSerialisable(maybeError))\n  }\n  if (error.cause) {\n    const causes = getCauseStack(error).slice(1)\n    const normalisedCauses = map(causes, (cause) => {\n      // Only get stacktrace for error causes that are a valid JS Error and already have a stack\n      const stacktrace = (isError(cause) && hasStack(cause)) ? ErrorStackParser.parse(cause) : []\n      const [error] = normaliseError(cause, true, 'error cause')\n      if (error.name === 'InvalidError') event.addMetadata('error cause', makeSerialisable(cause))\n      return createBugsnagError(error.name, error.message, Event.__type, stacktrace)\n    })\n\n    event.errors.push(...normalisedCauses)\n  }\n\n  return event\n}\n\nconst makeSerialisable = (err) => {\n  if (err === null) return 'null'\n  if (err === undefined) return 'undefined'\n  return err\n}\n\nconst normaliseError = (maybeError, tolerateNonErrors, component, logger) => {\n  let error\n  let internalFrames = 0\n\n  const createAndLogInputError = (reason) => {\n    const verb = (component === 'error cause' ? 'was' : 'received')\n    if (logger) logger.warn(`${component} ${verb} a non-error: \"${reason}\"`)\n    const err = new Error(`${component} ${verb} a non-error. See \"${component}\" tab for more detail.`)\n    err.name = 'InvalidError'\n    return err\n  }\n\n  // In some cases:\n  //\n  //  - the promise rejection handler (both in the browser and node)\n  //  - the node uncaughtException handler\n  //\n  // We are really limited in what we can do to get a stacktrace. So we use the\n  // tolerateNonErrors option to ensure that the resulting error communicates as\n  // such.\n  if (!tolerateNonErrors) {\n    if (isError(maybeError)) {\n      error = maybeError\n    } else {\n      error = createAndLogInputError(typeof maybeError)\n      internalFrames += 2\n    }\n  } else {\n    switch (typeof maybeError) {\n      case 'string':\n      case 'number':\n      case 'boolean':\n        error = new Error(String(maybeError))\n        internalFrames += 1\n        break\n      case 'function':\n        error = createAndLogInputError('function')\n        internalFrames += 2\n        break\n      case 'object':\n        if (maybeError !== null && isError(maybeError)) {\n          error = maybeError\n        } else if (maybeError !== null && hasNecessaryFields(maybeError)) {\n          error = new Error(maybeError.message || maybeError.errorMessage)\n          error.name = maybeError.name || maybeError.errorClass\n          internalFrames += 1\n        } else {\n          error = createAndLogInputError(maybeError === null ? 'null' : 'unsupported object')\n          internalFrames += 2\n        }\n        break\n      default:\n        error = createAndLogInputError('nothing')\n        internalFrames += 2\n    }\n  }\n\n  if (!hasStack(error)) {\n    // in IE10/11 a new Error() doesn't have a stacktrace until you throw it, so try that here\n    try {\n      throw error\n    } catch (e) {\n      if (hasStack(e)) {\n        error = e\n        // if the error only got a stacktrace after we threw it here, we know it\n        // will only have one extra internal frame from this function, regardless\n        // of whether it went through createAndLogInputError() or not\n        internalFrames = 1\n      }\n    }\n  }\n\n  return [error, internalFrames]\n}\n\n// default value for stacktrace.type\nEvent.__type = 'browserjs'\n\nconst hasNecessaryFields = error =>\n  (typeof error.name === 'string' || typeof error.errorClass === 'string') &&\n  (typeof error.message === 'string' || typeof error.errorMessage === 'string')\n\nmodule.exports = Event\n\n\n/***/ }),\n\n/***/ 994:\n/***/ ((module) => {\n\n// This is a heavily modified/simplified version of\n//   https://github.com/othiym23/async-some\n// with the logic flipped so that it is akin to the\n// synchronous \"every\" method instead of \"some\".\n\n// run the asynchronous test function (fn) over each item in the array (arr)\n// in series until:\n//   - fn(item, cb) => calls cb(null, false)\n//   - or the end of the array is reached\n// the callback (cb) will be passed (null, false) if any of the items in arr\n// caused fn to call back with false, otherwise it will be passed (null, true)\nmodule.exports = (arr, fn, cb) => {\n  let index = 0\n\n  const next = () => {\n    if (index >= arr.length) return cb(null, true)\n    fn(arr[index], (err, result) => {\n      if (err) return cb(err)\n      if (result === false) return cb(null, false)\n      index++\n      next()\n    })\n  }\n\n  next()\n}\n\n\n/***/ }),\n\n/***/ 377:\n/***/ ((module) => {\n\nmodule.exports = ['navigation', 'request', 'process', 'log', 'user', 'state', 'error', 'manual']\n\n\n/***/ }),\n\n/***/ 698:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst some = __webpack_require__(994)\n\nmodule.exports = (callbacks, event, onCallbackError, cb) => {\n  // This function is how we support different kinds of callback:\n  //  - synchronous - return value\n  //  - node-style async with callback - cb(err, value)\n  //  - promise/thenable - resolve(value)\n  // It normalises each of these into the lowest common denominator  a node-style callback\n  const runMaybeAsyncCallback = (fn, cb) => {\n    if (typeof fn !== 'function') return cb(null)\n    try {\n      // if function appears sync\n      if (fn.length !== 2) {\n        const ret = fn(event)\n        // check if it returned a \"thenable\" (promise)\n        if (ret && typeof ret.then === 'function') {\n          return ret.then(\n            // resolve\n            val => setTimeout(() => cb(null, val)),\n            // reject\n            err => {\n              setTimeout(() => {\n                onCallbackError(err)\n                return cb(null, true)\n              })\n            }\n          )\n        }\n        return cb(null, ret)\n      }\n      // if function is async\n      fn(event, (err, result) => {\n        if (err) {\n          onCallbackError(err)\n          return cb(null)\n        }\n        cb(null, result)\n      })\n    } catch (e) {\n      onCallbackError(e)\n      cb(null)\n    }\n  }\n\n  some(callbacks, runMaybeAsyncCallback, cb)\n}\n\n\n/***/ }),\n\n/***/ 866:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nmodule.exports = __webpack_require__(247)\n\n\n/***/ }),\n\n/***/ 795:\n/***/ ((module) => {\n\n// extends helper from babel\n// https://github.com/babel/babel/blob/916429b516e6466fd06588ee820e40e025d7f3a3/packages/babel-helpers/src/helpers.js#L377-L393\nmodule.exports = function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i]\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key]\n      }\n    }\n  }\n  return target\n}\n\n\n/***/ }),\n\n/***/ 58:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst reduce = __webpack_require__(611)\n\n// Array#filter\nmodule.exports = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => !fn(item, i, arr) ? accum : accum.concat(item), [])\n\n\n/***/ }),\n\n/***/ 566:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst reduce = __webpack_require__(611)\n// Array#includes\nmodule.exports = (arr, x) =>\n  reduce(arr, (accum, item, i, arr) => accum === true || item === x, false)\n\n\n/***/ }),\n\n/***/ 37:\n/***/ ((module) => {\n\n// Array#isArray\nmodule.exports = obj => Object.prototype.toString.call(obj) === '[object Array]'\n\n\n/***/ }),\n\n/***/ 929:\n/***/ ((module) => {\n\n/* eslint-disable-next-line no-prototype-builtins */\nconst _hasDontEnumBug = !({ toString: null }).propertyIsEnumerable('toString')\nconst _dontEnums = [\n  'toString', 'toLocaleString', 'valueOf', 'hasOwnProperty',\n  'isPrototypeOf', 'propertyIsEnumerable', 'constructor'\n]\n\n// Object#keys\nmodule.exports = obj => {\n  // stripped down version of\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n  const result = []\n  let prop\n  for (prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop)\n  }\n  if (!_hasDontEnumBug) return result\n  for (let i = 0, len = _dontEnums.length; i < len; i++) {\n    if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i])\n  }\n  return result\n}\n\n\n/***/ }),\n\n/***/ 964:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst reduce = __webpack_require__(611)\n\n// Array#map\nmodule.exports = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => accum.concat(fn(item, i, arr)), [])\n\n\n/***/ }),\n\n/***/ 611:\n/***/ ((module) => {\n\n// Array#reduce\nmodule.exports = (arr, fn, accum) => {\n  let val = accum\n  for (let i = 0, len = arr.length; i < len; i++) val = fn(val, arr[i], i, arr)\n  return val\n}\n\n\n/***/ }),\n\n/***/ 908:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst map = __webpack_require__(964)\nconst filter = __webpack_require__(58)\nconst isArray = __webpack_require__(37)\nconst jsonStringify = __webpack_require__(575)\n\nfunction add (existingFeatures, existingFeatureKeys, name, variant) {\n  if (typeof name !== 'string') {\n    return\n  }\n\n  if (variant === undefined) {\n    variant = null\n  } else if (variant !== null && typeof variant !== 'string') {\n    variant = jsonStringify(variant)\n  }\n\n  const existingIndex = existingFeatureKeys[name]\n  if (typeof existingIndex === 'number') {\n    existingFeatures[existingIndex] = { name, variant }\n    return\n  }\n\n  existingFeatures.push({ name, variant })\n  existingFeatureKeys[name] = existingFeatures.length - 1\n}\n\nfunction merge (existingFeatures, newFeatures, existingFeatureKeys) {\n  if (!isArray(newFeatures)) {\n    return\n  }\n\n  for (let i = 0; i < newFeatures.length; ++i) {\n    const feature = newFeatures[i]\n\n    if (feature === null || typeof feature !== 'object') {\n      continue\n    }\n\n    // 'add' will handle if 'name' doesn't exist & 'variant' is optional\n    add(existingFeatures, existingFeatureKeys, feature.name, feature.variant)\n  }\n\n  return existingFeatures\n}\n\n// convert feature flags from a map of 'name -> variant' into the format required\n// by the Bugsnag Event API:\n//   [{ featureFlag: 'name', variant: 'variant' }, { featureFlag: 'name 2' }]\nfunction toEventApi (featureFlags) {\n  return map(\n    filter(featureFlags, Boolean),\n    ({ name, variant }) => {\n      const flag = { featureFlag: name }\n\n      // don't add a 'variant' property unless there's actually a value\n      if (typeof variant === 'string') {\n        flag.variant = variant\n      }\n\n      return flag\n    }\n  )\n}\n\nfunction clear (features, featuresIndex, name) {\n  const existingIndex = featuresIndex[name]\n  if (typeof existingIndex === 'number') {\n    features[existingIndex] = null\n    delete featuresIndex[name]\n  }\n}\n\nmodule.exports = { add, clear, merge, toEventApi }\n\n\n/***/ }),\n\n/***/ 391:\n/***/ ((module) => {\n\n// Given `err` which may be an error, does it have a stack property which is a string?\nmodule.exports = err =>\n  !!err &&\n  (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) &&\n  typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string' &&\n  err.stack !== `${err.name}: ${err.message}`\n\n\n/***/ }),\n\n/***/ 473:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nmodule.exports = __webpack_require__(232)\n\n\n/***/ }),\n\n/***/ 599:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst jsonStringify = __webpack_require__(575)\nconst EVENT_REDACTION_PATHS = [\n  'events.[].metaData',\n  'events.[].breadcrumbs.[].metaData',\n  'events.[].request'\n]\n\nmodule.exports.event = (event, redactedKeys) => {\n  let payload = jsonStringify(event, null, null, { redactedPaths: EVENT_REDACTION_PATHS, redactedKeys })\n  if (payload.length > 10e5) {\n    event.events[0]._metadata = {\n      notifier:\n`WARNING!\nSerialized payload was ${payload.length / 10e5}MB (limit = 1MB)\nmetadata was removed`\n    }\n    payload = jsonStringify(event, null, null, { redactedPaths: EVENT_REDACTION_PATHS, redactedKeys })\n  }\n  return payload\n}\n\nmodule.exports.session = (session, redactedKeys) => {\n  const payload = jsonStringify(session, null, null)\n  return payload\n}\n\n\n/***/ }),\n\n/***/ 987:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst assign = __webpack_require__(795)\n\nconst add = (state, section, keyOrObj, maybeVal) => {\n  if (!section) return\n  let updates\n\n  // addMetadata(\"section\", null) -> clears section\n  if (keyOrObj === null) return clear(state, section)\n\n  // normalise the two supported input types into object form\n  if (typeof keyOrObj === 'object') updates = keyOrObj\n  if (typeof keyOrObj === 'string') updates = { [keyOrObj]: maybeVal }\n\n  // exit if we don't have an updates object at this point\n  if (!updates) return\n\n  // preventing the __proto__ property from being used as a key\n  if (section === '__proto__' || section === 'constructor' || section === 'prototype') {\n    return\n  }\n\n  // ensure a section with this name exists\n  if (!state[section]) state[section] = {}\n\n  // merge the updates with the existing section\n  state[section] = assign({}, state[section], updates)\n}\n\nconst get = (state, section, key) => {\n  if (typeof section !== 'string') return undefined\n  if (!key) {\n    return state[section]\n  }\n  if (state[section]) {\n    return state[section][key]\n  }\n  return undefined\n}\n\nconst clear = (state, section, key) => {\n  if (typeof section !== 'string') return\n\n  // clear an entire section\n  if (!key) {\n    delete state[section]\n    return\n  }\n\n  // preventing the __proto__ property from being used as a key\n  if (section === '__proto__' || section === 'constructor' || section === 'prototype') {\n    return\n  }\n\n  // clear a single value from a section\n  if (state[section]) {\n    delete state[section][key]\n  }\n}\n\nmodule.exports = { add, get, clear }\n\n\n/***/ }),\n\n/***/ 100:\n/***/ ((module) => {\n\nmodule.exports = (callbacks, callbackArg, callbackType, logger) => {\n  let ignore = false\n  const cbs = callbacks.slice()\n  while (!ignore) {\n    if (!cbs.length) break\n    try {\n      ignore = cbs.pop()(callbackArg) === false\n    } catch (e) {\n      logger.error(`Error occurred in ${callbackType} callback, continuing anyway`)\n      logger.error(e)\n    }\n  }\n  return ignore\n}\n\n\n/***/ }),\n\n/***/ 849:\n/***/ ((module) => {\n\nmodule.exports = (min = 1, max = Infinity) => value =>\n  typeof value === 'number' &&\n  parseInt('' + value, 10) === value &&\n  value >= min && value <= max\n\n\n/***/ }),\n\n/***/ 90:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst filter = __webpack_require__(58)\nconst isArray = __webpack_require__(37)\n\nmodule.exports = value => typeof value === 'function' || (isArray(value) && filter(value, f => typeof f === 'function').length === value.length)\n\n\n/***/ }),\n\n/***/ 937:\n/***/ ((module) => {\n\nmodule.exports = value => typeof value === 'string' && !!value.length\n\n\n/***/ }),\n\n/***/ 277:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n\nvar fingerprint = __webpack_require__(42);\nvar pad = __webpack_require__(408);\n\nvar c = 0,\n  blockSize = 4,\n  base = 36,\n  discreteValues = Math.pow(base, blockSize);\n\nfunction randomBlock () {\n  return pad((Math.random() *\n    discreteValues << 0)\n    .toString(base), blockSize);\n}\n\nfunction safeCounter () {\n  c = c < discreteValues ? c : 0;\n  c++; // this is not subliminal\n  return c - 1;\n}\n\nfunction cuid () {\n  // Starting with a lowercase letter makes\n  // it HTML element ID friendly.\n  var letter = 'c', // hard-coded allows for sequential access\n\n    // timestamp\n    // warning: this exposes the exact date and time\n    // that the uid was created.\n    timestamp = (new Date().getTime()).toString(base),\n\n    // Prevent same-machine collisions.\n    counter = pad(safeCounter().toString(base), blockSize),\n\n    // A few chars to generate distinct ids for different\n    // clients (so different computers are far less\n    // likely to generate the same id)\n    print = fingerprint(),\n\n    // Grab some more chars from Math.random()\n    random = randomBlock() + randomBlock();\n\n  return letter + timestamp + counter + print + random;\n}\n\ncuid.fingerprint = fingerprint;\n\nmodule.exports = cuid;\n\n\n/***/ }),\n\n/***/ 42:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar pad = __webpack_require__(408);\n\nvar env = typeof window === 'object' ? window : self;\nvar globalCount = 0;\nfor (var prop in env) {\n  if (Object.hasOwnProperty.call(env, prop)) globalCount++;\n}\nvar mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\nvar clientId = pad((mimeTypesLength +\n  navigator.userAgent.length).toString(36) +\n  globalCount.toString(36), 4);\n\nmodule.exports = function fingerprint () {\n  return clientId;\n};\n\n\n/***/ }),\n\n/***/ 408:\n/***/ ((module) => {\n\nmodule.exports = function pad (num, size) {\n  var s = '000000000' + num;\n  return s.substr(s.length - size);\n};\n\n\n/***/ }),\n\n/***/ 575:\n/***/ ((module) => {\n\nmodule.exports = function (data, replacer, space, opts) {\n  var redactedKeys = opts && opts.redactedKeys ? opts.redactedKeys : []\n  var redactedPaths = opts && opts.redactedPaths ? opts.redactedPaths : []\n  return JSON.stringify(\n    prepareObjForSerialization(data, redactedKeys, redactedPaths),\n    replacer,\n    space\n  )\n}\n\nvar MAX_DEPTH = 20\nvar MAX_EDGES = 25000\nvar MIN_PRESERVED_DEPTH = 8\n\nvar REPLACEMENT_NODE = '...'\n\nfunction isError (o) {\n  return o instanceof Error ||\n    /^\\[object (Error|(Dom)?Exception)\\]$/.test(Object.prototype.toString.call(o))\n}\n\nfunction throwsMessage (err) {\n  return '[Throws: ' + (err ? err.message : '?') + ']'\n}\n\nfunction find (haystack, needle) {\n  for (var i = 0, len = haystack.length; i < len; i++) {\n    if (haystack[i] === needle) return true\n  }\n  return false\n}\n\n// returns true if the string `path` starts with any of the provided `paths`\nfunction isDescendent (paths, path) {\n  for (var i = 0, len = paths.length; i < len; i++) {\n    if (path.indexOf(paths[i]) === 0) return true\n  }\n  return false\n}\n\nfunction shouldRedact (patterns, key) {\n  for (var i = 0, len = patterns.length; i < len; i++) {\n    if (typeof patterns[i] === 'string' && patterns[i].toLowerCase() === key.toLowerCase()) return true\n    if (patterns[i] && typeof patterns[i].test === 'function' && patterns[i].test(key)) return true\n  }\n  return false\n}\n\nfunction isArray (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]'\n}\n\nfunction safelyGetProp (obj, prop) {\n  try {\n    return obj[prop]\n  } catch (err) {\n    return throwsMessage(err)\n  }\n}\n\nfunction prepareObjForSerialization (obj, redactedKeys, redactedPaths) {\n  var seen = [] // store references to objects we have seen before\n  var edges = 0\n\n  function visit (obj, path) {\n    function edgesExceeded () {\n      return path.length > MIN_PRESERVED_DEPTH && edges > MAX_EDGES\n    }\n\n    edges++\n\n    if (path.length > MAX_DEPTH) return REPLACEMENT_NODE\n    if (edgesExceeded()) return REPLACEMENT_NODE\n    if (obj === null || typeof obj !== 'object') return obj\n    if (find(seen, obj)) return '[Circular]'\n\n    seen.push(obj)\n\n    if (typeof obj.toJSON === 'function') {\n      try {\n        // we're not going to count this as an edge because it\n        // replaces the value of the currently visited object\n        edges--\n        var fResult = visit(obj.toJSON(), path)\n        seen.pop()\n        return fResult\n      } catch (err) {\n        return throwsMessage(err)\n      }\n    }\n\n    var er = isError(obj)\n    if (er) {\n      edges--\n      var eResult = visit({ name: obj.name, message: obj.message }, path)\n      seen.pop()\n      return eResult\n    }\n\n    if (isArray(obj)) {\n      var aResult = []\n      for (var i = 0, len = obj.length; i < len; i++) {\n        if (edgesExceeded()) {\n          aResult.push(REPLACEMENT_NODE)\n          break\n        }\n        aResult.push(visit(obj[i], path.concat('[]')))\n      }\n      seen.pop()\n      return aResult\n    }\n\n    var result = {}\n    try {\n      for (var prop in obj) {\n        if (!Object.prototype.hasOwnProperty.call(obj, prop)) continue\n        if (isDescendent(redactedPaths, path.join('.')) && shouldRedact(redactedKeys, prop)) {\n          result[prop] = '[REDACTED]'\n          continue\n        }\n        if (edgesExceeded()) {\n          result[prop] = REPLACEMENT_NODE\n          break\n        }\n        result[prop] = visit(safelyGetProp(obj, prop), path.concat(prop))\n      }\n    } catch (e) {}\n    seen.pop()\n    return result\n  }\n\n  return visit(obj, [])\n}\n\n\n/***/ }),\n\n/***/ 247:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(998)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                        .replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n\n\n/***/ }),\n\n/***/ 232:\n/***/ ((module) => {\n\n\n/**\n * Expose `isError`.\n */\n\nmodule.exports = isError;\n\n/**\n * Test whether `value` is error object.\n *\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isError(value) {\n  switch (Object.prototype.toString.call(value)) {\n    case '[object Error]': return true;\n    case '[object Exception]': return true;\n    case '[object DOMException]': return true;\n    default: return value instanceof Error;\n  }\n}\n\n\n/***/ }),\n\n/***/ 346:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(998)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(this, function(StackFrame) {\n    return {\n        backtrace: function StackGenerator$$backtrace(opts) {\n            var stack = [];\n            var maxStackSize = 10;\n\n            if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n                maxStackSize = opts.maxStackSize;\n            }\n\n            var curr = arguments.callee;\n            while (curr && stack.length < maxStackSize && curr['arguments']) {\n                // Allow V8 optimizations\n                var args = new Array(curr['arguments'].length);\n                for (var i = 0; i < args.length; ++i) {\n                    args[i] = curr['arguments'][i];\n                }\n                if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n                    stack.push(new StackFrame({functionName: RegExp.$1 || undefined, args: args}));\n                } else {\n                    stack.push(new StackFrame({args: args}));\n                }\n\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    break;\n                }\n            }\n            return stack;\n        }\n    };\n}));\n\n\n/***/ }),\n\n/***/ 998:\n/***/ (function(module, exports) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n\n\n/***/ }),\n\n/***/ 743:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst cuid = __webpack_require__(277)\n\nclass Session {\n  constructor () {\n    this.id = cuid()\n    this.startedAt = new Date()\n    this._handled = 0\n    this._unhandled = 0\n    this._user = {}\n    this.app = {}\n    this.device = {}\n  }\n\n  getUser () {\n    return this._user\n  }\n\n  setUser (id, email, name) {\n    this._user = { id, email, name }\n  }\n\n  toJSON () {\n    return {\n      id: this.id,\n      startedAt: this.startedAt,\n      events: { handled: this._handled, unhandled: this._unhandled }\n    }\n  }\n\n  _track (event) {\n    this[event._handledState.unhandled ? '_unhandled' : '_handled'] += 1\n  }\n}\n\nmodule.exports = Session\n\n\n/***/ }),\n\n/***/ 798:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst assign = __webpack_require__(795)\nconst BUGSNAG_ANONYMOUS_ID_KEY = 'bugsnag-anonymous-id'\n\nconst getDeviceId = (win) => {\n  try {\n    const storage = win.localStorage\n\n    let id = storage.getItem(BUGSNAG_ANONYMOUS_ID_KEY)\n\n    // If we get an ID, make sure it looks like a valid cuid. The length can\n    // fluctuate slightly, so some leeway is built in\n    if (id && /^c[a-z0-9]{20,32}$/.test(id)) {\n      return id\n    }\n\n    const cuid = __webpack_require__(79)\n    id = cuid()\n\n    storage.setItem(BUGSNAG_ANONYMOUS_ID_KEY, id)\n\n    return id\n  } catch (err) {\n    // If localStorage is not available (e.g. because it's disabled) then give up\n  }\n}\n\n/*\n * Automatically detects browser device details\n */\nmodule.exports = (nav = navigator, win = window) => ({\n  load: (client) => {\n    const device = {\n      locale: nav.browserLanguage || nav.systemLanguage || nav.userLanguage || nav.language,\n      userAgent: nav.userAgent\n    }\n\n    if (win && win.screen && win.screen.orientation && win.screen.orientation.type) {\n      device.orientation = win.screen.orientation.type\n    } else if (win && win.document) {\n      device.orientation =\n        win.document.documentElement.clientWidth > win.document.documentElement.clientHeight\n          ? 'landscape'\n          : 'portrait'\n    }\n\n    if (client._config.generateAnonymousId) {\n      device.id = getDeviceId(win)\n    }\n\n    client.addOnSession(session => {\n      session.device = assign({}, session.device, device)\n      // only set device id if collectUserIp is false\n      if (!client._config.collectUserIp) setDefaultUserId(session)\n    })\n\n    // add time just as the event is sent\n    client.addOnError((event) => {\n      event.device = assign({},\n        event.device,\n        device,\n        { time: new Date() }\n      )\n      if (!client._config.collectUserIp) setDefaultUserId(event)\n    }, true)\n  },\n  configSchema: {\n    generateAnonymousId: {\n      validate: value => value === true || value === false,\n      defaultValue: () => true,\n      message: 'should be true|false'\n    }\n  }\n})\n\nconst setDefaultUserId = (eventOrSession) => {\n  // device id is also used to populate the user id field, if it's not already set\n  const user = eventOrSession.getUser()\n  if (!user || !user.id) {\n    eventOrSession.setUser(eventOrSession.device.id)\n  }\n}\n\n\n/***/ }),\n\n/***/ 79:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n\nvar fingerprint = __webpack_require__(963);\nvar pad = __webpack_require__(879);\n\nvar c = 0,\n  blockSize = 4,\n  base = 36,\n  discreteValues = Math.pow(base, blockSize);\n\nfunction randomBlock () {\n  return pad((Math.random() *\n    discreteValues << 0)\n    .toString(base), blockSize);\n}\n\nfunction safeCounter () {\n  c = c < discreteValues ? c : 0;\n  c++; // this is not subliminal\n  return c - 1;\n}\n\nfunction cuid () {\n  // Starting with a lowercase letter makes\n  // it HTML element ID friendly.\n  var letter = 'c', // hard-coded allows for sequential access\n\n    // timestamp\n    // warning: this exposes the exact date and time\n    // that the uid was created.\n    timestamp = (new Date().getTime()).toString(base),\n\n    // Prevent same-machine collisions.\n    counter = pad(safeCounter().toString(base), blockSize),\n\n    // A few chars to generate distinct ids for different\n    // clients (so different computers are far less\n    // likely to generate the same id)\n    print = fingerprint(),\n\n    // Grab some more chars from Math.random()\n    random = randomBlock() + randomBlock();\n\n  return letter + timestamp + counter + print + random;\n}\n\ncuid.fingerprint = fingerprint;\n\nmodule.exports = cuid;\n\n\n/***/ }),\n\n/***/ 963:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar pad = __webpack_require__(879);\n\nvar env = typeof window === 'object' ? window : self;\nvar globalCount = 0;\nfor (var prop in env) {\n  if (Object.hasOwnProperty.call(env, prop)) globalCount++;\n}\nvar mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\nvar clientId = pad((mimeTypesLength +\n  navigator.userAgent.length).toString(36) +\n  globalCount.toString(36), 4);\n\nmodule.exports = function fingerprint () {\n  return clientId;\n};\n\n\n/***/ }),\n\n/***/ 879:\n/***/ ((module) => {\n\nmodule.exports = function pad (num, size) {\n  var s = '000000000' + num;\n  return s.substr(s.length - size);\n};\n\n\n/***/ }),\n\n/***/ 223:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst includes = __webpack_require__(566)\n\nmodule.exports = {\n  load: client => { client._sessionDelegate = sessionDelegate }\n}\n\nconst sessionDelegate = {\n  startSession: (client, session) => {\n    const sessionClient = client\n    sessionClient._session = session\n    sessionClient._pausedSession = null\n\n    // exit early if the current releaseStage is not enabled\n    if (sessionClient._config.enabledReleaseStages !== null && !includes(sessionClient._config.enabledReleaseStages, sessionClient._config.releaseStage)) {\n      sessionClient._logger.warn('Session not sent due to releaseStage/enabledReleaseStages configuration')\n      return sessionClient\n    }\n\n    sessionClient._delivery.sendSession({\n      notifier: sessionClient._notifier,\n      device: session.device,\n      app: session.app,\n      sessions: [\n        {\n          id: session.id,\n          startedAt: session.startedAt,\n          user: session._user\n        }\n      ]\n    })\n    return sessionClient\n  },\n  resumeSession: (client) => {\n    // Do nothing if there's already an active session\n    if (client._session) {\n      return client\n    }\n\n    // If we have a paused session then make it the active session\n    if (client._pausedSession) {\n      client._session = client._pausedSession\n      client._pausedSession = null\n\n      return client\n    }\n\n    // Otherwise start a new session\n    return client.startSession()\n  },\n  pauseSession: (client) => {\n    client._pausedSession = client._session\n    client._session = null\n  }\n}\n\n\n/***/ }),\n\n/***/ 155:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst assign = __webpack_require__(795)\n\n/*\n * Prevent collection of user IPs\n */\nmodule.exports = {\n  load: (client) => {\n    if (client._config.collectUserIp) return\n\n    client.addOnError(event => {\n      // If user.id is explicitly undefined, it will be missing from the payload. It needs\n      // removing so that the following line replaces it\n      if (event._user && typeof event._user.id === 'undefined') delete event._user.id\n      event._user = assign({ id: '[REDACTED]' }, event._user)\n      event.request = assign({ clientIp: '[REDACTED]' }, event.request)\n    })\n  },\n  configSchema: {\n    collectUserIp: {\n      defaultValue: () => true,\n      message: 'should be true|false',\n      validate: value => value === true || value === false\n    }\n  }\n}\n\n\n/***/ }),\n\n/***/ 584:\n/***/ ((module) => {\n\n/*\n * Automatically notifies Bugsnag when window.onerror is called\n */\n\nmodule.exports = (win = window, component = 'window onerror') => ({\n  load: (client) => {\n    if (!client._config.autoDetectErrors) return\n    if (!client._config.enabledErrorTypes.unhandledExceptions) return\n    function onerror (messageOrEvent, url, lineNo, charNo, error) {\n      // Ignore errors with no info due to CORS settings\n      if (lineNo === 0 && /Script error\\.?/.test(messageOrEvent)) {\n        client._logger.warn('Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z')\n      } else {\n        // any error sent to window.onerror is unhandled and has severity=error\n        const handledState = { severity: 'error', unhandled: true, severityReason: { type: 'unhandledException' } }\n\n        let event\n\n        // window.onerror can be called in a number of ways. This big if-else is how we\n        // figure out which arguments were supplied, and what kind of values it received.\n\n        if (error) {\n          // if the last parameter (error) was supplied, this is a modern browser's\n          // way of saying \"this value was thrown and not caught\"\n          event = client.Event.create(error, true, handledState, component, 1)\n          decorateStack(event.errors[0].stacktrace, url, lineNo, charNo)\n        } else if (\n          // This complex case detects \"error\" events that are typically synthesised\n          // by jquery's trigger method (although can be created in other ways). In\n          // order to detect this:\n          // - the first argument (message) must exist and be an object (most likely it's a jQuery event)\n          // - the second argument (url) must either not exist or be something other than a string (if it\n          //    exists and is not a string, it'll be the extraParameters argument from jQuery's trigger()\n          //    function)\n          // - the third, fourth and fifth arguments must not exist (lineNo, charNo and error)\n          (typeof messageOrEvent === 'object' && messageOrEvent !== null) &&\n          (!url || typeof url !== 'string') &&\n          !lineNo && !charNo && !error\n        ) {\n          // The jQuery event may have a \"type\" property, if so use it as part of the error message\n          const name = messageOrEvent.type ? `Event: ${messageOrEvent.type}` : 'Error'\n          // attempt to find a message from one of the conventional properties, but\n          // default to empty string (the event will fill it with a placeholder)\n          const message = messageOrEvent.message || messageOrEvent.detail || ''\n\n          event = client.Event.create({ name, message }, true, handledState, component, 1)\n\n          // provide the original thing onerror received  not our error-like object we passed to _notify\n          event.originalError = messageOrEvent\n\n          // include the raw input as metadata  it might contain more info than we extracted\n          event.addMetadata(component, { event: messageOrEvent, extraParameters: url })\n        } else {\n          // Lastly, if there was no \"error\" parameter this event was probably from an old\n          // browser that doesn't support that. Instead we need to generate a stacktrace.\n          event = client.Event.create(messageOrEvent, true, handledState, component, 1)\n          decorateStack(event.errors[0].stacktrace, url, lineNo, charNo)\n        }\n\n        client._notify(event)\n      }\n\n      if (typeof prevOnError === 'function') prevOnError.apply(this, arguments)\n    }\n\n    const prevOnError = win.onerror\n    win.onerror = onerror\n  }\n})\n\n// Sometimes the stacktrace has less information than was passed to window.onerror.\n// This function will augment the first stackframe with any useful info that was\n// received as arguments to the onerror callback.\nconst decorateStack = (stack, url, lineNo, charNo) => {\n  if (!stack[0]) stack.push({})\n  const culprit = stack[0]\n  if (!culprit.file && typeof url === 'string') culprit.file = url\n  if (!culprit.lineNumber && isActualNumber(lineNo)) culprit.lineNumber = lineNo\n  if (!culprit.columnNumber) {\n    if (isActualNumber(charNo)) {\n      culprit.columnNumber = charNo\n    } else if (window.event && isActualNumber(window.event.errorCharacter)) {\n      culprit.columnNumber = window.event.errorCharacter\n    }\n  }\n}\n\nconst isActualNumber = (n) => typeof n === 'number' && String.call(n) !== 'NaN'\n\n\n/***/ }),\n\n/***/ 536:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nconst map = __webpack_require__(964)\nconst isError = __webpack_require__(473)\n\nlet _listener\n/*\n * Automatically notifies Bugsnag when window.onunhandledrejection is called\n */\nmodule.exports = (win = window) => {\n  const plugin = {\n    load: (client) => {\n      if (!client._config.autoDetectErrors || !client._config.enabledErrorTypes.unhandledRejections) return\n      const listener = evt => {\n        let error = evt.reason\n        let isBluebird = false\n\n        // accessing properties on evt.detail can throw errors (see #394)\n        try {\n          if (evt.detail && evt.detail.reason) {\n            error = evt.detail.reason\n            isBluebird = true\n          }\n        } catch (e) {}\n\n        const event = client.Event.create(error, false, {\n          severity: 'error',\n          unhandled: true,\n          severityReason: { type: 'unhandledPromiseRejection' }\n        }, 'unhandledrejection handler', 1, client._logger)\n\n        if (isBluebird) {\n          map(event.errors[0].stacktrace, fixBluebirdStacktrace(error))\n        }\n\n        client._notify(event, (event) => {\n          if (isError(event.originalError) && !event.originalError.stack) {\n            event.addMetadata('unhandledRejection handler', {\n              [Object.prototype.toString.call(event.originalError)]: {\n                name: event.originalError.name,\n                message: event.originalError.message,\n                code: event.originalError.code\n              }\n            })\n          }\n        })\n      }\n      if ('addEventListener' in win) {\n        win.addEventListener('unhandledrejection', listener)\n      } else {\n        win.onunhandledrejection = (reason, promise) => {\n          listener({ detail: { reason, promise } })\n        }\n      }\n      _listener = listener\n    }\n  }\n\n  if (false) {}\n\n  return plugin\n}\n\n// The stack parser on bluebird stacks in FF get a suprious first frame:\n//\n// Error: derp\n//   b@http://localhost:5000/bluebird.html:22:24\n//   a@http://localhost:5000/bluebird.html:18:9\n//   @http://localhost:5000/bluebird.html:14:9\n//\n// results in\n//   []\n//     0: Object { file: \"Error: derp\", method: undefined, lineNumber: undefined,  }\n//     1: Object { file: \"http://localhost:5000/bluebird.html\", method: \"b\", lineNumber: 22,  }\n//     2: Object { file: \"http://localhost:5000/bluebird.html\", method: \"a\", lineNumber: 18,  }\n//     3: Object { file: \"http://localhost:5000/bluebird.html\", lineNumber: 14, columnNumber: 9,  }\n//\n// so the following reduce/accumulator function removes such frames\n//\n// Bluebird pads method names with spaces so trim that too\n// https://github.com/petkaantonov/bluebird/blob/b7f21399816d02f979fe434585334ce901dcaf44/src/debuggability.js#L568-L571\nconst fixBluebirdStacktrace = (error) => (frame) => {\n  if (frame.file === error.toString()) return\n  if (frame.method) {\n    frame.method = frame.method.replace(/^\\s+/, '')\n  }\n}\n\n\n/***/ }),\n\n/***/ 182:\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n/* eslint-env worker, serviceworker */\n\nconst { schema } = __webpack_require__(510)\nconst map = __webpack_require__(964)\nconst assign = __webpack_require__(795)\n\nmodule.exports = {\n  appType: {\n    ...schema.appType,\n    defaultValue: () => 'workerjs'\n  },\n  logger: assign({}, schema.logger, {\n    defaultValue: () =>\n      (typeof console !== 'undefined' && typeof console.debug === 'function')\n        ? getPrefixedConsole()\n        : undefined\n  }),\n  autoTrackSessions: {\n    ...schema.autoTrackSessions,\n    defaultValue: () => false\n  },\n  autoDetectErrors: {\n    ...schema.autoTrackSessions,\n    defaultValue: () => false\n  }\n}\n\nconst getPrefixedConsole = () => {\n  const logger = {}\n  const consoleLog = console.log\n  map(['debug', 'info', 'warn', 'error'], (method) => {\n    const consoleMethod = console[method]\n    logger[method] = typeof consoleMethod === 'function'\n      ? consoleMethod.bind(console, '[bugsnag]')\n      : consoleLog.bind(console, '[bugsnag]')\n  })\n  return logger\n}\n\n\n/***/ }),\n\n/***/ 230:\n/***/ ((module) => {\n\n/* eslint-env worker, serviceworker */\n\nconst extensionRegex = /^(chrome|moz|safari|safari-web)-extension:/\n\nmodule.exports = {\n  name: 'preventDiscard',\n  load: client => {\n    client.addOnError(event => {\n      event.errors.forEach(({ stacktrace }) => {\n        stacktrace.forEach(function (frame) {\n          frame.file = frame.file.replace(extensionRegex, '$1_extension:')\n        })\n      })\n    }, true)\n  }\n}\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t(() => {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = (module) => {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\t() => (module['default']) :\n/******/ \t\t\t\t() => (module);\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/global */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.g = (function() {\n/******/ \t\t\tif (typeof globalThis === 'object') return globalThis;\n/******/ \t\t\ttry {\n/******/ \t\t\t\treturn this || new Function('return this')();\n/******/ \t\t\t} catch (e) {\n/******/ \t\t\t\tif (typeof window === 'object') return window;\n/******/ \t\t\t}\n/******/ \t\t})();\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ notifier)\n});\n\n// UNUSED EXPORTS: Bugsnag\n\n// EXTERNAL MODULE: ../core/client.js\nvar client = __webpack_require__(953);\nvar client_default = /*#__PURE__*/__webpack_require__.n(client);\n// EXTERNAL MODULE: ../core/config.js\nvar config = __webpack_require__(510);\n// EXTERNAL MODULE: ../core/lib/json-payload.js\nvar json_payload = __webpack_require__(599);\n;// CONCATENATED MODULE: ../delivery-fetch/delivery.js\n\n\nconst delivery = (client, fetch = __webpack_require__.g.fetch) => ({\n  sendEvent: (event, cb = () => {}) => {\n    const url = client._config.endpoints.notify\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Bugsnag-Api-Key': event.apiKey || client._config.apiKey,\n        'Bugsnag-Payload-Version': '4',\n        'Bugsnag-Sent-At': (new Date()).toISOString()\n      },\n      body: json_payload.event(event, client._config.redactedKeys)\n    }).then(() => {\n      cb(null)\n    }).catch(err => {\n      client._logger.error(err)\n      cb(err)\n    })\n  },\n  sendSession: (session, cb = () => { }) => {\n    const url = client._config.endpoints.sessions\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Bugsnag-Api-Key': client._config.apiKey,\n        'Bugsnag-Payload-Version': '1',\n        'Bugsnag-Sent-At': (new Date()).toISOString()\n      },\n      body: json_payload.session(session, client._config.redactedKeys)\n    }).then(() => {\n      cb(null)\n    }).catch(err => {\n      client._logger.error(err)\n      cb(err)\n    })\n  }\n})\n\n/* harmony default export */ const delivery_fetch_delivery = (delivery);\n\n// EXTERNAL MODULE: ../plugin-client-ip/client-ip.js\nvar client_ip = __webpack_require__(155);\nvar client_ip_default = /*#__PURE__*/__webpack_require__.n(client_ip);\n// EXTERNAL MODULE: ../plugin-window-onerror/onerror.js\nvar plugin_window_onerror_onerror = __webpack_require__(584);\nvar onerror_default = /*#__PURE__*/__webpack_require__.n(plugin_window_onerror_onerror);\n// EXTERNAL MODULE: ../plugin-window-unhandled-rejection/unhandled-rejection.js\nvar unhandled_rejection = __webpack_require__(536);\nvar unhandled_rejection_default = /*#__PURE__*/__webpack_require__.n(unhandled_rejection);\n// EXTERNAL MODULE: ./src/config.js\nvar src_config = __webpack_require__(182);\nvar config_default = /*#__PURE__*/__webpack_require__.n(src_config);\n// EXTERNAL MODULE: ../plugin-browser-device/device.js\nvar device = __webpack_require__(798);\nvar device_default = /*#__PURE__*/__webpack_require__.n(device);\n// EXTERNAL MODULE: ../plugin-browser-session/session.js\nvar session = __webpack_require__(223);\nvar session_default = /*#__PURE__*/__webpack_require__.n(session);\n// EXTERNAL MODULE: ./src/prevent-discard.js\nvar prevent_discard = __webpack_require__(230);\nvar prevent_discard_default = /*#__PURE__*/__webpack_require__.n(prevent_discard);\n;// CONCATENATED MODULE: ./src/notifier.js\n/* eslint-env worker, serviceworker */\n\n\n\n\n\n\n\n\n\n\n\n\nconst notifier_name = 'Bugsnag Web Worker'\nconst url = 'https://github.com/bugsnag/bugsnag-js'\nconst version = \"7.22.7\" // eslint-disable-line no-undef\n\n// extend the base config schema with some worker-specific options\nconst schema = { ...config.schema, ...(config_default()) }\n\nconst Bugsnag = {\n  createClient: (opts) => {\n    // handle very simple use case where user supplies just the api key as a string\n    if (typeof opts === 'string') opts = { apiKey: opts }\n    if (!opts) opts = {}\n\n    const internalPlugins = [\n      device_default()(navigator, null),\n      (session_default()),\n      (client_ip_default()),\n      (prevent_discard_default()),\n      onerror_default()(self, 'worker onerror'),\n      unhandled_rejection_default()(self)\n    ]\n\n    // configure a client with user supplied options\n    const bugsnag = new (client_default())(opts, schema, internalPlugins, { name: notifier_name, version, url })\n\n    bugsnag._setDelivery(delivery_fetch_delivery)\n\n    bugsnag._logger.debug('Loaded!')\n\n    return bugsnag._config.autoTrackSessions\n      ? bugsnag.startSession()\n      : bugsnag\n  },\n  start: (opts) => {\n    if (Bugsnag._client) {\n      Bugsnag._client._logger.warn('Bugsnag.start() was called more than once. Ignoring.')\n      return Bugsnag._client\n    }\n    Bugsnag._client = Bugsnag.createClient(opts)\n    return Bugsnag._client\n  },\n  isStarted: () => {\n    return Bugsnag._client != null\n  }\n}\n\n// Add client functions to notifier\nObject.getOwnPropertyNames((client_default()).prototype).forEach(method => {\n  // skip private methods\n  if (/^_/.test(method) || method === 'constructor') return\n  Bugsnag[method] = function () {\n    if (!Bugsnag._client) return console.log(`Bugsnag.${method}() was called before Bugsnag.start()`)\n    Bugsnag._client._depth += 1\n    const ret = Bugsnag._client[method].apply(Bugsnag._client, arguments)\n    Bugsnag._client._depth -= 1\n    return ret\n  }\n})\n\n/* harmony default export */ const notifier = (Bugsnag);\n\n})();\n\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});\n//# sourceMappingURL=bugsnag.web-worker.js.map","/**\n * Ported from sensortower/stayfree-desktop/src/utils/log.js\n * `JSON.stringify` doesn't properly stringify all objects, like errors, so this function prepares\n * an object by recursively making special objects into regular objects so it contains details after\n * `JSON.stringify`ing it.\n */\nexport function serialize(object) {\n  if (object == null) {\n    return object\n  }\n  if (object instanceof Error) {\n    return { errorClass: object.name, errorMessage: object.message }\n  }\n  if (typeof object === 'function') {\n    return '[Function]'\n  }\n  if (Array.isArray(object)) {\n    return object.map(serialize)\n  }\n  if (typeof object === 'object') {\n    return Object.entries(object).reduce((serialized, [key, value]) => {\n      serialized[key] = serialize(value)\n      return serialized\n    }, {})\n  }\n  return object\n}\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(\"webextension-polyfill\", [\"module\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod);\n    global.browser = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (module) {\n  /* webextension-polyfill - v0.10.0 - Fri Aug 12 2022 19:42:44 */\n\n  /* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n\n  /* vim: set sts=2 sw=2 et tw=80: */\n\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  \"use strict\";\n\n  if (!globalThis.chrome?.runtime?.id) {\n    throw new Error(\"This script should only be loaded in a browser extension.\");\n  }\n\n  if (typeof globalThis.browser === \"undefined\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n    const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\"; // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n    // optimization for Firefox. Since Spidermonkey does not fully parse the\n    // contents of a function until the first time it's called, and since it will\n    // never actually need to be called, this allows the polyfill to be included\n    // in Firefox nearly for free.\n\n    const wrapAPIs = extensionAPIs => {\n      // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n      // at build time by replacing the following \"include\" with the content of the\n      // JSON file.\n      const apiMetadata = {\n        \"alarms\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"clearAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"bookmarks\": {\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getChildren\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getRecent\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getSubTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTree\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"browserAction\": {\n          \"disable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"enable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"getBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"openPopup\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"browsingData\": {\n          \"remove\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"removeCache\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCookies\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeDownloads\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFormData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeHistory\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeLocalStorage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePasswords\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePluginData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"settings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"commands\": {\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"contextMenus\": {\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"cookies\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAllCookieStores\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"devtools\": {\n          \"inspectedWindow\": {\n            \"eval\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 2,\n              \"singleCallbackArg\": false\n            }\n          },\n          \"panels\": {\n            \"create\": {\n              \"minArgs\": 3,\n              \"maxArgs\": 3,\n              \"singleCallbackArg\": true\n            },\n            \"elements\": {\n              \"createSidebarPane\": {\n                \"minArgs\": 1,\n                \"maxArgs\": 1\n              }\n            }\n          }\n        },\n        \"downloads\": {\n          \"cancel\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"download\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"erase\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFileIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"open\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"pause\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFile\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"resume\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"extension\": {\n          \"isAllowedFileSchemeAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"isAllowedIncognitoAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"history\": {\n          \"addUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"deleteRange\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getVisits\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"i18n\": {\n          \"detectLanguage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAcceptLanguages\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"identity\": {\n          \"launchWebAuthFlow\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"idle\": {\n          \"queryState\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"management\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setEnabled\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"uninstallSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"notifications\": {\n          \"clear\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPermissionLevel\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"pageAction\": {\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"hide\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"permissions\": {\n          \"contains\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"request\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"runtime\": {\n          \"getBackgroundPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPlatformInfo\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"openOptionsPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"requestUpdateCheck\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"sendMessage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 3\n          },\n          \"sendNativeMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"setUninstallURL\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"sessions\": {\n          \"getDevices\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getRecentlyClosed\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"restore\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"storage\": {\n          \"local\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          },\n          \"managed\": {\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            }\n          },\n          \"sync\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        },\n        \"tabs\": {\n          \"captureVisibleTab\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"detectLanguage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"discard\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"duplicate\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"executeScript\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getZoom\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getZoomSettings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goBack\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goForward\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"highlight\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"insertCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"query\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"reload\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"sendMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 3\n          },\n          \"setZoom\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"setZoomSettings\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"update\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          }\n        },\n        \"topSites\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"webNavigation\": {\n          \"getAllFrames\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFrame\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"webRequest\": {\n          \"handlerBehaviorChanged\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"windows\": {\n          \"create\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getLastFocused\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        }\n      };\n\n      if (Object.keys(apiMetadata).length === 0) {\n        throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n      }\n      /**\n       * A WeakMap subclass which creates and stores a value for any key which does\n       * not exist when accessed, but behaves exactly as an ordinary WeakMap\n       * otherwise.\n       *\n       * @param {function} createItem\n       *        A function which will be called in order to create the value for any\n       *        key which does not exist, the first time it is accessed. The\n       *        function receives, as its only argument, the key being created.\n       */\n\n\n      class DefaultWeakMap extends WeakMap {\n        constructor(createItem, items = undefined) {\n          super(items);\n          this.createItem = createItem;\n        }\n\n        get(key) {\n          if (!this.has(key)) {\n            this.set(key, this.createItem(key));\n          }\n\n          return super.get(key);\n        }\n\n      }\n      /**\n       * Returns true if the given object is an object with a `then` method, and can\n       * therefore be assumed to behave as a Promise.\n       *\n       * @param {*} value The value to test.\n       * @returns {boolean} True if the value is thenable.\n       */\n\n\n      const isThenable = value => {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n      };\n      /**\n       * Creates and returns a function which, when called, will resolve or reject\n       * the given promise based on how it is called:\n       *\n       * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n       *   the promise is rejected with that value.\n       * - If the function is called with exactly one argument, the promise is\n       *   resolved to that value.\n       * - Otherwise, the promise is resolved to an array containing all of the\n       *   function's arguments.\n       *\n       * @param {object} promise\n       *        An object containing the resolution and rejection functions of a\n       *        promise.\n       * @param {function} promise.resolve\n       *        The promise's resolution function.\n       * @param {function} promise.reject\n       *        The promise's rejection function.\n       * @param {object} metadata\n       *        Metadata about the wrapped method which has created the callback.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function}\n       *        The generated callback function.\n       */\n\n\n      const makeCallback = (promise, metadata) => {\n        return (...callbackArgs) => {\n          if (extensionAPIs.runtime.lastError) {\n            promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n          } else if (metadata.singleCallbackArg || callbackArgs.length <= 1 && metadata.singleCallbackArg !== false) {\n            promise.resolve(callbackArgs[0]);\n          } else {\n            promise.resolve(callbackArgs);\n          }\n        };\n      };\n\n      const pluralizeArguments = numArgs => numArgs == 1 ? \"argument\" : \"arguments\";\n      /**\n       * Creates a wrapper function for a method with the given name and metadata.\n       *\n       * @param {string} name\n       *        The name of the method which is being wrapped.\n       * @param {object} metadata\n       *        Metadata about the method being wrapped.\n       * @param {integer} metadata.minArgs\n       *        The minimum number of arguments which must be passed to the\n       *        function. If called with fewer than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {integer} metadata.maxArgs\n       *        The maximum number of arguments which may be passed to the\n       *        function. If called with more than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function(object, ...*)}\n       *       The generated wrapper function.\n       */\n\n\n      const wrapAsyncFunction = (name, metadata) => {\n        return function asyncFunctionWrapper(target, ...args) {\n          if (args.length < metadata.minArgs) {\n            throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          if (args.length > metadata.maxArgs) {\n            throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          return new Promise((resolve, reject) => {\n            if (metadata.fallbackToNoCallback) {\n              // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n              // and so the polyfill will try to call it with a callback first, and it will fallback\n              // to not passing the callback if the first call fails.\n              try {\n                target[name](...args, makeCallback({\n                  resolve,\n                  reject\n                }, metadata));\n              } catch (cbError) {\n                console.warn(`${name} API method doesn't seem to support the callback parameter, ` + \"falling back to call it without a callback: \", cbError);\n                target[name](...args); // Update the API method metadata, so that the next API calls will not try to\n                // use the unsupported callback anymore.\n\n                metadata.fallbackToNoCallback = false;\n                metadata.noCallback = true;\n                resolve();\n              }\n            } else if (metadata.noCallback) {\n              target[name](...args);\n              resolve();\n            } else {\n              target[name](...args, makeCallback({\n                resolve,\n                reject\n              }, metadata));\n            }\n          });\n        };\n      };\n      /**\n       * Wraps an existing method of the target object, so that calls to it are\n       * intercepted by the given wrapper function. The wrapper function receives,\n       * as its first argument, the original `target` object, followed by each of\n       * the arguments passed to the original method.\n       *\n       * @param {object} target\n       *        The original target object that the wrapped method belongs to.\n       * @param {function} method\n       *        The method being wrapped. This is used as the target of the Proxy\n       *        object which is created to wrap the method.\n       * @param {function} wrapper\n       *        The wrapper function which is called in place of a direct invocation\n       *        of the wrapped method.\n       *\n       * @returns {Proxy<function>}\n       *        A Proxy object for the given method, which invokes the given wrapper\n       *        method in its place.\n       */\n\n\n      const wrapMethod = (target, method, wrapper) => {\n        return new Proxy(method, {\n          apply(targetMethod, thisObj, args) {\n            return wrapper.call(thisObj, target, ...args);\n          }\n\n        });\n      };\n\n      let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n      /**\n       * Wraps an object in a Proxy which intercepts and wraps certain methods\n       * based on the given `wrappers` and `metadata` objects.\n       *\n       * @param {object} target\n       *        The target object to wrap.\n       *\n       * @param {object} [wrappers = {}]\n       *        An object tree containing wrapper functions for special cases. Any\n       *        function present in this object tree is called in place of the\n       *        method in the same location in the `target` object tree. These\n       *        wrapper methods are invoked as described in {@see wrapMethod}.\n       *\n       * @param {object} [metadata = {}]\n       *        An object tree containing metadata used to automatically generate\n       *        Promise-based wrapper functions for asynchronous. Any function in\n       *        the `target` object tree which has a corresponding metadata object\n       *        in the same location in the `metadata` tree is replaced with an\n       *        automatically-generated wrapper function, as described in\n       *        {@see wrapAsyncFunction}\n       *\n       * @returns {Proxy<object>}\n       */\n\n      const wrapObject = (target, wrappers = {}, metadata = {}) => {\n        let cache = Object.create(null);\n        let handlers = {\n          has(proxyTarget, prop) {\n            return prop in target || prop in cache;\n          },\n\n          get(proxyTarget, prop, receiver) {\n            if (prop in cache) {\n              return cache[prop];\n            }\n\n            if (!(prop in target)) {\n              return undefined;\n            }\n\n            let value = target[prop];\n\n            if (typeof value === \"function\") {\n              // This is a method on the underlying object. Check if we need to do\n              // any wrapping.\n              if (typeof wrappers[prop] === \"function\") {\n                // We have a special-case wrapper for this method.\n                value = wrapMethod(target, target[prop], wrappers[prop]);\n              } else if (hasOwnProperty(metadata, prop)) {\n                // This is an async method that we have metadata for. Create a\n                // Promise wrapper for it.\n                let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n                value = wrapMethod(target, target[prop], wrapper);\n              } else {\n                // This is a method that we don't know or care about. Return the\n                // original method, bound to the underlying object.\n                value = value.bind(target);\n              }\n            } else if (typeof value === \"object\" && value !== null && (hasOwnProperty(wrappers, prop) || hasOwnProperty(metadata, prop))) {\n              // This is an object that we need to do some wrapping for the children\n              // of. Create a sub-object wrapper for it with the appropriate child\n              // metadata.\n              value = wrapObject(value, wrappers[prop], metadata[prop]);\n            } else if (hasOwnProperty(metadata, \"*\")) {\n              // Wrap all properties in * namespace.\n              value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n            } else {\n              // We don't need to do any wrapping for this property,\n              // so just forward all access to the underlying object.\n              Object.defineProperty(cache, prop, {\n                configurable: true,\n                enumerable: true,\n\n                get() {\n                  return target[prop];\n                },\n\n                set(value) {\n                  target[prop] = value;\n                }\n\n              });\n              return value;\n            }\n\n            cache[prop] = value;\n            return value;\n          },\n\n          set(proxyTarget, prop, value, receiver) {\n            if (prop in cache) {\n              cache[prop] = value;\n            } else {\n              target[prop] = value;\n            }\n\n            return true;\n          },\n\n          defineProperty(proxyTarget, prop, desc) {\n            return Reflect.defineProperty(cache, prop, desc);\n          },\n\n          deleteProperty(proxyTarget, prop) {\n            return Reflect.deleteProperty(cache, prop);\n          }\n\n        }; // Per contract of the Proxy API, the \"get\" proxy handler must return the\n        // original value of the target if that value is declared read-only and\n        // non-configurable. For this reason, we create an object with the\n        // prototype set to `target` instead of using `target` directly.\n        // Otherwise we cannot return a custom object for APIs that\n        // are declared read-only and non-configurable, such as `chrome.devtools`.\n        //\n        // The proxy handlers themselves will still use the original `target`\n        // instead of the `proxyTarget`, so that the methods and properties are\n        // dereferenced via the original targets.\n\n        let proxyTarget = Object.create(target);\n        return new Proxy(proxyTarget, handlers);\n      };\n      /**\n       * Creates a set of wrapper functions for an event object, which handles\n       * wrapping of listener functions that those messages are passed.\n       *\n       * A single wrapper is created for each listener function, and stored in a\n       * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n       * retrieve the original wrapper, so that  attempts to remove a\n       * previously-added listener work as expected.\n       *\n       * @param {DefaultWeakMap<function, function>} wrapperMap\n       *        A DefaultWeakMap object which will create the appropriate wrapper\n       *        for a given listener function when one does not exist, and retrieve\n       *        an existing one when it does.\n       *\n       * @returns {object}\n       */\n\n\n      const wrapEvent = wrapperMap => ({\n        addListener(target, listener, ...args) {\n          target.addListener(wrapperMap.get(listener), ...args);\n        },\n\n        hasListener(target, listener) {\n          return target.hasListener(wrapperMap.get(listener));\n        },\n\n        removeListener(target, listener) {\n          target.removeListener(wrapperMap.get(listener));\n        }\n\n      });\n\n      const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps an onRequestFinished listener function so that it will return a\n         * `getContent()` property which returns a `Promise` rather than using a\n         * callback API.\n         *\n         * @param {object} req\n         *        The HAR entry object representing the network request.\n         */\n\n\n        return function onRequestFinished(req) {\n          const wrappedReq = wrapObject(req, {}\n          /* wrappers */\n          , {\n            getContent: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          });\n          listener(wrappedReq);\n        };\n      });\n      const onMessageWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps a message listener function so that it may send responses based on\n         * its return value, rather than by returning a sentinel value and calling a\n         * callback. If the listener function returns a Promise, the response is\n         * sent when the promise either resolves or rejects.\n         *\n         * @param {*} message\n         *        The message sent by the other end of the channel.\n         * @param {object} sender\n         *        Details about the sender of the message.\n         * @param {function(*)} sendResponse\n         *        A callback which, when called with an arbitrary argument, sends\n         *        that value as a response.\n         * @returns {boolean}\n         *        True if the wrapped listener returned a Promise, which will later\n         *        yield a response. False otherwise.\n         */\n\n\n        return function onMessage(message, sender, sendResponse) {\n          let didCallSendResponse = false;\n          let wrappedSendResponse;\n          let sendResponsePromise = new Promise(resolve => {\n            wrappedSendResponse = function (response) {\n              didCallSendResponse = true;\n              resolve(response);\n            };\n          });\n          let result;\n\n          try {\n            result = listener(message, sender, wrappedSendResponse);\n          } catch (err) {\n            result = Promise.reject(err);\n          }\n\n          const isResultThenable = result !== true && isThenable(result); // If the listener didn't returned true or a Promise, or called\n          // wrappedSendResponse synchronously, we can exit earlier\n          // because there will be no response sent from this listener.\n\n          if (result !== true && !isResultThenable && !didCallSendResponse) {\n            return false;\n          } // A small helper to send the message if the promise resolves\n          // and an error if the promise rejects (a wrapped sendMessage has\n          // to translate the message into a resolved promise or a rejected\n          // promise).\n\n\n          const sendPromisedResult = promise => {\n            promise.then(msg => {\n              // send the message value.\n              sendResponse(msg);\n            }, error => {\n              // Send a JSON representation of the error if the rejected value\n              // is an instance of error, or the object itself otherwise.\n              let message;\n\n              if (error && (error instanceof Error || typeof error.message === \"string\")) {\n                message = error.message;\n              } else {\n                message = \"An unexpected error occurred\";\n              }\n\n              sendResponse({\n                __mozWebExtensionPolyfillReject__: true,\n                message\n              });\n            }).catch(err => {\n              // Print an error on the console if unable to send the response.\n              console.error(\"Failed to send onMessage rejected reply\", err);\n            });\n          }; // If the listener returned a Promise, send the resolved value as a\n          // result, otherwise wait the promise related to the wrappedSendResponse\n          // callback to resolve and send it as a response.\n\n\n          if (isResultThenable) {\n            sendPromisedResult(result);\n          } else {\n            sendPromisedResult(sendResponsePromise);\n          } // Let Chrome know that the listener is replying.\n\n\n          return true;\n        };\n      });\n\n      const wrappedSendMessageCallback = ({\n        reject,\n        resolve\n      }, reply) => {\n        if (extensionAPIs.runtime.lastError) {\n          // Detect when none of the listeners replied to the sendMessage call and resolve\n          // the promise to undefined as in Firefox.\n          // See https://github.com/mozilla/webextension-polyfill/issues/130\n          if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n            resolve();\n          } else {\n            reject(new Error(extensionAPIs.runtime.lastError.message));\n          }\n        } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n          // Convert back the JSON representation of the error into\n          // an Error instance.\n          reject(new Error(reply.message));\n        } else {\n          resolve(reply);\n        }\n      };\n\n      const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          const wrappedCb = wrappedSendMessageCallback.bind(null, {\n            resolve,\n            reject\n          });\n          args.push(wrappedCb);\n          apiNamespaceObj.sendMessage(...args);\n        });\n      };\n\n      const staticWrappers = {\n        devtools: {\n          network: {\n            onRequestFinished: wrapEvent(onRequestFinishedWrappers)\n          }\n        },\n        runtime: {\n          onMessage: wrapEvent(onMessageWrappers),\n          onMessageExternal: wrapEvent(onMessageWrappers),\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 1,\n            maxArgs: 3\n          })\n        },\n        tabs: {\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 2,\n            maxArgs: 3\n          })\n        }\n      };\n      const settingMetadata = {\n        clear: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        get: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        set: {\n          minArgs: 1,\n          maxArgs: 1\n        }\n      };\n      apiMetadata.privacy = {\n        network: {\n          \"*\": settingMetadata\n        },\n        services: {\n          \"*\": settingMetadata\n        },\n        websites: {\n          \"*\": settingMetadata\n        }\n      };\n      return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n    }; // The build process adds a UMD wrapper around this file, which makes the\n    // `module` variable available.\n\n\n    module.exports = wrapAPIs(chrome);\n  } else {\n    module.exports = globalThis.browser;\n  }\n});\n//# sourceMappingURL=browser-polyfill.js.map\n","import Bugsnag from '@bugsnag/web-worker'\nimport { Client, Event } from '@bugsnag/core'\nimport { serialize } from '../utils/serialize'\nimport { API } from './API'\nimport Browser from 'webextension-polyfill'\n\ndeclare module '~/core/API' {\n  interface API {\n    Bugsnag: ReturnType<typeof BugsnagApi.initAPI>\n  }\n}\n\nlet api: API\nconst log = (\n  funcName: string,\n  message: string,\n  payload: any,\n  level: string,\n) => {\n  if (!MINIFIED) {\n    // Can't use Logger here because it would cause a circular dependency\n    // eslint-disable-next-line no-console\n    console.log('Bugsnag.' + funcName, message, payload, level)\n  }\n}\n\n// Some helper functions ported from sensortower/stayfree-desktop/src/plugins/bugsnag\nfunction getValidStacktracePrefix() {\n  const [, protocol, id] = /(.*?):\\/\\/(.*)/.exec(\n    Browser.runtime.getURL('/'),\n  ) ?? ['', '', '']\n  return `${protocol.replace(/-/g, '_')}://${id}`\n}\n\nfunction isStringable(value: 'string' | 'boolean' | 'number') {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'boolean' ||\n    typeof value === 'number'\n  )\n}\n\nfunction isErrorFromExtension(error: any) {\n  return !!error?.stacktrace?.find((frame: any) =>\n    frame.file.startsWith(VALID_STACKTRACE_PREFIX),\n  )\n}\n\nfunction isErrorIgnored(error: any, ignoreMatches: string[]) {\n  return !!ignoreMatches.find((ignored) => error.errorMessage.match(ignored))\n}\n\nfunction fixStackTrace(event: any) {\n  event.errors.forEach((err: any) => {\n    err.stacktrace = err.stacktrace.map((frame: any) => {\n      frame.file = frame.file.replace(/chrome-extension:/g, 'chrome_extension:')\n      frame.file = frame.file.replace(/moz-extension:/g, 'moz_extension:')\n      frame.file = frame.file.replace(/safari-extension:/g, 'safari_extension:')\n      frame.file = frame.file.replace(\n        /safari-web-extension:/g,\n        'safari_web_extension:',\n      )\n\n      return frame\n    })\n  })\n}\n\nfunction getErrorFromArgs(...args: any[]) {\n  return args.find((arg) => arg instanceof Error) ?? getStringFromArgs(args)\n}\n\nfunction getStringFromArgs(...args: any[]) {\n  return args\n    .map((arg) =>\n      isStringable(arg) ? String(arg) : JSON.stringify(serialize(arg)),\n    )\n    .join(' ')\n}\n\nfunction excludeFuncFromStacktrace(func: Function) {\n  return (event: any) => {\n    event.errors.forEach((err: any) => {\n      const sliceAt =\n        1 + err.stacktrace.findIndex((trace: any) => trace.method === func.name)\n      err.stacktrace = err.stacktrace.slice(sliceAt)\n    })\n  }\n}\n\nlet VALID_STACKTRACE_PREFIX = ''\n\nconst BugsnagApi = {\n  bugsnagClient: null as null | Client,\n  apiKey: '14be373dfe46ae64888094a22d25ce46',\n  sampleGroup: 0, // Number from 0-100, used to decide if an event should be sampled.\n  initAPI(theAPI: API) {\n    api = theAPI\n    return api.mixin('Bugsnag', {\n      init: this.init.bind(this),\n    })\n  },\n  async init(context: any) {\n    VALID_STACKTRACE_PREFIX = getValidStacktracePrefix()\n    if (this.bugsnagClient != null) {\n      log('init', 'Bugsnag was already initialized', {}, 'DEBUG')\n      return\n    }\n\n    await Promise.all([api.Requirements.init()])\n    const installId = await api.Storage.get('install-id')\n    const hasAcceptedPrivacyPolicy = api.Settings.get(\n      'hasAcceptedPrivacyPolicy',\n    )\n    const hasCompletedOnboarding =\n      await api.Requirements.isOnboardingCompleted()\n    const isNewUser = api.Settings.get('isNewUser')\n    this.bugsnagClient = Bugsnag.start({\n      apiKey: this.apiKey,\n      appType: 'Web Extension',\n      collectUserIp: false,\n      appVersion: api.Chrome.Extension.getVersion(),\n      enabledReleaseStages: ['production'],\n      releaseStage: MINIFIED ? 'production' : 'development',\n      context: context ?? 'unknown',\n      logger: null,\n      generateAnonymousId: false,\n      onError: [fixStackTrace, this.isValidError.bind(this)],\n      onSession: [this.isValidSession.bind(this)],\n    })\n\n    this.bugsnagClient.setUser(installId)\n\n    this.bugsnagClient.addMetadata('user properties', {\n      hasAcceptedPrivacyPolicy,\n      hasCompletedOnboarding,\n      isNewUser,\n    })\n\n    this.sampleGroup = await api.Storage.getOrSet(\n      'bugsnagSamplingGroup',\n      100 * Math.random(),\n    )\n\n    log('init', 'Initialized Bugsnag for ' + context, this, 'INFO')\n  },\n  notifyError(...args: any[]) {\n    this.bugsnagClient?.notify(getErrorFromArgs(args), (event) => {\n      excludeFuncFromStacktrace(this.notifyError)(event)\n      event.severity = 'error'\n    })\n  },\n  notifyWarning(...args: any[]) {\n    this.bugsnagClient?.notify(getErrorFromArgs(args), (event) => {\n      excludeFuncFromStacktrace(this.notifyWarning)(event)\n      event.severity = 'warning'\n    })\n  },\n  logBreadcrumb(...args: any[]) {\n    this.bugsnagClient?.leaveBreadcrumb(\n      typeof args[0] === 'string' ? args[0] : '(no message)',\n      { args: serialize(args) },\n      'log',\n    )\n  },\n  disabled() {\n    return !this.isReady() || !this.canUploadData()\n  },\n  /**\n   * Returning false will prevent the error event from being uploaded.\n   */\n  async isValidError(event: Event) {\n    if (this.disabled()) return false\n    if (!this.isSampled()) return false\n\n    const bugsnagIgnoreMatches = api.RemoteConfig.get('bugsnagIgnoreMatches')\n    if (!event.errors) return false\n\n    return !!event.errors.find(\n      (error: any) =>\n        isErrorFromExtension(error) &&\n        !isErrorIgnored(error, bugsnagIgnoreMatches),\n    )\n  },\n  /**\n   * Returning false will prevent the session from being uploaded.\n   */\n  isValidSession() {\n    if (this.disabled()) return false\n  },\n  /**\n   * @returns true if the user has opted into data collection.\n   */\n  canUploadData() {\n    return api.Settings.get('hasAcceptedPrivacyPolicy') ?? false\n  },\n  /**\n   * @returns true when bugsnag and it's dependencies are ready to be used.\n   */\n  isReady() {\n    return api.Settings.isInitialized()\n  },\n  /**\n   * @returns true if the event should be uploaded.\n   */\n  isSampled() {\n    const defaultSampling = api.RemoteConfig.get('bugsnagSampling')\n    return this.sampleGroup < defaultSampling\n  },\n}\n\nexport default BugsnagApi\n","import Bugsnag from '../core/Bugsnag'\n\nif (typeof MINIFIED === 'undefined') {\n  MINIFIED = false\n}\n\nexport type LogLevel = 'ERROR' | 'WARN' | 'INFO' | 'DEBUG' | 'TRACE'\n\n/* eslint-disable no-console */\nfunction createLogger() {\n  /**\n   * Default log() implementation\n   *\n   * This can be overridden by defining a log() function in the initObj\n   * passed to the constructor\n   *\n   * @param funcName The name of the function generating the log message\n   * @param message The message to log\n   * @param payload Data object\n   * @param _level\n   */\n  const log = function (...args: [string, string, any, LogLevel | undefined]) {\n    const [funcName, _message, _payload, _level] = args\n\n    const payload = !_payload ? '' : _payload\n    const level = _level ?? 'INFO'\n    const message = '[' + funcName + '()] ' + _message\n\n    if (level === 'ERROR') {\n      if (!MINIFIED) {\n        console.error(message, payload)\n      }\n      Bugsnag.notifyError(...args)\n    } else if (level === 'WARN') {\n      if (!MINIFIED) {\n        console.warn(message, payload)\n      }\n      Bugsnag.logBreadcrumb(...args)\n      Bugsnag.notifyWarning(...args)\n    } else if (level === 'INFO') {\n      if (!MINIFIED) {\n        console.info(message, payload)\n      }\n      Bugsnag.logBreadcrumb(...args)\n    } else {\n      if (!MINIFIED) {\n        console.log(message, payload)\n      }\n      Bugsnag.logBreadcrumb(...args)\n    }\n  }\n\n  return {\n    log: log,\n  }\n}\n\nconst Logger = createLogger()\nexport default Logger\n","import Logger, { LogLevel } from './Logger'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Utils: ReturnType<typeof Utils.initAPI>\n  }\n}\n\n/**\n * ObjectUtils singleton definition\n */\nconst Utils = {\n  firstToLower: function (str: string) {\n    return typeof str === 'string' ? str.toLowerCase()[0] + str.slice(1) : str\n  },\n\n  firstToUpper: function (str: string) {\n    return typeof str === 'string' ? str.toUpperCase()[0] + str.slice(1) : str\n  },\n\n  isEmpty: function (value: string) {\n    return (\n      value === null ||\n      value === '' ||\n      typeof value === 'undefined' ||\n      Object.keys(value).length === 0\n    )\n  },\n\n  /**\n   * Replaces commonly-used Windows 1252 encoded chars that do not exist in\n   * ASCII or ISO-8859-1 with ISO-8859-1 cognates.\n   *\n   * @param text Text to sanitize\n   * @returns {*}\n   */\n  sanitizeMSWordChars: function (text: string) {\n    let s = text\n    // smart single quotes and apostrophe\n    s = s.replace(/[\\u2018\\u2019\\u201A]/g, \"'\")\n    // smart double quotes\n    s = s.replace(/[\\u201C\\u201D\\u201E]/g, '\"')\n    // ellipsis\n    s = s.replace(/\\u2026/g, '...')\n    // dashes\n    s = s.replace(/[\\u2013\\u2014]/g, '--')\n    // circumflex\n    s = s.replace(/\\u02C6/g, '^')\n    // open angle bracket\n    s = s.replace(/\\u2039/g, '<')\n    // close angle bracket\n    s = s.replace(/\\u203A/g, '>')\n    // spaces\n    s = s.replace(/[\\u02DC\\u00A0]/g, ' ')\n\n    return s\n  },\n\n  /**\n   * Returns all the components of a promise separately (promise, resolve, reject).\n   * @returns {{ resolve: (value: any) => void; reject: (err: unknown) => void; promise: Promise<any> }}\n   */\n  getDecoupledPromise<T = void>(): {\n    resolve: (t?: T) => void\n    reject: (err?: any) => void\n    promise: Promise<T>\n  } {\n    let resolve: (value?: unknown) => void\n    let reject: () => void\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    // TODO - make this work happily with TS\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    return { resolve, reject, promise }\n  },\n\n  /**\n   * Creates a log function that prefixes the function name with the given scope.\n   *\n   * @param {string} scope\n   * @returns {(funcName: string, message: string, payload: any | undefined, level: 'ERROR' | 'WARN' | 'INFO' | 'DEBUG') => void}\n   */\n  createScopedLog(scope: string) {\n    return (\n      funcName: string,\n      message: string,\n      payload: any = undefined,\n      level: LogLevel = 'INFO',\n    ) => {\n      Logger.log(`${scope}.${funcName}`, message, payload, level)\n    }\n  },\n\n  /**\n   * Returns true if the current window is the top frame of a web page. Iframes will return\n   * false.\n   */\n  isTopFrame() {\n    return window.self === window.top\n  },\n\n  initAPI(API: API) {\n    return API.mixin('Utils', {\n      firstToLower: this.firstToLower.bind(this),\n      firstToUpper: this.firstToUpper.bind(this),\n      isEmpty: this.isEmpty.bind(this),\n      sanitizeMSWordChars: this.sanitizeMSWordChars.bind(this),\n      getDecoupledPromise: this.getDecoupledPromise.bind(this),\n      createScopedLog: this.createScopedLog.bind(this),\n      isTopFrame: this.isTopFrame.bind(this),\n    })\n  },\n}\n\nexport default Utils\n","import ObjectUtils from './ObjectUtils'\nimport GeneralUtils from './GeneralUtils'\n\nconst log = GeneralUtils.createScopedLog('API')\n\n/**\n * API singleton\n *\n * Mixins can be added to the API by calling:\n *\n * K.API.mixin('MixinName',{ someFunc : function(){ ... } })\n * K.API.mixin('foo.bar.Baz',{ someFunc : function(){ ... } })\n * K.API.mixin({ someFunc : function(){ ... } })\n * K.API.mixin(function(){ return { ... } })\n */\n\n// TODO - Refactor to classes for standard public/private, autogenerate this interface from the classes array in CoreAPI.ts, and remove inline module augmentation\nexport interface API {\n  mixin<TFunctions>(name: keyof API, functions: TFunctions): TFunctions\n  mixin<T>(entries: T): T\n}\n\nconst api = (() => {\n  const _api = (() => {\n    let mixins = {} as API\n    let mixinTemp: null | Record<string, any> = null\n\n    const mixin = function (...args: any[]) {\n      let name = ''\n      let mixinObj: null | Record<string, any> = null\n\n      if (args.length === 0) {\n        throw new TypeError('Mixin has no arguments')\n      }\n\n      log('mixin', 'Adding mixin to API', args, 'DEBUG')\n\n      if (args.length === 2 && typeof args[0] === 'string') {\n        name = args[0]\n\n        if (typeof args[1] === 'object' && args[1] !== null) {\n          mixinObj = args[1]\n        } else if (typeof args[1] === 'function') {\n          mixinObj = args[1]()\n        }\n\n        if (mixinObj) {\n          /* If mixin name uses dot notation, recursively call mixin() to create nested object */\n          if (name.indexOf('.') > -1) {\n            const parts = name.split('.')\n            const lastPart = parts.pop()!\n            const result: Record<string, any> = {}\n\n            /* If it's not already there, look up current value of the nested object\n             * referenced by this dot notation, and persist it in a temp variable */\n            if (!mixinTemp) {\n              mixinTemp = ObjectUtils.lookup(name, mixins)\n            }\n\n            /* Deep merge the mixin with the existing object (if any) */\n            result[lastPart] = mixinTemp\n              ? ObjectUtils.merge(mixinTemp, mixinObj, true)\n              : mixinObj\n\n            /* Recursively call mixin() to create nested object */\n            mixin(parts.join('.'), result)\n          } else {\n            /* Otherwise, assign mixin to name on root mixins object */\n            /* If the mixin already exists, merge this mixin into it */\n            const mixinName = name as keyof API\n            if (name in mixins) {\n              mixins[mixinName] = ObjectUtils.merge(\n                mixins[mixinName],\n                mixinObj,\n              ) as any\n            } else {\n              /* Otherwise, add mixin directly to root mixins obj */\n              mixins[mixinName] = mixinObj as any\n            }\n\n            mixinTemp = null\n          }\n        }\n      } else if (\n        args.length === 1 &&\n        typeof args[0] === 'object' &&\n        args[0] !== null\n      ) {\n        mixins = ObjectUtils.merge(mixins, args[0]) as API\n      } else if (args.length === 1 && typeof args[0] === 'function') {\n        mixinObj = args[0]()\n\n        if (typeof mixinObj === 'object' && mixinObj !== null) {\n          mixins = ObjectUtils.merge(mixins, mixinObj) as API\n        }\n      }\n    }\n\n    mixin({\n      mixin: mixin,\n    })\n\n    return mixins\n  })()\n  return _api\n})()\n\nexport const API = api\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}","var defaultOptions = {};\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param {*} value - the value to check\n * @returns {boolean} true if the given value is a date\n * @throws {TypeError} 1 arguments required\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport default function isDate(value) {\n  requiredArgs(1, arguments);\n  return value instanceof Date || _typeof(value) === 'object' && Object.prototype.toString.call(value) === '[object Date]';\n}","import isDate from \"../isDate/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport default function isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  if (!isDate(dirtyDate) && typeof dirtyDate !== 'number') {\n    return false;\n  }\n  var date = toDate(dirtyDate);\n  return !isNaN(Number(date));\n}","import addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\nexport default function getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function getUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, options);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, options);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n  var year = getUTCWeekYear(dirtyDate, options);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, options);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n  return sign + output;\n}","import addLeadingZeros from \"../../addLeadingZeros/index.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\nvar formatters = {\n  // Year\n  y: function y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    var signedYear = date.getUTCFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function M(date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function d(date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function a(date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n      case 'aaa':\n        return dayPeriodEnumValue;\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function H(date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function m(date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function s(date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;","import getUTCDayOfYear from \"../../../_lib/getUTCDayOfYear/index.js\";\nimport getUTCISOWeek from \"../../../_lib/getUTCISOWeek/index.js\";\nimport getUTCISOWeekYear from \"../../../_lib/getUTCISOWeekYear/index.js\";\nimport getUTCWeek from \"../../../_lib/getUTCWeek/index.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport addLeadingZeros from \"../../addLeadingZeros/index.js\";\nimport lightFormatters from \"../lightFormatters/index.js\";\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n};\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nvar formatters = {\n  // Era\n  G: function G(date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function y(date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function Y(date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function R(date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function u(date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function Q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function M(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function L(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function w(date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function I(date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function d(date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function D(date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function E(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function e(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function c(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function i(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function a(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function b(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function B(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function H(date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function K(date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function k(date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function m(date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function s(date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function X(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function x(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function O(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function z(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function t(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function T(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, dirtyDelimiter);\n}\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\nexport default formatters;","var dateLongFormatter = function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n};\nvar timeLongFormatter = function timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n};\nvar dateTimeLongFormatter = function dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/) || [];\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n  var dateTimeFormat;\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n};\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;","var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  }\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nvar formatDistance = function formatDistance(token, count, options) {\n  var result;\n  var tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === 'string') {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace('{{count}}', count.toString());\n  }\n  if (options !== null && options !== void 0 && options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n  return result;\n};\nexport default formatDistance;","export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nvar formatRelative = function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n};\nexport default formatRelative;","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, options) {\n    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n  var number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n      case 2:\n        return number + 'nd';\n      case 3:\n        return number + 'rd';\n    }\n  }\n  return number + 'th';\n};\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n    if (!matchResult) {\n      return null;\n    }\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}","export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}","import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import isValid from \"../isValid/index.js\";\nimport subMilliseconds from \"../subMilliseconds/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport formatters from \"../_lib/format/formatters/index.js\";\nimport longFormatters from \"../_lib/format/longFormatters/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from \"../_lib/protectedTokens/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\"; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * >  Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, options) {\n  var _ref, _options$locale, _ref2, _ref3, _ref4, _options$firstWeekCon, _options$locale2, _options$locale2$opti, _defaultOptions$local, _defaultOptions$local2, _ref5, _ref6, _ref7, _options$weekStartsOn, _options$locale3, _options$locale3$opti, _defaultOptions$local3, _defaultOptions$local4;\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n  var firstWeekContainsDate = toInteger((_ref2 = (_ref3 = (_ref4 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale2 = options.locale) === null || _options$locale2 === void 0 ? void 0 : (_options$locale2$opti = _options$locale2.options) === null || _options$locale2$opti === void 0 ? void 0 : _options$locale2$opti.firstWeekContainsDate) !== null && _ref4 !== void 0 ? _ref4 : defaultOptions.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var weekStartsOn = toInteger((_ref5 = (_ref6 = (_ref7 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale3 = options.locale) === null || _options$locale3 === void 0 ? void 0 : (_options$locale3$opti = _options$locale3.options) === null || _options$locale3$opti === void 0 ? void 0 : _options$locale3$opti.weekStartsOn) !== null && _ref7 !== void 0 ? _ref7 : defaultOptions.weekStartsOn) !== null && _ref6 !== void 0 ? _ref6 : (_defaultOptions$local3 = defaultOptions.locale) === null || _defaultOptions$local3 === void 0 ? void 0 : (_defaultOptions$local4 = _defaultOptions$local3.options) === null || _defaultOptions$local4 === void 0 ? void 0 : _defaultOptions$local4.weekStartsOn) !== null && _ref5 !== void 0 ? _ref5 : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n  var originalDate = toDate(dirtyDate);\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong);\n    }\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n    var firstCharacter = substring[0];\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n    var formatter = formatters[firstCharacter];\n    if (formatter) {\n      if (!(options !== null && options !== void 0 && options.useAdditionalWeekYearTokens) && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));\n      }\n      if (!(options !== null && options !== void 0 && options.useAdditionalDayOfYearTokens) && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));\n      }\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n    return substring;\n  }).join('');\n  return result;\n}\nfunction cleanEscapedString(input) {\n  var matched = input.match(escapedStringRegExp);\n  if (!matched) {\n    return input;\n  }\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}","import{format as a}from\"date-fns\";function l(){return a(new Date,\"OOOO\")}function u(){let e=/^.+?(-|_)(.+?)($|-|_)/,t=[...typeof navigator<\"u\"?navigator.languages:[],Intl.DateTimeFormat().resolvedOptions().locale].map(r=>{var n;return(n=r.match(e))==null?void 0:n[2]}).find(r=>!!r);return t==null?void 0:t.toUpperCase()}var i=13,o=\"abcdefghijklmnopqrstuvwxyz0123456789\",c=o.length;function f(){let e=\"\";for(let t=0;t<i;t++)e+=o.charAt(Math.floor(Math.random()*c));return e}function p(e,t){if(typeof e==\"string\"&&(e=s(e.trim())),!e)return;let r=(t==null?void 0:t.removeGenericPrefixes)??!0,n=e.hostname;return r&&(n=n.replace(/^(m|mobile|amp|www|www1|www2|www3|tab|item|checkout|secure|user|account|accounts|web|app|open|i|v|preview|cdn|l|id|nid|user|sso|signin|login|auth0|play|api|click|detail|dashboard|console|manage|support|help)\\./,\"\").replace(/.*\\.zoom\\.us/,\"zoom.us\").replace(/.*\\.slack\\.com/,\"slack.com\").replace(/.*\\.wikipedia\\.org/,\"wikipedia.org\").replace(/.*\\.amazonaws\\.com/,\"amazonaws.com\").replace(/.*\\.netsuite\\.com/,\"netsuite.com\").replace(/.*\\.tumblr\\.com/,\"tumblr.com\").replace(/.*\\.deviantart\\.com/,\"deviantart.com\")),{hostname:n,path:m(e.pathname)}}function s(e){if(!e)return;let t=r=>{let n=new URL(r);if(!/^https?:/.test(n.protocol))throw Error(\"Invalid URL, ignored protocol found\");if(!n.hostname)throw Error(\"Invalid URL, no hostname\");if(n.hostname.lastIndexOf(\".\")>=n.hostname.length-2)throw Error(\"Invalid URL, bad domain ending\");return n};try{return t(e)}catch{}if(!e.includes(\"://\"))try{return t(\"https://\"+e)}catch{}}function m(e){return e.endsWith(\"/\")?e.substring(0,Math.max(1,e.length-1)):e}export{f as generateInstallId,u as getCountryCode,l as getGmtTimeZone,p as parseUrl};\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.37\n   Copyright  2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.37',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 500;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant|iemobile|slim)\\s?(?:browser)?[\\/ ]?([\\w\\.]*)/i,             // Avant/IEMobile/SlimBrowser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(heytap|ovi)browser\\/([\\d\\.]+)/i,                                  // Heytap/Ovi\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart Lenovo '+BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 ' + BROWSER]], [\n            /(oculus|sailfish|huawei|vivo)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 ' + BROWSER], VERSION], [                    // Oculus/Sailfish/HuaweiBrowser/VivoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, 'Sogou Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, 'Sogou Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345Explorer)[\\/ ]?([\\w\\.]+)/i                        // QQBrowser/2345 Browser\n            ], [NAME, VERSION], [\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(Klarna)\\/([\\w\\.]+)/i,                                             // Klarna Shopping Browser for iOS & Android\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i                     // Chromium/Instagram/Snapchat\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i,                                             // Links\n            /panasonic;(viera)/i                                                // Panasonic Viera\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,                  // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,        // Xiaomi Redmi 'numeric' models\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /oid[^\\)]+; (2\\d{4}(283|rpbf)[cgl])( bui|\\))/i,                     // Redmi Pad\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,                             // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2| pro)?)/i                                                // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i    // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i             // Windows Phone\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /windows nt 6\\.2; (arm)/i,                                        // Windows RT\n            /windows[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n            /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[VERSION, strMapper, windowsVersionMap], [NAME, 'Windows']], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","/**\n * Use Amplitude via the `core/CoreAPI` module. It is registered under the `Analytics` field.\n *\n * 1. Make sure to call `API.Analytics.init()` first. It returns a promise, so you can use `.then`\n *    to run something as soon as it is initialized.\n *\n * 2. Call `API.Analytics.event('EVENT_NAME', { event: \"properties\" })` to report an event. The\n *    second parameter for event properties is optional.\n *\n * 3. To report events on the DOM, call `API.Analytics.bindHtmlEvents()`. Then you can add\n *    attributes to your HTML to automatically report events, like on click.\n */\n\nimport * as PanelAPIUtils from '@sensortower/panel-api-utils'\nimport UAParser, { IBrowser, IOS } from 'ua-parser-js'\nimport { API } from './API'\nimport GeneralUtils from './GeneralUtils'\n\ndeclare module '~/core/API' {\n  interface API {\n    Analytics: ReturnType<typeof Amplitude.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('Amplitude')\n\nlet api: API\n\nconst Amplitude = {\n  installIdKey: 'install-id',\n\n  initialized: null as Promise<void> | null,\n\n  installId: null as string | null, // Unique identifier per install\n  browser: null as IBrowser | null, // Name of the browser being used\n  os: null as IOS | null, // Operating System in use\n  version: null as string | null, // Extension's version\n  sessionId: null as number | null, // Session start time in MS since epoch\n  sampleGroup: null as number | null, // Number from 0-100, used to decide if an event should be sampled.\n  enabled: null as boolean | null, // Whether the user has enabled analytics\n\n  /**\n   * Sets Amplitude as the provided Analytics API, defining the public fields on the API\n   * object.\n   */\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('Analytics', {\n      init: this.init.bind(this),\n      event: this.event.bind(this),\n      bindHtmlEvents: this.bindHtmlEvents.bind(this),\n    })\n  },\n\n  /**\n   * Initialize the Amplitude API, loading the details.\n   */\n  async init() {\n    if (this.initialized != null) {\n      log?.(\n        'init',\n        'Amplitude already initialized',\n        { sessionId: this.sessionId },\n        'DEBUG',\n      )\n    } else {\n      const { promise, resolve } = api.Utils.getDecoupledPromise()\n      this.initialized = promise as Promise<void>\n\n      const parser = new UAParser(navigator.userAgent)\n      this.sessionId = Date.now()\n      this.os = parser.getOS()\n      this.browser = parser.getBrowser()\n      this.version = api.Chrome.Extension.getVersion()\n      this.sampleGroup = await api.Storage.getOrSet(\n        'analyticsSamplingGroup',\n        100 * Math.random(),\n      )\n      const canUpload = api.Settings.get('hasAcceptedPrivacyPolicy') ?? true\n      const isProduction = !!MINIFIED\n      this.enabled = canUpload && isProduction\n\n      this.installId = await api.Storage.get(this.installIdKey)\n      if (!this.installId) {\n        this.installId = PanelAPIUtils.generateInstallId()\n        await api.Storage.set({\n          [this.installIdKey]: this.installId,\n        })\n      }\n\n      resolve()\n      log?.('init', 'Initialized Amplitude', this, 'INFO')\n    }\n  },\n\n  /**\n   * Send an event to Amplitude.\n   *\n   * @param {string} eventType The event's type or name.\n   * @param {Record<string, any>} eventProperties Additional properties that should be listed on the event.\n   */\n  async event(\n    eventType: string,\n    eventProperties?: Record<string, any>,\n  ): Promise<void> {\n    if (!this.initialized) {\n      log?.('event', 'Cannot report event until initialized', this, 'WARN')\n      return\n    }\n\n    const timestamp = Date.now()\n    await this.initialized\n    const amplitudeSampling = api.RemoteConfig.get('amplitudeSampling')\n    const defaultSampling = api.RemoteConfig.get('defaultAmplitudeSampling')\n    const samplePercentInt = amplitudeSampling[eventType] ?? defaultSampling\n    const isSampled = this.sampleGroup! < samplePercentInt\n    const enabled = this.enabled && isSampled\n\n    const event = {\n      event_type: eventType,\n      user_id: this.installId,\n      user_properties: {\n        hasAcceptedToS: !!api.Settings.get('hasAcceptedToS'),\n        hasAcceptedPrivacyPolicy: !!api.Settings.get(\n          'hasAcceptedPrivacyPolicy',\n        ),\n        explicitlyDeclinedPrivacyPolicy: !!api.Settings.get(\n          'explicitlyDeclinedPrivacyPolicy',\n        ),\n        isNewUser: !!api.Settings.get('isNewUser'),\n        is18OrOlder: api.Settings.get('is18OrOlder'),\n        age: api.Settings.get('age'),\n      },\n      time: timestamp,\n      event_properties: {\n        page: `${location.protocol}//${location.hostname}${location.pathname}`,\n        ...eventProperties,\n      },\n      app_version: this.version,\n      // Amplitude wants the browser for the os_name, so we pass the os to the\n      // platform field instead.\n      os_name: this.browser!.name,\n      os_version: this.browser!.version,\n      platform: this.os!.name,\n    }\n    log?.(\n      'event',\n      enabled ? 'Reported event' : 'Skipped event',\n      { event, samplePercentInt, isSampled, thisEnabled: this.enabled },\n      'DEBUG',\n    )\n    if (!enabled) return\n\n    await api.AmplitudeAPI.uploadEvents(event)\n  },\n\n  /**\n   * Queries all elements matching `*[data-analytics-click]` and adds events to their\n   * click handlers.\n   *\n   * For example, if you want to submit the `SIGN_UP` event when clicking on a sign up\n   * buttons, add the attribute the the element:\n   *\n   * ```html\n   * <button data-analytics-click=\"SIGN_UP\">Sign Up</button>\n   * ```\n   *\n   * Then call `API.Analytics.bindHtmlEvents()`.\n   */\n  bindHtmlEvents() {\n    log?.(\n      'bindHtmlEvents',\n      'Binding amplitude events to DOM',\n      undefined,\n      'DEBUG',\n    )\n\n    const clickAttr = 'data-analytics-click'\n    document.querySelectorAll(`*[${clickAttr}]`).forEach((element) => {\n      element.addEventListener('click', (event) => {\n        const target = event.target as HTMLElement\n        const eventType = target?.getAttribute?.(clickAttr)\n        if (!eventType) return\n\n        this.event(eventType!)\n      })\n    })\n\n    const toggledAttr = 'data-analytics-toggle'\n    document.querySelectorAll(`*[${toggledAttr}]`).forEach((element) => {\n      element.addEventListener('change', (event) => {\n        const target = event.target as HTMLInputElement\n        const checked = target?.checked\n        const eventType = target?.getAttribute?.(toggledAttr)\n        if (!eventType) return\n\n        this.event(eventType, { checked })\n      })\n    })\n  },\n}\n\nexport default Amplitude\n","/**\n * Provides raw API calls for Amplitude.\n */\nimport { API } from './API'\nimport GeneralUtils from './GeneralUtils'\n\ndeclare module '~/core/API' {\n  interface API {\n    AmplitudeAPI: ReturnType<typeof AmplitudeAPI.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('AmplitudeAPI')\n\nconst AmplitudeAPI = {\n  baseUrl: 'https://api2.amplitude.com',\n  apiKey: '07de81d51a94380a82c075614cd12f6e',\n\n  // eslint-disable-next-line no-undef\n  initAPI(API: API) {\n    return API.mixin('AmplitudeAPI', {\n      uploadEvents: this.uploadEvents.bind(this),\n    })\n  },\n\n  async uploadEvents(...events: any[]) {\n    return await fetch(`${this.baseUrl}/batch`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: '*/*',\n      },\n      body: JSON.stringify({\n        api_key: this.apiKey,\n        events,\n      }),\n    }).catch((err) => {\n      log('uploadEvents', 'Failed to upload event', err, 'WARN')\n    })\n  },\n}\n\nexport default AmplitudeAPI\n","import { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Chrome: ReturnType<typeof ChromeAPI.initAPI>\n  }\n}\n\nconst ChromeAPI = {\n  /**\n   * Initializes the Chrome API\n   *\n   * @param API\n   */\n  initAPI(API: API) {\n    return API.mixin('Chrome', {\n      Extension: {\n        addListener: this.exists('runtime')\n          ? this.addRuntimeListener.bind(this)\n          : this.throwMisusedAPIException,\n        connect: this.exists('runtime', 'connect')\n          ? chrome.runtime.connect.bind(chrome.runtime)\n          : this.throwMisusedAPIException,\n        getID: this.exists('runtime')\n          ? function () {\n              return chrome.runtime.id\n            }\n          : this.throwMisusedAPIException,\n        getURL: this.exists('extension', 'getURL')\n          ? chrome.extension.getURL.bind(chrome.extension)\n          : this.throwMisusedAPIException,\n        reload: this.exists('runtime', 'reload')\n          ? chrome.runtime.reload.bind(chrome.runtime)\n          : this.throwMisusedAPIException,\n        getVersion: this.exists('runtime', 'getManifest')\n          ? this.getVersion.bind(this)\n          : this.throwMisusedAPIException,\n        setUninstallURL: this.exists('runtime', 'setUninstallURL')\n          ? chrome.runtime.setUninstallURL.bind(chrome.runtime)\n          : this.throwMisusedAPIException,\n      },\n\n      Message: {\n        on: chrome.runtime.onMessage,\n        send: this.exists('runtime', 'sendMessage')\n          ? chrome.runtime.sendMessage.bind(chrome.runtime)\n          : this.throwMisusedAPIException,\n        sendToTab: this.exists('tabs', 'sendMessage')\n          ? chrome.tabs.sendMessage.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n      },\n\n      Notification: {\n        create: this.exists('notifications', 'create')\n          ? chrome.notifications.create.bind(chrome.notifications)\n          : this.throwMisusedAPIException,\n        clear: this.exists('notifications', 'clear')\n          ? chrome.notifications.clear.bind(chrome.notifications)\n          : this.throwMisusedAPIException,\n      },\n\n      Storage: {\n        addListener: this.exists('storage')\n          ? this.addStorageListener.bind(this)\n          : this.throwMisusedAPIException,\n        getLocal: this.exists('storage')\n          ? chrome.storage.local.get.bind(chrome.storage.local)\n          : this.throwMisusedAPIException,\n        getSync: this.exists('storage')\n          ? chrome.storage.sync.get.bind(chrome.storage.sync)\n          : this.throwMisusedAPIException,\n        removeLocal: this.exists('storage')\n          ? chrome.storage.local.remove.bind(chrome.storage.local)\n          : this.throwMisusedAPIException,\n        removeSync: this.exists('storage')\n          ? chrome.storage.sync.remove.bind(chrome.storage.sync)\n          : this.throwMisusedAPIException,\n        setLocal: this.exists('storage')\n          ? chrome.storage.local.set.bind(chrome.storage.local)\n          : this.throwMisusedAPIException,\n        setSync: this.exists('storage')\n          ? chrome.storage.sync.set.bind(chrome.storage.sync)\n          : this.throwMisusedAPIException,\n      },\n\n      Tab: {\n        addListener: this.exists('tabs')\n          ? this.addTabsListener.bind(this)\n          : this.throwMisusedAPIException,\n        create: this.exists('tabs', 'create')\n          ? chrome.tabs.create.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n        getAllInWindow: this.exists('tabs', 'query')\n          ? this.getAllTabsInWindow.bind(this)\n          : this.throwMisusedAPIException,\n        getCurrent: this.exists('tabs', 'getCurrent')\n          ? chrome.tabs.getCurrent.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n        getSelected: this.exists('tabs', 'query')\n          ? this.getSelectedTab.bind(this)\n          : this.throwMisusedAPIException,\n        remove: this.exists('tabs', 'remove')\n          ? chrome.tabs.remove.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n        update: this.exists('tabs', 'update')\n          ? chrome.tabs.update.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n        get: this.exists('tabs', 'get')\n          ? chrome.tabs.get.bind(chrome.tabs)\n          : this.throwMisusedAPIException,\n      },\n\n      Translation: {\n        get: this.exists('i18n', 'getMessage')\n          ? chrome.i18n.getMessage.bind(chrome.i18n)\n          : this.throwMisusedAPIException,\n      },\n\n      Window: {\n        addListener: this.exists('windows')\n          ? this.addWindowsListener.bind(this)\n          : this.throwMisusedAPIException,\n        getLastFocused: this.exists('windows', 'getLastFocused')\n          ? chrome.windows.getLastFocused.bind(chrome.windows)\n          : this.throwMisusedAPIException,\n      },\n\n      Alarms: {\n        addListener: this.exists('alarms')\n          ? this.addAlarmsListener.bind(this)\n          : this.throwMisusedAPIException,\n        ensure: this.exists('alarms')\n          ? this.ensureAlarm.bind(this)\n          : this.throwMisusedAPIException,\n      },\n    })\n  },\n\n  /**\n   * Gets the selected tab\n   *\n   * @param windowID The id of the window to get, or null for current window\n   * @param callback Function to which to return the selected tab\n   */\n  getSelectedTab: function (\n    windowID: number | undefined,\n    callback: (tab: chrome.tabs.Tab | undefined) => void,\n  ) {\n    const query: chrome.tabs.QueryInfo = {\n      active: true,\n    }\n\n    if (windowID) {\n      query.windowId = windowID\n    } else {\n      query.currentWindow = true\n    }\n\n    chrome.tabs.query(query, function (tabs) {\n      const tab = tabs[0]\n\n      if (typeof callback === 'function') {\n        callback(tab)\n      }\n    })\n  },\n\n  /**\n   * Gets all the tabs in the specified window, or current window if none specified\n   *\n   * @param windowID The id of the window to get, or null for current window\n   * @param callback Function to which to return an array of tabs\n   */\n  getAllTabsInWindow: function (\n    windowID: number | undefined,\n    callback: (tabs: chrome.tabs.Tab[]) => void,\n  ) {\n    const query: { windowId?: number; currentWindow?: boolean } = {}\n\n    if (windowID) {\n      query.windowId = windowID\n    } else {\n      query.currentWindow = true\n    }\n\n    chrome.tabs.query(query, function (tabs) {\n      if (typeof callback === 'function') {\n        callback(tabs)\n      }\n    })\n  },\n\n  /**\n   * Get the extension's version listed in the manifest.\n   *\n   * @returns {string}\n   */\n  getVersion() {\n    return chrome.runtime.getManifest().version\n  },\n\n  /**\n   * Ensure an alarm exists.\n   *\n   * @param {string} name the alarm name.\n   * @param {AlarmCreateInfo} alarmInfo The details to create the alarm with if it doesn't exist.\n   * @returns {Promise<void>}\n   */\n  async ensureAlarm(name: string, alarmInfo: any) {\n    return new Promise((res: Function) => {\n      chrome.alarms.get(name, (alarm) => {\n        if (!alarm) chrome.alarms.create(name, alarmInfo)\n        res()\n      })\n    })\n  },\n\n  /**\n   * Adds listener for chrome.runtime\n   *\n   * @param listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addRuntimeListener: function (listenTo: string, listener: Function) {\n    this.addListener('runtime', listenTo, listener)\n  },\n\n  /**\n   * Adds listener for chrome.storage\n   *\n   * @param listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addStorageListener: function (listenTo: any, listener: any) {\n    this.addListener('storage', listenTo, listener)\n  },\n\n  /**\n   * Adds listener for chrome.tabs\n   *\n   * @param listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addTabsListener: function (listenTo: any, listener: any) {\n    this.addListener('tabs', listenTo, listener)\n  },\n\n  /**\n   * Adds listener for chrome.windows\n   *\n   * @param listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addWindowsListener: function (listenTo: any, listener: any) {\n    this.addListener('windows', listenTo, listener)\n  },\n\n  /**\n   * Adds listener for chrome.alarms\n   *\n   * @param listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addAlarmsListener(listenTo: any, listener: any) {\n    this.addListener('alarms', listenTo, listener)\n  },\n\n  /**\n   * Adds listener\n   *\n   * @param _type The type of chrome API\n   * @param _listenTo The event to listen for\n   * @param listener The function to execute\n   */\n  addListener: function (_type: string, _listenTo: string, listener: Function) {\n    const typed = _type as keyof typeof chrome\n    const listenTo = _listenTo as keyof (typeof chrome)[typeof typed]\n    if (typeof chrome[typed][listenTo] !== 'undefined') {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      chrome[typed][listenTo].addListener(listener)\n    }\n  },\n\n  /**\n   * Checks whether a Chrome API exists\n   *\n   * @param _apiName The name of the API to check\n   * @param _method The API method to check\n   * @returns {*|boolean}\n   */\n  exists: function (_apiName: string | number, _method?: string | number) {\n    const apiName = _apiName as keyof typeof chrome\n    const method = _method as keyof (typeof chrome)[typeof apiName]\n\n    let exists = chrome && typeof chrome[apiName] === 'object'\n\n    if (exists && method) {\n      exists = typeof chrome[apiName][method] === 'function'\n    }\n\n    return exists\n  },\n\n  /**\n   * Throws exception to warn of improper use of Chrome API\n   */\n  throwMisusedAPIException: function () {\n    throw new Error('Improper use of chrome API in content script!')\n  },\n}\n\nexport default ChromeAPI\n","import { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Date: ReturnType<typeof DateUtils.initAPI>\n  }\n}\n\nexport type AmPm = 'am' | 'pm'\nexport interface LocalizedDate {\n  month: string\n  day: string\n  year: number\n  hours: number\n  minutes: string\n  ampm: AmPm\n}\n\n/**\n * Functions for manipulating dates and times\n *\n * @author              Warren Benedetto <wmbenedetto@gmail.com>\n * @since               March 12, 2011\n * @version             1.1.0\n */\nconst DateUtils = {\n  /**\n   * Initializes the Date API\n   *\n   * @param API\n   */\n  initAPI(API: API) {\n    return API.mixin('Date', this)\n  },\n\n  /**\n   * Parses military time (i.e. 23:44) into hour, minute, AM/PM,\n   * and display time (i.e 11:44 PM)\n   *\n   * @param militaryTime The military time to parse\n   */\n  parseMilitaryTime: function (militaryTime: string) {\n    const timeArray = militaryTime.split(':')\n    let hour = parseInt(timeArray[0], 10)\n    const min = parseInt(timeArray[1], 10)\n\n    const ampm = hour >= 12 ? 'pm' : 'am'\n    hour = hour >= 12 ? hour - 12 : hour\n\n    const displayHour = hour === 0 ? 12 : hour\n    const ampmString =\n      ampm === 'pm'\n        ? API.Chrome.Translation.get('timePM')\n        : API.Chrome.Translation.get('timeAM')\n\n    return {\n      hour: this.toTwoDigits(displayHour),\n      min: this.toTwoDigits(min),\n      ampm: ampm,\n      display: displayHour + ':' + this.toTwoDigits(min) + ' ' + ampmString,\n    }\n  },\n\n  /**\n   * Converts timestamp to display date object\n   *\n   * @param timestamp Unix timestamp\n   */\n  timestampToDisplayDate: function (timestamp: number): LocalizedDate {\n    const date = new Date(timestamp)\n    const dateObj = {} as LocalizedDate\n\n    const month = date.getMonth() + 1\n    const day = date.getDate()\n    const hours = date.getHours()\n    const minutes = date.getMinutes()\n\n    dateObj.year = date.getFullYear()\n    dateObj.month = this.toTwoDigits(month)\n    dateObj.day = this.toTwoDigits(day)\n    dateObj.minutes = this.toTwoDigits(minutes)\n\n    dateObj.ampm = (\n      hours >= 12\n        ? API.Chrome.Translation.get('timePM')\n        : API.Chrome.Translation.get('timeAM')\n    ) as AmPm\n    dateObj.hours = hours > 12 ? hours - 12 : hours\n\n    if (dateObj.hours === 0) {\n      dateObj.hours = 12\n      dateObj.ampm = API.Chrome.Translation.get('timeAM') as AmPm\n    }\n\n    return dateObj\n  },\n\n  /**\n   * Checks whether the given time has passed\n   *\n   * @param hour The hour to check\n   * @param min The minutes to check\n   * @param ampm AM or PM\n   * @param nowDate Date obj for the date to test against\n   */\n  hasTimePassed: function (\n    hour: any,\n    min: any,\n    ampm: AmPm,\n    nowDate: Date = new Date(),\n  ) {\n    hour = ampm === 'pm' ? parseInt(hour, 10) + 12 : hour\n\n    const dateString = nowDate.toDateString()\n    const testDate = new Date(dateString + ' ' + hour + ':' + min)\n\n    return testDate < nowDate\n  },\n\n  /**\n   * Checks how many seconds remain until the given time\n   *\n   * @param hour The hour to check\n   * @param min The minutes to check\n   * @param ampm AM or PM\n   * @param nowDate Date obj for the date to test against\n   */\n  secondsUntilTime: function (\n    hour: any,\n    min: any,\n    ampm: AmPm,\n    nowDate: Date = new Date(),\n  ) {\n    hour = ampm === 'pm' ? parseInt(hour, 10) + 12 : hour\n\n    const dateString = nowDate.toDateString()\n    const testDate = new Date(dateString + ' ' + hour + ':' + min)\n\n    const msRemaining = testDate.getTime() - nowDate.getTime()\n\n    return Math.floor(msRemaining / 1000)\n  },\n\n  /**\n   * Checks how many minutes remain until the given time\n   *\n   * @param hour The hour to check\n   * @param min The minutes to check\n   * @param ampm AM or PM\n   * @param nowDate Date obj for the date to test against\n   */\n  minutesUntilTime: function (hour: any, min: any, ampm: AmPm, nowDate: Date) {\n    const seconds = this.secondsUntilTime(hour, min, ampm, nowDate)\n\n    return Math.floor(seconds / 60)\n  },\n\n  /**\n   * Gets a Date object for today at the given time\n   *\n   * @param hour The hour today\n   * @param min The minutes today\n   * @param ampm AM or PM\n   * @param nowDate Date obj for the date to test against\n   */\n  getTodayDateObj: function (\n    hour: any,\n    min: any,\n    ampm: AmPm,\n    nowDate: Date = new Date(),\n  ) {\n    hour = ampm === 'pm' ? parseInt(hour, 10) + 12 : hour\n\n    const dateString = nowDate.toDateString()\n\n    return new Date(dateString + ' ' + hour + ':' + min)\n  },\n\n  /**\n   * Converts hours to milliseconds\n   *\n   * @param hours The hours to convert\n   */\n  hoursToMilliseconds: function (hours: any) {\n    return parseFloat(hours) * 60 * 60 * 1000\n  },\n\n  /**\n   * Converts time unit to milliseconds, i.e. \"2 hours\", \"12 mins\", \"4 s\"\n   *\n   * @param num The number of units\n   * @param unit The time unit\n   */\n  timeUnitToMilliseconds: function (num: any, unit: string) {\n    if (!this.isValidTimeUnit(unit)) {\n      throw new Error(\n        '[DateUtils.timeUnitToMilliseconds()] Could not convert time unit to milliseconds. \"' +\n          unit +\n          '\" is not a valid time unit.',\n      )\n    }\n\n    num = parseFloat(num)\n\n    if (this.isValidHourUnit(unit)) {\n      return num * 60 * 60 * 1000\n    } else if (this.isValidMinUnit(unit)) {\n      return num * 60 * 1000\n    } else if (this.isValidSecUnit(unit)) {\n      return num * 1000\n    } else {\n      return num\n    }\n  },\n\n  /**\n   * Checks whether string is a properly-formatted time string,\n   * in either 12-hour or 24-hour format. (i.e. 10:00 or 14:00)\n   *\n   * @param time The time to check\n   * @param format The time format. Either 12 or 24.\n   */\n  isValidTime: function (time: any, format: 12 | 24) {\n    if (\n      typeof time !== 'string' ||\n      time.indexOf(':') !== 2 ||\n      time.length !== 5\n    ) {\n      return false\n    }\n\n    format = format === 12 ? 12 : 24\n\n    const timeArray = time.split(':')\n    const hour = parseInt(timeArray[0])\n    const min = parseInt(timeArray[1])\n\n    return (\n      min >= 0 &&\n      min <= 59 &&\n      ((format === 12 && hour >= 1 && hour <= 12) ||\n        (format === 24 && hour >= 0 && hour <= 23))\n    )\n  },\n\n  /**\n   * Checks whether time unit is valid.\n   *\n   * Singular: hour, minute, second, millisecond\n   * Plural: hours, minutes, seconds, milliseconds\n   * Abbreviated: hr, min, sec, hrs, mins, secs, ms\n   *\n   * @param unit\n   */\n  isValidTimeUnit: function (unit: string) {\n    return (\n      this.isValidHourUnit(unit) ||\n      this.isValidMinUnit(unit) ||\n      this.isValidSecUnit(unit) ||\n      this.isValidMSUnit(unit)\n    )\n  },\n\n  isValidHourUnit: function (unit: string) {\n    return (\n      typeof unit === 'string' &&\n      (unit.indexOf('hour') === 0 || unit.indexOf('hr') === 0 || unit === 'h')\n    )\n  },\n\n  isValidMinUnit: function (unit: string) {\n    return (\n      typeof unit === 'string' && (unit.indexOf('min') === 0 || unit === 'm')\n    )\n  },\n\n  isValidSecUnit: function (unit: string) {\n    return (\n      typeof unit === 'string' && (unit.indexOf('sec') === 0 || unit === 's')\n    )\n  },\n\n  isValidMSUnit: function (unit: string) {\n    return (\n      typeof unit === 'string' &&\n      (unit.indexOf('millis') === 0 || unit === 'ms')\n    )\n  },\n\n  /**\n   * Converts the day number to the day word, full-length or abbreviated (i.e., Monday or Mon)\n   *\n   * @param dayNum The day number to convert\n   * @param abbreviated If true, day will be abbreviated\n   * @returns {string}\n   */\n  dayNumToDay: function (dayNum: number, abbreviated: boolean) {\n    if (dayNum < 0 || dayNum > 6) {\n      throw new Error(\n        '[DateUtils.dayNumToDay()] Day num must be between 0 and 6',\n      )\n    }\n\n    // @todo Needs to be localized\n    const days = [\n      'Sunday',\n      'Monday',\n      'Tuesday',\n      'Wednesday',\n      'Thursday',\n      'Friday',\n      'Saturday',\n    ]\n    const shortDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n\n    return abbreviated === true ? shortDays[dayNum] : days[dayNum]\n  },\n\n  /**\n   * Gets the number of days in a month\n   *\n   * @param month\n   * @param year\n   * @returns {number}\n   */\n  getDaysInMonth: function (month: number, year: any) {\n    const todayDate = new Date()\n    month = month || todayDate.getMonth()\n    // TODO: `Date.getYear()` is not a cross-browser method. It returns the year minus 1900.\n    // eslint-disable-next-line\n    // @ts-ignore\n    year = year || todayDate.getYear()\n\n    return 32 - new Date(year, month, 32).getDate()\n  },\n\n  /**\n   * Converts seconds to minutes and seconds\n   *\n   * @param totalSeconds The seconds to convert\n   * @returns {string}\n   */\n  secondsToMinsAndSecs: function (totalSeconds: number) {\n    if (totalSeconds / 60 === Math.floor(totalSeconds / 60)) {\n      // @todo Needs to be localized\n      return totalSeconds / 60 + ' minutes'\n    } else {\n      // @todo Needs to be localized\n      return (\n        Math.floor(totalSeconds / 60) +\n        ' minutes and ' +\n        (totalSeconds - Math.floor(totalSeconds / 60) * 60) +\n        ' seconds'\n      )\n    }\n  },\n\n  /**\n   * Converts number to two digits\n   *\n   * @param num The number to convert\n   */\n  toTwoDigits: function (num: number) {\n    return num < 10 ? '0' + num : num.toString()\n  },\n\n  /**\n   * Gets date in 0000-00-00 format\n   *\n   * @param date The date object to convert\n   */\n  getYMD: function (date: Date) {\n    date = date || new Date()\n    const month = this.toTwoDigits(date.getMonth() + 1)\n    const day = this.toTwoDigits(date.getDate())\n    const year = date.getFullYear()\n\n    return year + '-' + month + '-' + day\n  },\n}\n\nexport default DateUtils\n","import { API } from '~/core/API'\nimport GeneralUtils from './GeneralUtils'\n\ndeclare module '~/core/API' {\n  interface API {\n    Domain: ReturnType<typeof DomainParser.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('DomainParser')\n\n/**\n * Functions for parsing web domains: extracting base domains, full domains,\n * subdomains, url segments, etc.\n *\n * @author              Warren Benedetto <wmbenedetto@gmail.com>\n * @since               January 15, 2010\n * @version             1.0.0\n */\nconst DomainParser = {\n  /**\n   * Initializes Domain API\n   *\n   * @param API\n   */\n  initAPI(API: API) {\n    return API.mixin('Domain', {\n      extractBaseDomain: this.extractBaseDomain.bind(this),\n      extractFullDomain: this.extractFullDomain.bind(this),\n      isMoreGeneralURL: this.isMoreGeneralURL.bind(this),\n      matchesWildcard: this.matchesWildcard.bind(this),\n    })\n  },\n\n  /**\n   * Extracts the full domain from the url, including subdomain\n   *\n   * @param url The url from which to get the domain\n   * @return The domain\n   */\n  extractFullDomain: function (url: string) {\n    if (!url) {\n      return null\n    }\n\n    log('extractFullDomain', 'Extracting full domain from', url, 'TRACE')\n\n    const matches = url.match(/^(.[^/]*?:\\/\\/)?(.[^/]+)/)\n\n    if (matches === null || matches.length < 2) {\n      const urlArray = url.split('/')\n\n      return urlArray[0]\n    }\n\n    let match = matches[2]\n    if (match.startsWith('www.')) {\n      match = match.replace('www.', '')\n    }\n\n    return match\n  },\n\n  /**\n   * Extracts the base domain from the url, with subdomain stripped\n   *\n   * @param url The url from which to get the domain\n   * @return The domain\n   */\n  extractBaseDomain: function (url: string) {\n    log('extractBaseDomain', 'Extracting base domain from', url, 'TRACE')\n\n    const fullDomain = this.extractFullDomain(url)\n\n    if (!fullDomain || fullDomain.length === 0) {\n      return ''\n    }\n\n    const domainArray = fullDomain.split('.')\n\n    if (domainArray.length === 1) {\n      return fullDomain\n    }\n\n    /* Add last element from full domain to base domain. Could be like .com, or the .uk from .co.uk */\n    let baseDomain = domainArray[domainArray.length - 1]\n\n    /* Add penultimate element from full domain to base domain. Could be like stayfocusd from stayfocusd.com,\n     * or the .co from .co.uk */\n    baseDomain = domainArray[domainArray.length - 2] + '.' + baseDomain\n\n    /* If this is a multi-part domain like stayfocusd.co.uk or stayfocusd.com.mx, include the third\n     * part in the base domain. */\n    if (this.isMultiPartDomain(fullDomain)) {\n      baseDomain = domainArray[domainArray.length - 3] + '.' + baseDomain\n    }\n\n    return baseDomain\n  },\n\n  /**\n   * Checks whether domain is a multi-part domain like .co.uk, .com.mx,\n   * .mil.jp, etc.\n   *\n   * This will not catch every domain known to man. There are thousands\n   * of possibilities, especially when getting into international domains\n   * with longer words, foreign spellings, and special characters.\n   *\n   * This will only to catch the most common patterns, which is fine for\n   * the purposes of this extension.\n   *\n   * @param fullDomain The full domain, i.e. www.stayfocusd.com or www.foo.bar.co.jp\n   */\n  isMultiPartDomain: function (fullDomain: string) {\n    const logMsg = 'Is ' + fullDomain + ' multi-part domain?'\n\n    const domainArray = fullDomain.split('.')\n    let domainTokens = []\n\n    if (domainArray.length === 1) {\n      log('isMultiPartDomain', logMsg, 'NO', 'TRACE')\n\n      return false\n    }\n\n    /* Get penultimate element from full domain. Could be like the stayfocusd from stayfocusd.com,\n     * or the .co from .co.uk */\n    const penultimate = domainArray[domainArray.length - 2]\n\n    /* Penultimate can be a single character, like .a.se (yes, this exists) */\n    if (penultimate.length === 1) {\n      log('isMultiPartDomain', logMsg, 'YES', 'TRACE')\n      return true\n    }\n\n    /* Penultimate can be two characters, like .co.uk. However, domains can be two characters\n     * as well, like go.com. Therefore, we look for two chars plus more than 3 parts to a domain.\n     * That would exclude go.com or www.go.com, while including www.go.co.uk */\n    if (penultimate.length === 2 && domainArray.length > 3) {\n      log('isMultiPartDomain', logMsg, 'YES', 'TRACE')\n      return true\n    }\n\n    /* Penultimate can be a tld, like .com.cn or .net.mx. There are other 3-letter possibilities,\n     * but these are the most common */\n    if (penultimate.length === 3 && domainArray.length >= 3) {\n      domainTokens = [\n        'com',\n        'edu',\n        'gov',\n        'mil',\n        'net',\n        'org',\n        'biz',\n        'www',\n        'pro',\n        'int',\n        'web',\n        'xxx',\n      ]\n\n      for (const key in domainTokens) {\n        if (\n          domainTokens.hasOwnProperty(key) &&\n          penultimate === domainTokens[key]\n        ) {\n          log('isMultiPartDomain', logMsg, 'YES', 'TRACE')\n          return true\n        }\n      }\n    }\n\n    /* Penultimate can occasionally be four letters. There are other possibilities,\n     * but these are the most common */\n    if (penultimate.length === 4 && domainArray.length >= 3) {\n      domainTokens = [\n        'info',\n        'mobi',\n        'name',\n        'jobs',\n        'kiwi',\n        'aero',\n        'asia',\n        'coop',\n      ]\n\n      for (const key2 in domainTokens) {\n        if (\n          domainTokens.hasOwnProperty(key2) &&\n          penultimate === domainTokens[key2]\n        ) {\n          log('isMultiPartDomain', logMsg, 'YES', 'TRACE')\n\n          return true\n        }\n      }\n    }\n\n    /**\n     * Ugh. This is rough. If we got this far, we might have something like bbc.co.uk ... but we might have\n     * something like www.dn.se. The first is a multi-part domain; the second isn't. But they both have a\n     * 3-letter antepenultimate. Therefore, the only way to distinguish them is to see if the antepenultimate\n     * is www. Of course, this rule will break if the domain is foo.dn.se. Let's hope that never happens. :-P\n     */\n    if (domainArray.length >= 3) {\n      const antepenultimate = domainArray[domainArray.length - 3]\n\n      if (\n        penultimate.length === 2 &&\n        domainArray.length === 3 &&\n        antepenultimate.length > 2 &&\n        antepenultimate !== 'www'\n      ) {\n        log('isMultiPartDomain', logMsg, 'YES', 'TRACE')\n\n        return true\n      }\n    }\n\n    /* There are other rare or international domains that may have longer penultimates,\n     * but there's no point in trying to capture all of the thousands of possibilities */\n\n    log('isMultiPartDomain', logMsg, 'NO', 'TRACE')\n\n    return false\n  },\n\n  /**\n   * Checks whether one domain is more general than another\n   *\n   * @param domainToCheck The domain to check\n   * @param domainToCompare The domain to compare against\n   */\n  isMoreGeneralURL: function (\n    domainToCheck?: string,\n    domainToCompare?: string,\n  ) {\n    /* Make comparison case-insensitive */\n    domainToCheck =\n      typeof domainToCheck === 'string'\n        ? domainToCheck.toLowerCase()\n        : domainToCheck\n    domainToCompare =\n      typeof domainToCompare === 'string'\n        ? domainToCompare.toLowerCase()\n        : domainToCompare\n\n    const logMsg =\n      'Is ' + domainToCheck + ' more general than ' + domainToCompare + '?'\n\n    if (\n      domainToCheck == 'chrome-extension://' &&\n      domainToCompare?.indexOf(domainToCheck) == 0\n    )\n      return true\n\n    domainToCheck = this.stripProtocol(domainToCheck)\n    domainToCompare = this.stripProtocol(domainToCompare)\n\n    if (domainToCheck == '' && domainToCompare != '') return false\n\n    const baseDomainToCompare = this.extractBaseDomain(domainToCompare)\n\n    if (domainToCheck === domainToCompare) {\n      log('isMoreGeneralURL', logMsg, 'YES', 'TRACE')\n\n      return true\n    }\n\n    if (domainToCheck === baseDomainToCompare) {\n      log('isMoreGeneralURL', logMsg, 'YES', 'TRACE')\n\n      return true\n    }\n\n    /* For example, if the domainToCheck is stayfocusd.com, and the domainToCompare\n     * is stayfocusd.com/foo, then the indexOf domainToCheck would be 0 */\n    if (domainToCompare.indexOf(domainToCheck) === 0) {\n      log('isMoreGeneralURL', logMsg, 'YES', 'TRACE')\n\n      return true\n    }\n\n    const baseDomainToCheck = this.extractBaseDomain(domainToCheck)\n\n    /**\n     * If both domains are from the same base domain, and the domain to check is\n     * shorter than, and is a substring of, the domain to compare, and the domain\n     * to check contains either a path or query params, then the domain to check\n     * is more general.\n     *\n     * For example:\n     *\n     * domainToCheck                    = google.com/reader\n     * domainToCompare                  = www.google.com/reader/view/#stream/feed%2Fhttp%3A%2F%2Ffeedproxy.google.com%2FTechcrunch\n     *\n     * Base domains are the same?                           Yes.\n     * domainToCheck is shorter?                            Yes.\n     * domainToCheck is substring of domainToCompare?       Yes.\n     * domainToCheck has a slash or question mark?          Yes.\n     *\n     * Therefore, domainToCheck is more general.\n     */\n    if (\n      baseDomainToCheck === baseDomainToCompare &&\n      domainToCheck.length <= domainToCompare.length &&\n      domainToCompare.indexOf(domainToCheck) >= 0 &&\n      (domainToCompare.indexOf('/') >= 0 || domainToCompare.indexOf('?') >= 0)\n    ) {\n      log('isMoreGeneralURL', logMsg, 'YES', 'TRACE')\n\n      return true\n    }\n\n    /**\n     * Check if the base domain to check is a substring of the domain to compare,\n     * i.e. google.com is a substring of google.com.hk\n     */\n    if (\n      baseDomainToCompare.length > baseDomainToCheck.length &&\n      baseDomainToCompare.indexOf(domainToCheck) > -1\n    ) {\n      log('isMoreGeneralURL', logMsg, 'YES', 'TRACE')\n\n      return true\n    }\n\n    log('isMoreGeneralURL', logMsg, 'NO', 'TRACE')\n\n    return false\n  },\n\n  /**\n   * Checks whether a domain matches a wildcard rule\n   *\n   * @param wildcard The wildcard rule to match\n   * @param domainToCompare The domain to compare to the wildcard rule\n   */\n  matchesWildcard: function (wildcard: string, domainToCompare: string) {\n    if (wildcard.indexOf('*') == -1) return\n    const logMsg =\n      'Does ' + domainToCompare + ' match wildcard ' + wildcard + '?'\n\n    wildcard = wildcard.toLowerCase()\n    domainToCompare = domainToCompare.toLowerCase()\n\n    const rawWildcardString = wildcard.replace('*', '')\n    domainToCompare = domainToCompare || ''\n\n    if (domainToCompare.indexOf(rawWildcardString) === -1) {\n      log('matchesWildcard', logMsg, 'NO', 'TRACE')\n\n      return false\n    }\n\n    const domainUpToWildcard = domainToCompare.substring(\n      0,\n      domainToCompare.indexOf(rawWildcardString) + rawWildcardString.length,\n    )\n    const domainSubstring = domainToCompare.substring(\n      domainUpToWildcard.length - rawWildcardString.length,\n      domainUpToWildcard.length,\n    )\n    const result = domainSubstring === rawWildcardString\n\n    log('matchesWildcard', logMsg, result ? 'YES' : 'NO', 'TRACE')\n\n    return result\n  },\n\n  /**\n   * Strips http:// or https:// from url\n   *\n   * @param url The url to strip\n   */\n  stripProtocol: function (url?: string) {\n    if (url) {\n      return url.indexOf('://') > -1\n        ? url.slice(url.indexOf('://') + 3, url.length)\n        : url\n    } else {\n      return ''\n    }\n  },\n}\n\nexport default DomainParser\n","import Logger from '~/core/Logger'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    IncrementalRollout: ReturnType<typeof IncrementalRollout.initAPI>\n  }\n}\n\nlet api: API\n\nfunction getRemoteConfigFeatures() {\n  return api.RemoteConfig.get('incrementalRollout')\n}\n\n/**\n * Creates an object with incremental rollout utils for a given feature.\n * @param {String} feature The name of the feature.\n */\nconst defineFeature = (feature: string) => ({\n  storageKey: `@incrementalRollout/${feature}`,\n\n  /**\n   * Returns the random number that was generated for this user.\n   * @returns {Promise<Number>} A random number between 0 and 1.\n   */\n  async getMyPercent() {\n    return api.Storage.getOrSet(this.storageKey, Math.random())\n  },\n\n  /**\n   * Returns the percentage of users that should have the feature enabled.\n   * @returns {Promise<Number>} A number between 0 and 1.\n   */\n  async getEnabledPercent() {\n    const features = await getRemoteConfigFeatures()\n    return features[feature] ?? 0\n  },\n\n  /**\n   * @returns {Promise<Boolean>} Whether or not the feature is enabled.\n   */\n  async isEnabled() {\n    const enabledPercent = await this.getEnabledPercent()\n    const myPercent = await this.getMyPercent()\n    return myPercent < enabledPercent\n  },\n\n  /**\n   * Prints debug info to the console.\n   */\n  async debug() {\n    Logger.log(\n      'IncrementalRollout',\n      `Incremental rollout info:`,\n      {\n        isEnabled: await this.isEnabled(),\n        myPercent: await this.getMyPercent(),\n        enabledPercent: await this.getEnabledPercent(),\n        remoteConfig: await getRemoteConfigFeatures(),\n      },\n      'DEBUG',\n    )\n  },\n\n  /**\n   * @deprecated Should only be used only for debugging purposes.\n   *\n   * Enables the feature for this user.\n   *\n   * @example\n   * API.IncrementalRollout.AdFinder.enable();\n   */\n  async enable() {\n    await api.Storage.set({ [this.storageKey]: -1 })\n  },\n\n  /**\n   * @deprecated Should only be used only for debugging purposes.\n   *\n   * Disables the feature for this user.\n   *\n   * @example\n   * API.IncrementalRollout.AdFinder.disable();\n   */\n  async disable() {\n    await api.Storage.set({ [this.storageKey]: 2 })\n  },\n\n  /**\n   * @deprecated Should only be used only for debugging purposes.\n   *\n   * Randomly assigns a new percentage to this user.\n   *\n   * @example\n   * API.IncrementalRollout.AdFinder.randomize();\n   */\n  async randomize() {\n    await api.Storage.set({ [this.storageKey]: Math.random() })\n  },\n})\n\nconst IncrementalRollout = {\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('IncrementalRollout', {\n      AdFinder: defineFeature('ad-finder'),\n    })\n  },\n}\n\nexport default IncrementalRollout\n","import { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Requirements: ReturnType<typeof Requirements.initAPI>\n  }\n}\n\nlet api: API\n\nconst Requirements = {\n  /** @type {Promise<void> | null} */\n  initialized: null as null | Promise<void>,\n\n  onboardingSampleGroup: null,\n\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('Requirements', {\n      init: this.init.bind(this),\n      isOnboardingCompleted: this.isOnboardingCompleted.bind(this),\n      getPromptAgainAt: this.getPromptAgainAt.bind(this),\n      setPromptAgainAt: this.setPromptAgainAt.bind(this),\n      getOnboardingShownCount: this.getOnboardingShownCount.bind(this),\n      incrementOnboardingShownCount:\n        this.incrementOnboardingShownCount.bind(this),\n      getConfirmationCount: this.getConfirmationCount.bind(this),\n      incrementConfirmationCount: this.incrementConfirmationCount.bind(this),\n      isUnder18: this.isUnder18.bind(this),\n    })\n  },\n\n  /**\n   * @returns {Promise<void>}\n   */\n  async init() {\n    if (this.initialized != null) return\n\n    const { promise, resolve, reject } = api.Utils.getDecoupledPromise()\n    this.initialized = promise\n\n    this.onboardingSampleGroup = await api.Storage.getOrSet(\n      'onboardingSampleGroup',\n      100 * Math.random(),\n    )\n\n    try {\n      await Promise.all([api.Settings.initAsync(), api.RemoteConfig.init()])\n      resolve()\n    } catch (err) {\n      reject(err)\n    }\n  },\n\n  /**\n   * Checks if the user needs to complete onboarding. Based off the A/B onboarding enabled\n   * percent, and the options selected when the user last performed onboarding.\n   * @returns {Promise<boolean>}\n   */\n  async isOnboardingCompleted() {\n    const now = Date.now()\n\n    if (this.initialized == null) {\n      throw Error(\n        'You must call `API.Requirements.init()` before calling `isOnboardingCompleted()`',\n      )\n    }\n    await this.initialized\n\n    const enabledPercentInt = api.RemoteConfig.get(\n      'onboardingEnabledPercentInt2',\n    )\n    const isGroupEnabled = this.onboardingSampleGroup! < enabledPercentInt\n    if (!isGroupEnabled) return true\n\n    const isUnder18 = this.isUnder18()\n    if (isUnder18) return true\n\n    const hasDeclinedPP = api.Settings.get('explicitlyDeclinedPrivacyPolicy')\n    if (hasDeclinedPP) return true\n\n    const hasAcceptedToS = api.Settings.get('hasAcceptedToS')\n    if (!hasAcceptedToS) return false\n\n    const hasAcceptedPP = api.Settings.get('hasAcceptedPrivacyPolicy')\n    const promptAgainAt = await this.getPromptAgainAt()\n    const confirmationCount = await this.getConfirmationCount()\n    return !!hasAcceptedPP || now < promptAgainAt || confirmationCount > 3\n  },\n\n  /**\n   * Gets the next time the onboarding prompt should be shown if user clicked delayed their\n   * decision.\n   *\n   * @returns {Promise<number>}\n   */\n  async getPromptAgainAt() {\n    const time = await api.Storage.get('showOnboardingAgainAt')\n    return time ?? 0\n  },\n\n  /**\n   * @param {number} time The time in MS since Epoch that the user should be prompted again at.\n   * @returns {Promise<void>}\n   */\n  setPromptAgainAt(time: number) {\n    return api.Storage.set({ showOnboardingAgainAt: time })\n  },\n\n  /**\n   * @returns {Promise<number>} The total number of times the user has seen the onboarding\n   */\n  async getOnboardingShownCount(): Promise<number> {\n    const count = await api.Storage.get('onboardingShownCount')\n    return count ?? 0\n  },\n\n  /**\n   * Adds 1 to the onboarding shown count.\n   *\n   * @returns {Promise<void>}\n   */\n  async incrementOnboardingShownCount() {\n    const count = await this.getOnboardingShownCount()\n    await api.Storage.set({ onboardingShownCount: count + 1 })\n  },\n\n  /**\n   * @returns {Promise<number>} The total number of times the user has declined the privacy policy confirmation\n   */\n  async getConfirmationCount() {\n    const count = await api.Storage.get('privacyPolicyConfirmationCount')\n    return count ?? 0\n  },\n\n  /**\n   * Adds 1 to the privacy policy confirmation count.\n   *\n   * @returns {Promise<void>}\n   */\n  async incrementConfirmationCount() {\n    const count = await this.getConfirmationCount()\n    await api.Storage.set({ privacyPolicyConfirmationCount: count + 1 })\n  },\n\n  /**\n   * Returns true when the user is under 18. Returns false when not selected, or has checked \"is 18 or older box\"\n   * @returns {Promise<boolean>}\n   */\n  isUnder18() {\n    const is18OrOlder = api.Settings.get('is18OrOlder')\n    if (is18OrOlder) return false\n\n    const age = api.Settings.get('age')\n    return age && age < 18\n  },\n\n  /**\n   * @returns {boolean} True if the current hour is known to be an effective time of day for prompting the user to complete onboarding.\n   */\n  isEffectiveHourOfDay() {\n    const ineffectiveHours = [3, 22, 13, 9, 8, 5, 11, 2, 12, 14, 4, 1]\n    const currentHour = new Date().getHours()\n    return !ineffectiveHours.includes(currentHour)\n  },\n}\n\nexport default Requirements\n","import ObjectUtils from './ObjectUtils'\nimport GeneralUtils from './GeneralUtils'\nimport { API } from './API'\n\nconst log = GeneralUtils.createScopedLog('Storage')\n\ndeclare module '~/core/API' {\n  interface API {\n    Storage: ReturnType<typeof Storage.initAPI>\n  }\n}\n\nlet api: API\n\nexport type BucketType = 'SYNC' | 'LOCAL'\n\n/**\n * Storage singleton definition\n */\nconst Storage = {\n  LOCAL: 1 as const,\n  SYNC: 2 as const,\n\n  /**\n   * Storage map. Map of storage keys to the\n   * bucket in which they should be stored\n   */\n  map: null as Record<string, any> | null,\n\n  /**\n   * Cache of values from storage, so we don't have to\n   * hit Chrome's storage API on every request.\n   */\n  cache: {} as Record<string, any>,\n\n  /**\n   * Initializes Storage API\n   *\n   * @param theAPI\n   */\n  initAPI: function (theAPI: API) {\n    api = theAPI\n\n    return api.mixin('Storage', {\n      addOnChangeListener: this.addOnChangeListener.bind(this),\n      init: this.init.bind(this),\n      initAsync: this.initAsync.bind(this),\n      get: this.get.bind(this),\n      getOrSet: this.getOrSet.bind(this),\n      getAll: this.getAll.bind(this),\n      set: this.set.bind(this),\n      merge: this.merge.bind(this),\n      remove: this.remove.bind(this),\n      setBucket: this.setBucket.bind(this),\n    })\n  },\n\n  /**\n   * Loads storage map from sync storage\n   *\n   * @param {() => void} callback Function to call once map is loaded\n   */\n  init: async function (callback: Function) {\n    log('init', 'Initializing storage', null, 'DEBUG')\n\n    this.cache = {}\n    this.map = null\n\n    const map: Record<string, any> = await this.getSynced('storageMap')\n    log('init', 'Storage initialization complete', map, 'DEBUG')\n\n    if (typeof map !== 'undefined') {\n      this.map = map\n    } else {\n      this.map = {}\n      await this.saveMap()\n    }\n\n    if (typeof callback === 'function') {\n      callback()\n    }\n  },\n  /**\n   * @returns {Promise<void>}\n   */\n  initAsync(): Promise<void> {\n    return new Promise((res) => this.init(res))\n  },\n\n  /**\n   * Gets value from storage\n   *\n   * @param key The key to retrieve\n   * @param callback Function to which retrieved value is returned\n   * @param forceRefresh If true, won't pull from cache\n   */\n  get: async function (key: string, forceRefresh: boolean = false) {\n    let data: any\n    if (this.inCache(key) && !forceRefresh) {\n      data = this.getCached(key)\n    } else if (this.inSync(key)) {\n      data = await this.getSynced(key)\n    } else {\n      data = await this.getLocal(key)\n    }\n    return data\n  },\n\n  /**\n   * Gets a value from storage, or if the value is null or undefined, sets and returns a\n   * default value.\n   *\n   * @param {string} key The storage key\n   * @param {T} defaultValue The value to set and return if the key doesn't exist yet\n   * @param {boolean?} forceRefresh If true, won't pull from cache when getting the value\n   * @returns {Promise<T>}\n   */\n  async getOrSet(\n    key: string,\n    defaultValue: any,\n    forceRefresh: boolean = false,\n  ) {\n    let value = await this.get(key, forceRefresh)\n    if (value == null) {\n      value = defaultValue\n      await this.set({ [key]: value })\n    }\n    return value\n  },\n\n  /**\n   * Gets value from storage, forcing it to bypass the cache\n   *\n   * @param key The key to retrieve\n   * @param callback Function to which retrieved value is returned\n   */\n  refresh: async function (key: string) {\n    const data = await this.get(key, true)\n    return data\n  },\n\n  /**\n   * Gets all values from bucket\n   *\n   * @param _bucket SYNC, LOCAL, or HTML5. If null, gets object with data from all three buckets\n   * @param callback Function to which to return values\n   */\n  getAll: async function (\n    _bucket: BucketType | null,\n  ): Promise<Record<string, any>> {\n    const bucket = (\n      typeof _bucket === 'string' ? _bucket.toUpperCase() : _bucket\n    ) as BucketType | null\n\n    if (!bucket) {\n      const settings: Record<string, any> = {}\n\n      const [sync, local]: Record<string, any>[] = await Promise.all([\n        api.Chrome.Storage.getSync(null),\n        api.Chrome.Storage.getLocal(null),\n      ])\n      settings.SYNC = sync\n      settings.LOCAL = local\n\n      return settings\n    } else if (bucket === 'SYNC') {\n      return await api.Chrome.Storage.getSync(null)\n    } else if (bucket === 'LOCAL') {\n      return await api.Chrome.Storage.getLocal(null)\n    }\n    return {}\n  },\n\n  /**\n   * Stores key:value pairs, routing each pair into\n   * the appropriate storage bucket\n   *\n   * @param obj Object contains key:value pairs to save\n   * @param callback Function to call once value is set\n   * @param bucket Specifies a bucket to which the pairs should be routed.\n   *               Overrides (but doesn't replace) values set by setBucket()\n   */\n  set: async function (obj: any, _bucket: null | string = null) {\n    const bucket = typeof _bucket === 'string' ? _bucket.toUpperCase() : null\n\n    const sync: Record<string, any> = {}\n    const local: Record<string, any> = {}\n    let hasSync = false\n    let hasLocal = false\n\n    /* Split pairs into local and sync storage buckets\n     * based on the keys' value in the storage map */\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        if (this.inSync(key) || bucket === 'SYNC') {\n          sync[key] = obj[key]\n          hasSync = true\n        } else {\n          local[key] = obj[key]\n          hasLocal = true\n        }\n      }\n    }\n\n    /**\n     * Separately save pairs to sync and local storage,\n     * only calling callback when both processes are complete\n     */\n    const promises: Promise<void>[] = []\n    if (hasSync) {\n      promises.push(this.setSynced(sync))\n    }\n\n    if (hasLocal) {\n      promises.push(this.setLocal(local))\n    }\n\n    await Promise.all(promises)\n  },\n\n  /**\n   * Removes value from storage\n   *\n   * @param key The key to remove\n   * @param callback Function to call once value is removed\n   * @param bucket Specifies a bucket from which to remove value\n   *               Overrides (but doesn't replace) values set by setBucket()\n   */\n  remove: async function (key: string, bucket?: null | BucketType) {\n    if (this.inSync(key) || bucket === 'SYNC') {\n      await this.removeSynced(key)\n    } else {\n      await this.removeLocal(key)\n    }\n\n    if (typeof this.map?.[key] !== 'undefined') {\n      delete this.map[key]\n      await this.saveMap()\n    }\n  },\n\n  /**\n   * Merges object properties of a value in one bucket into the object\n   * properties of the value in another bucket.\n   *\n   * For example:\n   *\n   * IN SYNC:\n   *\n   * foo = { a : 1, b : 2 }\n   *\n   * IN LOCAL:\n   *\n   * foo = { c : 3 }\n   *\n   * Merging to SYNC from LOCAL would result in:\n   *\n   * foo = { a : 1, b : 2, c : 3 }\n   *\n   * @param key The key to merge\n   * @param to The bucket to which to merge\n   * @param from The bucket from which to merge\n   */\n  merge: async function (key: string, to: BucketType, from: BucketType) {\n    log(\n      'merge',\n      'Merging ' + key + ' from ' + from + ' to ' + to,\n      null,\n      'TRACE',\n    )\n\n    if (from === 'SYNC') {\n      const source: Record<string, any> = await this.getSynced(key)\n      const target: Record<string, any> = await this.getLocal(key)\n      await this.doMerge(key, to, target, source)\n    } else if (from === 'LOCAL') {\n      const source: Record<string, any> = await this.getLocal(key)\n      const target: Record<string, any> = await this.getSynced(key)\n      await this.doMerge(key, to, target, source)\n    }\n  },\n\n  /**\n   * Merges source object into target object, saving target object\n   * to bucket specified by \"to\" argument\n   *\n   * @param key The key to use when saving merged object\n   * @param to The bucket to which to save the merged object\n   * @param target The target object\n   * @param source The source object\n   * @param callback Function to call when merge is complete\n   */\n  doMerge: async function (\n    key: string,\n    to: BucketType,\n    target: Record<string, any>,\n    source: Record<string, any>,\n  ) {\n    target = ObjectUtils.isObjLiteral(target) ? target : {}\n    source = ObjectUtils.isObjLiteral(source) ? source : {}\n\n    await this.remove(key)\n    await this.setBucket(key, to, true)\n\n    const obj: Record<string, any> = {}\n    obj[key] = ObjectUtils.merge(target, source, true)\n\n    await this.set(obj)\n  },\n\n  /**\n   * Adds a key (or array of keys) to the specified storage bucket\n   *\n   * @param key The key (or array of keys) to add\n   * @param bucket The bucket to which the keys should be added\n   * @param skipMigration If true, value is not migrated from one bucket to the other\n   */\n  setBucket: async function (\n    _key: string | string[],\n    bucket?: BucketType,\n    skipMigration: boolean = false,\n  ) {\n    /* If array of keys is sent, set the bucket for each individually */\n    if (this.isArray(_key)) {\n      const key = _key as string[]\n      for (let i = 0; i < key.length; i++) {\n        await this.setBucket(key[i], bucket, skipMigration)\n      }\n    } else if (typeof _key === 'string') {\n      const key = _key as string\n      /* Set bucket for individual key */\n      if (typeof bucket === 'string') {\n        bucket = bucket.toUpperCase() as BucketType\n      }\n\n      bucket =\n        typeof this[bucket as keyof typeof this] !== 'undefined'\n          ? bucket\n          : 'LOCAL'\n\n      log(\n        'setBucket',\n        'Adding ' + key + ' to ' + bucket + ' storage bucket',\n        null,\n        'TRACE',\n      )\n\n      this.map![key] = this[bucket as keyof typeof this]\n      await this.saveMap()\n\n      if (skipMigration !== true) {\n        await this.migrate(key, bucket!)\n      }\n    }\n  },\n\n  /**\n   * Saves storage map to sync storage\n   */\n  saveMap: async function (_map?: Record<string, any>) {\n    const map = (_map ?? this.map) as Record<string, any>\n\n    await this.setSynced({\n      storageMap: map,\n    })\n  },\n\n  /**\n   * Migrates value from one storage bucket to another (LOCAL to SYNC or vice versa)\n   *\n   * @param key The key to migrate\n   * @param to The target storage bucket\n   */\n  migrate: async function (key: string, to: BucketType) {\n    const from = to === 'SYNC' ? 'LOCAL' : 'SYNC'\n\n    log(\n      'migrate',\n      'Migrating ' + key + ' from ' + from + ' to ' + to,\n      null,\n      'DEBUG',\n    )\n\n    if (to === 'SYNC') {\n      const value: any = await this.getLocal(key)\n      const obj: Record<string, any> = {}\n      obj[key] = value\n\n      await this.removeLocal(key)\n      await this.setSynced(obj)\n    } else if (to === 'LOCAL') {\n      const value: any = await this.getSynced(key)\n      const obj: Record<string, any> = {}\n      obj[key] = value\n      await this.removeSynced(key)\n      await this.setLocal(obj)\n    }\n  },\n\n  /**\n   * Adds listener for when storage changes\n   *\n   * @param listener Function to call when storage changes\n   */\n  addOnChangeListener: function (\n    listener: (changes: Record<string, any>, areaName: string) => void,\n  ) {\n    listener = typeof listener === 'function' ? listener : function () {}\n\n    api.Chrome.Storage.addListener('onChanged', listener)\n  },\n\n  /**\n   * Checks whether the value has been cached\n   *\n   * @param key The key to check\n   * @returns {boolean}\n   */\n  inCache: function (key: string) {\n    return typeof this.cache[key] !== 'undefined'\n  },\n\n  /**\n   * Checks whether key is stored in sync storage\n   *\n   * @param key The key to check\n   * @returns {boolean}\n   */\n  inSync: function (key: string) {\n    return this.map![key] === this.SYNC\n  },\n\n  /**\n   * Checks whether key is stored in local storage\n   *\n   * @param key The key to check\n   * @returns {boolean}\n   */\n  inLocal: function (key: string) {\n    return this.map![key] === this.LOCAL\n  },\n\n  /**\n   * Stores value in cache\n   *\n   * @param items Object with key:value pairs to store\n   */\n  setCached: function (items: Record<string, any>) {\n    log('setCached', 'Storing items in cache', items, 'TRACE')\n\n    for (const i in items) {\n      if (items.hasOwnProperty(i)) {\n        this.cache[i] = items[i]\n      }\n    }\n  },\n\n  /**\n   * Gets value from cache\n   *\n   * @param key The key to retrieve\n   * @returns {*}\n   */\n  getCached: function (key: string) {\n    log('getCached', 'Getting ' + key + ' from cache', null, 'TRACE')\n\n    return this.cache[key]\n  },\n\n  /**\n   * Removes value from cache\n   *\n   * @param key The key to remove\n   */\n  removeCached: function (key: string) {\n    log('removeCached', 'Removing ' + key + ' from cache', null, 'TRACE')\n\n    delete this.cache[key]\n  },\n\n  /**\n   * Stores items in sync storage, with a backup stored in localStorage\n   *\n   * @param items Object with key:value pairs to store\n   * @param callback Function to call after value is stored\n   */\n  setSynced: async function (\n    items: Record<string, any>,\n    callback: () => void = () => {},\n  ) {\n    log('setSynced', 'Storing items in sync storage', items, 'TRACE')\n\n    this.setCached(items)\n\n    await api.Chrome.Storage.setSync(items, callback)\n  },\n\n  /**\n   * Gets value from sync storage\n   *\n   * @param key The key to retrieve from storage\n   * @param callback Function to which retrieved value is returned\n   */\n  getSynced: async function (key: string) {\n    log('getSynced', 'Getting ' + key + ' from sync storage', null, 'TRACE')\n\n    const items: Record<string, any> = await api.Chrome.Storage.getSync(key)\n    if (typeof key === 'string') {\n      log(\n        'getSynced',\n        key + ' retrieved from sync storage:',\n        items[key],\n        'TRACE',\n      )\n\n      this.setCached(items)\n\n      return items[key]\n    } else {\n      log('getSynced', 'Data retrieved from sync storage:', items, 'TRACE')\n      return items\n    }\n  },\n\n  /**\n   * Removes value from sync storage\n   *\n   * @param key The key to remove from storage\n   * @param callback Function to call once value is removed\n   */\n  removeSynced: async function (key: string) {\n    log('removeSynced', 'Removing ' + key + ' from sync storage', null, 'TRACE')\n\n    this.removeCached(key)\n\n    await api.Chrome.Storage.removeSync(key)\n  },\n\n  /**\n   * Stores items in Chrome local storage\n   *\n   * @param items Object with key:value pairs to store\n   * @param callback Function to call after value is stored\n   */\n  setLocal: async function (items: Record<string, any>) {\n    log('setLocal', 'Storing items in Chrome local storage', items, 'TRACE')\n\n    this.setCached(items)\n\n    await api.Chrome.Storage.setLocal(items)\n  },\n\n  /**\n   * Gets value from Chrome local storage\n   *\n   * If value is not found in Chrome local storage, tries to find it in HTML5 localStorage\n   * (for legacy support). If value is found in HTML5 localStorage, it is saved to Chrome local\n   * storage so it will be there from now on.\n   *\n   * @param key The key to retrieve from storage\n   */\n  getLocal: async function (key: string) {\n    log('getLocal', 'Getting data from Chrome local storage', key, 'TRACE')\n\n    /* Try to get value from Chrome local storage */\n    let items: Record<string, any> = await api.Chrome.Storage.getLocal(key)\n    if (typeof key === 'string') {\n      items = items || {}\n      let value = items[key]\n\n      /* If value is not found in Chrome local storage, try to get it from\n       * HTML5 localStorage */\n      if (typeof value === 'undefined' || value === null) {\n        value = await this.getFromLocalStorageBackup(key)\n      }\n\n      log('getLocal', key + ' retrieved from local storage:', value, 'TRACE')\n\n      const cacheObj: Record<string, any> = {}\n      cacheObj[key] = value\n\n      this.setCached(cacheObj)\n\n      return value\n    } else {\n      log('getLocal', 'Data retrieved from local storage:', items, 'TRACE')\n\n      return items\n    }\n  },\n\n  /**\n   * Retrieves value from HTML5 local storage backup\n   *\n   * @param key The key to retrieve\n   * @returns {*}\n   */\n  getFromLocalStorageBackup: async function (key: string): Promise<any> {\n    log(\n      'getFromLocalStorageBackup',\n      'Getting ' + key + ' from HTML5 localStorage',\n      null,\n      'TRACE',\n    )\n\n    let value = null\n    const val = await chrome.storage.local.get(key)\n    if (val == null) return null\n    const lsValue = val[key]\n\n    /* If value found in HTML5 localStorage, save it in Chrome local\n     * storage for future retrieval requests */\n    if (typeof lsValue !== 'undefined' && lsValue !== null) {\n      log('getLocal', key + ' found in HTML5 localStorage:', lsValue, 'TRACE')\n\n      /* Try to decode localStorage value as JSON */\n      try {\n        value = JSON.parse(lsValue)\n      } catch (e) {\n        /* If JSON decode fails, use raw localStorage value */\n        value = lsValue\n      }\n\n      /* Store HTML5 localStorage value in Chrome local storage */\n      const obj: Record<string, any> = {}\n      obj[key] = value\n\n      await this.setLocal(obj)\n    }\n\n    return value\n  },\n\n  /**\n   * Removes value from Chrome local storage (not HTML5 localStorage)\n   *\n   * @param key The key to remove from storage\n   * @param callback Function to call once value is removed\n   */\n  removeLocal: async function (key: string) {\n    log(\n      'removeLocal',\n      'Removing ' + key + ' from Chrome local storage',\n      null,\n      'TRACE',\n    )\n\n    this.removeCached(key)\n\n    await api.Chrome.Storage.removeLocal(key)\n  },\n\n  /**\n   * Checks whether object is an array\n   *\n   * @param obj The object to check\n   * @returns {boolean}\n   */\n  isArray: function (obj: any) {\n    return (\n      typeof obj === 'object' && obj !== null && typeof obj.length === 'number'\n    )\n  },\n}\n\nexport default Storage\n","import Storage, { BucketType } from './Storage'\nimport { API } from './API'\nimport GeneralUtils from './GeneralUtils'\n\ndeclare module '~/core/API' {\n  interface API {\n    Settings: ReturnType<typeof Settings.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('Settings')\n\nlet api: API\n\nconst keys = [\n  'activeDays',\n  'activeHours',\n  'activeHoursQueue',\n  'blacklist',\n  'challengeRequired',\n  'challengeText',\n  'customStayFocusdMsg',\n  'disableActivityMonitor',\n  'disableSync',\n  'disableUpdatePopup',\n  'firstInstallDate',\n  'firstInstallAllowanceExpiration',\n  'hideAllowSiteLink',\n  'maxTimeAllowed',\n  'notificationSettings',\n  'nuclearOptionSettings',\n  'productivityBypass',\n  'resetTimeQueue',\n  'resetTimestamp',\n  'resetTime',\n  'whitelist',\n  'hasAcceptedToS', // boolean | undefined | null\n  'hasAcceptedPrivacyPolicy', // boolean | undefined | null\n  'explicitlyDeclinedPrivacyPolicy', // boolean | undefined | null\n  'is18OrOlder', // boolean | undefined | null\n  'age', // number | undefined | null\n  'isNewUser', // boolean | undefined | null\n  'promptBirthYearAt', // number | undefined | null\n  'promptBirthYearInterval', // number | undefined | null\n  'promptReview', // boolean | undefined | null\n  'promptReviewAt', // number | undefined | null\n  'promptReviewInterval', // number | undefined | null\n  'promptSurvey', // boolean | undefined | null\n  'promptSurveyAt', // number | undefined | null\n  'promptSurveyInterval', // number | undefined | null\n  'debugActivityMonitor', // boolean | undefined | null - will be used for e2e testing\n  'blockedGroups', // BlockGroup[] | undefined\n  'isBlockAllWebsites', // boolean | undefined | null\n  'blockAllWebsitesAllowedTime', // number | undefined | null\n  'blockAllWebsitesElapsedTime', // number | undefined | null\n  'showedInitialTutorial', // boolean | undefined | null\n  'desktopPromoDismissed', // boolean | undefined | null\n  'whitelistNew', // string[] | undefined | null\n  'activated', // boolean | undefined | null\n  'isActivateSwitchShown',\n]\n\ntype SettingsKey = (typeof keys)[number]\n\n/**\n * Settings singleton definition\n */\nconst Settings = {\n  /* Maximum number of backup versions to maintain */\n  MAX_BACKUP_VERSIONS: 5,\n  keys: keys,\n  cache: {} as Record<string, any>,\n  backupKeys: [] as string[],\n  initialized: false,\n\n  /**\n   * Initializes Settings API\n   *\n   * @param theAPI\n   */\n  initAPI: function (theAPI: API) {\n    api = theAPI\n\n    return api.mixin('Settings', {\n      init: this.init.bind(this),\n      initAsync: this.initAsync.bind(this),\n      get: this.get.bind(this),\n      set: this.set.bind(this),\n      setAsync: this.setAsync.bind(this),\n      refresh: this.refresh.bind(this),\n      remove: this.remove.bind(this),\n      restoreBackup: this.restoreBackup.bind(this),\n      isInitialized: this.isInitialized.bind(this),\n    })\n  },\n\n  /**\n   * Initializes settings by retrieving keys from storage and\n   * caching them in this object.\n   *\n   * @param {() => void} callback Function to call when all settings are loaded\n   */\n  init: function (callback: Function | undefined) {\n    /* If settings are already initialized, just execute callback */\n    if (this.initialized) {\n      log('init', 'Settings already initialized', this.keys, 'DEBUG')\n\n      if (typeof callback === 'function') {\n        callback()\n      }\n    } else {\n      log('init', 'Initializing Settings', this.keys, 'DEBUG')\n\n      this.initialized = true\n      this.cache = {}\n\n      Storage.init(() => {\n        this.initBackups()\n        this.refresh(callback)\n      })\n    }\n  },\n  /**\n   * @returns {Promise<void>}\n   */\n  initAsync() {\n    return new Promise((res) => this.init(res))\n  },\n\n  /**\n   * Refreshes settings from Storage\n   *\n   * @param callback Function to call when all settings have been refreshed\n   */\n  refresh: function (callback?: Function) {\n    log('refresh', 'Refreshing Settings', this.keys, 'TRACE')\n\n    let initCount = 0\n    const numKeys = this.keys.length\n\n    const refreshKey = (key: string) => {\n      /* Gets each value and caches it in memory */\n      Storage.refresh(key).then((value: any) => {\n        this.cache[key] = typeof value !== 'undefined' ? value : null\n        initCount++\n\n        if (initCount === numKeys) {\n          log('refresh', 'Settings refreshed', null, 'TRACE')\n\n          if (typeof callback === 'function') {\n            callback()\n          }\n        }\n      })\n    }\n\n    for (let i = 0; i < numKeys; i++) {\n      refreshKey(this.keys[i])\n    }\n  },\n\n  /**\n   * Retrieves settings value\n   *\n   * @param key The setting to retrieve\n   * @param defaultValue\n   * @returns {*}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  get: function (key: SettingsKey, defaultValue?: any) {\n    if (!this.inCache(key)) {\n      throw new Error(\n        '[Settings.get()] ' +\n          key +\n          ' is not registered as a key in Settings.js',\n      )\n    }\n\n    return this.cache[key] !== null ? this.cache[key] : defaultValue\n  },\n\n  /**\n   * Stores setting value(s)\n   *\n   * @param items Object with key:value pairs to store\n   * @param callback Function to call once settings are saved\n   * @param bucket Specifies a bucket to which the value(s) should be routed.\n   * @param allowUnregisteredSettings If true, unregistered settings will be allowed\n   */\n  set(\n    items: Record<SettingsKey, any>,\n    callback?: Function,\n    bucket?: BucketType | null,\n    allowUnregisteredSettings?: boolean,\n  ) {\n    this.saveBackup()\n\n    for (const _key in items) {\n      const key = _key as SettingsKey\n      if (items.hasOwnProperty(key)) {\n        if (!this.inCache(key) && !allowUnregisteredSettings) {\n          throw new Error(\n            '[Settings.get()] ' +\n              key +\n              ' is not registered as a key in Settings.js',\n          )\n        }\n\n        this.cache[key] = items[key]\n      }\n    }\n\n    Storage.set(items, bucket).then(() => {\n      if (typeof callback === 'function') {\n        callback()\n      }\n    })\n  },\n  /**\n   * Same as `set`, but async.\n   */\n  setAsync(\n    items: Record<SettingsKey, any>,\n    bucket?: BucketType,\n    allowUnregisteredSettings?: boolean,\n  ): Promise<unknown> {\n    return new Promise((res) =>\n      this.set(items, res, bucket, allowUnregisteredSettings),\n    )\n  },\n\n  /**\n   * Removes value from settings\n   *\n   * @param key The key to remove\n   */\n  remove: function (key: SettingsKey) {\n    if (this.inCache(key)) {\n      this.cache[key] = null\n    }\n\n    Storage.remove(key)\n  },\n\n  /**\n   * Initializes backups by loading backup keys and deleting\n   * and orphaned backups\n   */\n  initBackups: function () {\n    Storage.get('backupKeys').then((backupKeys: string | undefined) => {\n      this.backupKeys =\n        typeof backupKeys === 'string' ? JSON.parse(backupKeys) : []\n\n      this.deleteOrphanedBackups(this.backupKeys)\n    })\n  },\n\n  /**\n   * Saves backup of settings\n   */\n  saveBackup: async function () {\n    const key = 'backup-' + new Date().getTime()\n\n    log('saveBackup', 'Saving backup: ' + key, this.cache, 'TRACE')\n\n    /* If the max number of backup versions has been reached, prune backups */\n    if (this.backupKeys.length >= this.MAX_BACKUP_VERSIONS) {\n      this.pruneBackups()\n    }\n\n    this.backupKeys.unshift(key)\n\n    const obj: Record<string, any> = {}\n    obj[key] = JSON.stringify(this.cache)\n    obj.backupKeys = JSON.stringify(this.backupKeys)\n\n    await Storage.setBucket(key)\n    await Storage.set(obj)\n    log('saveBackup', 'Backup saved', null, 'TRACE')\n  },\n\n  /**\n   * Restores settings backup\n   *\n   * @returns {boolean}\n   * @param _version\n   */\n  restoreBackup: function (_version = undefined) {\n    const version = _version || this.backupKeys.shift()\n\n    if (!version) {\n      log('restoreBackup', 'No backup available to restore', null, 'WARN')\n      return false\n    }\n\n    log('restoreBackup', 'Restoring backup', version, 'DEBUG')\n\n    Storage.get(version).then((backupString?: string) => {\n      log('restoreBackup', 'Backup loaded', version, 'DEBUG')\n\n      if (typeof backupString === 'string') {\n        try {\n          const backup = JSON.parse(backupString)\n\n          Storage.set(backup).then(async () => {\n            await Storage.remove(version)\n\n            log('restoreBackup', 'Backup restored', version, 'DEBUG')\n\n            await Storage.set({ backupKeys: JSON.stringify(this.backupKeys) })\n            api.Chrome.Extension.reload()\n          })\n        } catch (e) {\n          log(\n            'restoreBackup',\n            'Backup failed. Error parsing backup JSON.',\n            version,\n            'DEBUG',\n          )\n\n          /* Try to roll back to earlier version */\n          this.restoreBackup()\n        }\n      } else {\n        log(\n          'restoreBackup',\n          \"Backup failed. Backup wasn't a string.\",\n          version,\n          'DEBUG',\n        )\n\n        /* Try to roll back to earlier version */\n        this.restoreBackup()\n      }\n    })\n    return true\n  },\n\n  /**\n   * Deletes oldest backup from storage\n   */\n  pruneBackups: function () {\n    if (this.isArray(this.backupKeys)) {\n      const oldKey = this.backupKeys.pop()\n\n      log('pruneBackups', 'Pruning backup: ' + oldKey, null, 'TRACE')\n\n      Storage.remove(oldKey!)\n    }\n  },\n\n  /**\n   * Deletes any backups in HTML5 localStorage which aren't currently in the\n   * backupKeys array\n   *\n   * @param backupKeys Array of keys for valid backups\n   */\n  deleteOrphanedBackups: function (backupKeys: string[]) {\n    log('deleteOrphanedBackups', 'Deleting orphaned backups', null, 'TRACE')\n\n    const validBackupKeys: Record<string, any> = {}\n\n    /* Create object to use as lookup for backup keys from local storage */\n    for (let i = 0; i < backupKeys.length; i++) {\n      validBackupKeys[backupKeys[i]] = 1\n    }\n\n    /* Gets storage map */\n    Storage.get('storageMap').then((data: Record<string, any>) => {\n      let hasChanged = false\n\n      for (const item in data) {\n        if (data.hasOwnProperty(item)) {\n          /* If it's a backup key but isn't a valid backup, delete it */\n          if (item.indexOf('backup-') === 0 && !(item in validBackupKeys)) {\n            delete data[item]\n            hasChanged = true\n          }\n        }\n      }\n\n      /* Updated storage map if needed */\n      if (hasChanged) {\n        Storage.saveMap(data)\n      }\n    })\n  },\n\n  /**\n   * Checks whether setting is in cache\n   *\n   * @param key The setting to check\n   * @returns {boolean}\n   */\n  inCache: function (key: SettingsKey) {\n    return typeof this.cache[key] !== 'undefined'\n  },\n\n  /**\n   * Checks whether object is an array\n   *\n   * @param obj The object to check\n   * @returns {boolean}\n   */\n  isArray: function (obj: any) {\n    return (\n      typeof obj === 'object' && obj !== null && typeof obj.length === 'number'\n    )\n  },\n\n  isInitialized() {\n    return this.initialized\n  },\n}\n\nexport default Settings\n","import { API } from '~/core/API'\n\nexport const SECOND = 1000\nexport const MINUTE = 60 * SECOND\nexport const HOUR = 60 * MINUTE\nexport const DAY = 24 * HOUR\nexport const WEEK = 7 * DAY\nexport const MONTH = 30 * DAY\nexport const MINUTE_IN_SEC = 60\nexport const HOUR_IN_SEC = 60 * MINUTE_IN_SEC\nexport const DAY_IN_SEC = 24 * HOUR_IN_SEC\n\nexport const MAX_TIME_ALLOWED_DEFAULT = MINUTE_IN_SEC * 10\n\nexport type TimeInterval =\n  | typeof DAY\n  | typeof HOUR\n  | typeof MINUTE\n  | typeof SECOND\n  | typeof WEEK\n  | typeof MONTH\n\nexport type DetailedTime = {\n  hours: number\n  minutes: number\n  seconds: number\n}\n\nconst Time = {\n  /**\n   * Returns the milliseconds since Epoch for the start of today.\n   */\n  getToday() {\n    return Time.getStartOfDay(new Date())\n  },\n\n  /**\n   * Returns the milliseconds since Epoch for the end of today.\n   */\n  getEndOfToday() {\n    return Time.getEndOfDay(new Date())\n  },\n\n  /**\n   * Returns the milliseconds since Epoch for the start of the day of the given\n   * @param {Date|string|number} date\n   */\n  getStartOfDay(date: Date) {\n    const d = new Date(date)\n    d.setMilliseconds(0)\n    d.setSeconds(0)\n    d.setMinutes(0)\n    d.setHours(0)\n    return d.getTime()\n  },\n\n  /**\n   * Returns the milliseconds since Epoch for the end of the day of the given\n   * @param {Date|string|number} date\n   */\n  getEndOfDay(date: Date) {\n    const d = new Date(date)\n    d.setMilliseconds(999)\n    d.setSeconds(59)\n    d.setMinutes(59)\n    d.setHours(23)\n    return d.getTime()\n  },\n\n  formatDurationInSeconds(durationInSec: number) {\n    if (durationInSec === 0 || durationInSec < 0) {\n      return '00:00'\n    }\n\n    const hoursNum = Math.floor(durationInSec / HOUR_IN_SEC)\n    const minutesNum = Math.floor((durationInSec - hoursNum * HOUR_IN_SEC) / 60)\n    const secondsNum = Math.floor(\n      durationInSec - (hoursNum * HOUR_IN_SEC + minutesNum * 60),\n    )\n\n    const hours = API.Date.toTwoDigits(hoursNum)\n    const minutes = API.Date.toTwoDigits(minutesNum)\n    const seconds = API.Date.toTwoDigits(secondsNum)\n\n    return (hours == '00' ? '' : `${hours}:`) + `${minutes}:${seconds}`\n  },\n\n  formatTimeToString(time: number) {\n    return time >= 0 && time < 10 ? `0${time}` : time\n  },\n\n  getTimeFromSeconds(seconds: number): DetailedTime {\n    if (seconds < 0)\n      return {\n        hours: 0,\n        minutes: 0,\n        seconds: 0,\n      }\n\n    const hours = Math.floor(seconds / HOUR_IN_SEC)\n    const minutes = Math.floor((seconds - hours * HOUR_IN_SEC) / 60)\n    const returnSeconds = seconds - (hours * HOUR_IN_SEC + minutes * 60)\n    return {\n      hours: hours,\n      minutes: minutes,\n      seconds: returnSeconds,\n    }\n  },\n\n  getTimeFromMilliseconds(milliseconds: number) {\n    const blockMinInTotal = milliseconds / MINUTE\n    const blockHours =\n      blockMinInTotal < 60 ? 0 : Math.floor(blockMinInTotal / 60)\n    let blockMinutes = 0\n    if (blockHours > 0) {\n      blockMinutes = blockMinInTotal - blockHours * 60\n    } else blockMinutes = Math.floor(blockMinInTotal)\n    return {\n      hours: blockHours,\n      minutes: blockMinutes,\n    }\n  },\n\n  getTimeInMilliseconds(hours: number, minutes: number) {\n    return hours * HOUR + minutes * MINUTE\n  },\n\n  getTimeInSeconds(hours: number, minutes: number) {\n    return hours * HOUR_IN_SEC + minutes * MINUTE_IN_SEC\n  },\n}\n\nexport default Time\n","import { API } from './API'\nimport GeneralUtils from './GeneralUtils'\nimport { DAY } from './Time'\n\ndeclare module '~/core/API' {\n  interface API {\n    RemoteConfig: ReturnType<typeof RemoteConfig.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('RemoteConfig')\n\nlet api: API\n\ninterface RemoteConfigDefaults {\n  onboardingEnabledPercentInt2: number\n  bugsnagSampling: number\n  pageViewAllowlist: any[]\n  bugsnagIgnoreMatches: string[]\n  usageUploadBatchSize: number\n  newTabTimeout: number\n  uploadWebUsage: boolean\n  defaultAmplitudeSampling: number\n  amplitudeSampling: {}\n  incrementalRollout: {}\n  instacartSelectors: {}\n  forbiddenPromptWords: string[]\n  chatGptUrl: string\n  chatGptConversationUrl: string\n}\n\nconst RemoteConfig = {\n  cache: {} as Record<string, any>,\n  initialized: false,\n  defaults: {\n    onboardingEnabledPercentInt2: 0,\n    defaultAmplitudeSampling: 0.1, // 0-100  0=disabled  100=fully enabled\n    amplitudeSampling: {}, // 0-100  0=disabled  100=fully enabled\n    newTabTimeout: 3 * DAY,\n    uploadWebUsage: true,\n    usageUploadBatchSize: 500,\n    pageViewAllowlist: [],\n    incrementalRollout: {},\n    bugsnagSampling: 0.01, // 0-100  0=disabled  100=fully enabled\n    bugsnagIgnoreMatches: [\n      'Extension context invalidated.',\n      'Could not establish connection. Receiving end does not exist.',\n      'The browser is shutting down.',\n      '{\\\\s*\"?isTrusted\"?:\\\\s*true\\\\s*}',\n      \"Failed to execute 'abort' on 'IDBTransaction': The transaction has finished.\",\n      \"Failed to execute 'transaction' on 'IDBDatabase': The database connection is closing.\",\n      '^IO error: \\\\.\\\\.\\\\.\\\\/.+?: .*? \\\\(ChromeMethodBFE: .*\\\\)$',\n      'Cannot access contents of the page. Extension manifest must request permission to access the respective host.',\n      'The extensions gallery cannot be scripted.',\n    ], // Regexes to ignore in Bugsnag  ignore errors that are not actionable\n    instacartSelectors: {\n      productSelector: ['div[aria-label=\"Product\"]'],\n      sponsoredRegex: ['/s\\\\s*p\\\\s*o\\\\s*n\\\\s*s\\\\s*o\\\\s*r\\\\s*/i'],\n      companyName: ['.e-1f1gsmn', '.e-1opt332'],\n      searchTerm: ['#search-bar-input'],\n      productTitle: ['.e-th3ch3', '.e-u2e78b', '.e-1exr31r', '.e-wrmemy'],\n      productSize: ['.e-k9ly30', '.e-owckh2', '.e-1hb8rq9', '.e-1188c9v'],\n      productPrice: [\n        '.e-1jioxed > span.screen-reader-only',\n        '.e-1ybpdrh > span.screen-reader-only',\n        '.e-1ghw7u1 > span.screen-reader-only',\n        '.e-hlbpyw > span.screen-reader-only',\n        '.e-t5lw1y > span.e-13d1dsr',\n      ],\n    },\n    forbiddenPromptWords: ['drug', 'alcohol', 'porn'],\n    chatGptUrl: 'https://chatgpt.com/',\n    chatGptConversationUrl: 'https://chatgpt.com/c/',\n  } as RemoteConfigDefaults,\n  url: `https://stayfocusd.st-panel-api.com/v1/remote_config/stayfocusd${\n    MINIFIED ? '' : '-dev'\n  }`,\n  sharedConfigUrl:\n    'https://stayfocusd.st-panel-api.com/v1/remote_config/shared-web-config',\n  storageKey: 'remote-config',\n\n  /**\n   * Initializes RemoteConfig API\n   *\n   * @param theAPI\n   */\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('RemoteConfig', {\n      storageKey: this.storageKey,\n      init: this.init.bind(this),\n      get: this.get.bind(this),\n      refresh: this.refresh.bind(this),\n    })\n  },\n\n  /**\n   * Restart the remote config from storage and refresh to grab the latest config.\n   */\n  async init() {\n    if (this.initialized) {\n      log?.('init', 'RemoteConfig already initialized', this.cache, 'DEBUG')\n      return\n    }\n\n    log?.('init', 'Initializing RemoteConfig', this.defaults, 'DEBUG')\n\n    this.initialized = true\n    this.cache = { ...this.defaults }\n    this.cache = {\n      ...this.cache,\n      ...(await api.Storage.get(this.storageKey)),\n    }\n\n    log?.('init', 'Initialized', this.cache, 'DEBUG')\n  },\n\n  /**\n   * Refreshes remote config from the remote API\n   */\n  async refresh() {\n    log?.('refresh', 'Refreshing...', { currentConfig: this.cache }, 'DEBUG')\n\n    try {\n      const latestConfig = await fetch(this.url).then((res) => res.json())\n      const latestSharedConfig = await fetch(this.sharedConfigUrl).then((res) =>\n        res.json(),\n      )\n      log?.('refresh', 'Fetched config', latestConfig, 'DEBUG')\n\n      this.cache = {\n        ...this.defaults,\n        ...latestConfig,\n        ...latestSharedConfig,\n      }\n      await api.Storage.set({ [this.storageKey]: this.cache })\n      log?.('refresh', 'Saved config', this.cache, 'DEBUG')\n    } catch (err) {\n      log?.('refresh', 'Failed to fetch remote config', err, 'WARN')\n    }\n  },\n\n  /**\n   * Retrieves a field from remote config value\n   *\n   * @param {string} key The field to retrieve\n   * @returns {any}\n   */\n  get(key: string) {\n    if (!this.inCache(key)) {\n      throw new Error(\n        '[RemoteConfig.get()] ' +\n          key +\n          ' is not registered as a key in RemoteConfig.js',\n      )\n    }\n    return this.cache[key]\n  },\n\n  /**\n   * Checks whether a field is in the cache\n   *\n   * @param key The field to check\n   * @returns {boolean}\n   */\n  inCache(key: string) {\n    return typeof this.cache[key] !== 'undefined'\n  },\n}\n\nexport default RemoteConfig\n","var ua = Object.defineProperty;\nvar ha = (t, e, s) => e in t ? ua(t, e, { enumerable: !0, configurable: !0, writable: !0, value: s }) : t[e] = s;\nvar Q = (t, e, s) => (ha(t, typeof e != \"symbol\" ? e + \"\" : e, s), s), Bs = (t, e, s) => {\n  if (!e.has(t))\n    throw TypeError(\"Cannot \" + s);\n};\nvar p = (t, e, s) => (Bs(t, e, \"read from private field\"), s ? s.call(t) : e.get(t)), he = (t, e, s) => {\n  if (e.has(t))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  e instanceof WeakSet ? e.add(t) : e.set(t, s);\n}, G = (t, e, s, n) => (Bs(t, e, \"write to private field\"), n ? n.call(t, s) : e.set(t, s), s);\nvar gt = (t, e, s) => (Bs(t, e, \"access private method\"), s);\nvar L;\n(function(t) {\n  t.assertEqual = (r) => r;\n  function e(r) {\n  }\n  t.assertIs = e;\n  function s(r) {\n    throw new Error();\n  }\n  t.assertNever = s, t.arrayToEnum = (r) => {\n    const i = {};\n    for (const a of r)\n      i[a] = a;\n    return i;\n  }, t.getValidEnumValues = (r) => {\n    const i = t.objectKeys(r).filter((o) => typeof r[r[o]] != \"number\"), a = {};\n    for (const o of i)\n      a[o] = r[o];\n    return t.objectValues(a);\n  }, t.objectValues = (r) => t.objectKeys(r).map(function(i) {\n    return r[i];\n  }), t.objectKeys = typeof Object.keys == \"function\" ? (r) => Object.keys(r) : (r) => {\n    const i = [];\n    for (const a in r)\n      Object.prototype.hasOwnProperty.call(r, a) && i.push(a);\n    return i;\n  }, t.find = (r, i) => {\n    for (const a of r)\n      if (i(a))\n        return a;\n  }, t.isInteger = typeof Number.isInteger == \"function\" ? (r) => Number.isInteger(r) : (r) => typeof r == \"number\" && isFinite(r) && Math.floor(r) === r;\n  function n(r, i = \" | \") {\n    return r.map((a) => typeof a == \"string\" ? `'${a}'` : a).join(i);\n  }\n  t.joinValues = n, t.jsonStringifyReplacer = (r, i) => typeof i == \"bigint\" ? i.toString() : i;\n})(L || (L = {}));\nconst A = L.arrayToEnum([\n  \"string\",\n  \"nan\",\n  \"number\",\n  \"integer\",\n  \"float\",\n  \"boolean\",\n  \"date\",\n  \"bigint\",\n  \"symbol\",\n  \"function\",\n  \"undefined\",\n  \"null\",\n  \"array\",\n  \"object\",\n  \"unknown\",\n  \"promise\",\n  \"void\",\n  \"never\",\n  \"map\",\n  \"set\"\n]), Ke = (t) => {\n  switch (typeof t) {\n    case \"undefined\":\n      return A.undefined;\n    case \"string\":\n      return A.string;\n    case \"number\":\n      return isNaN(t) ? A.nan : A.number;\n    case \"boolean\":\n      return A.boolean;\n    case \"function\":\n      return A.function;\n    case \"bigint\":\n      return A.bigint;\n    case \"symbol\":\n      return A.symbol;\n    case \"object\":\n      return Array.isArray(t) ? A.array : t === null ? A.null : t.then && typeof t.then == \"function\" && t.catch && typeof t.catch == \"function\" ? A.promise : typeof Map < \"u\" && t instanceof Map ? A.map : typeof Set < \"u\" && t instanceof Set ? A.set : typeof Date < \"u\" && t instanceof Date ? A.date : A.object;\n    default:\n      return A.unknown;\n  }\n}, y = L.arrayToEnum([\n  \"invalid_type\",\n  \"invalid_literal\",\n  \"custom\",\n  \"invalid_union\",\n  \"invalid_union_discriminator\",\n  \"invalid_enum_value\",\n  \"unrecognized_keys\",\n  \"invalid_arguments\",\n  \"invalid_return_type\",\n  \"invalid_date\",\n  \"invalid_string\",\n  \"too_small\",\n  \"too_big\",\n  \"invalid_intersection_types\",\n  \"not_multiple_of\",\n  \"not_finite\"\n]), fa = (t) => JSON.stringify(t, null, 2).replace(/\"([^\"]+)\":/g, \"$1:\");\nclass Be extends Error {\n  constructor(e) {\n    super(), this.issues = [], this.addIssue = (n) => {\n      this.issues = [...this.issues, n];\n    }, this.addIssues = (n = []) => {\n      this.issues = [...this.issues, ...n];\n    };\n    const s = new.target.prototype;\n    Object.setPrototypeOf ? Object.setPrototypeOf(this, s) : this.__proto__ = s, this.name = \"ZodError\", this.issues = e;\n  }\n  get errors() {\n    return this.issues;\n  }\n  format(e) {\n    const s = e || function(i) {\n      return i.message;\n    }, n = { _errors: [] }, r = (i) => {\n      for (const a of i.issues)\n        if (a.code === \"invalid_union\")\n          a.unionErrors.map(r);\n        else if (a.code === \"invalid_return_type\")\n          r(a.returnTypeError);\n        else if (a.code === \"invalid_arguments\")\n          r(a.argumentsError);\n        else if (a.path.length === 0)\n          n._errors.push(s(a));\n        else {\n          let o = n, d = 0;\n          for (; d < a.path.length; ) {\n            const l = a.path[d];\n            d === a.path.length - 1 ? (o[l] = o[l] || { _errors: [] }, o[l]._errors.push(s(a))) : o[l] = o[l] || { _errors: [] }, o = o[l], d++;\n          }\n        }\n    };\n    return r(this), n;\n  }\n  toString() {\n    return this.message;\n  }\n  get message() {\n    return JSON.stringify(this.issues, L.jsonStringifyReplacer, 2);\n  }\n  get isEmpty() {\n    return this.issues.length === 0;\n  }\n  flatten(e = (s) => s.message) {\n    const s = {}, n = [];\n    for (const r of this.issues)\n      r.path.length > 0 ? (s[r.path[0]] = s[r.path[0]] || [], s[r.path[0]].push(e(r))) : n.push(e(r));\n    return { formErrors: n, fieldErrors: s };\n  }\n  get formErrors() {\n    return this.flatten();\n  }\n}\nBe.create = (t) => new Be(t);\nconst $t = (t, e) => {\n  let s;\n  switch (t.code) {\n    case y.invalid_type:\n      t.received === A.undefined ? s = \"Required\" : s = `Expected ${t.expected}, received ${t.received}`;\n      break;\n    case y.invalid_literal:\n      s = `Invalid literal value, expected ${JSON.stringify(t.expected, L.jsonStringifyReplacer)}`;\n      break;\n    case y.unrecognized_keys:\n      s = `Unrecognized key(s) in object: ${L.joinValues(t.keys, \", \")}`;\n      break;\n    case y.invalid_union:\n      s = \"Invalid input\";\n      break;\n    case y.invalid_union_discriminator:\n      s = `Invalid discriminator value. Expected ${L.joinValues(t.options)}`;\n      break;\n    case y.invalid_enum_value:\n      s = `Invalid enum value. Expected ${L.joinValues(t.options)}, received '${t.received}'`;\n      break;\n    case y.invalid_arguments:\n      s = \"Invalid function arguments\";\n      break;\n    case y.invalid_return_type:\n      s = \"Invalid function return type\";\n      break;\n    case y.invalid_date:\n      s = \"Invalid date\";\n      break;\n    case y.invalid_string:\n      typeof t.validation == \"object\" ? \"startsWith\" in t.validation ? s = `Invalid input: must start with \"${t.validation.startsWith}\"` : \"endsWith\" in t.validation ? s = `Invalid input: must end with \"${t.validation.endsWith}\"` : L.assertNever(t.validation) : t.validation !== \"regex\" ? s = `Invalid ${t.validation}` : s = \"Invalid\";\n      break;\n    case y.too_small:\n      t.type === \"array\" ? s = `Array must contain ${t.exact ? \"exactly\" : t.inclusive ? \"at least\" : \"more than\"} ${t.minimum} element(s)` : t.type === \"string\" ? s = `String must contain ${t.exact ? \"exactly\" : t.inclusive ? \"at least\" : \"over\"} ${t.minimum} character(s)` : t.type === \"number\" ? s = `Number must be ${t.exact ? \"exactly equal to \" : t.inclusive ? \"greater than or equal to \" : \"greater than \"}${t.minimum}` : t.type === \"date\" ? s = `Date must be ${t.exact ? \"exactly equal to \" : t.inclusive ? \"greater than or equal to \" : \"greater than \"}${new Date(t.minimum)}` : s = \"Invalid input\";\n      break;\n    case y.too_big:\n      t.type === \"array\" ? s = `Array must contain ${t.exact ? \"exactly\" : t.inclusive ? \"at most\" : \"less than\"} ${t.maximum} element(s)` : t.type === \"string\" ? s = `String must contain ${t.exact ? \"exactly\" : t.inclusive ? \"at most\" : \"under\"} ${t.maximum} character(s)` : t.type === \"number\" ? s = `Number must be ${t.exact ? \"exactly\" : t.inclusive ? \"less than or equal to\" : \"less than\"} ${t.maximum}` : t.type === \"date\" ? s = `Date must be ${t.exact ? \"exactly\" : t.inclusive ? \"smaller than or equal to\" : \"smaller than\"} ${new Date(t.maximum)}` : s = \"Invalid input\";\n      break;\n    case y.custom:\n      s = \"Invalid input\";\n      break;\n    case y.invalid_intersection_types:\n      s = \"Intersection results could not be merged\";\n      break;\n    case y.not_multiple_of:\n      s = `Number must be a multiple of ${t.multipleOf}`;\n      break;\n    case y.not_finite:\n      s = \"Number must be finite\";\n      break;\n    default:\n      s = e.defaultError, L.assertNever(t);\n  }\n  return { message: s };\n};\nlet dr = $t;\nfunction pa(t) {\n  dr = t;\n}\nfunction ps() {\n  return dr;\n}\nconst gs = (t) => {\n  const { data: e, path: s, errorMaps: n, issueData: r } = t, i = [...s, ...r.path || []], a = {\n    ...r,\n    path: i\n  };\n  let o = \"\";\n  const d = n.filter((l) => !!l).slice().reverse();\n  for (const l of d)\n    o = l(a, { data: e, defaultError: o }).message;\n  return {\n    ...r,\n    path: i,\n    message: r.message || o\n  };\n}, ga = [];\nfunction w(t, e) {\n  const s = gs({\n    issueData: e,\n    data: t.data,\n    path: t.path,\n    errorMaps: [\n      t.common.contextualErrorMap,\n      t.schemaErrorMap,\n      ps(),\n      $t\n    ].filter((n) => !!n)\n  });\n  t.common.issues.push(s);\n}\nclass fe {\n  constructor() {\n    this.value = \"valid\";\n  }\n  dirty() {\n    this.value === \"valid\" && (this.value = \"dirty\");\n  }\n  abort() {\n    this.value !== \"aborted\" && (this.value = \"aborted\");\n  }\n  static mergeArray(e, s) {\n    const n = [];\n    for (const r of s) {\n      if (r.status === \"aborted\")\n        return E;\n      r.status === \"dirty\" && e.dirty(), n.push(r.value);\n    }\n    return { status: e.value, value: n };\n  }\n  static async mergeObjectAsync(e, s) {\n    const n = [];\n    for (const r of s)\n      n.push({\n        key: await r.key,\n        value: await r.value\n      });\n    return fe.mergeObjectSync(e, n);\n  }\n  static mergeObjectSync(e, s) {\n    const n = {};\n    for (const r of s) {\n      const { key: i, value: a } = r;\n      if (i.status === \"aborted\" || a.status === \"aborted\")\n        return E;\n      i.status === \"dirty\" && e.dirty(), a.status === \"dirty\" && e.dirty(), (typeof a.value < \"u\" || r.alwaysSet) && (n[i.value] = a.value);\n    }\n    return { status: e.value, value: n };\n  }\n}\nconst E = Object.freeze({\n  status: \"aborted\"\n}), lr = (t) => ({ status: \"dirty\", value: t }), de = (t) => ({ status: \"valid\", value: t }), Ys = (t) => t.status === \"aborted\", Js = (t) => t.status === \"dirty\", ms = (t) => t.status === \"valid\", ys = (t) => typeof Promise !== void 0 && t instanceof Promise;\nvar M;\n(function(t) {\n  t.errToObj = (e) => typeof e == \"string\" ? { message: e } : e || {}, t.toString = (e) => typeof e == \"string\" ? e : e == null ? void 0 : e.message;\n})(M || (M = {}));\nclass Le {\n  constructor(e, s, n, r) {\n    this.parent = e, this.data = s, this._path = n, this._key = r;\n  }\n  get path() {\n    return this._path.concat(this._key);\n  }\n}\nconst Wn = (t, e) => {\n  if (ms(e))\n    return { success: !0, data: e.value };\n  {\n    if (!t.common.issues.length)\n      throw new Error(\"Validation failed but no issues detected.\");\n    const s = new Be(t.common.issues);\n    return { success: !1, error: s };\n  }\n};\nfunction k(t) {\n  if (!t)\n    return {};\n  const { errorMap: e, invalid_type_error: s, required_error: n, description: r } = t;\n  if (e && (s || n))\n    throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n  return e ? { errorMap: e, description: r } : { errorMap: (a, o) => a.code !== \"invalid_type\" ? { message: o.defaultError } : typeof o.data > \"u\" ? { message: n != null ? n : o.defaultError } : { message: s != null ? s : o.defaultError }, description: r };\n}\nclass N {\n  constructor(e) {\n    this.spa = this.safeParseAsync, this._def = e, this.parse = this.parse.bind(this), this.safeParse = this.safeParse.bind(this), this.parseAsync = this.parseAsync.bind(this), this.safeParseAsync = this.safeParseAsync.bind(this), this.spa = this.spa.bind(this), this.refine = this.refine.bind(this), this.refinement = this.refinement.bind(this), this.superRefine = this.superRefine.bind(this), this.optional = this.optional.bind(this), this.nullable = this.nullable.bind(this), this.nullish = this.nullish.bind(this), this.array = this.array.bind(this), this.promise = this.promise.bind(this), this.or = this.or.bind(this), this.and = this.and.bind(this), this.transform = this.transform.bind(this), this.brand = this.brand.bind(this), this.default = this.default.bind(this), this.catch = this.catch.bind(this), this.describe = this.describe.bind(this), this.pipe = this.pipe.bind(this), this.isNullable = this.isNullable.bind(this), this.isOptional = this.isOptional.bind(this);\n  }\n  get description() {\n    return this._def.description;\n  }\n  _getType(e) {\n    return Ke(e.data);\n  }\n  _getOrReturnCtx(e, s) {\n    return s || {\n      common: e.parent.common,\n      data: e.data,\n      parsedType: Ke(e.data),\n      schemaErrorMap: this._def.errorMap,\n      path: e.path,\n      parent: e.parent\n    };\n  }\n  _processInputParams(e) {\n    return {\n      status: new fe(),\n      ctx: {\n        common: e.parent.common,\n        data: e.data,\n        parsedType: Ke(e.data),\n        schemaErrorMap: this._def.errorMap,\n        path: e.path,\n        parent: e.parent\n      }\n    };\n  }\n  _parseSync(e) {\n    const s = this._parse(e);\n    if (ys(s))\n      throw new Error(\"Synchronous parse encountered promise.\");\n    return s;\n  }\n  _parseAsync(e) {\n    const s = this._parse(e);\n    return Promise.resolve(s);\n  }\n  parse(e, s) {\n    const n = this.safeParse(e, s);\n    if (n.success)\n      return n.data;\n    throw n.error;\n  }\n  safeParse(e, s) {\n    var n;\n    const r = {\n      common: {\n        issues: [],\n        async: (n = s == null ? void 0 : s.async) !== null && n !== void 0 ? n : !1,\n        contextualErrorMap: s == null ? void 0 : s.errorMap\n      },\n      path: (s == null ? void 0 : s.path) || [],\n      schemaErrorMap: this._def.errorMap,\n      parent: null,\n      data: e,\n      parsedType: Ke(e)\n    }, i = this._parseSync({ data: e, path: r.path, parent: r });\n    return Wn(r, i);\n  }\n  async parseAsync(e, s) {\n    const n = await this.safeParseAsync(e, s);\n    if (n.success)\n      return n.data;\n    throw n.error;\n  }\n  async safeParseAsync(e, s) {\n    const n = {\n      common: {\n        issues: [],\n        contextualErrorMap: s == null ? void 0 : s.errorMap,\n        async: !0\n      },\n      path: (s == null ? void 0 : s.path) || [],\n      schemaErrorMap: this._def.errorMap,\n      parent: null,\n      data: e,\n      parsedType: Ke(e)\n    }, r = this._parse({ data: e, path: n.path, parent: n }), i = await (ys(r) ? r : Promise.resolve(r));\n    return Wn(n, i);\n  }\n  refine(e, s) {\n    const n = (r) => typeof s == \"string\" || typeof s > \"u\" ? { message: s } : typeof s == \"function\" ? s(r) : s;\n    return this._refinement((r, i) => {\n      const a = e(r), o = () => i.addIssue({\n        code: y.custom,\n        ...n(r)\n      });\n      return typeof Promise < \"u\" && a instanceof Promise ? a.then((d) => d ? !0 : (o(), !1)) : a ? !0 : (o(), !1);\n    });\n  }\n  refinement(e, s) {\n    return this._refinement((n, r) => e(n) ? !0 : (r.addIssue(typeof s == \"function\" ? s(n, r) : s), !1));\n  }\n  _refinement(e) {\n    return new ke({\n      schema: this,\n      typeName: T.ZodEffects,\n      effect: { type: \"refinement\", refinement: e }\n    });\n  }\n  superRefine(e) {\n    return this._refinement(e);\n  }\n  optional() {\n    return Ce.create(this);\n  }\n  nullable() {\n    return ft.create(this);\n  }\n  nullish() {\n    return this.optional().nullable();\n  }\n  array() {\n    return Oe.create(this);\n  }\n  promise() {\n    return bt.create(this);\n  }\n  or(e) {\n    return zt.create([this, e]);\n  }\n  and(e) {\n    return Ft.create(this, e);\n  }\n  transform(e) {\n    return new ke({\n      schema: this,\n      typeName: T.ZodEffects,\n      effect: { type: \"transform\", transform: e }\n    });\n  }\n  default(e) {\n    const s = typeof e == \"function\" ? e : () => e;\n    return new Kt({\n      innerType: this,\n      defaultValue: s,\n      typeName: T.ZodDefault\n    });\n  }\n  brand() {\n    return new hr({\n      typeName: T.ZodBranded,\n      type: this,\n      ...k(void 0)\n    });\n  }\n  catch(e) {\n    const s = typeof e == \"function\" ? e : () => e;\n    return new bs({\n      innerType: this,\n      defaultValue: s,\n      typeName: T.ZodCatch\n    });\n  }\n  describe(e) {\n    const s = this.constructor;\n    return new s({\n      ...this._def,\n      description: e\n    });\n  }\n  pipe(e) {\n    return es.create(this, e);\n  }\n  isOptional() {\n    return this.safeParse(void 0).success;\n  }\n  isNullable() {\n    return this.safeParse(null).success;\n  }\n}\nconst ma = /^c[^\\s-]{8,}$/i, ya = /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i, _a = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i, Aa = (t) => t.precision ? t.offset ? new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${t.precision}}(([+-]\\\\d{2}:\\\\d{2})|Z)$`) : new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${t.precision}}Z$`) : t.precision === 0 ? t.offset ? new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(([+-]\\\\d{2}:\\\\d{2})|Z)$\") : new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z$\") : t.offset ? new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?(([+-]\\\\d{2}:\\\\d{2})|Z)$\") : new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?Z$\");\nclass ze extends N {\n  constructor() {\n    super(...arguments), this._regex = (e, s, n) => this.refinement((r) => e.test(r), {\n      validation: s,\n      code: y.invalid_string,\n      ...M.errToObj(n)\n    }), this.nonempty = (e) => this.min(1, M.errToObj(e)), this.trim = () => new ze({\n      ...this._def,\n      checks: [...this._def.checks, { kind: \"trim\" }]\n    });\n  }\n  _parse(e) {\n    if (this._def.coerce && (e.data = String(e.data)), this._getType(e) !== A.string) {\n      const i = this._getOrReturnCtx(e);\n      return w(\n        i,\n        {\n          code: y.invalid_type,\n          expected: A.string,\n          received: i.parsedType\n        }\n      ), E;\n    }\n    const n = new fe();\n    let r;\n    for (const i of this._def.checks)\n      if (i.kind === \"min\")\n        e.data.length < i.value && (r = this._getOrReturnCtx(e, r), w(r, {\n          code: y.too_small,\n          minimum: i.value,\n          type: \"string\",\n          inclusive: !0,\n          exact: !1,\n          message: i.message\n        }), n.dirty());\n      else if (i.kind === \"max\")\n        e.data.length > i.value && (r = this._getOrReturnCtx(e, r), w(r, {\n          code: y.too_big,\n          maximum: i.value,\n          type: \"string\",\n          inclusive: !0,\n          exact: !1,\n          message: i.message\n        }), n.dirty());\n      else if (i.kind === \"length\") {\n        const a = e.data.length > i.value, o = e.data.length < i.value;\n        (a || o) && (r = this._getOrReturnCtx(e, r), a ? w(r, {\n          code: y.too_big,\n          maximum: i.value,\n          type: \"string\",\n          inclusive: !0,\n          exact: !0,\n          message: i.message\n        }) : o && w(r, {\n          code: y.too_small,\n          minimum: i.value,\n          type: \"string\",\n          inclusive: !0,\n          exact: !0,\n          message: i.message\n        }), n.dirty());\n      } else if (i.kind === \"email\")\n        _a.test(e.data) || (r = this._getOrReturnCtx(e, r), w(r, {\n          validation: \"email\",\n          code: y.invalid_string,\n          message: i.message\n        }), n.dirty());\n      else if (i.kind === \"uuid\")\n        ya.test(e.data) || (r = this._getOrReturnCtx(e, r), w(r, {\n          validation: \"uuid\",\n          code: y.invalid_string,\n          message: i.message\n        }), n.dirty());\n      else if (i.kind === \"cuid\")\n        ma.test(e.data) || (r = this._getOrReturnCtx(e, r), w(r, {\n          validation: \"cuid\",\n          code: y.invalid_string,\n          message: i.message\n        }), n.dirty());\n      else if (i.kind === \"url\")\n        try {\n          new URL(e.data);\n        } catch {\n          r = this._getOrReturnCtx(e, r), w(r, {\n            validation: \"url\",\n            code: y.invalid_string,\n            message: i.message\n          }), n.dirty();\n        }\n      else\n        i.kind === \"regex\" ? (i.regex.lastIndex = 0, i.regex.test(e.data) || (r = this._getOrReturnCtx(e, r), w(r, {\n          validation: \"regex\",\n          code: y.invalid_string,\n          message: i.message\n        }), n.dirty())) : i.kind === \"trim\" ? e.data = e.data.trim() : i.kind === \"startsWith\" ? e.data.startsWith(i.value) || (r = this._getOrReturnCtx(e, r), w(r, {\n          code: y.invalid_string,\n          validation: { startsWith: i.value },\n          message: i.message\n        }), n.dirty()) : i.kind === \"endsWith\" ? e.data.endsWith(i.value) || (r = this._getOrReturnCtx(e, r), w(r, {\n          code: y.invalid_string,\n          validation: { endsWith: i.value },\n          message: i.message\n        }), n.dirty()) : i.kind === \"datetime\" ? Aa(i).test(e.data) || (r = this._getOrReturnCtx(e, r), w(r, {\n          code: y.invalid_string,\n          validation: \"datetime\",\n          message: i.message\n        }), n.dirty()) : L.assertNever(i);\n    return { status: n.value, value: e.data };\n  }\n  _addCheck(e) {\n    return new ze({\n      ...this._def,\n      checks: [...this._def.checks, e]\n    });\n  }\n  email(e) {\n    return this._addCheck({ kind: \"email\", ...M.errToObj(e) });\n  }\n  url(e) {\n    return this._addCheck({ kind: \"url\", ...M.errToObj(e) });\n  }\n  uuid(e) {\n    return this._addCheck({ kind: \"uuid\", ...M.errToObj(e) });\n  }\n  cuid(e) {\n    return this._addCheck({ kind: \"cuid\", ...M.errToObj(e) });\n  }\n  datetime(e) {\n    var s;\n    return typeof e == \"string\" ? this._addCheck({\n      kind: \"datetime\",\n      precision: null,\n      offset: !1,\n      message: e\n    }) : this._addCheck({\n      kind: \"datetime\",\n      precision: typeof (e == null ? void 0 : e.precision) > \"u\" ? null : e == null ? void 0 : e.precision,\n      offset: (s = e == null ? void 0 : e.offset) !== null && s !== void 0 ? s : !1,\n      ...M.errToObj(e == null ? void 0 : e.message)\n    });\n  }\n  regex(e, s) {\n    return this._addCheck({\n      kind: \"regex\",\n      regex: e,\n      ...M.errToObj(s)\n    });\n  }\n  startsWith(e, s) {\n    return this._addCheck({\n      kind: \"startsWith\",\n      value: e,\n      ...M.errToObj(s)\n    });\n  }\n  endsWith(e, s) {\n    return this._addCheck({\n      kind: \"endsWith\",\n      value: e,\n      ...M.errToObj(s)\n    });\n  }\n  min(e, s) {\n    return this._addCheck({\n      kind: \"min\",\n      value: e,\n      ...M.errToObj(s)\n    });\n  }\n  max(e, s) {\n    return this._addCheck({\n      kind: \"max\",\n      value: e,\n      ...M.errToObj(s)\n    });\n  }\n  length(e, s) {\n    return this._addCheck({\n      kind: \"length\",\n      value: e,\n      ...M.errToObj(s)\n    });\n  }\n  get isDatetime() {\n    return !!this._def.checks.find((e) => e.kind === \"datetime\");\n  }\n  get isEmail() {\n    return !!this._def.checks.find((e) => e.kind === \"email\");\n  }\n  get isURL() {\n    return !!this._def.checks.find((e) => e.kind === \"url\");\n  }\n  get isUUID() {\n    return !!this._def.checks.find((e) => e.kind === \"uuid\");\n  }\n  get isCUID() {\n    return !!this._def.checks.find((e) => e.kind === \"cuid\");\n  }\n  get minLength() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"min\" && (e === null || s.value > e) && (e = s.value);\n    return e;\n  }\n  get maxLength() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"max\" && (e === null || s.value < e) && (e = s.value);\n    return e;\n  }\n}\nze.create = (t) => {\n  var e;\n  return new ze({\n    checks: [],\n    typeName: T.ZodString,\n    coerce: (e = t == null ? void 0 : t.coerce) !== null && e !== void 0 ? e : !1,\n    ...k(t)\n  });\n};\nfunction va(t, e) {\n  const s = (t.toString().split(\".\")[1] || \"\").length, n = (e.toString().split(\".\")[1] || \"\").length, r = s > n ? s : n, i = parseInt(t.toFixed(r).replace(\".\", \"\")), a = parseInt(e.toFixed(r).replace(\".\", \"\"));\n  return i % a / Math.pow(10, r);\n}\nclass et extends N {\n  constructor() {\n    super(...arguments), this.min = this.gte, this.max = this.lte, this.step = this.multipleOf;\n  }\n  _parse(e) {\n    if (this._def.coerce && (e.data = Number(e.data)), this._getType(e) !== A.number) {\n      const i = this._getOrReturnCtx(e);\n      return w(i, {\n        code: y.invalid_type,\n        expected: A.number,\n        received: i.parsedType\n      }), E;\n    }\n    let n;\n    const r = new fe();\n    for (const i of this._def.checks)\n      i.kind === \"int\" ? L.isInteger(e.data) || (n = this._getOrReturnCtx(e, n), w(n, {\n        code: y.invalid_type,\n        expected: \"integer\",\n        received: \"float\",\n        message: i.message\n      }), r.dirty()) : i.kind === \"min\" ? (i.inclusive ? e.data < i.value : e.data <= i.value) && (n = this._getOrReturnCtx(e, n), w(n, {\n        code: y.too_small,\n        minimum: i.value,\n        type: \"number\",\n        inclusive: i.inclusive,\n        exact: !1,\n        message: i.message\n      }), r.dirty()) : i.kind === \"max\" ? (i.inclusive ? e.data > i.value : e.data >= i.value) && (n = this._getOrReturnCtx(e, n), w(n, {\n        code: y.too_big,\n        maximum: i.value,\n        type: \"number\",\n        inclusive: i.inclusive,\n        exact: !1,\n        message: i.message\n      }), r.dirty()) : i.kind === \"multipleOf\" ? va(e.data, i.value) !== 0 && (n = this._getOrReturnCtx(e, n), w(n, {\n        code: y.not_multiple_of,\n        multipleOf: i.value,\n        message: i.message\n      }), r.dirty()) : i.kind === \"finite\" ? Number.isFinite(e.data) || (n = this._getOrReturnCtx(e, n), w(n, {\n        code: y.not_finite,\n        message: i.message\n      }), r.dirty()) : L.assertNever(i);\n    return { status: r.value, value: e.data };\n  }\n  gte(e, s) {\n    return this.setLimit(\"min\", e, !0, M.toString(s));\n  }\n  gt(e, s) {\n    return this.setLimit(\"min\", e, !1, M.toString(s));\n  }\n  lte(e, s) {\n    return this.setLimit(\"max\", e, !0, M.toString(s));\n  }\n  lt(e, s) {\n    return this.setLimit(\"max\", e, !1, M.toString(s));\n  }\n  setLimit(e, s, n, r) {\n    return new et({\n      ...this._def,\n      checks: [\n        ...this._def.checks,\n        {\n          kind: e,\n          value: s,\n          inclusive: n,\n          message: M.toString(r)\n        }\n      ]\n    });\n  }\n  _addCheck(e) {\n    return new et({\n      ...this._def,\n      checks: [...this._def.checks, e]\n    });\n  }\n  int(e) {\n    return this._addCheck({\n      kind: \"int\",\n      message: M.toString(e)\n    });\n  }\n  positive(e) {\n    return this._addCheck({\n      kind: \"min\",\n      value: 0,\n      inclusive: !1,\n      message: M.toString(e)\n    });\n  }\n  negative(e) {\n    return this._addCheck({\n      kind: \"max\",\n      value: 0,\n      inclusive: !1,\n      message: M.toString(e)\n    });\n  }\n  nonpositive(e) {\n    return this._addCheck({\n      kind: \"max\",\n      value: 0,\n      inclusive: !0,\n      message: M.toString(e)\n    });\n  }\n  nonnegative(e) {\n    return this._addCheck({\n      kind: \"min\",\n      value: 0,\n      inclusive: !0,\n      message: M.toString(e)\n    });\n  }\n  multipleOf(e, s) {\n    return this._addCheck({\n      kind: \"multipleOf\",\n      value: e,\n      message: M.toString(s)\n    });\n  }\n  finite(e) {\n    return this._addCheck({\n      kind: \"finite\",\n      message: M.toString(e)\n    });\n  }\n  get minValue() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"min\" && (e === null || s.value > e) && (e = s.value);\n    return e;\n  }\n  get maxValue() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"max\" && (e === null || s.value < e) && (e = s.value);\n    return e;\n  }\n  get isInt() {\n    return !!this._def.checks.find((e) => e.kind === \"int\");\n  }\n}\net.create = (t) => new et({\n  checks: [],\n  typeName: T.ZodNumber,\n  coerce: (t == null ? void 0 : t.coerce) || !1,\n  ...k(t)\n});\nclass Zt extends N {\n  _parse(e) {\n    if (this._def.coerce && (e.data = BigInt(e.data)), this._getType(e) !== A.bigint) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.bigint,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\nZt.create = (t) => {\n  var e;\n  return new Zt({\n    typeName: T.ZodBigInt,\n    coerce: (e = t == null ? void 0 : t.coerce) !== null && e !== void 0 ? e : !1,\n    ...k(t)\n  });\n};\nclass Ut extends N {\n  _parse(e) {\n    if (this._def.coerce && (e.data = Boolean(e.data)), this._getType(e) !== A.boolean) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.boolean,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\nUt.create = (t) => new Ut({\n  typeName: T.ZodBoolean,\n  coerce: (t == null ? void 0 : t.coerce) || !1,\n  ...k(t)\n});\nclass ut extends N {\n  _parse(e) {\n    if (this._def.coerce && (e.data = new Date(e.data)), this._getType(e) !== A.date) {\n      const i = this._getOrReturnCtx(e);\n      return w(i, {\n        code: y.invalid_type,\n        expected: A.date,\n        received: i.parsedType\n      }), E;\n    }\n    if (isNaN(e.data.getTime())) {\n      const i = this._getOrReturnCtx(e);\n      return w(i, {\n        code: y.invalid_date\n      }), E;\n    }\n    const n = new fe();\n    let r;\n    for (const i of this._def.checks)\n      i.kind === \"min\" ? e.data.getTime() < i.value && (r = this._getOrReturnCtx(e, r), w(r, {\n        code: y.too_small,\n        message: i.message,\n        inclusive: !0,\n        exact: !1,\n        minimum: i.value,\n        type: \"date\"\n      }), n.dirty()) : i.kind === \"max\" ? e.data.getTime() > i.value && (r = this._getOrReturnCtx(e, r), w(r, {\n        code: y.too_big,\n        message: i.message,\n        inclusive: !0,\n        exact: !1,\n        maximum: i.value,\n        type: \"date\"\n      }), n.dirty()) : L.assertNever(i);\n    return {\n      status: n.value,\n      value: new Date(e.data.getTime())\n    };\n  }\n  _addCheck(e) {\n    return new ut({\n      ...this._def,\n      checks: [...this._def.checks, e]\n    });\n  }\n  min(e, s) {\n    return this._addCheck({\n      kind: \"min\",\n      value: e.getTime(),\n      message: M.toString(s)\n    });\n  }\n  max(e, s) {\n    return this._addCheck({\n      kind: \"max\",\n      value: e.getTime(),\n      message: M.toString(s)\n    });\n  }\n  get minDate() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"min\" && (e === null || s.value > e) && (e = s.value);\n    return e != null ? new Date(e) : null;\n  }\n  get maxDate() {\n    let e = null;\n    for (const s of this._def.checks)\n      s.kind === \"max\" && (e === null || s.value < e) && (e = s.value);\n    return e != null ? new Date(e) : null;\n  }\n}\nut.create = (t) => new ut({\n  checks: [],\n  coerce: (t == null ? void 0 : t.coerce) || !1,\n  typeName: T.ZodDate,\n  ...k(t)\n});\nclass _s extends N {\n  _parse(e) {\n    if (this._getType(e) !== A.symbol) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.symbol,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\n_s.create = (t) => new _s({\n  typeName: T.ZodSymbol,\n  ...k(t)\n});\nclass Bt extends N {\n  _parse(e) {\n    if (this._getType(e) !== A.undefined) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.undefined,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\nBt.create = (t) => new Bt({\n  typeName: T.ZodUndefined,\n  ...k(t)\n});\nclass Wt extends N {\n  _parse(e) {\n    if (this._getType(e) !== A.null) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.null,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\nWt.create = (t) => new Wt({\n  typeName: T.ZodNull,\n  ...k(t)\n});\nclass wt extends N {\n  constructor() {\n    super(...arguments), this._any = !0;\n  }\n  _parse(e) {\n    return de(e.data);\n  }\n}\nwt.create = (t) => new wt({\n  typeName: T.ZodAny,\n  ...k(t)\n});\nclass lt extends N {\n  constructor() {\n    super(...arguments), this._unknown = !0;\n  }\n  _parse(e) {\n    return de(e.data);\n  }\n}\nlt.create = (t) => new lt({\n  typeName: T.ZodUnknown,\n  ...k(t)\n});\nclass Fe extends N {\n  _parse(e) {\n    const s = this._getOrReturnCtx(e);\n    return w(s, {\n      code: y.invalid_type,\n      expected: A.never,\n      received: s.parsedType\n    }), E;\n  }\n}\nFe.create = (t) => new Fe({\n  typeName: T.ZodNever,\n  ...k(t)\n});\nclass As extends N {\n  _parse(e) {\n    if (this._getType(e) !== A.undefined) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.void,\n        received: n.parsedType\n      }), E;\n    }\n    return de(e.data);\n  }\n}\nAs.create = (t) => new As({\n  typeName: T.ZodVoid,\n  ...k(t)\n});\nclass Oe extends N {\n  _parse(e) {\n    const { ctx: s, status: n } = this._processInputParams(e), r = this._def;\n    if (s.parsedType !== A.array)\n      return w(s, {\n        code: y.invalid_type,\n        expected: A.array,\n        received: s.parsedType\n      }), E;\n    if (r.exactLength !== null) {\n      const a = s.data.length > r.exactLength.value, o = s.data.length < r.exactLength.value;\n      (a || o) && (w(s, {\n        code: a ? y.too_big : y.too_small,\n        minimum: o ? r.exactLength.value : void 0,\n        maximum: a ? r.exactLength.value : void 0,\n        type: \"array\",\n        inclusive: !0,\n        exact: !0,\n        message: r.exactLength.message\n      }), n.dirty());\n    }\n    if (r.minLength !== null && s.data.length < r.minLength.value && (w(s, {\n      code: y.too_small,\n      minimum: r.minLength.value,\n      type: \"array\",\n      inclusive: !0,\n      exact: !1,\n      message: r.minLength.message\n    }), n.dirty()), r.maxLength !== null && s.data.length > r.maxLength.value && (w(s, {\n      code: y.too_big,\n      maximum: r.maxLength.value,\n      type: \"array\",\n      inclusive: !0,\n      exact: !1,\n      message: r.maxLength.message\n    }), n.dirty()), s.common.async)\n      return Promise.all(s.data.map((a, o) => r.type._parseAsync(new Le(s, a, s.path, o)))).then((a) => fe.mergeArray(n, a));\n    const i = s.data.map((a, o) => r.type._parseSync(new Le(s, a, s.path, o)));\n    return fe.mergeArray(n, i);\n  }\n  get element() {\n    return this._def.type;\n  }\n  min(e, s) {\n    return new Oe({\n      ...this._def,\n      minLength: { value: e, message: M.toString(s) }\n    });\n  }\n  max(e, s) {\n    return new Oe({\n      ...this._def,\n      maxLength: { value: e, message: M.toString(s) }\n    });\n  }\n  length(e, s) {\n    return new Oe({\n      ...this._def,\n      exactLength: { value: e, message: M.toString(s) }\n    });\n  }\n  nonempty(e) {\n    return this.min(1, e);\n  }\n}\nOe.create = (t, e) => new Oe({\n  type: t,\n  minLength: null,\n  maxLength: null,\n  exactLength: null,\n  typeName: T.ZodArray,\n  ...k(e)\n});\nvar vs;\n(function(t) {\n  t.mergeShapes = (e, s) => ({\n    ...e,\n    ...s\n  });\n})(vs || (vs = {}));\nconst zn = (t) => (e) => new W({\n  ...t,\n  shape: () => ({\n    ...t.shape(),\n    ...e\n  })\n});\nfunction yt(t) {\n  if (t instanceof W) {\n    const e = {};\n    for (const s in t.shape) {\n      const n = t.shape[s];\n      e[s] = Ce.create(yt(n));\n    }\n    return new W({\n      ...t._def,\n      shape: () => e\n    });\n  } else\n    return t instanceof Oe ? Oe.create(yt(t.element)) : t instanceof Ce ? Ce.create(yt(t.unwrap())) : t instanceof ft ? ft.create(yt(t.unwrap())) : t instanceof De ? De.create(t.items.map((e) => yt(e))) : t;\n}\nclass W extends N {\n  constructor() {\n    super(...arguments), this._cached = null, this.nonstrict = this.passthrough, this.augment = zn(this._def), this.extend = zn(this._def);\n  }\n  _getCached() {\n    if (this._cached !== null)\n      return this._cached;\n    const e = this._def.shape(), s = L.objectKeys(e);\n    return this._cached = { shape: e, keys: s };\n  }\n  _parse(e) {\n    if (this._getType(e) !== A.object) {\n      const l = this._getOrReturnCtx(e);\n      return w(l, {\n        code: y.invalid_type,\n        expected: A.object,\n        received: l.parsedType\n      }), E;\n    }\n    const { status: n, ctx: r } = this._processInputParams(e), { shape: i, keys: a } = this._getCached(), o = [];\n    if (!(this._def.catchall instanceof Fe && this._def.unknownKeys === \"strip\"))\n      for (const l in r.data)\n        a.includes(l) || o.push(l);\n    const d = [];\n    for (const l of a) {\n      const h = i[l], g = r.data[l];\n      d.push({\n        key: { status: \"valid\", value: l },\n        value: h._parse(new Le(r, g, r.path, l)),\n        alwaysSet: l in r.data\n      });\n    }\n    if (this._def.catchall instanceof Fe) {\n      const l = this._def.unknownKeys;\n      if (l === \"passthrough\")\n        for (const h of o)\n          d.push({\n            key: { status: \"valid\", value: h },\n            value: { status: \"valid\", value: r.data[h] }\n          });\n      else if (l === \"strict\")\n        o.length > 0 && (w(r, {\n          code: y.unrecognized_keys,\n          keys: o\n        }), n.dirty());\n      else if (l !== \"strip\")\n        throw new Error(\"Internal ZodObject error: invalid unknownKeys value.\");\n    } else {\n      const l = this._def.catchall;\n      for (const h of o) {\n        const g = r.data[h];\n        d.push({\n          key: { status: \"valid\", value: h },\n          value: l._parse(\n            new Le(r, g, r.path, h)\n          ),\n          alwaysSet: h in r.data\n        });\n      }\n    }\n    return r.common.async ? Promise.resolve().then(async () => {\n      const l = [];\n      for (const h of d) {\n        const g = await h.key;\n        l.push({\n          key: g,\n          value: await h.value,\n          alwaysSet: h.alwaysSet\n        });\n      }\n      return l;\n    }).then((l) => fe.mergeObjectSync(n, l)) : fe.mergeObjectSync(n, d);\n  }\n  get shape() {\n    return this._def.shape();\n  }\n  strict(e) {\n    return M.errToObj, new W({\n      ...this._def,\n      unknownKeys: \"strict\",\n      ...e !== void 0 ? {\n        errorMap: (s, n) => {\n          var r, i, a, o;\n          const d = (a = (i = (r = this._def).errorMap) === null || i === void 0 ? void 0 : i.call(r, s, n).message) !== null && a !== void 0 ? a : n.defaultError;\n          return s.code === \"unrecognized_keys\" ? {\n            message: (o = M.errToObj(e).message) !== null && o !== void 0 ? o : d\n          } : {\n            message: d\n          };\n        }\n      } : {}\n    });\n  }\n  strip() {\n    return new W({\n      ...this._def,\n      unknownKeys: \"strip\"\n    });\n  }\n  passthrough() {\n    return new W({\n      ...this._def,\n      unknownKeys: \"passthrough\"\n    });\n  }\n  setKey(e, s) {\n    return this.augment({ [e]: s });\n  }\n  merge(e) {\n    return new W({\n      unknownKeys: e._def.unknownKeys,\n      catchall: e._def.catchall,\n      shape: () => vs.mergeShapes(this._def.shape(), e._def.shape()),\n      typeName: T.ZodObject\n    });\n  }\n  catchall(e) {\n    return new W({\n      ...this._def,\n      catchall: e\n    });\n  }\n  pick(e) {\n    const s = {};\n    return L.objectKeys(e).map((n) => {\n      this.shape[n] && (s[n] = this.shape[n]);\n    }), new W({\n      ...this._def,\n      shape: () => s\n    });\n  }\n  omit(e) {\n    const s = {};\n    return L.objectKeys(this.shape).map((n) => {\n      L.objectKeys(e).indexOf(n) === -1 && (s[n] = this.shape[n]);\n    }), new W({\n      ...this._def,\n      shape: () => s\n    });\n  }\n  deepPartial() {\n    return yt(this);\n  }\n  partial(e) {\n    const s = {};\n    if (e)\n      return L.objectKeys(this.shape).map((n) => {\n        L.objectKeys(e).indexOf(n) === -1 ? s[n] = this.shape[n] : s[n] = this.shape[n].optional();\n      }), new W({\n        ...this._def,\n        shape: () => s\n      });\n    for (const n in this.shape) {\n      const r = this.shape[n];\n      s[n] = r.optional();\n    }\n    return new W({\n      ...this._def,\n      shape: () => s\n    });\n  }\n  required(e) {\n    const s = {};\n    if (e)\n      L.objectKeys(this.shape).map((n) => {\n        if (L.objectKeys(e).indexOf(n) === -1)\n          s[n] = this.shape[n];\n        else {\n          let i = this.shape[n];\n          for (; i instanceof Ce; )\n            i = i._def.innerType;\n          s[n] = i;\n        }\n      });\n    else\n      for (const n in this.shape) {\n        let i = this.shape[n];\n        for (; i instanceof Ce; )\n          i = i._def.innerType;\n        s[n] = i;\n      }\n    return new W({\n      ...this._def,\n      shape: () => s\n    });\n  }\n  keyof() {\n    return ur(L.objectKeys(this.shape));\n  }\n}\nW.create = (t, e) => new W({\n  shape: () => t,\n  unknownKeys: \"strip\",\n  catchall: Fe.create(),\n  typeName: T.ZodObject,\n  ...k(e)\n});\nW.strictCreate = (t, e) => new W({\n  shape: () => t,\n  unknownKeys: \"strict\",\n  catchall: Fe.create(),\n  typeName: T.ZodObject,\n  ...k(e)\n});\nW.lazycreate = (t, e) => new W({\n  shape: t,\n  unknownKeys: \"strip\",\n  catchall: Fe.create(),\n  typeName: T.ZodObject,\n  ...k(e)\n});\nclass zt extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e), n = this._def.options;\n    function r(i) {\n      for (const o of i)\n        if (o.result.status === \"valid\")\n          return o.result;\n      for (const o of i)\n        if (o.result.status === \"dirty\")\n          return s.common.issues.push(...o.ctx.common.issues), o.result;\n      const a = i.map((o) => new Be(o.ctx.common.issues));\n      return w(s, {\n        code: y.invalid_union,\n        unionErrors: a\n      }), E;\n    }\n    if (s.common.async)\n      return Promise.all(n.map(async (i) => {\n        const a = {\n          ...s,\n          common: {\n            ...s.common,\n            issues: []\n          },\n          parent: null\n        };\n        return {\n          result: await i._parseAsync({\n            data: s.data,\n            path: s.path,\n            parent: a\n          }),\n          ctx: a\n        };\n      })).then(r);\n    {\n      let i;\n      const a = [];\n      for (const d of n) {\n        const l = {\n          ...s,\n          common: {\n            ...s.common,\n            issues: []\n          },\n          parent: null\n        }, h = d._parseSync({\n          data: s.data,\n          path: s.path,\n          parent: l\n        });\n        if (h.status === \"valid\")\n          return h;\n        h.status === \"dirty\" && !i && (i = { result: h, ctx: l }), l.common.issues.length && a.push(l.common.issues);\n      }\n      if (i)\n        return s.common.issues.push(...i.ctx.common.issues), i.result;\n      const o = a.map((d) => new Be(d));\n      return w(s, {\n        code: y.invalid_union,\n        unionErrors: o\n      }), E;\n    }\n  }\n  get options() {\n    return this._def.options;\n  }\n}\nzt.create = (t, e) => new zt({\n  options: t,\n  typeName: T.ZodUnion,\n  ...k(e)\n});\nconst hs = (t) => t instanceof qt ? hs(t.schema) : t instanceof ke ? hs(t.innerType()) : t instanceof Gt ? [t.value] : t instanceof Qt ? t.options : t instanceof Xt ? Object.keys(t.enum) : t instanceof Kt ? hs(t._def.innerType) : t instanceof Bt ? [void 0] : t instanceof Wt ? [null] : null;\nclass ks extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e);\n    if (s.parsedType !== A.object)\n      return w(s, {\n        code: y.invalid_type,\n        expected: A.object,\n        received: s.parsedType\n      }), E;\n    const n = this.discriminator, r = s.data[n], i = this.optionsMap.get(r);\n    return i ? s.common.async ? i._parseAsync({\n      data: s.data,\n      path: s.path,\n      parent: s\n    }) : i._parseSync({\n      data: s.data,\n      path: s.path,\n      parent: s\n    }) : (w(s, {\n      code: y.invalid_union_discriminator,\n      options: Array.from(this.optionsMap.keys()),\n      path: [n]\n    }), E);\n  }\n  get discriminator() {\n    return this._def.discriminator;\n  }\n  get options() {\n    return this._def.options;\n  }\n  get optionsMap() {\n    return this._def.optionsMap;\n  }\n  static create(e, s, n) {\n    const r = /* @__PURE__ */ new Map();\n    for (const i of s) {\n      const a = hs(i.shape[e]);\n      if (!a)\n        throw new Error(`A discriminator value for key \\`${e}\\` could not be extracted from all schema options`);\n      for (const o of a) {\n        if (r.has(o))\n          throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);\n        r.set(o, i);\n      }\n    }\n    return new ks({\n      typeName: T.ZodDiscriminatedUnion,\n      discriminator: e,\n      options: s,\n      optionsMap: r,\n      ...k(n)\n    });\n  }\n}\nfunction Qs(t, e) {\n  const s = Ke(t), n = Ke(e);\n  if (t === e)\n    return { valid: !0, data: t };\n  if (s === A.object && n === A.object) {\n    const r = L.objectKeys(e), i = L.objectKeys(t).filter((o) => r.indexOf(o) !== -1), a = { ...t, ...e };\n    for (const o of i) {\n      const d = Qs(t[o], e[o]);\n      if (!d.valid)\n        return { valid: !1 };\n      a[o] = d.data;\n    }\n    return { valid: !0, data: a };\n  } else if (s === A.array && n === A.array) {\n    if (t.length !== e.length)\n      return { valid: !1 };\n    const r = [];\n    for (let i = 0; i < t.length; i++) {\n      const a = t[i], o = e[i], d = Qs(a, o);\n      if (!d.valid)\n        return { valid: !1 };\n      r.push(d.data);\n    }\n    return { valid: !0, data: r };\n  } else\n    return s === A.date && n === A.date && +t == +e ? { valid: !0, data: t } : { valid: !1 };\n}\nclass Ft extends N {\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e), r = (i, a) => {\n      if (Ys(i) || Ys(a))\n        return E;\n      const o = Qs(i.value, a.value);\n      return o.valid ? ((Js(i) || Js(a)) && s.dirty(), { status: s.value, value: o.data }) : (w(n, {\n        code: y.invalid_intersection_types\n      }), E);\n    };\n    return n.common.async ? Promise.all([\n      this._def.left._parseAsync({\n        data: n.data,\n        path: n.path,\n        parent: n\n      }),\n      this._def.right._parseAsync({\n        data: n.data,\n        path: n.path,\n        parent: n\n      })\n    ]).then(([i, a]) => r(i, a)) : r(this._def.left._parseSync({\n      data: n.data,\n      path: n.path,\n      parent: n\n    }), this._def.right._parseSync({\n      data: n.data,\n      path: n.path,\n      parent: n\n    }));\n  }\n}\nFt.create = (t, e, s) => new Ft({\n  left: t,\n  right: e,\n  typeName: T.ZodIntersection,\n  ...k(s)\n});\nclass De extends N {\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e);\n    if (n.parsedType !== A.array)\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.array,\n        received: n.parsedType\n      }), E;\n    if (n.data.length < this._def.items.length)\n      return w(n, {\n        code: y.too_small,\n        minimum: this._def.items.length,\n        inclusive: !0,\n        exact: !1,\n        type: \"array\"\n      }), E;\n    !this._def.rest && n.data.length > this._def.items.length && (w(n, {\n      code: y.too_big,\n      maximum: this._def.items.length,\n      inclusive: !0,\n      exact: !1,\n      type: \"array\"\n    }), s.dirty());\n    const i = n.data.map((a, o) => {\n      const d = this._def.items[o] || this._def.rest;\n      return d ? d._parse(new Le(n, a, n.path, o)) : null;\n    }).filter((a) => !!a);\n    return n.common.async ? Promise.all(i).then((a) => fe.mergeArray(s, a)) : fe.mergeArray(s, i);\n  }\n  get items() {\n    return this._def.items;\n  }\n  rest(e) {\n    return new De({\n      ...this._def,\n      rest: e\n    });\n  }\n}\nDe.create = (t, e) => {\n  if (!Array.isArray(t))\n    throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n  return new De({\n    items: t,\n    typeName: T.ZodTuple,\n    rest: null,\n    ...k(e)\n  });\n};\nclass Ht extends N {\n  get keySchema() {\n    return this._def.keyType;\n  }\n  get valueSchema() {\n    return this._def.valueType;\n  }\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e);\n    if (n.parsedType !== A.object)\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.object,\n        received: n.parsedType\n      }), E;\n    const r = [], i = this._def.keyType, a = this._def.valueType;\n    for (const o in n.data)\n      r.push({\n        key: i._parse(new Le(n, o, n.path, o)),\n        value: a._parse(new Le(n, n.data[o], n.path, o))\n      });\n    return n.common.async ? fe.mergeObjectAsync(s, r) : fe.mergeObjectSync(s, r);\n  }\n  get element() {\n    return this._def.valueType;\n  }\n  static create(e, s, n) {\n    return s instanceof N ? new Ht({\n      keyType: e,\n      valueType: s,\n      typeName: T.ZodRecord,\n      ...k(n)\n    }) : new Ht({\n      keyType: ze.create(),\n      valueType: e,\n      typeName: T.ZodRecord,\n      ...k(s)\n    });\n  }\n}\nclass ws extends N {\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e);\n    if (n.parsedType !== A.map)\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.map,\n        received: n.parsedType\n      }), E;\n    const r = this._def.keyType, i = this._def.valueType, a = [...n.data.entries()].map(([o, d], l) => ({\n      key: r._parse(new Le(n, o, n.path, [l, \"key\"])),\n      value: i._parse(new Le(n, d, n.path, [l, \"value\"]))\n    }));\n    if (n.common.async) {\n      const o = /* @__PURE__ */ new Map();\n      return Promise.resolve().then(async () => {\n        for (const d of a) {\n          const l = await d.key, h = await d.value;\n          if (l.status === \"aborted\" || h.status === \"aborted\")\n            return E;\n          (l.status === \"dirty\" || h.status === \"dirty\") && s.dirty(), o.set(l.value, h.value);\n        }\n        return { status: s.value, value: o };\n      });\n    } else {\n      const o = /* @__PURE__ */ new Map();\n      for (const d of a) {\n        const l = d.key, h = d.value;\n        if (l.status === \"aborted\" || h.status === \"aborted\")\n          return E;\n        (l.status === \"dirty\" || h.status === \"dirty\") && s.dirty(), o.set(l.value, h.value);\n      }\n      return { status: s.value, value: o };\n    }\n  }\n}\nws.create = (t, e, s) => new ws({\n  valueType: e,\n  keyType: t,\n  typeName: T.ZodMap,\n  ...k(s)\n});\nclass ht extends N {\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e);\n    if (n.parsedType !== A.set)\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.set,\n        received: n.parsedType\n      }), E;\n    const r = this._def;\n    r.minSize !== null && n.data.size < r.minSize.value && (w(n, {\n      code: y.too_small,\n      minimum: r.minSize.value,\n      type: \"set\",\n      inclusive: !0,\n      exact: !1,\n      message: r.minSize.message\n    }), s.dirty()), r.maxSize !== null && n.data.size > r.maxSize.value && (w(n, {\n      code: y.too_big,\n      maximum: r.maxSize.value,\n      type: \"set\",\n      inclusive: !0,\n      exact: !1,\n      message: r.maxSize.message\n    }), s.dirty());\n    const i = this._def.valueType;\n    function a(d) {\n      const l = /* @__PURE__ */ new Set();\n      for (const h of d) {\n        if (h.status === \"aborted\")\n          return E;\n        h.status === \"dirty\" && s.dirty(), l.add(h.value);\n      }\n      return { status: s.value, value: l };\n    }\n    const o = [...n.data.values()].map((d, l) => i._parse(new Le(n, d, n.path, l)));\n    return n.common.async ? Promise.all(o).then((d) => a(d)) : a(o);\n  }\n  min(e, s) {\n    return new ht({\n      ...this._def,\n      minSize: { value: e, message: M.toString(s) }\n    });\n  }\n  max(e, s) {\n    return new ht({\n      ...this._def,\n      maxSize: { value: e, message: M.toString(s) }\n    });\n  }\n  size(e, s) {\n    return this.min(e, s).max(e, s);\n  }\n  nonempty(e) {\n    return this.min(1, e);\n  }\n}\nht.create = (t, e) => new ht({\n  valueType: t,\n  minSize: null,\n  maxSize: null,\n  typeName: T.ZodSet,\n  ...k(e)\n});\nclass At extends N {\n  constructor() {\n    super(...arguments), this.validate = this.implement;\n  }\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e);\n    if (s.parsedType !== A.function)\n      return w(s, {\n        code: y.invalid_type,\n        expected: A.function,\n        received: s.parsedType\n      }), E;\n    function n(o, d) {\n      return gs({\n        data: o,\n        path: s.path,\n        errorMaps: [\n          s.common.contextualErrorMap,\n          s.schemaErrorMap,\n          ps(),\n          $t\n        ].filter((l) => !!l),\n        issueData: {\n          code: y.invalid_arguments,\n          argumentsError: d\n        }\n      });\n    }\n    function r(o, d) {\n      return gs({\n        data: o,\n        path: s.path,\n        errorMaps: [\n          s.common.contextualErrorMap,\n          s.schemaErrorMap,\n          ps(),\n          $t\n        ].filter((l) => !!l),\n        issueData: {\n          code: y.invalid_return_type,\n          returnTypeError: d\n        }\n      });\n    }\n    const i = { errorMap: s.common.contextualErrorMap }, a = s.data;\n    return this._def.returns instanceof bt ? de(async (...o) => {\n      const d = new Be([]), l = await this._def.args.parseAsync(o, i).catch((m) => {\n        throw d.addIssue(n(o, m)), d;\n      }), h = await a(...l);\n      return await this._def.returns._def.type.parseAsync(h, i).catch((m) => {\n        throw d.addIssue(r(h, m)), d;\n      });\n    }) : de((...o) => {\n      const d = this._def.args.safeParse(o, i);\n      if (!d.success)\n        throw new Be([n(o, d.error)]);\n      const l = a(...d.data), h = this._def.returns.safeParse(l, i);\n      if (!h.success)\n        throw new Be([r(l, h.error)]);\n      return h.data;\n    });\n  }\n  parameters() {\n    return this._def.args;\n  }\n  returnType() {\n    return this._def.returns;\n  }\n  args(...e) {\n    return new At({\n      ...this._def,\n      args: De.create(e).rest(lt.create())\n    });\n  }\n  returns(e) {\n    return new At({\n      ...this._def,\n      returns: e\n    });\n  }\n  implement(e) {\n    return this.parse(e);\n  }\n  strictImplement(e) {\n    return this.parse(e);\n  }\n  static create(e, s, n) {\n    return new At({\n      args: e || De.create([]).rest(lt.create()),\n      returns: s || lt.create(),\n      typeName: T.ZodFunction,\n      ...k(n)\n    });\n  }\n}\nclass qt extends N {\n  get schema() {\n    return this._def.getter();\n  }\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e);\n    return this._def.getter()._parse({ data: s.data, path: s.path, parent: s });\n  }\n}\nqt.create = (t, e) => new qt({\n  getter: t,\n  typeName: T.ZodLazy,\n  ...k(e)\n});\nclass Gt extends N {\n  _parse(e) {\n    if (e.data !== this._def.value) {\n      const s = this._getOrReturnCtx(e);\n      return w(s, {\n        code: y.invalid_literal,\n        expected: this._def.value\n      }), E;\n    }\n    return { status: \"valid\", value: e.data };\n  }\n  get value() {\n    return this._def.value;\n  }\n}\nGt.create = (t, e) => new Gt({\n  value: t,\n  typeName: T.ZodLiteral,\n  ...k(e)\n});\nfunction ur(t, e) {\n  return new Qt({\n    values: t,\n    typeName: T.ZodEnum,\n    ...k(e)\n  });\n}\nclass Qt extends N {\n  _parse(e) {\n    if (typeof e.data != \"string\") {\n      const s = this._getOrReturnCtx(e), n = this._def.values;\n      return w(s, {\n        expected: L.joinValues(n),\n        received: s.parsedType,\n        code: y.invalid_type\n      }), E;\n    }\n    if (this._def.values.indexOf(e.data) === -1) {\n      const s = this._getOrReturnCtx(e), n = this._def.values;\n      return w(s, {\n        received: s.data,\n        code: y.invalid_enum_value,\n        options: n\n      }), E;\n    }\n    return de(e.data);\n  }\n  get options() {\n    return this._def.values;\n  }\n  get enum() {\n    const e = {};\n    for (const s of this._def.values)\n      e[s] = s;\n    return e;\n  }\n  get Values() {\n    const e = {};\n    for (const s of this._def.values)\n      e[s] = s;\n    return e;\n  }\n  get Enum() {\n    const e = {};\n    for (const s of this._def.values)\n      e[s] = s;\n    return e;\n  }\n}\nQt.create = ur;\nclass Xt extends N {\n  _parse(e) {\n    const s = L.getValidEnumValues(this._def.values), n = this._getOrReturnCtx(e);\n    if (n.parsedType !== A.string && n.parsedType !== A.number) {\n      const r = L.objectValues(s);\n      return w(n, {\n        expected: L.joinValues(r),\n        received: n.parsedType,\n        code: y.invalid_type\n      }), E;\n    }\n    if (s.indexOf(e.data) === -1) {\n      const r = L.objectValues(s);\n      return w(n, {\n        received: n.data,\n        code: y.invalid_enum_value,\n        options: r\n      }), E;\n    }\n    return de(e.data);\n  }\n  get enum() {\n    return this._def.values;\n  }\n}\nXt.create = (t, e) => new Xt({\n  values: t,\n  typeName: T.ZodNativeEnum,\n  ...k(e)\n});\nclass bt extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e);\n    if (s.parsedType !== A.promise && s.common.async === !1)\n      return w(s, {\n        code: y.invalid_type,\n        expected: A.promise,\n        received: s.parsedType\n      }), E;\n    const n = s.parsedType === A.promise ? s.data : Promise.resolve(s.data);\n    return de(n.then((r) => this._def.type.parseAsync(r, {\n      path: s.path,\n      errorMap: s.common.contextualErrorMap\n    })));\n  }\n}\nbt.create = (t, e) => new bt({\n  type: t,\n  typeName: T.ZodPromise,\n  ...k(e)\n});\nclass ke extends N {\n  innerType() {\n    return this._def.schema;\n  }\n  sourceType() {\n    return this._def.schema._def.typeName === T.ZodEffects ? this._def.schema.sourceType() : this._def.schema;\n  }\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e), r = this._def.effect || null;\n    if (r.type === \"preprocess\") {\n      const a = r.transform(n.data);\n      return n.common.async ? Promise.resolve(a).then((o) => this._def.schema._parseAsync({\n        data: o,\n        path: n.path,\n        parent: n\n      })) : this._def.schema._parseSync({\n        data: a,\n        path: n.path,\n        parent: n\n      });\n    }\n    const i = {\n      addIssue: (a) => {\n        w(n, a), a.fatal ? s.abort() : s.dirty();\n      },\n      get path() {\n        return n.path;\n      }\n    };\n    if (i.addIssue = i.addIssue.bind(i), r.type === \"refinement\") {\n      const a = (o) => {\n        const d = r.refinement(o, i);\n        if (n.common.async)\n          return Promise.resolve(d);\n        if (d instanceof Promise)\n          throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n        return o;\n      };\n      if (n.common.async === !1) {\n        const o = this._def.schema._parseSync({\n          data: n.data,\n          path: n.path,\n          parent: n\n        });\n        return o.status === \"aborted\" ? E : (o.status === \"dirty\" && s.dirty(), a(o.value), { status: s.value, value: o.value });\n      } else\n        return this._def.schema._parseAsync({ data: n.data, path: n.path, parent: n }).then((o) => o.status === \"aborted\" ? E : (o.status === \"dirty\" && s.dirty(), a(o.value).then(() => ({ status: s.value, value: o.value }))));\n    }\n    if (r.type === \"transform\")\n      if (n.common.async === !1) {\n        const a = this._def.schema._parseSync({\n          data: n.data,\n          path: n.path,\n          parent: n\n        });\n        if (!ms(a))\n          return a;\n        const o = r.transform(a.value, i);\n        if (o instanceof Promise)\n          throw new Error(\"Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.\");\n        return { status: s.value, value: o };\n      } else\n        return this._def.schema._parseAsync({ data: n.data, path: n.path, parent: n }).then((a) => ms(a) ? Promise.resolve(r.transform(a.value, i)).then((o) => ({ status: s.value, value: o })) : a);\n    L.assertNever(r);\n  }\n}\nke.create = (t, e, s) => new ke({\n  schema: t,\n  typeName: T.ZodEffects,\n  effect: e,\n  ...k(s)\n});\nke.createWithPreprocess = (t, e, s) => new ke({\n  schema: e,\n  effect: { type: \"preprocess\", transform: t },\n  typeName: T.ZodEffects,\n  ...k(s)\n});\nclass Ce extends N {\n  _parse(e) {\n    return this._getType(e) === A.undefined ? de(void 0) : this._def.innerType._parse(e);\n  }\n  unwrap() {\n    return this._def.innerType;\n  }\n}\nCe.create = (t, e) => new Ce({\n  innerType: t,\n  typeName: T.ZodOptional,\n  ...k(e)\n});\nclass ft extends N {\n  _parse(e) {\n    return this._getType(e) === A.null ? de(null) : this._def.innerType._parse(e);\n  }\n  unwrap() {\n    return this._def.innerType;\n  }\n}\nft.create = (t, e) => new ft({\n  innerType: t,\n  typeName: T.ZodNullable,\n  ...k(e)\n});\nclass Kt extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e);\n    let n = s.data;\n    return s.parsedType === A.undefined && (n = this._def.defaultValue()), this._def.innerType._parse({\n      data: n,\n      path: s.path,\n      parent: s\n    });\n  }\n  removeDefault() {\n    return this._def.innerType;\n  }\n}\nKt.create = (t, e) => new Kt({\n  innerType: t,\n  typeName: T.ZodDefault,\n  defaultValue: typeof e.default == \"function\" ? e.default : () => e.default,\n  ...k(e)\n});\nclass bs extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e), n = this._def.innerType._parse({\n      data: s.data,\n      path: s.path,\n      parent: s\n    });\n    return ys(n) ? n.then((r) => ({\n      status: \"valid\",\n      value: r.status === \"valid\" ? r.value : this._def.defaultValue()\n    })) : {\n      status: \"valid\",\n      value: n.status === \"valid\" ? n.value : this._def.defaultValue()\n    };\n  }\n  removeDefault() {\n    return this._def.innerType;\n  }\n}\nbs.create = (t, e) => new bs({\n  innerType: t,\n  typeName: T.ZodCatch,\n  defaultValue: typeof e.default == \"function\" ? e.default : () => e.default,\n  ...k(e)\n});\nclass xs extends N {\n  _parse(e) {\n    if (this._getType(e) !== A.nan) {\n      const n = this._getOrReturnCtx(e);\n      return w(n, {\n        code: y.invalid_type,\n        expected: A.nan,\n        received: n.parsedType\n      }), E;\n    }\n    return { status: \"valid\", value: e.data };\n  }\n}\nxs.create = (t) => new xs({\n  typeName: T.ZodNaN,\n  ...k(t)\n});\nconst wa = Symbol(\"zod_brand\");\nclass hr extends N {\n  _parse(e) {\n    const { ctx: s } = this._processInputParams(e), n = s.data;\n    return this._def.type._parse({\n      data: n,\n      path: s.path,\n      parent: s\n    });\n  }\n  unwrap() {\n    return this._def.type;\n  }\n}\nclass es extends N {\n  _parse(e) {\n    const { status: s, ctx: n } = this._processInputParams(e);\n    if (n.common.async)\n      return (async () => {\n        const i = await this._def.in._parseAsync({\n          data: n.data,\n          path: n.path,\n          parent: n\n        });\n        return i.status === \"aborted\" ? E : i.status === \"dirty\" ? (s.dirty(), lr(i.value)) : this._def.out._parseAsync({\n          data: i.value,\n          path: n.path,\n          parent: n\n        });\n      })();\n    {\n      const r = this._def.in._parseSync({\n        data: n.data,\n        path: n.path,\n        parent: n\n      });\n      return r.status === \"aborted\" ? E : r.status === \"dirty\" ? (s.dirty(), {\n        status: \"dirty\",\n        value: r.value\n      }) : this._def.out._parseSync({\n        data: r.value,\n        path: n.path,\n        parent: n\n      });\n    }\n  }\n  static create(e, s) {\n    return new es({\n      in: e,\n      out: s,\n      typeName: T.ZodPipeline\n    });\n  }\n}\nconst fr = (t, e = {}, s) => t ? wt.create().superRefine((n, r) => {\n  if (!t(n)) {\n    const i = typeof e == \"function\" ? e(n) : e, a = typeof i == \"string\" ? { message: i } : i;\n    r.addIssue({ code: \"custom\", ...a, fatal: s });\n  }\n}) : wt.create(), ba = {\n  object: W.lazycreate\n};\nvar T;\n(function(t) {\n  t.ZodString = \"ZodString\", t.ZodNumber = \"ZodNumber\", t.ZodNaN = \"ZodNaN\", t.ZodBigInt = \"ZodBigInt\", t.ZodBoolean = \"ZodBoolean\", t.ZodDate = \"ZodDate\", t.ZodSymbol = \"ZodSymbol\", t.ZodUndefined = \"ZodUndefined\", t.ZodNull = \"ZodNull\", t.ZodAny = \"ZodAny\", t.ZodUnknown = \"ZodUnknown\", t.ZodNever = \"ZodNever\", t.ZodVoid = \"ZodVoid\", t.ZodArray = \"ZodArray\", t.ZodObject = \"ZodObject\", t.ZodUnion = \"ZodUnion\", t.ZodDiscriminatedUnion = \"ZodDiscriminatedUnion\", t.ZodIntersection = \"ZodIntersection\", t.ZodTuple = \"ZodTuple\", t.ZodRecord = \"ZodRecord\", t.ZodMap = \"ZodMap\", t.ZodSet = \"ZodSet\", t.ZodFunction = \"ZodFunction\", t.ZodLazy = \"ZodLazy\", t.ZodLiteral = \"ZodLiteral\", t.ZodEnum = \"ZodEnum\", t.ZodEffects = \"ZodEffects\", t.ZodNativeEnum = \"ZodNativeEnum\", t.ZodOptional = \"ZodOptional\", t.ZodNullable = \"ZodNullable\", t.ZodDefault = \"ZodDefault\", t.ZodCatch = \"ZodCatch\", t.ZodPromise = \"ZodPromise\", t.ZodBranded = \"ZodBranded\", t.ZodPipeline = \"ZodPipeline\";\n})(T || (T = {}));\nconst xa = (t, e = {\n  message: `Input not instance of ${t.name}`\n}) => fr((s) => s instanceof t, e, !0), ce = ze.create, q = et.create, Ta = xs.create, Sa = Zt.create, Rs = Ut.create, Ea = ut.create, Ia = _s.create, Na = Bt.create, Oa = Wt.create, pr = wt.create, ka = lt.create, Ra = Fe.create, Ma = As.create, Ca = Oe.create, Ee = W.create, La = W.strictCreate, nn = zt.create, Da = ks.create, Pa = Ft.create, ja = De.create, gr = Ht.create, Va = ws.create, $a = ht.create, Za = At.create, Ua = qt.create, Ba = Gt.create, xt = Qt.create, Wa = Xt.create, za = bt.create, Fn = ke.create, Fa = Ce.create, Ha = ft.create, qa = ke.createWithPreprocess, Ga = es.create, Xa = () => ce().optional(), Ka = () => q().optional(), Ya = () => Rs().optional(), Ja = {\n  string: (t) => ze.create({ ...t, coerce: !0 }),\n  number: (t) => et.create({ ...t, coerce: !0 }),\n  boolean: (t) => Ut.create({ ...t, coerce: !0 }),\n  bigint: (t) => Zt.create({ ...t, coerce: !0 }),\n  date: (t) => ut.create({ ...t, coerce: !0 })\n}, Qa = E;\nvar Se = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  defaultErrorMap: $t,\n  setErrorMap: pa,\n  getErrorMap: ps,\n  makeIssue: gs,\n  EMPTY_PATH: ga,\n  addIssueToContext: w,\n  ParseStatus: fe,\n  INVALID: E,\n  DIRTY: lr,\n  OK: de,\n  isAborted: Ys,\n  isDirty: Js,\n  isValid: ms,\n  isAsync: ys,\n  get util() {\n    return L;\n  },\n  ZodParsedType: A,\n  getParsedType: Ke,\n  ZodType: N,\n  ZodString: ze,\n  ZodNumber: et,\n  ZodBigInt: Zt,\n  ZodBoolean: Ut,\n  ZodDate: ut,\n  ZodSymbol: _s,\n  ZodUndefined: Bt,\n  ZodNull: Wt,\n  ZodAny: wt,\n  ZodUnknown: lt,\n  ZodNever: Fe,\n  ZodVoid: As,\n  ZodArray: Oe,\n  get objectUtil() {\n    return vs;\n  },\n  ZodObject: W,\n  ZodUnion: zt,\n  ZodDiscriminatedUnion: ks,\n  ZodIntersection: Ft,\n  ZodTuple: De,\n  ZodRecord: Ht,\n  ZodMap: ws,\n  ZodSet: ht,\n  ZodFunction: At,\n  ZodLazy: qt,\n  ZodLiteral: Gt,\n  ZodEnum: Qt,\n  ZodNativeEnum: Xt,\n  ZodPromise: bt,\n  ZodEffects: ke,\n  ZodTransformer: ke,\n  ZodOptional: Ce,\n  ZodNullable: ft,\n  ZodDefault: Kt,\n  ZodCatch: bs,\n  ZodNaN: xs,\n  BRAND: wa,\n  ZodBranded: hr,\n  ZodPipeline: es,\n  custom: fr,\n  Schema: N,\n  ZodSchema: N,\n  late: ba,\n  get ZodFirstPartyTypeKind() {\n    return T;\n  },\n  coerce: Ja,\n  any: pr,\n  array: Ca,\n  bigint: Sa,\n  boolean: Rs,\n  date: Ea,\n  discriminatedUnion: Da,\n  effect: Fn,\n  enum: xt,\n  function: Za,\n  instanceof: xa,\n  intersection: Pa,\n  lazy: Ua,\n  literal: Ba,\n  map: Va,\n  nan: Ta,\n  nativeEnum: Wa,\n  never: Ra,\n  null: Oa,\n  nullable: Ha,\n  number: q,\n  object: Ee,\n  oboolean: Ya,\n  onumber: Ka,\n  optional: Fa,\n  ostring: Xa,\n  pipeline: Ga,\n  preprocess: qa,\n  promise: za,\n  record: gr,\n  set: $a,\n  strictObject: La,\n  string: ce,\n  symbol: Ia,\n  transformer: Fn,\n  tuple: ja,\n  undefined: Na,\n  union: nn,\n  unknown: ka,\n  void: Ma,\n  NEVER: Qa,\n  ZodIssueCode: y,\n  quotelessJson: fa,\n  ZodError: Be\n});\nconst Ts = () => ce().uuid(), eo = /^(?=.{1,255}$)[0-9A-Za-z_](?:(?:[0-9A-Za-z_]|-){0,61}[0-9A-Za-z_])?(?:\\.[0-9A-Za-z_](?:(?:[0-9A-Za-z_]|-){0,61}[0-9A-Za-z_])?)*\\.?$/, mr = () => ce().regex(eo);\nEe({\n  id: Ts(),\n  host: mr(),\n  startedAt: q().positive(),\n  endedAt: q().nullable().optional()\n}).strict();\nconst yr = Ee({\n  id: Ts(),\n  sessionId: Ts(),\n  adUrl: ce().url(),\n  timestamp: q().positive().describe(\"The time in ms since 1970 that this ad was seen at\")\n}).strict(), to = yr.extend({\n  type: xt([\"image\"]),\n  additionalDetails: Ee({\n    width: q().nonnegative(),\n    height: q().nonnegative()\n  })\n}).strict(), so = yr.extend({\n  type: xt([\"iframe\"]),\n  additionalDetails: Ee({\n    width: q().nonnegative(),\n    height: q().nonnegative()\n  })\n}).strict();\nnn([to, so]);\nconst rn = Ts, _r = mr, an = () => Rs().nullable().optional(), on = () => Rs().nullable().optional();\nEe({\n  id: rn(),\n  host: _r(),\n  startedAt: q().positive(),\n  endedAt: q().nullable().optional(),\n  imported: an(),\n  generated: on()\n}).strict();\nconst Ar = Ee({\n  id: ce(),\n  sessionId: rn(),\n  timestamp: q().positive().describe(\"The time in ms since 1970 that this ad was seen at\"),\n  imported: an()\n}).strict(), no = Ar.extend({\n  type: xt([\"basic-display\"]),\n  details: Ee({\n    type: xt([\"image\", \"iframe\"]),\n    url: ce().url().describe(\"The URL the ad is accessible at\"),\n    width: q().nonnegative(),\n    height: q().nonnegative()\n  }).strict()\n}), ro = () => gr(ce(), pr()), io = Ar.extend({\n  type: xt([\"youtube/hulu/vast\", \"pathmatics\"]),\n  details: ro()\n}), ao = nn([no, io]), cn = rn, dn = an, oo = on, ln = () => _r().describe(\"The mobile app bundle ID or website hostname\"), co = Ee({\n  id: cn(),\n  appId: ln(),\n  createdBy: ce({ description: \"The install id that created the session\" }),\n  startedAt: q().positive(),\n  endedAt: q(),\n  imported: dn(),\n  generated: oo()\n}).strict(), lo = Ee({\n  id: cn(),\n  appId: ln(),\n  createdBy: ce(),\n  startedAt: q().positive(),\n  endedAt: q().nullable().optional(),\n  imported: dn(),\n  generated: on()\n}).strict(), uo = ao, vr = cn, wr = dn, br = ln, ho = co, fo = lo, po = Ee({\n  id: vr(),\n  appId: br(),\n  path: ce().startsWith(\"/\"),\n  referrer: ce().nullish(),\n  createdBy: ce(),\n  startedAt: q().positive(),\n  endedAt: q(),\n  imported: wr()\n}).strict(), go = Ee({\n  id: vr(),\n  appId: br(),\n  path: ce().startsWith(\"/\"),\n  referrer: ce().nullish(),\n  createdBy: ce(),\n  startedAt: q().positive(),\n  endedAt: q().nullish(),\n  imported: wr()\n}).strict(), mo = uo, yo = ho, Hn = fo, _o = po, Ao = go, xr = mo;\nclass un {\n  constructor(e, s) {\n    this.db = e, this.storeName = s;\n  }\n  async deleteAll() {\n    const s = (await this.db).transaction(this.storeName, \"readwrite\");\n    let n = await s.objectStore(this.storeName).openCursor();\n    for (; n; )\n      await n.delete(), n = await n.continue();\n    await s.done;\n  }\n  async findAll() {\n    return await (await this.db).getAll(this.storeName);\n  }\n}\nconst Pt = class extends un {\n  constructor(t) {\n    super(t.db, Pt.STORE_NAME_LATEST), this.config = t;\n  }\n  async findAds(t, e) {\n    return await (await this.db).getAllFromIndex(\n      this.storeName,\n      Pt.INDEX_TIMESTAMP,\n      IDBKeyRange.bound(t, e, !1, !0)\n    );\n  }\n  async findAdsForSession(t) {\n    return await (await this.db).getAllFromIndex(this.storeName, Pt.INDEX_SESSION_ID, t);\n  }\n  async upsertAd(t) {\n    var n, r;\n    const e = await this.db, s = xr.parse(t);\n    return (r = (n = this.config).onAdUpserted) == null || r.call(n, s), await e.put(this.storeName, s), s;\n  }\n};\nlet J = Pt;\nJ.STORE_NAME_1 = \"ads\";\nJ.STORE_NAME_2 = \"ads-2\";\nJ.STORE_NAME_LATEST = Pt.STORE_NAME_2;\nJ.INDEX_SESSION_ID = \"idx_ad_sessionId\";\nJ.INDEX_TIMESTAMP = \"idx_ad_timestamp\";\nlet ds;\nconst vo = new Uint8Array(16);\nfunction wo() {\n  if (!ds && (ds = typeof crypto < \"u\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto), !ds))\n    throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");\n  return ds(vo);\n}\nconst ie = [];\nfor (let t = 0; t < 256; ++t)\n  ie.push((t + 256).toString(16).slice(1));\nfunction bo(t, e = 0) {\n  return (ie[t[e + 0]] + ie[t[e + 1]] + ie[t[e + 2]] + ie[t[e + 3]] + \"-\" + ie[t[e + 4]] + ie[t[e + 5]] + \"-\" + ie[t[e + 6]] + ie[t[e + 7]] + \"-\" + ie[t[e + 8]] + ie[t[e + 9]] + \"-\" + ie[t[e + 10]] + ie[t[e + 11]] + ie[t[e + 12]] + ie[t[e + 13]] + ie[t[e + 14]] + ie[t[e + 15]]).toLowerCase();\n}\nconst xo = typeof crypto < \"u\" && crypto.randomUUID && crypto.randomUUID.bind(crypto), qn = {\n  randomUUID: xo\n};\nfunction Yt(t, e, s) {\n  if (qn.randomUUID && !e && !t)\n    return qn.randomUUID();\n  t = t || {};\n  const n = t.random || (t.rng || wo)();\n  if (n[6] = n[6] & 15 | 64, n[8] = n[8] & 63 | 128, e) {\n    s = s || 0;\n    for (let r = 0; r < 16; ++r)\n      e[s + r] = n[r];\n    return e;\n  }\n  return bo(n);\n}\nconst hn = -1;\nfunction To(t) {\n  var e;\n  return {\n    id: t.id,\n    appId: t.appId,\n    path: t.path,\n    referrer: t.referrer,\n    createdBy: t.createdBy,\n    endedAt: (e = t.endedAt) != null ? e : hn,\n    startedAt: t.startedAt,\n    imported: t.imported\n  };\n}\nfunction Ws(t) {\n  return {\n    id: t.id,\n    appId: t.appId,\n    path: t.path,\n    referrer: t.referrer,\n    createdBy: t.createdBy,\n    endedAt: t.endedAt === hn ? null : t.endedAt,\n    startedAt: t.startedAt,\n    imported: t.imported\n  };\n}\nconst jt = class extends un {\n  constructor(t) {\n    super(t.db, jt.STORE_NAME_LATEST), this.config = t;\n  }\n  async startPageView(t) {\n    const e = await this.db, s = Ao.parse({\n      ...t,\n      id: Yt(),\n      createdBy: await this.config.getInstallId(),\n      endedAt: void 0\n    }), n = To(s);\n    return await e.add(this.storeName, n), s;\n  }\n  async endPageView(t, e) {\n    const s = await this.db, n = await s.get(this.storeName, t.id);\n    if (n == null)\n      throw Error(`Cannot update: PageView not found with id=${t.id}`);\n    const r = { ...n, endedAt: e };\n    return await s.put(this.storeName, r), Ws(r);\n  }\n  async getActivePageViews() {\n    return (await (await this.db).getAllFromIndex(\n      this.storeName,\n      jt.INDEX_ENDED_AT,\n      hn\n    )).map(Ws);\n  }\n  async findPageViewsByEndedAt(t, e) {\n    return (await (await this.db).getAllFromIndex(\n      this.storeName,\n      jt.INDEX_ENDED_AT,\n      IDBKeyRange.bound(t, e, !1, !0)\n    )).map(Ws);\n  }\n  async deleteAllGeneratedPageViews() {\n    const e = (await this.db).transaction(this.storeName, \"readwrite\");\n    let s = await e.store.openCursor();\n    for (; s; )\n      s.value.imported && await s.delete(), s = await s.continue();\n    await e.done;\n  }\n};\nlet We = jt;\nWe.STORE_NAME_1 = \"page_views\";\nWe.STORE_NAME_LATEST = jt.STORE_NAME_1;\nWe.INDEX_ENDED_AT = \"idx_page_view_endedAt\";\nWe.INDEX_STARTED_AT = \"idx_page_view_startedAt\";\nfunction Tr(t, e, s, n) {\n  function r(i) {\n    return i instanceof s ? i : new s(function(a) {\n      a(i);\n    });\n  }\n  return new (s || (s = Promise))(function(i, a) {\n    function o(h) {\n      try {\n        l(n.next(h));\n      } catch (g) {\n        a(g);\n      }\n    }\n    function d(h) {\n      try {\n        l(n.throw(h));\n      } catch (g) {\n        a(g);\n      }\n    }\n    function l(h) {\n      h.done ? i(h.value) : r(h.value).then(o, d);\n    }\n    l((n = n.apply(t, e || [])).next());\n  });\n}\nfunction Sr(t, e) {\n  var s = { label: 0, sent: function() {\n    if (i[0] & 1)\n      throw i[1];\n    return i[1];\n  }, trys: [], ops: [] }, n, r, i, a;\n  return a = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol == \"function\" && (a[Symbol.iterator] = function() {\n    return this;\n  }), a;\n  function o(l) {\n    return function(h) {\n      return d([l, h]);\n    };\n  }\n  function d(l) {\n    if (n)\n      throw new TypeError(\"Generator is already executing.\");\n    for (; a && (a = 0, l[0] && (s = 0)), s; )\n      try {\n        if (n = 1, r && (i = l[0] & 2 ? r.return : l[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, l[1])).done)\n          return i;\n        switch (r = 0, i && (l = [l[0] & 2, i.value]), l[0]) {\n          case 0:\n          case 1:\n            i = l;\n            break;\n          case 4:\n            return s.label++, { value: l[1], done: !1 };\n          case 5:\n            s.label++, r = l[1], l = [0];\n            continue;\n          case 7:\n            l = s.ops.pop(), s.trys.pop();\n            continue;\n          default:\n            if (i = s.trys, !(i = i.length > 0 && i[i.length - 1]) && (l[0] === 6 || l[0] === 2)) {\n              s = 0;\n              continue;\n            }\n            if (l[0] === 3 && (!i || l[1] > i[0] && l[1] < i[3])) {\n              s.label = l[1];\n              break;\n            }\n            if (l[0] === 6 && s.label < i[1]) {\n              s.label = i[1], i = l;\n              break;\n            }\n            if (i && s.label < i[2]) {\n              s.label = i[2], s.ops.push(l);\n              break;\n            }\n            i[2] && s.ops.pop(), s.trys.pop();\n            continue;\n        }\n        l = e.call(t, s);\n      } catch (h) {\n        l = [6, h], r = 0;\n      } finally {\n        n = i = 0;\n      }\n    if (l[0] & 5)\n      throw l[1];\n    return { value: l[0] ? l[1] : void 0, done: !0 };\n  }\n}\nvar So = new Error(\"request for lock canceled\"), Eo = function() {\n  function t(e, s) {\n    s === void 0 && (s = So), this._value = e, this._cancelError = s, this._weightedQueues = [], this._weightedWaiters = [];\n  }\n  return t.prototype.acquire = function(e) {\n    var s = this;\n    if (e === void 0 && (e = 1), e <= 0)\n      throw new Error(\"invalid weight \".concat(e, \": must be positive\"));\n    return new Promise(function(n, r) {\n      s._weightedQueues[e - 1] || (s._weightedQueues[e - 1] = []), s._weightedQueues[e - 1].push({ resolve: n, reject: r }), s._dispatch();\n    });\n  }, t.prototype.runExclusive = function(e, s) {\n    return s === void 0 && (s = 1), Tr(this, void 0, void 0, function() {\n      var n, r, i;\n      return Sr(this, function(a) {\n        switch (a.label) {\n          case 0:\n            return [4, this.acquire(s)];\n          case 1:\n            n = a.sent(), r = n[0], i = n[1], a.label = 2;\n          case 2:\n            return a.trys.push([2, , 4, 5]), [4, e(r)];\n          case 3:\n            return [2, a.sent()];\n          case 4:\n            return i(), [7];\n          case 5:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.waitForUnlock = function(e) {\n    var s = this;\n    if (e === void 0 && (e = 1), e <= 0)\n      throw new Error(\"invalid weight \".concat(e, \": must be positive\"));\n    return new Promise(function(n) {\n      s._weightedWaiters[e - 1] || (s._weightedWaiters[e - 1] = []), s._weightedWaiters[e - 1].push(n), s._dispatch();\n    });\n  }, t.prototype.isLocked = function() {\n    return this._value <= 0;\n  }, t.prototype.getValue = function() {\n    return this._value;\n  }, t.prototype.setValue = function(e) {\n    this._value = e, this._dispatch();\n  }, t.prototype.release = function(e) {\n    if (e === void 0 && (e = 1), e <= 0)\n      throw new Error(\"invalid weight \".concat(e, \": must be positive\"));\n    this._value += e, this._dispatch();\n  }, t.prototype.cancel = function() {\n    var e = this;\n    this._weightedQueues.forEach(function(s) {\n      return s.forEach(function(n) {\n        return n.reject(e._cancelError);\n      });\n    }), this._weightedQueues = [];\n  }, t.prototype._dispatch = function() {\n    for (var e, s = this._value; s > 0; s--) {\n      var n = (e = this._weightedQueues[s - 1]) === null || e === void 0 ? void 0 : e.shift();\n      if (!!n) {\n        var r = this._value, i = s;\n        this._value -= s, s = this._value + 1, n.resolve([r, this._newReleaser(i)]);\n      }\n    }\n    this._drainUnlockWaiters();\n  }, t.prototype._newReleaser = function(e) {\n    var s = this, n = !1;\n    return function() {\n      n || (n = !0, s.release(e));\n    };\n  }, t.prototype._drainUnlockWaiters = function() {\n    for (var e = this._value; e > 0; e--)\n      !this._weightedWaiters[e - 1] || (this._weightedWaiters[e - 1].forEach(function(s) {\n        return s();\n      }), this._weightedWaiters[e - 1] = []);\n  }, t;\n}(), Er = function() {\n  function t(e) {\n    this._semaphore = new Eo(1, e);\n  }\n  return t.prototype.acquire = function() {\n    return Tr(this, void 0, void 0, function() {\n      var e, s;\n      return Sr(this, function(n) {\n        switch (n.label) {\n          case 0:\n            return [4, this._semaphore.acquire()];\n          case 1:\n            return e = n.sent(), s = e[1], [2, s];\n        }\n      });\n    });\n  }, t.prototype.runExclusive = function(e) {\n    return this._semaphore.runExclusive(function() {\n      return e();\n    });\n  }, t.prototype.isLocked = function() {\n    return this._semaphore.isLocked();\n  }, t.prototype.waitForUnlock = function() {\n    return this._semaphore.waitForUnlock();\n  }, t.prototype.release = function() {\n    this._semaphore.isLocked() && this._semaphore.release();\n  }, t.prototype.cancel = function() {\n    return this._semaphore.cancel();\n  }, t;\n}(), Ct = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {}, Ir = { exports: {} };\n(function(t, e) {\n  (function(s, n) {\n    n(t);\n  })(typeof globalThis < \"u\" ? globalThis : typeof self < \"u\" ? self : Ct, function(s) {\n    var n, r;\n    if (!((r = (n = globalThis.chrome) == null ? void 0 : n.runtime) != null && r.id))\n      throw new Error(\"This script should only be loaded in a browser extension.\");\n    if (typeof globalThis.browser > \"u\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n      const i = \"The message port closed before a response was received.\", a = (o) => {\n        const d = {\n          alarms: {\n            clear: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            clearAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            get: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          bookmarks: {\n            create: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getChildren: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getRecent: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getSubTree: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTree: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            move: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeTree: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          browserAction: {\n            disable: {\n              minArgs: 0,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            enable: {\n              minArgs: 0,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            getBadgeBackgroundColor: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getBadgeText: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getPopup: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTitle: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            openPopup: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            setBadgeBackgroundColor: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setBadgeText: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setIcon: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            setPopup: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setTitle: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          browsingData: {\n            remove: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            removeCache: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeCookies: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeDownloads: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeFormData: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeHistory: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeLocalStorage: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removePasswords: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removePluginData: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            settings: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          commands: {\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          contextMenus: {\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          cookies: {\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAllCookieStores: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            set: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          devtools: {\n            inspectedWindow: {\n              eval: {\n                minArgs: 1,\n                maxArgs: 2,\n                singleCallbackArg: !1\n              }\n            },\n            panels: {\n              create: {\n                minArgs: 3,\n                maxArgs: 3,\n                singleCallbackArg: !0\n              },\n              elements: {\n                createSidebarPane: {\n                  minArgs: 1,\n                  maxArgs: 1\n                }\n              }\n            }\n          },\n          downloads: {\n            cancel: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            download: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            erase: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getFileIcon: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            open: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            pause: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeFile: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            resume: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            show: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          extension: {\n            isAllowedFileSchemeAccess: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            isAllowedIncognitoAccess: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          history: {\n            addUrl: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            deleteAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            deleteRange: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            deleteUrl: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getVisits: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            search: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          i18n: {\n            detectLanguage: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAcceptLanguages: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          identity: {\n            launchWebAuthFlow: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          idle: {\n            queryState: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          management: {\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getSelf: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            setEnabled: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            uninstallSelf: {\n              minArgs: 0,\n              maxArgs: 1\n            }\n          },\n          notifications: {\n            clear: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            create: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getPermissionLevel: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          },\n          pageAction: {\n            getPopup: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getTitle: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            hide: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setIcon: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            setPopup: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            setTitle: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            },\n            show: {\n              minArgs: 1,\n              maxArgs: 1,\n              fallbackToNoCallback: !0\n            }\n          },\n          permissions: {\n            contains: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            request: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          runtime: {\n            getBackgroundPage: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getPlatformInfo: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            openOptionsPage: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            requestUpdateCheck: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            sendMessage: {\n              minArgs: 1,\n              maxArgs: 3\n            },\n            sendNativeMessage: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            setUninstallURL: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          sessions: {\n            getDevices: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getRecentlyClosed: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            restore: {\n              minArgs: 0,\n              maxArgs: 1\n            }\n          },\n          storage: {\n            local: {\n              clear: {\n                minArgs: 0,\n                maxArgs: 0\n              },\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              remove: {\n                minArgs: 1,\n                maxArgs: 1\n              },\n              set: {\n                minArgs: 1,\n                maxArgs: 1\n              }\n            },\n            managed: {\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              }\n            },\n            sync: {\n              clear: {\n                minArgs: 0,\n                maxArgs: 0\n              },\n              get: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              getBytesInUse: {\n                minArgs: 0,\n                maxArgs: 1\n              },\n              remove: {\n                minArgs: 1,\n                maxArgs: 1\n              },\n              set: {\n                minArgs: 1,\n                maxArgs: 1\n              }\n            }\n          },\n          tabs: {\n            captureVisibleTab: {\n              minArgs: 0,\n              maxArgs: 2\n            },\n            create: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            detectLanguage: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            discard: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            duplicate: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            executeScript: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getCurrent: {\n              minArgs: 0,\n              maxArgs: 0\n            },\n            getZoom: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getZoomSettings: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            goBack: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            goForward: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            highlight: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            insertCSS: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            move: {\n              minArgs: 2,\n              maxArgs: 2\n            },\n            query: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            reload: {\n              minArgs: 0,\n              maxArgs: 2\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            removeCSS: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            sendMessage: {\n              minArgs: 2,\n              maxArgs: 3\n            },\n            setZoom: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            setZoomSettings: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            update: {\n              minArgs: 1,\n              maxArgs: 2\n            }\n          },\n          topSites: {\n            get: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          webNavigation: {\n            getAllFrames: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            getFrame: {\n              minArgs: 1,\n              maxArgs: 1\n            }\n          },\n          webRequest: {\n            handlerBehaviorChanged: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          },\n          windows: {\n            create: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            get: {\n              minArgs: 1,\n              maxArgs: 2\n            },\n            getAll: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getCurrent: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            getLastFocused: {\n              minArgs: 0,\n              maxArgs: 1\n            },\n            remove: {\n              minArgs: 1,\n              maxArgs: 1\n            },\n            update: {\n              minArgs: 2,\n              maxArgs: 2\n            }\n          }\n        };\n        if (Object.keys(d).length === 0)\n          throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n        class l extends WeakMap {\n          constructor(b, O = void 0) {\n            super(O), this.createItem = b;\n          }\n          get(b) {\n            return this.has(b) || this.set(b, this.createItem(b)), super.get(b);\n          }\n        }\n        const h = (x) => x && typeof x == \"object\" && typeof x.then == \"function\", g = (x, b) => (...O) => {\n          o.runtime.lastError ? x.reject(new Error(o.runtime.lastError.message)) : b.singleCallbackArg || O.length <= 1 && b.singleCallbackArg !== !1 ? x.resolve(O[0]) : x.resolve(O);\n        }, m = (x) => x == 1 ? \"argument\" : \"arguments\", S = (x, b) => function(D, ...F) {\n          if (F.length < b.minArgs)\n            throw new Error(`Expected at least ${b.minArgs} ${m(b.minArgs)} for ${x}(), got ${F.length}`);\n          if (F.length > b.maxArgs)\n            throw new Error(`Expected at most ${b.maxArgs} ${m(b.maxArgs)} for ${x}(), got ${F.length}`);\n          return new Promise((ue, ge) => {\n            if (b.fallbackToNoCallback)\n              try {\n                D[x](...F, g({\n                  resolve: ue,\n                  reject: ge\n                }, b));\n              } catch (R) {\n                console.warn(`${x} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `, R), D[x](...F), b.fallbackToNoCallback = !1, b.noCallback = !0, ue();\n              }\n            else\n              b.noCallback ? (D[x](...F), ue()) : D[x](...F, g({\n                resolve: ue,\n                reject: ge\n              }, b));\n          });\n        }, $ = (x, b, O) => new Proxy(b, {\n          apply(D, F, ue) {\n            return O.call(F, x, ...ue);\n          }\n        });\n        let _ = Function.call.bind(Object.prototype.hasOwnProperty);\n        const P = (x, b = {}, O = {}) => {\n          let D = /* @__PURE__ */ Object.create(null), F = {\n            has(ge, R) {\n              return R in x || R in D;\n            },\n            get(ge, R, me) {\n              if (R in D)\n                return D[R];\n              if (!(R in x))\n                return;\n              let K = x[R];\n              if (typeof K == \"function\")\n                if (typeof b[R] == \"function\")\n                  K = $(x, x[R], b[R]);\n                else if (_(O, R)) {\n                  let He = S(R, O[R]);\n                  K = $(x, x[R], He);\n                } else\n                  K = K.bind(x);\n              else if (typeof K == \"object\" && K !== null && (_(b, R) || _(O, R)))\n                K = P(K, b[R], O[R]);\n              else if (_(O, \"*\"))\n                K = P(K, b[R], O[\"*\"]);\n              else\n                return Object.defineProperty(D, R, {\n                  configurable: !0,\n                  enumerable: !0,\n                  get() {\n                    return x[R];\n                  },\n                  set(He) {\n                    x[R] = He;\n                  }\n                }), K;\n              return D[R] = K, K;\n            },\n            set(ge, R, me, K) {\n              return R in D ? D[R] = me : x[R] = me, !0;\n            },\n            defineProperty(ge, R, me) {\n              return Reflect.defineProperty(D, R, me);\n            },\n            deleteProperty(ge, R) {\n              return Reflect.deleteProperty(D, R);\n            }\n          }, ue = Object.create(x);\n          return new Proxy(ue, F);\n        }, C = (x) => ({\n          addListener(b, O, ...D) {\n            b.addListener(x.get(O), ...D);\n          },\n          hasListener(b, O) {\n            return b.hasListener(x.get(O));\n          },\n          removeListener(b, O) {\n            b.removeListener(x.get(O));\n          }\n        }), j = new l((x) => typeof x != \"function\" ? x : function(O) {\n          const D = P(\n            O,\n            {},\n            {\n              getContent: {\n                minArgs: 0,\n                maxArgs: 0\n              }\n            }\n          );\n          x(D);\n        }), pe = new l((x) => typeof x != \"function\" ? x : function(O, D, F) {\n          let ue = !1, ge, R = new Promise((tt) => {\n            ge = function(Ae) {\n              ue = !0, tt(Ae);\n            };\n          }), me;\n          try {\n            me = x(O, D, ge);\n          } catch (tt) {\n            me = Promise.reject(tt);\n          }\n          const K = me !== !0 && h(me);\n          if (me !== !0 && !K && !ue)\n            return !1;\n          const He = (tt) => {\n            tt.then((Ae) => {\n              F(Ae);\n            }, (Ae) => {\n              let It;\n              Ae && (Ae instanceof Error || typeof Ae.message == \"string\") ? It = Ae.message : It = \"An unexpected error occurred\", F({\n                __mozWebExtensionPolyfillReject__: !0,\n                message: It\n              });\n            }).catch((Ae) => {\n              console.error(\"Failed to send onMessage rejected reply\", Ae);\n            });\n          };\n          return He(K ? me : R), !0;\n        }), Et = ({\n          reject: x,\n          resolve: b\n        }, O) => {\n          o.runtime.lastError ? o.runtime.lastError.message === i ? b() : x(new Error(o.runtime.lastError.message)) : O && O.__mozWebExtensionPolyfillReject__ ? x(new Error(O.message)) : b(O);\n        }, Ie = (x, b, O, ...D) => {\n          if (D.length < b.minArgs)\n            throw new Error(`Expected at least ${b.minArgs} ${m(b.minArgs)} for ${x}(), got ${D.length}`);\n          if (D.length > b.maxArgs)\n            throw new Error(`Expected at most ${b.maxArgs} ${m(b.maxArgs)} for ${x}(), got ${D.length}`);\n          return new Promise((F, ue) => {\n            const ge = Et.bind(null, {\n              resolve: F,\n              reject: ue\n            });\n            D.push(ge), O.sendMessage(...D);\n          });\n        }, ne = {\n          devtools: {\n            network: {\n              onRequestFinished: C(j)\n            }\n          },\n          runtime: {\n            onMessage: C(pe),\n            onMessageExternal: C(pe),\n            sendMessage: Ie.bind(null, \"sendMessage\", {\n              minArgs: 1,\n              maxArgs: 3\n            })\n          },\n          tabs: {\n            sendMessage: Ie.bind(null, \"sendMessage\", {\n              minArgs: 2,\n              maxArgs: 3\n            })\n          }\n        }, Pe = {\n          clear: {\n            minArgs: 1,\n            maxArgs: 1\n          },\n          get: {\n            minArgs: 1,\n            maxArgs: 1\n          },\n          set: {\n            minArgs: 1,\n            maxArgs: 1\n          }\n        };\n        return d.privacy = {\n          network: {\n            \"*\": Pe\n          },\n          services: {\n            \"*\": Pe\n          },\n          websites: {\n            \"*\": Pe\n          }\n        }, P(o, ne, d);\n      };\n      s.exports = a(chrome);\n    } else\n      s.exports = globalThis.browser;\n  });\n})(Ir);\nconst V = Ir.exports;\nclass Io {\n  constructor(e, s = Date.now()) {\n    this.logMethod = e, this.startedAt = s;\n  }\n  log(e) {\n    const s = Date.now() - this.startedAt;\n    this.logMethod(e.replace(/\\{duration\\}/g, `${(s / 1e3).toFixed(3)}s`));\n  }\n}\nconst Tt = 1e3, fn = 60 * Tt, No = 60 * fn;\nfunction Ss(t) {\n  return Math.round(t / 1e3);\n}\nfunction Oo() {\n  return new Promise((t) => setTimeout(t, 0));\n}\nfunction ko(t) {\n  const e = new Er();\n  return (...s) => e.runExclusive(() => t(...s));\n}\nasync function pn(t) {\n  return (await V.storage.local.get(t))[t];\n}\nasync function Vt(t, e) {\n  e === void 0 ? await V.storage.local.remove(t) : await V.storage.local.set({ [t]: e });\n}\nfunction Ro(t, e) {\n  const s = typeof e == \"string\", n = (r) => s ? r[e] : e(r);\n  return t.reduce((r, i) => {\n    var o, d;\n    const a = n(i);\n    return r[a] = (d = (o = r[a]) == null ? void 0 : o.concat(i)) != null ? d : [i], r;\n  }, {});\n}\nfunction Mo(t, e) {\n  const s = typeof e == \"string\", n = (r) => s ? r[e] : e(r);\n  return t.reduce((r, i) => {\n    const a = n(i);\n    return r[a] = i, r;\n  }, {});\n}\nfunction Co() {\n  let t, e;\n  return [new Promise((n, r) => {\n    t = n, e = r;\n  }), t, e];\n}\nfunction Lo(t) {\n  return t.state !== \"docked\" && t.state !== \"minimized\";\n}\nfunction Do(t, e, s, n) {\n  return n && t.audible || t.active && e.focused && Lo(e) && s;\n}\nfunction Nr(t) {\n  const e = t.objectStoreNames.length, s = [];\n  for (let n = 0; n < e; n++) {\n    const r = t.objectStoreNames.item(n);\n    r && s.push(r);\n  }\n  return s;\n}\nconst gn = -1;\nfunction Gn(t) {\n  var e;\n  return {\n    id: t.id,\n    appId: t.appId,\n    createdBy: t.createdBy,\n    endedAt: (e = t.endedAt) != null ? e : gn,\n    startedAt: t.startedAt,\n    imported: t.imported,\n    generated: t.generated\n  };\n}\nfunction ot(t) {\n  return {\n    id: t.id,\n    appId: t.appId,\n    createdBy: t.createdBy,\n    endedAt: t.endedAt === gn ? null : t.endedAt,\n    startedAt: t.startedAt,\n    imported: t.imported,\n    generated: t.generated\n  };\n}\nconst Ze = class extends un {\n  constructor(t) {\n    super(t.db, Ze.STORE_NAME_LATEST), this.config = t;\n  }\n  async startSession(t) {\n    const e = await this.db, s = Hn.parse({\n      ...t,\n      id: Yt(),\n      createdBy: await this.config.getInstallId(),\n      endedAt: void 0\n    }), n = Gn(s);\n    return await e.add(this.storeName, n), s;\n  }\n  async createSessions(t) {\n    const e = await this.db, s = await this.config.getInstallId(), n = e.transaction(Ze.STORE_NAME_LATEST, \"readwrite\"), r = n.objectStore(Ze.STORE_NAME_LATEST), i = t.map(\n      (o) => Hn.parse({\n        ...o,\n        id: Yt(),\n        createdBy: s\n      })\n    ), a = i.map(Gn);\n    return await Promise.all([...a.map((o) => r.add(o)), n.done]), i;\n  }\n  async endSession(t, e) {\n    var i, a;\n    const s = await this.db;\n    e - t.startedAt >= 6 * No && ((a = (i = this.config).onLongSessionDetected) == null || a.call(i, t, e), e = t.startedAt + 10 * fn);\n    const n = await s.get(this.storeName, t.id);\n    if (n == null)\n      throw Error(`Cannot update: Session not found with id=${t.id}`);\n    const r = { ...n, endedAt: e };\n    return await s.put(this.storeName, r), ot(r);\n  }\n  async findAllSessions() {\n    return (await super.findAll()).map(ot);\n  }\n  async findSessions(t, e) {\n    return (await (await this.db).getAllFromIndex(\n      this.storeName,\n      Ze.INDEX_STARTED_AT,\n      IDBKeyRange.bound(t, e, !1, !0)\n    )).map(ot);\n  }\n  async findSessionsByEndedAt(t, e) {\n    return (await (await this.db).getAllFromIndex(\n      this.storeName,\n      Ze.INDEX_ENDED_AT,\n      IDBKeyRange.bound(t, e, !1, !0)\n    )).map(ot);\n  }\n  async findOldestSession() {\n    const s = (await (await this.db).getAllFromIndex(\n      this.storeName,\n      Ze.INDEX_STARTED_AT,\n      IDBKeyRange.lowerBound(0, !0)\n    )).shift();\n    return s ? ot(s) : void 0;\n  }\n  async getSession(t) {\n    const s = await (await this.db).get(this.storeName, t);\n    if (s == null)\n      throw Error(`No session with id=${t} was found`);\n    return ot(s);\n  }\n  async getActiveSessions() {\n    return (await (await this.db).getAllFromIndex(\n      this.storeName,\n      Ze.INDEX_ENDED_AT,\n      gn\n    )).map(ot);\n  }\n  async deleteAllGeneratedSessions() {\n    const e = (await this.db).transaction(this.storeName, \"readwrite\");\n    let s = await e.store.openCursor();\n    for (; s; ) {\n      const n = s.value;\n      (n.imported || n.generated) && await s.delete(), s = await s.continue();\n    }\n    await e.done;\n  }\n};\nlet X = Ze;\nX.STORE_NAME_1 = \"sessions\";\nX.STORE_NAME_2 = \"sessions_2\";\nX.STORE_NAME_LATEST = Ze.STORE_NAME_2;\nX.INDEX_ENDED_AT = \"idx_session_endedAt\";\nX.INDEX_STARTED_AT = \"idx_session_startedAt\";\nvar ae = /* @__PURE__ */ ((t) => (t[t.V2 = 2] = \"V2\", t[t.V3 = 3] = \"V3\", t[t.V4 = 4] = \"V4\", t[t.V5 = 5] = \"V5\", t[t.V6 = 6] = \"V6\", t[t.V7 = 7] = \"V7\", t[t.V8 = 8] = \"V8\", t))(ae || {});\nconst Po = Se.object({\n  version: Se.nativeEnum(ae),\n  stores: Se.object({\n    [X.STORE_NAME_LATEST]: Se.array(yo).optional(),\n    [We.STORE_NAME_LATEST]: Se.array(_o).optional(),\n    [J.STORE_NAME_LATEST]: Se.array(xr).optional()\n  })\n}), Ud = Se.object({\n  version: Se.nativeEnum(ae),\n  stores: Se.record(Se.string(), Se.array(Se.any()))\n});\nasync function jo(t) {\n  const e = await t, s = {\n    version: e.version,\n    stores: {}\n  }, n = Nr(e), r = e.transaction(n, \"readonly\");\n  for (const i of n) {\n    const o = await r.objectStore(i).getAll();\n    o.forEach((d) => {\n      delete d.imported;\n    }), s.stores[i] = o;\n  }\n  return await r.done, s;\n}\nfunction Vo(t, e) {\n  return {\n    ...t,\n    id: Yt(),\n    sessionId: e\n  };\n}\nfunction $o(t) {\n  return {\n    ...t,\n    id: Yt()\n  };\n}\nfunction Or(t) {\n  return {\n    id: t.id,\n    sessionId: t.sessionId,\n    timestamp: t.timestamp,\n    type: \"basic-display\",\n    details: {\n      type: t.type,\n      height: t.additionalDetails.height,\n      width: t.additionalDetails.width,\n      url: t.adUrl\n    }\n  };\n}\nfunction Ms(t, e) {\n  var s;\n  return {\n    id: t.id,\n    appId: t.host,\n    createdBy: e,\n    startedAt: t.startedAt,\n    endedAt: (s = t.endedAt) != null ? s : -1,\n    imported: t.imported,\n    generated: t.generated\n  };\n}\nasync function Zo({\n  dbPromise: t,\n  usageBackup: e,\n  logger: s,\n  getInstallId: n\n}) {\n  const r = await t;\n  s == null || s.debug(\"[import-backup] Importing...\", e);\n  const i = await n(), a = await Po.parseAsync(\n    await kr(e, r.version, { installId: i })\n  ), o = Nr(r), d = r.transaction(o, \"readwrite\");\n  for (const l of o) {\n    const h = a.stores[l];\n    if (h != null && h.length) {\n      const g = d.objectStore(l);\n      for (const m of h)\n        s == null || s.debug(`[import-backup]: ${l}:`, m), await g.put({ ...m, imported: !0 });\n    }\n  }\n  await d.done;\n}\nconst zs = (t) => (e) => ({ ...e, version: t }), Uo = () => (t) => t, Bo = (t) => {\n  var e;\n  return {\n    version: ae.V4,\n    stores: {\n      [X.STORE_NAME_2]: t.stores[X.STORE_NAME_2],\n      [J.STORE_NAME_2]: (e = t.stores[J.STORE_NAME_2]) == null ? void 0 : e.map(Or)\n    }\n  };\n}, Wo = (t, { installId: e }) => {\n  var s;\n  return {\n    version: ae.V6,\n    stores: {\n      [X.STORE_NAME_2]: (s = t.stores[X.STORE_NAME_2]) == null ? void 0 : s.map(\n        (n) => Ms(n, e)\n      ),\n      [J.STORE_NAME_2]: t.stores[J.STORE_NAME_2]\n    }\n  };\n}, zo = (t, { installId: e }) => {\n  var s;\n  return {\n    version: ae.V7,\n    stores: {\n      [X.STORE_NAME_2]: (s = t.stores[X.STORE_NAME_2]) == null ? void 0 : s.map(\n        (n) => \"host\" in n ? Ms(n, e) : n\n      ),\n      [J.STORE_NAME_2]: t.stores[J.STORE_NAME_2]\n    }\n  };\n}, Fo = {\n  [ae.V2]: zs(ae.V3),\n  [ae.V3]: Bo,\n  [ae.V4]: zs(ae.V5),\n  [ae.V5]: Wo,\n  [ae.V6]: zo,\n  [ae.V7]: zs(ae.V8),\n  [ae.V8]: Uo()\n};\nasync function kr(t, e, s) {\n  if (t.version === e)\n    return t;\n  const n = Fo[t.version];\n  if (n == null)\n    throw Error(`Failed to upgrade backup version ${t.version}, version not supported`);\n  const r = await n(t, s);\n  return await kr(r, e, s);\n}\nconst Ho = (t, e) => e.some((s) => t instanceof s);\nlet Xn, Kn;\nfunction qo() {\n  return Xn || (Xn = [\n    IDBDatabase,\n    IDBObjectStore,\n    IDBIndex,\n    IDBCursor,\n    IDBTransaction\n  ]);\n}\nfunction Go() {\n  return Kn || (Kn = [\n    IDBCursor.prototype.advance,\n    IDBCursor.prototype.continue,\n    IDBCursor.prototype.continuePrimaryKey\n  ]);\n}\nconst Rr = /* @__PURE__ */ new WeakMap(), en = /* @__PURE__ */ new WeakMap(), Mr = /* @__PURE__ */ new WeakMap(), Fs = /* @__PURE__ */ new WeakMap(), mn = /* @__PURE__ */ new WeakMap();\nfunction Xo(t) {\n  const e = new Promise((s, n) => {\n    const r = () => {\n      t.removeEventListener(\"success\", i), t.removeEventListener(\"error\", a);\n    }, i = () => {\n      s(Qe(t.result)), r();\n    }, a = () => {\n      n(t.error), r();\n    };\n    t.addEventListener(\"success\", i), t.addEventListener(\"error\", a);\n  });\n  return e.then((s) => {\n    s instanceof IDBCursor && Rr.set(s, t);\n  }).catch(() => {\n  }), mn.set(e, t), e;\n}\nfunction Ko(t) {\n  if (en.has(t))\n    return;\n  const e = new Promise((s, n) => {\n    const r = () => {\n      t.removeEventListener(\"complete\", i), t.removeEventListener(\"error\", a), t.removeEventListener(\"abort\", a);\n    }, i = () => {\n      s(), r();\n    }, a = () => {\n      n(t.error || new DOMException(\"AbortError\", \"AbortError\")), r();\n    };\n    t.addEventListener(\"complete\", i), t.addEventListener(\"error\", a), t.addEventListener(\"abort\", a);\n  });\n  en.set(t, e);\n}\nlet tn = {\n  get(t, e, s) {\n    if (t instanceof IDBTransaction) {\n      if (e === \"done\")\n        return en.get(t);\n      if (e === \"objectStoreNames\")\n        return t.objectStoreNames || Mr.get(t);\n      if (e === \"store\")\n        return s.objectStoreNames[1] ? void 0 : s.objectStore(s.objectStoreNames[0]);\n    }\n    return Qe(t[e]);\n  },\n  set(t, e, s) {\n    return t[e] = s, !0;\n  },\n  has(t, e) {\n    return t instanceof IDBTransaction && (e === \"done\" || e === \"store\") ? !0 : e in t;\n  }\n};\nfunction Yo(t) {\n  tn = t(tn);\n}\nfunction Jo(t) {\n  return t === IDBDatabase.prototype.transaction && !(\"objectStoreNames\" in IDBTransaction.prototype) ? function(e, ...s) {\n    const n = t.call(Hs(this), e, ...s);\n    return Mr.set(n, e.sort ? e.sort() : [e]), Qe(n);\n  } : Go().includes(t) ? function(...e) {\n    return t.apply(Hs(this), e), Qe(Rr.get(this));\n  } : function(...e) {\n    return Qe(t.apply(Hs(this), e));\n  };\n}\nfunction Qo(t) {\n  return typeof t == \"function\" ? Jo(t) : (t instanceof IDBTransaction && Ko(t), Ho(t, qo()) ? new Proxy(t, tn) : t);\n}\nfunction Qe(t) {\n  if (t instanceof IDBRequest)\n    return Xo(t);\n  if (Fs.has(t))\n    return Fs.get(t);\n  const e = Qo(t);\n  return e !== t && (Fs.set(t, e), mn.set(e, t)), e;\n}\nconst Hs = (t) => mn.get(t);\nfunction ec(t, e, { blocked: s, upgrade: n, blocking: r, terminated: i } = {}) {\n  const a = indexedDB.open(t, e), o = Qe(a);\n  return n && a.addEventListener(\"upgradeneeded\", (d) => {\n    n(Qe(a.result), d.oldVersion, d.newVersion, Qe(a.transaction), d);\n  }), s && a.addEventListener(\"blocked\", (d) => s(\n    d.oldVersion,\n    d.newVersion,\n    d\n  )), o.then((d) => {\n    i && d.addEventListener(\"close\", () => i()), r && d.addEventListener(\"versionchange\", (l) => r(l.oldVersion, l.newVersion, l));\n  }).catch(() => {\n  }), o;\n}\nconst tc = [\"get\", \"getKey\", \"getAll\", \"getAllKeys\", \"count\"], sc = [\"put\", \"add\", \"delete\", \"clear\"], qs = /* @__PURE__ */ new Map();\nfunction Yn(t, e) {\n  if (!(t instanceof IDBDatabase && !(e in t) && typeof e == \"string\"))\n    return;\n  if (qs.get(e))\n    return qs.get(e);\n  const s = e.replace(/FromIndex$/, \"\"), n = e !== s, r = sc.includes(s);\n  if (!(s in (n ? IDBIndex : IDBObjectStore).prototype) || !(r || tc.includes(s)))\n    return;\n  const i = async function(a, ...o) {\n    const d = this.transaction(a, r ? \"readwrite\" : \"readonly\");\n    let l = d.store;\n    return n && (l = l.index(o.shift())), (await Promise.all([\n      l[s](...o),\n      r && d.done\n    ]))[0];\n  };\n  return qs.set(e, i), i;\n}\nYo((t) => ({\n  ...t,\n  get: (e, s, n) => Yn(e, s) || t.get(e, s, n),\n  has: (e, s) => !!Yn(e, s) || t.has(e, s)\n}));\nasync function nc({ db: t, tx: e }) {\n  const s = e.objectStore(X.STORE_NAME_1), n = e.objectStore(X.STORE_NAME_2), r = e.objectStore(J.STORE_NAME_1), i = e.objectStore(J.STORE_NAME_2), a = await s.index(X.INDEX_STARTED_AT).getAll();\n  for (const o of a) {\n    const d = $o(o);\n    await n.add(d);\n    const l = await r.index(J.INDEX_SESSION_ID).getAll(o.id);\n    for (const h of l) {\n      const g = Vo(h, d.id);\n      await i.add(g);\n    }\n  }\n  t.deleteObjectStore(s.name), t.deleteObjectStore(r.name);\n}\nasync function rc({ tx: t }) {\n  const e = t.objectStore(J.STORE_NAME_2), s = await e.getAll();\n  for (const n of s) {\n    const r = Or(n);\n    await e.put(r);\n  }\n}\nasync function ic({ tx: t, ctx: e }) {\n  const s = t.objectStore(X.STORE_NAME_2), n = await s.getAll();\n  for (const r of n) {\n    const i = Ms(r, e.installId);\n    await s.put(i);\n  }\n}\nasync function ac({ tx: t, ctx: e }) {\n  const s = t.objectStore(X.STORE_NAME_2), n = await s.getAll();\n  for (const r of n)\n    if (\"host\" in r) {\n      const i = Ms(r, e.installId);\n      await s.put(i);\n    }\n}\nconst ls = () => {\n}, oc = [\n  ls,\n  ls,\n  ls,\n  nc,\n  rc,\n  ls,\n  ic,\n  ac\n];\nasync function cc(t, { logger: e }) {\n  if (t.oldVersion === 0 || t.newVersion == null) {\n    e == null || e.debug(\"[usage-database] Skipping migrations for new databases\", {\n      oldVersion: t.oldVersion,\n      newVersion: t.newVersion\n    });\n    return;\n  }\n  const s = t.oldVersion + 1, n = t.newVersion, r = oc.slice(s, n + 1);\n  if (r.length === 0) {\n    e == null || e.log(\"[usage-database] No migrations to run\");\n    return;\n  }\n  e == null || e.log(`[usage-database] Running migrations ${s} -> ${n}`);\n  for (const i of r)\n    await i(t);\n}\nfunction mt(t, e, s, n) {\n  return t.indexNames.contains(e) ? t.index(e) : t.createIndex(e, s, n);\n}\nfunction Gs({ db: t, tx: e }, s, n) {\n  return t.objectStoreNames.contains(s) ? e.objectStore(s) : t.createObjectStore(s, n);\n}\nconst dc = ae.V8;\nasync function lc(t) {\n  const e = await t.getInstallId();\n  return ec(\"UsageSdkDb\", dc, {\n    async upgrade(s, n, r, i) {\n      const a = {\n        db: s,\n        oldVersion: n,\n        newVersion: r,\n        tx: i,\n        ctx: {\n          installId: e\n        }\n      };\n      uc(a), await cc(a, { logger: null });\n    }\n  });\n}\nfunction uc(t) {\n  const e = Gs(t, X.STORE_NAME_LATEST, {\n    keyPath: \"id\"\n  });\n  mt(e, X.INDEX_STARTED_AT, \"startedAt\", {\n    unique: !1\n  }), mt(e, X.INDEX_ENDED_AT, \"endedAt\", { unique: !1 });\n  const s = Gs(t, We.STORE_NAME_LATEST, {\n    keyPath: \"id\"\n  });\n  mt(s, We.INDEX_STARTED_AT, \"startedAt\", {\n    unique: !1\n  }), mt(s, We.INDEX_ENDED_AT, \"endedAt\", {\n    unique: !1\n  });\n  const n = Gs(t, J.STORE_NAME_LATEST, {\n    keyPath: \"id\"\n  });\n  mt(n, J.INDEX_SESSION_ID, \"sessionId\", { unique: !1 }), mt(n, J.INDEX_TIMESTAMP, \"timestamp\", { unique: !1 });\n}\nfunction Bd(t) {\n  const e = lc(t), s = t.logger === void 0 ? console : t.logger;\n  return {\n    indexedDb: e,\n    sessionsRepo: new X({ db: e, ...t }),\n    pageViewsRepo: new We({ db: e, ...t }),\n    adsRepo: new J({ db: e, ...t }),\n    exportBackup: () => jo(e),\n    importBackup: (n) => Zo({\n      dbPromise: e,\n      usageBackup: n,\n      getInstallId: t.getInstallId,\n      logger: s\n    })\n  };\n}\nvar sn = { exports: {} };\n(function(t, e) {\n  var s = 200, n = \"__lodash_hash_undefined__\", r = 1, i = 2, a = 9007199254740991, o = \"[object Arguments]\", d = \"[object Array]\", l = \"[object AsyncFunction]\", h = \"[object Boolean]\", g = \"[object Date]\", m = \"[object Error]\", S = \"[object Function]\", $ = \"[object GeneratorFunction]\", _ = \"[object Map]\", P = \"[object Number]\", C = \"[object Null]\", j = \"[object Object]\", pe = \"[object Promise]\", Et = \"[object Proxy]\", Ie = \"[object RegExp]\", ne = \"[object Set]\", Pe = \"[object String]\", x = \"[object Symbol]\", b = \"[object Undefined]\", O = \"[object WeakMap]\", D = \"[object ArrayBuffer]\", F = \"[object DataView]\", ue = \"[object Float32Array]\", ge = \"[object Float64Array]\", R = \"[object Int8Array]\", me = \"[object Int16Array]\", K = \"[object Int32Array]\", He = \"[object Uint8Array]\", tt = \"[object Uint8ClampedArray]\", Ae = \"[object Uint16Array]\", It = \"[object Uint32Array]\", Yr = /[\\\\^$.*+?()[\\]{}|]/g, Jr = /^\\[object .+?Constructor\\]$/, Qr = /^(?:0|[1-9]\\d*)$/, Z = {};\n  Z[ue] = Z[ge] = Z[R] = Z[me] = Z[K] = Z[He] = Z[tt] = Z[Ae] = Z[It] = !0, Z[o] = Z[d] = Z[D] = Z[h] = Z[F] = Z[g] = Z[m] = Z[S] = Z[_] = Z[P] = Z[j] = Z[Ie] = Z[ne] = Z[Pe] = Z[O] = !1;\n  var An = typeof Ct == \"object\" && Ct && Ct.Object === Object && Ct, ei = typeof self == \"object\" && self && self.Object === Object && self, je = An || ei || Function(\"return this\")(), vn = e && !e.nodeType && e, wn = vn && !0 && t && !t.nodeType && t, bn = wn && wn.exports === vn, Ls = bn && An.process, xn = function() {\n    try {\n      return Ls && Ls.binding && Ls.binding(\"util\");\n    } catch {\n    }\n  }(), Tn = xn && xn.isTypedArray;\n  function ti(c, u) {\n    for (var f = -1, v = c == null ? 0 : c.length, U = 0, I = []; ++f < v; ) {\n      var H = c[f];\n      u(H, f, c) && (I[U++] = H);\n    }\n    return I;\n  }\n  function si(c, u) {\n    for (var f = -1, v = u.length, U = c.length; ++f < v; )\n      c[U + f] = u[f];\n    return c;\n  }\n  function ni(c, u) {\n    for (var f = -1, v = c == null ? 0 : c.length; ++f < v; )\n      if (u(c[f], f, c))\n        return !0;\n    return !1;\n  }\n  function ri(c, u) {\n    for (var f = -1, v = Array(c); ++f < c; )\n      v[f] = u(f);\n    return v;\n  }\n  function ii(c) {\n    return function(u) {\n      return c(u);\n    };\n  }\n  function ai(c, u) {\n    return c.has(u);\n  }\n  function oi(c, u) {\n    return c == null ? void 0 : c[u];\n  }\n  function ci(c) {\n    var u = -1, f = Array(c.size);\n    return c.forEach(function(v, U) {\n      f[++u] = [U, v];\n    }), f;\n  }\n  function di(c, u) {\n    return function(f) {\n      return c(u(f));\n    };\n  }\n  function li(c) {\n    var u = -1, f = Array(c.size);\n    return c.forEach(function(v) {\n      f[++u] = v;\n    }), f;\n  }\n  var ui = Array.prototype, hi = Function.prototype, ts = Object.prototype, Ds = je[\"__core-js_shared__\"], Sn = hi.toString, Re = ts.hasOwnProperty, En = function() {\n    var c = /[^.]+$/.exec(Ds && Ds.keys && Ds.keys.IE_PROTO || \"\");\n    return c ? \"Symbol(src)_1.\" + c : \"\";\n  }(), In = ts.toString, fi = RegExp(\n    \"^\" + Sn.call(Re).replace(Yr, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"\n  ), Nn = bn ? je.Buffer : void 0, ss = je.Symbol, On = je.Uint8Array, kn = ts.propertyIsEnumerable, pi = ui.splice, st = ss ? ss.toStringTag : void 0, Rn = Object.getOwnPropertySymbols, gi = Nn ? Nn.isBuffer : void 0, mi = di(Object.keys, Object), Ps = pt(je, \"DataView\"), Nt = pt(je, \"Map\"), js = pt(je, \"Promise\"), Vs = pt(je, \"Set\"), $s = pt(je, \"WeakMap\"), Ot = pt(Object, \"create\"), yi = it(Ps), _i = it(Nt), Ai = it(js), vi = it(Vs), wi = it($s), Mn = ss ? ss.prototype : void 0, Zs = Mn ? Mn.valueOf : void 0;\n  function nt(c) {\n    var u = -1, f = c == null ? 0 : c.length;\n    for (this.clear(); ++u < f; ) {\n      var v = c[u];\n      this.set(v[0], v[1]);\n    }\n  }\n  function bi() {\n    this.__data__ = Ot ? Ot(null) : {}, this.size = 0;\n  }\n  function xi(c) {\n    var u = this.has(c) && delete this.__data__[c];\n    return this.size -= u ? 1 : 0, u;\n  }\n  function Ti(c) {\n    var u = this.__data__;\n    if (Ot) {\n      var f = u[c];\n      return f === n ? void 0 : f;\n    }\n    return Re.call(u, c) ? u[c] : void 0;\n  }\n  function Si(c) {\n    var u = this.__data__;\n    return Ot ? u[c] !== void 0 : Re.call(u, c);\n  }\n  function Ei(c, u) {\n    var f = this.__data__;\n    return this.size += this.has(c) ? 0 : 1, f[c] = Ot && u === void 0 ? n : u, this;\n  }\n  nt.prototype.clear = bi, nt.prototype.delete = xi, nt.prototype.get = Ti, nt.prototype.has = Si, nt.prototype.set = Ei;\n  function Ve(c) {\n    var u = -1, f = c == null ? 0 : c.length;\n    for (this.clear(); ++u < f; ) {\n      var v = c[u];\n      this.set(v[0], v[1]);\n    }\n  }\n  function Ii() {\n    this.__data__ = [], this.size = 0;\n  }\n  function Ni(c) {\n    var u = this.__data__, f = rs(u, c);\n    if (f < 0)\n      return !1;\n    var v = u.length - 1;\n    return f == v ? u.pop() : pi.call(u, f, 1), --this.size, !0;\n  }\n  function Oi(c) {\n    var u = this.__data__, f = rs(u, c);\n    return f < 0 ? void 0 : u[f][1];\n  }\n  function ki(c) {\n    return rs(this.__data__, c) > -1;\n  }\n  function Ri(c, u) {\n    var f = this.__data__, v = rs(f, c);\n    return v < 0 ? (++this.size, f.push([c, u])) : f[v][1] = u, this;\n  }\n  Ve.prototype.clear = Ii, Ve.prototype.delete = Ni, Ve.prototype.get = Oi, Ve.prototype.has = ki, Ve.prototype.set = Ri;\n  function rt(c) {\n    var u = -1, f = c == null ? 0 : c.length;\n    for (this.clear(); ++u < f; ) {\n      var v = c[u];\n      this.set(v[0], v[1]);\n    }\n  }\n  function Mi() {\n    this.size = 0, this.__data__ = {\n      hash: new nt(),\n      map: new (Nt || Ve)(),\n      string: new nt()\n    };\n  }\n  function Ci(c) {\n    var u = is(this, c).delete(c);\n    return this.size -= u ? 1 : 0, u;\n  }\n  function Li(c) {\n    return is(this, c).get(c);\n  }\n  function Di(c) {\n    return is(this, c).has(c);\n  }\n  function Pi(c, u) {\n    var f = is(this, c), v = f.size;\n    return f.set(c, u), this.size += f.size == v ? 0 : 1, this;\n  }\n  rt.prototype.clear = Mi, rt.prototype.delete = Ci, rt.prototype.get = Li, rt.prototype.has = Di, rt.prototype.set = Pi;\n  function ns(c) {\n    var u = -1, f = c == null ? 0 : c.length;\n    for (this.__data__ = new rt(); ++u < f; )\n      this.add(c[u]);\n  }\n  function ji(c) {\n    return this.__data__.set(c, n), this;\n  }\n  function Vi(c) {\n    return this.__data__.has(c);\n  }\n  ns.prototype.add = ns.prototype.push = ji, ns.prototype.has = Vi;\n  function qe(c) {\n    var u = this.__data__ = new Ve(c);\n    this.size = u.size;\n  }\n  function $i() {\n    this.__data__ = new Ve(), this.size = 0;\n  }\n  function Zi(c) {\n    var u = this.__data__, f = u.delete(c);\n    return this.size = u.size, f;\n  }\n  function Ui(c) {\n    return this.__data__.get(c);\n  }\n  function Bi(c) {\n    return this.__data__.has(c);\n  }\n  function Wi(c, u) {\n    var f = this.__data__;\n    if (f instanceof Ve) {\n      var v = f.__data__;\n      if (!Nt || v.length < s - 1)\n        return v.push([c, u]), this.size = ++f.size, this;\n      f = this.__data__ = new rt(v);\n    }\n    return f.set(c, u), this.size = f.size, this;\n  }\n  qe.prototype.clear = $i, qe.prototype.delete = Zi, qe.prototype.get = Ui, qe.prototype.has = Bi, qe.prototype.set = Wi;\n  function zi(c, u) {\n    var f = as(c), v = !f && ia(c), U = !f && !v && Us(c), I = !f && !v && !U && Un(c), H = f || v || U || I, te = H ? ri(c.length, String) : [], re = te.length;\n    for (var z in c)\n      (u || Re.call(c, z)) && !(H && (z == \"length\" || U && (z == \"offset\" || z == \"parent\") || I && (z == \"buffer\" || z == \"byteLength\" || z == \"byteOffset\") || ea(z, re))) && te.push(z);\n    return te;\n  }\n  function rs(c, u) {\n    for (var f = c.length; f--; )\n      if (jn(c[f][0], u))\n        return f;\n    return -1;\n  }\n  function Fi(c, u, f) {\n    var v = u(c);\n    return as(c) ? v : si(v, f(c));\n  }\n  function kt(c) {\n    return c == null ? c === void 0 ? b : C : st && st in Object(c) ? Ji(c) : ra(c);\n  }\n  function Cn(c) {\n    return Rt(c) && kt(c) == o;\n  }\n  function Ln(c, u, f, v, U) {\n    return c === u ? !0 : c == null || u == null || !Rt(c) && !Rt(u) ? c !== c && u !== u : Hi(c, u, f, v, Ln, U);\n  }\n  function Hi(c, u, f, v, U, I) {\n    var H = as(c), te = as(u), re = H ? d : Ge(c), z = te ? d : Ge(u);\n    re = re == o ? j : re, z = z == o ? j : z;\n    var _e = re == j, Ne = z == j, oe = re == z;\n    if (oe && Us(c)) {\n      if (!Us(u))\n        return !1;\n      H = !0, _e = !1;\n    }\n    if (oe && !_e)\n      return I || (I = new qe()), H || Un(c) ? Dn(c, u, f, v, U, I) : Ki(c, u, re, f, v, U, I);\n    if (!(f & r)) {\n      var ve = _e && Re.call(c, \"__wrapped__\"), we = Ne && Re.call(u, \"__wrapped__\");\n      if (ve || we) {\n        var Xe = ve ? c.value() : c, $e = we ? u.value() : u;\n        return I || (I = new qe()), U(Xe, $e, f, v, I);\n      }\n    }\n    return oe ? (I || (I = new qe()), Yi(c, u, f, v, U, I)) : !1;\n  }\n  function qi(c) {\n    if (!Zn(c) || sa(c))\n      return !1;\n    var u = Vn(c) ? fi : Jr;\n    return u.test(it(c));\n  }\n  function Gi(c) {\n    return Rt(c) && $n(c.length) && !!Z[kt(c)];\n  }\n  function Xi(c) {\n    if (!na(c))\n      return mi(c);\n    var u = [];\n    for (var f in Object(c))\n      Re.call(c, f) && f != \"constructor\" && u.push(f);\n    return u;\n  }\n  function Dn(c, u, f, v, U, I) {\n    var H = f & r, te = c.length, re = u.length;\n    if (te != re && !(H && re > te))\n      return !1;\n    var z = I.get(c);\n    if (z && I.get(u))\n      return z == u;\n    var _e = -1, Ne = !0, oe = f & i ? new ns() : void 0;\n    for (I.set(c, u), I.set(u, c); ++_e < te; ) {\n      var ve = c[_e], we = u[_e];\n      if (v)\n        var Xe = H ? v(we, ve, _e, u, c, I) : v(ve, we, _e, c, u, I);\n      if (Xe !== void 0) {\n        if (Xe)\n          continue;\n        Ne = !1;\n        break;\n      }\n      if (oe) {\n        if (!ni(u, function($e, at) {\n          if (!ai(oe, at) && (ve === $e || U(ve, $e, f, v, I)))\n            return oe.push(at);\n        })) {\n          Ne = !1;\n          break;\n        }\n      } else if (!(ve === we || U(ve, we, f, v, I))) {\n        Ne = !1;\n        break;\n      }\n    }\n    return I.delete(c), I.delete(u), Ne;\n  }\n  function Ki(c, u, f, v, U, I, H) {\n    switch (f) {\n      case F:\n        if (c.byteLength != u.byteLength || c.byteOffset != u.byteOffset)\n          return !1;\n        c = c.buffer, u = u.buffer;\n      case D:\n        return !(c.byteLength != u.byteLength || !I(new On(c), new On(u)));\n      case h:\n      case g:\n      case P:\n        return jn(+c, +u);\n      case m:\n        return c.name == u.name && c.message == u.message;\n      case Ie:\n      case Pe:\n        return c == u + \"\";\n      case _:\n        var te = ci;\n      case ne:\n        var re = v & r;\n        if (te || (te = li), c.size != u.size && !re)\n          return !1;\n        var z = H.get(c);\n        if (z)\n          return z == u;\n        v |= i, H.set(c, u);\n        var _e = Dn(te(c), te(u), v, U, I, H);\n        return H.delete(c), _e;\n      case x:\n        if (Zs)\n          return Zs.call(c) == Zs.call(u);\n    }\n    return !1;\n  }\n  function Yi(c, u, f, v, U, I) {\n    var H = f & r, te = Pn(c), re = te.length, z = Pn(u), _e = z.length;\n    if (re != _e && !H)\n      return !1;\n    for (var Ne = re; Ne--; ) {\n      var oe = te[Ne];\n      if (!(H ? oe in u : Re.call(u, oe)))\n        return !1;\n    }\n    var ve = I.get(c);\n    if (ve && I.get(u))\n      return ve == u;\n    var we = !0;\n    I.set(c, u), I.set(u, c);\n    for (var Xe = H; ++Ne < re; ) {\n      oe = te[Ne];\n      var $e = c[oe], at = u[oe];\n      if (v)\n        var Bn = H ? v(at, $e, oe, u, c, I) : v($e, at, oe, c, u, I);\n      if (!(Bn === void 0 ? $e === at || U($e, at, f, v, I) : Bn)) {\n        we = !1;\n        break;\n      }\n      Xe || (Xe = oe == \"constructor\");\n    }\n    if (we && !Xe) {\n      var os = c.constructor, cs = u.constructor;\n      os != cs && \"constructor\" in c && \"constructor\" in u && !(typeof os == \"function\" && os instanceof os && typeof cs == \"function\" && cs instanceof cs) && (we = !1);\n    }\n    return I.delete(c), I.delete(u), we;\n  }\n  function Pn(c) {\n    return Fi(c, ca, Qi);\n  }\n  function is(c, u) {\n    var f = c.__data__;\n    return ta(u) ? f[typeof u == \"string\" ? \"string\" : \"hash\"] : f.map;\n  }\n  function pt(c, u) {\n    var f = oi(c, u);\n    return qi(f) ? f : void 0;\n  }\n  function Ji(c) {\n    var u = Re.call(c, st), f = c[st];\n    try {\n      c[st] = void 0;\n      var v = !0;\n    } catch {\n    }\n    var U = In.call(c);\n    return v && (u ? c[st] = f : delete c[st]), U;\n  }\n  var Qi = Rn ? function(c) {\n    return c == null ? [] : (c = Object(c), ti(Rn(c), function(u) {\n      return kn.call(c, u);\n    }));\n  } : da, Ge = kt;\n  (Ps && Ge(new Ps(new ArrayBuffer(1))) != F || Nt && Ge(new Nt()) != _ || js && Ge(js.resolve()) != pe || Vs && Ge(new Vs()) != ne || $s && Ge(new $s()) != O) && (Ge = function(c) {\n    var u = kt(c), f = u == j ? c.constructor : void 0, v = f ? it(f) : \"\";\n    if (v)\n      switch (v) {\n        case yi:\n          return F;\n        case _i:\n          return _;\n        case Ai:\n          return pe;\n        case vi:\n          return ne;\n        case wi:\n          return O;\n      }\n    return u;\n  });\n  function ea(c, u) {\n    return u = u == null ? a : u, !!u && (typeof c == \"number\" || Qr.test(c)) && c > -1 && c % 1 == 0 && c < u;\n  }\n  function ta(c) {\n    var u = typeof c;\n    return u == \"string\" || u == \"number\" || u == \"symbol\" || u == \"boolean\" ? c !== \"__proto__\" : c === null;\n  }\n  function sa(c) {\n    return !!En && En in c;\n  }\n  function na(c) {\n    var u = c && c.constructor, f = typeof u == \"function\" && u.prototype || ts;\n    return c === f;\n  }\n  function ra(c) {\n    return In.call(c);\n  }\n  function it(c) {\n    if (c != null) {\n      try {\n        return Sn.call(c);\n      } catch {\n      }\n      try {\n        return c + \"\";\n      } catch {\n      }\n    }\n    return \"\";\n  }\n  function jn(c, u) {\n    return c === u || c !== c && u !== u;\n  }\n  var ia = Cn(function() {\n    return arguments;\n  }()) ? Cn : function(c) {\n    return Rt(c) && Re.call(c, \"callee\") && !kn.call(c, \"callee\");\n  }, as = Array.isArray;\n  function aa(c) {\n    return c != null && $n(c.length) && !Vn(c);\n  }\n  var Us = gi || la;\n  function oa(c, u) {\n    return Ln(c, u);\n  }\n  function Vn(c) {\n    if (!Zn(c))\n      return !1;\n    var u = kt(c);\n    return u == S || u == $ || u == l || u == Et;\n  }\n  function $n(c) {\n    return typeof c == \"number\" && c > -1 && c % 1 == 0 && c <= a;\n  }\n  function Zn(c) {\n    var u = typeof c;\n    return c != null && (u == \"object\" || u == \"function\");\n  }\n  function Rt(c) {\n    return c != null && typeof c == \"object\";\n  }\n  var Un = Tn ? ii(Tn) : Gi;\n  function ca(c) {\n    return aa(c) ? zi(c) : Xi(c);\n  }\n  function da() {\n    return [];\n  }\n  function la() {\n    return !1;\n  }\n  t.exports = oa;\n})(sn, sn.exports);\nconst hc = sn.exports;\nfunction Jn(t, e) {\n  var r;\n  if (typeof t == \"string\" && (t = fc(t.trim())), !t)\n    return;\n  let s = (r = e == null ? void 0 : e.removeGenericPrefixes) != null ? r : !0, n = t.hostname;\n  return s && (n = n.replace(/^(m|mobile|amp|www|www1|www2|www3|tab|item|checkout|secure|user|account|accounts|web|app|open|i|v|preview|cdn|l|id|nid|user|sso|signin|login|auth0|play|api|click|detail|dashboard|console|manage|support|help)\\./, \"\").replace(/.*\\.zoom\\.us/, \"zoom.us\").replace(/.*\\.slack\\.com/, \"slack.com\").replace(/.*\\.wikipedia\\.org/, \"wikipedia.org\").replace(/.*\\.amazonaws\\.com/, \"amazonaws.com\").replace(/.*\\.netsuite\\.com/, \"netsuite.com\")), { hostname: n, path: pc(t.pathname) };\n}\nfunction fc(t) {\n  if (!t)\n    return;\n  let e = (s) => {\n    let n = new URL(s);\n    if (!/^https?:/.test(n.protocol))\n      throw Error(\"Invalid URL, ignored protocol found\");\n    if (!n.hostname)\n      throw Error(\"Invalid URL, no hostname\");\n    if (n.hostname.lastIndexOf(\".\") >= n.hostname.length - 2)\n      throw Error(\"Invalid URL, bad domain ending\");\n    return n;\n  };\n  try {\n    return e(t);\n  } catch {\n  }\n  if (!t.includes(\"://\"))\n    try {\n      return e(\"https://\" + t);\n    } catch {\n    }\n}\nfunction pc(t) {\n  return t.endsWith(\"/\") ? t.substring(0, Math.max(1, t.length - 1)) : t;\n}\nconst us = \"tab-history-map\", Cr = class {\n  constructor(t) {\n    this.tabHistoryMap = this.restoreTabHistory(), this.lock = new Er();\n    let e = 0;\n    V.tabs.onCreated.addListener(\n      (s) => this.lock.runExclusive(async () => {\n        var n;\n        if (s.id != null && (t == null || t.debug(`[referrer] ${e++} tabs.onCreated`, s), s.openerTabId != null)) {\n          const i = (n = (await this.tabHistoryMap)[s.openerTabId]) == null ? void 0 : n[0];\n          i && await this.addHistory(s.id, i);\n        }\n      })\n    ), V.webNavigation.onCommitted.addListener(\n      (s) => this.lock.runExclusive(async () => {\n        t == null || t.debug(`[referrer] ${e++} webNavigation.onCommitted`, s);\n        const { frameId: n, tabId: r, url: i, transitionQualifiers: a } = s;\n        n === 0 && ((a.includes(\"forward_back\") || a.includes(\"from_address_bar\")) && await this.addHistory(r, void 0), await this.addHistory(r, i));\n      })\n    ), V.runtime.onStartup.addListener(() => this.resetHistory()), V.runtime.onSuspend.addListener(() => this.resetHistory()), V.tabs.onRemoved.addListener((s) => this.removeHistory(s));\n  }\n  async restoreTabHistory() {\n    const t = await pn(us);\n    return t != null ? t : {};\n  }\n  async addHistory(t, e) {\n    var r;\n    const s = await this.tabHistoryMap, n = (r = s[t]) != null ? r : s[t] = [];\n    e !== n[0] && n.unshift(this.sanatizeReferrerUrl(e)), n.splice(Cr.MAX_HISTORY_COUNT_PER_TAB), await Vt(us, s);\n  }\n  sanatizeReferrerUrl(t) {\n    if (!!t)\n      try {\n        const e = new URL(t);\n        return e.search = \"\", e.username = \"\", e.password = \"\", e.hash = \"\", e.href;\n      } catch {\n        return;\n      }\n  }\n  getReferrerFor(t, e) {\n    return this.lock.runExclusive(async () => {\n      if (t == null || !e)\n        return;\n      const n = (await this.tabHistoryMap)[t];\n      if (n == null)\n        return;\n      const r = n.findIndex((i) => i === e);\n      return r === -1 ? void 0 : n[r + 1];\n    });\n  }\n  resetHistory() {\n    return Vt(us, {});\n  }\n  async removeHistory(t) {\n    const e = await this.tabHistoryMap;\n    delete e[t], await Vt(us, e);\n  }\n};\nlet Lr = Cr;\nLr.MAX_HISTORY_COUNT_PER_TAB = 10;\nclass Qn {\n  constructor() {\n    this.map = {};\n  }\n  markAsProcessed(e) {\n    e.forEach((s) => this.map[s.id] = !0);\n  }\n  isProcessed(e) {\n    var s;\n    return (s = this.map[e.id]) != null ? s : !1;\n  }\n}\nconst Me = class {\n  constructor(t, e) {\n    this.wakeUpTimeoutDisabled = !1, this.hasRecentUserActivity = !0, this.sessionUpdatedListeners = [], this.pageViewUpdatedListeners = [], this.checkSessionsListeners = [], this.latestTriggerId = 0, this.updateSessions = ko(\n      async (r) => {\n        var o, d, l;\n        const i = `[update-sessions] [${r.triggerId}]`;\n        if ((o = this.logger) == null || o.debug(`${i} Waiting for startup to stop previous sessions...`), await this.startupPromise, (d = this.logger) == null || d.debug(\n          `${i} Processing @ ${new Date(r.timestamp).toLocaleTimeString()}`\n        ), this.pingLastAliveAt(), this.invokeCheckSessionsListeners(), await this.config.enabled()) {\n          const h = this.logger ? new Io(this.logger.debug.bind(this.logger)) : void 0, g = await this.getComputeDependencies();\n          h == null || h.log(`${i} Got required data after {duration}`);\n          const m = this.findSessionChanges(r, g);\n          h == null || h.log(`${i} Computed session changes after {duration}`);\n          const S = await this.findPageViewChanges(r, g);\n          h == null || h.log(`${i} Computed page view changes after {duration}`), await this.saveSessionChanges(r.timestamp, m), h == null || h.log(`${i} Session changes committed to the database after {duration}`), await this.savePageViewChanges(r.timestamp, S), h == null || h.log(`${i} Page view changes committed to the database after {duration}`);\n        }\n        (l = this.logger) == null || l.log(`${i} Done`);\n      }\n    ), this.config = e, this.sessionsRepo = t.sessionsRepo, this.pageViewsRepo = t.pageViewsRepo, this.updateSessions = this.updateSessions.bind(this), e.logger === void 0 ? this.logger = console : this.logger = e.logger;\n    const [s, n] = Co();\n    this.startupPromise = s, this.allowSessionUpdates = n;\n  }\n  setupTriggers() {\n    var t, e;\n    this.referrers = new Lr(this.logger), (e = (t = this.config).setupCustomTriggers) == null || e.call(t, {\n      triggerSessionChangeCheck: this.basicTrigger.bind(this),\n      setHasRecentUserActivity: this.setHasRecentUserActivity.bind(this)\n    }), this.setupExtensionApiTriggers(), this.setupIdleTriggers(), this.setupStartupTriggers();\n  }\n  addSessionUpdatedListener(t) {\n    this.sessionUpdatedListeners.push(t);\n  }\n  addPageViewUpdatedListener(t) {\n    this.pageViewUpdatedListeners.push(t);\n  }\n  addCheckSessionsListener(t) {\n    this.checkSessionsListeners.push(t);\n  }\n  setupExtensionApiTriggers() {\n    V.webNavigation.onCompleted.addListener(async (t) => {\n      t.frameId > 0 || await this.basicTrigger(\n        \"webNavigation.onCompleted\",\n        Math.floor(t.timeStamp)\n      );\n    }), V.tabs.onCreated.addListener(() => this.basicTrigger(\"tabs.onCreated\")), V.tabs.onUpdated.addListener(() => this.basicTrigger(\"tabs.onUpdated\")), V.tabs.onActivated.addListener(() => this.basicTrigger(\"tabs.onActivated\")), V.tabs.onRemoved.addListener(() => this.basicTrigger(\"tabs.onRemoved\")), V.windows.onCreated.addListener(() => this.basicTrigger(\"windows.onCreated\")), V.windows.onFocusChanged.addListener(() => this.basicTrigger(\"windows.onFocusChanged\")), V.windows.onRemoved.addListener(() => this.basicTrigger(\"windows.onRemoved\")), this.onWindowStateChanged(\n      (t) => this.basicTrigger(\"SessionMonitor.onWindowStateChanged\", t)\n    );\n  }\n  setupIdleTriggers() {\n  }\n  setupStartupTriggers() {\n    const t = Date.now();\n    this.config.isOnStartupAvailable() ? (V.runtime.onStartup.addListener(() => {\n      this.wakeUpTimeoutDisabled = !0, this.startupFlow({\n        cleanupSessions: !0,\n        trigger: \"runtime.onStartup\",\n        timestamp: t\n      });\n    }), setTimeout(() => {\n      this.wakeUpTimeoutDisabled || this.startupFlow({\n        cleanupSessions: !1,\n        trigger: \"setTimeout\",\n        timestamp: t\n      });\n    }, Me.ALWAYS_STARTUP_AFTER_MS)) : (V.alarms.clear(\"ping-last-alive-at\"), V.alarms.create(\"ping-last-alive-at\", {\n      delayInMinutes: Me.LAST_ALIVE_AT_INTERVAL_MS / Tt,\n      periodInMinutes: Me.LAST_ALIVE_AT_INTERVAL_MS / Tt\n    }), V.alarms.onAlarm.addListener((s) => {\n      if (s.name === \"ping-last-alive-at\")\n        return this.pingLastAliveAt();\n    }), this.getLastAliveAt().then((s) => {\n      this.wakeUpTimeoutDisabled = !0;\n      const n = s != null && Date.now() - s > 2 * Me.LAST_ALIVE_AT_INTERVAL_MS;\n      this.startupFlow({\n        cleanupSessions: n,\n        trigger: n ? \"time since last alive at > 2 * lastAliveInterval\" : \"time since last alive at <= 2 * lastAliveInterval\",\n        timestamp: t\n      });\n    })), V.runtime.onInstalled.addListener((s) => {\n      this.wakeUpTimeoutDisabled = !0, this.startupFlow({\n        cleanupSessions: s.reason !== \"install\",\n        trigger: \"runtime.onInstalled\",\n        timestamp: t\n      });\n    });\n    const { onSuspend: e } = V.runtime;\n    e == null || e.addListener(() => this.endAllActiveSessions(Date.now()));\n  }\n  basicTrigger(t, e = Date.now()) {\n    var n;\n    const s = this.latestTriggerId++;\n    return (n = this.logger) == null || n.log(\n      `[update-sessions] [${s}] Queued by ${t} @ ${new Date(\n        e\n      ).toLocaleTimeString()}`\n    ), this.updateSessions({ timestamp: e, triggerId: s, triggeredBy: t });\n  }\n  onWindowStateChanged(t) {\n    let e = {};\n    this.getWindowStates().then((s) => {\n      e = s;\n    }), setInterval(async () => {\n      const s = Date.now(), n = await this.getWindowStates();\n      hc(e, n) || (t(s), e = n);\n    }, Me.WINDOW_STATE_POLLING_INTERVAL_MS);\n  }\n  async getWindowStates() {\n    return (await V.windows.getAll()).reduce((e, s) => (s.id != null && (e[s.id] = s.state), e), {});\n  }\n  async startupFlow({\n    cleanupSessions: t,\n    trigger: e,\n    timestamp: s\n  }) {\n    t && await this.cleanupActiveSessionsOnStartup(s), await this.pingLastAliveAt(), await Oo().then(() => this.allowSessionUpdates()), await this.basicTrigger(e, s);\n  }\n  async cleanupActiveSessionsOnStartup(t) {\n    var r, i, a, o;\n    const e = await this.getLastAliveAt();\n    if ((r = this.logger) == null || r.debug(\"[on-startup] onStartup()\", {\n      lastActivity: e && new Date(e).toISOString(),\n      now: new Date(t).toISOString()\n    }), e == null)\n      throw Error(\"lastActivity was not set yet\");\n    (i = this.logger) == null || i.log(\"[on-startup] Ending sessions after quit...\");\n    const s = e + Me.LAST_ALIVE_AT_POLL_INTERVAL_MS, n = Math.min(t, s);\n    (a = this.logger) == null || a.log(\"[on-startup] Timing details:\", {\n      lastActivity: new Date(e).toISOString(),\n      now: new Date(t).toISOString(),\n      quitAt: new Date(s).toISOString(),\n      endAt: new Date(n).toISOString()\n    }), await this.endAllActiveSessions(n), (o = this.logger) == null || o.log(\"[on-startup] Startup finished!\");\n  }\n  async getComputeDependencies() {\n    const [t, e] = await Promise.all([V.windows.getAll(), V.tabs.query({})]), s = await this.sessionsRepo.getActiveSessions(), n = await this.pageViewsRepo.getActivePageViews();\n    return {\n      isTabActiveWhenPlayingAudio: await this.config.isTabActiveWhenPlayingAudio(),\n      hostnameToTabsMap: e.reduce((r, i) => {\n        var o, d, l;\n        const a = (o = Jn(i.url)) == null ? void 0 : o.hostname;\n        return a && ((d = r[a]) != null || (r[a] = []), (l = r[a]) == null || l.push(i)), r;\n      }, {}),\n      allActiveSessions: s,\n      allActivePageViews: n,\n      appIdToActiveSessionMap: Ro(s != null ? s : [], \"appId\"),\n      windowIdToWindowMap: Mo(t, \"id\"),\n      processedActiveSessionCache: new Qn(),\n      processedActivePageViewCache: new Qn()\n    };\n  }\n  findSessionChanges(t, e) {\n    var i, a, o;\n    const s = [], n = [];\n    for (const [d, l] of Object.entries(e.hostnameToTabsMap))\n      if (!!d)\n        try {\n          if (!(l != null && l.length))\n            throw Error(\"This shouldn't be possible\");\n          const h = e.appIdToActiveSessionMap[d], g = !!(h != null && h.length), m = !!l.find((S) => this.isTabActive(S, e));\n          !g && m ? s.push({ appId: d, startedAt: t.timestamp }) : g && !m && n.push(...h), g && e.processedActiveSessionCache.markAsProcessed(h);\n        } catch (h) {\n          (i = this.logger) == null || i.error(\n            `[update-sessions] Failed find sessions to change for ${d}:`,\n            h\n          );\n        }\n    return ((o = (a = e.allActiveSessions) == null ? void 0 : a.filter((d) => !e.processedActiveSessionCache.isProcessed(d))) != null ? o : []).forEach((d) => n.push(d)), {\n      toStart: s,\n      toEnd: n,\n      count: s.length + n.length\n    };\n  }\n  async findPageViewChanges(t, e) {\n    var i;\n    const s = Object.values(e.hostnameToTabsMap).flat().filter((a) => !!a && this.isTabActive(a, e)), n = [], r = [...e.allActivePageViews];\n    for (const a of s) {\n      const o = Jn(a.url);\n      if (o == null)\n        continue;\n      const d = e.allActivePageViews.filter(\n        (l) => l.appId === (o == null ? void 0 : o.hostname) && l.path === o.path\n      );\n      if (d.length > 0)\n        for (const l of d) {\n          const h = r.findIndex(\n            (g) => g.id === l.id\n          );\n          h >= 0 && r.splice(h, 1);\n        }\n      else\n        n.push({\n          appId: o.hostname,\n          path: o.path,\n          startedAt: t.timestamp,\n          referrer: await ((i = this.referrers) == null ? void 0 : i.getReferrerFor(a.id, a.url))\n        });\n    }\n    return {\n      toStart: n,\n      toEnd: r,\n      count: n.length + r.length\n    };\n  }\n  async saveSessionChanges(t, e) {\n    const s = e.toEnd.map((a) => {\n      var d;\n      const o = new Date(t).toLocaleTimeString();\n      return (d = this.logger) == null || d.log(\n        `[change-session] Stop session ${a.appId} @ ${o} (${t - a.startedAt}ms)`\n      ), this.sessionsRepo.endSession(a, t);\n    }), n = e.toStart.map((a) => {\n      var o;\n      return (o = this.logger) == null || o.log(\n        `[change-session] Start session ${a.appId} @ ${new Date(\n          a.startedAt\n        ).toLocaleTimeString()}`,\n        { session: a }\n      ), this.sessionsRepo.startSession(a);\n    }), r = await Promise.allSettled(s), i = await Promise.allSettled(n);\n    this.logSettledErrors(\"sessions\", \"ending\", r), this.logSettledErrors(\"sessions\", \"starting\", i), e.count > 0 && this.invokeSessionUpdatedListeners();\n  }\n  async savePageViewChanges(t, e) {\n    const s = e.toEnd.map((a) => {\n      var d;\n      const o = new Date(t).toLocaleTimeString();\n      return (d = this.logger) == null || d.log(\n        `[change-session] Stop page view ${a.appId}${a.path} @ ${o} (${t - a.startedAt}ms)`\n      ), this.pageViewsRepo.endPageView(a, t);\n    }), n = e.toStart.map((a) => {\n      var o;\n      return (o = this.logger) == null || o.log(\n        `[change-session] Start page view ${a.appId}${a.path} @ ${new Date(\n          a.startedAt\n        ).toLocaleTimeString()}`,\n        { session: a }\n      ), this.pageViewsRepo.startPageView(a);\n    }), r = await Promise.allSettled(s), i = await Promise.allSettled(n);\n    this.logSettledErrors(\"page views\", \"ending\", r), this.logSettledErrors(\"page views\", \"starting\", i), e.count > 0 && this.invokePageViewUpdatedListeners();\n  }\n  logSettledErrors(t, e, s) {\n    var r;\n    const n = s.map((i) => {\n      if (i.status === \"rejected\")\n        return i.reason;\n    }).filter((i) => i != null);\n    n.length > 0 && ((r = this.logger) == null || r.warn(\n      `[update-sessions] ${n.length}/${s.length} transactions failed when ${e} ${t}`,\n      n\n    ));\n  }\n  isTabActive(t, e) {\n    var n;\n    if (t.windowId == null)\n      return (n = this.logger) == null || n.warn(\"[update-sessions] Checking if tab without a windowId is active\"), !1;\n    const s = e.windowIdToWindowMap[t.windowId];\n    return !!s && Do(t, s, this.hasRecentUserActivity, e.isTabActiveWhenPlayingAudio);\n  }\n  async endAllActiveSessions(t) {\n    var s, n, r;\n    const e = await this.sessionsRepo.getActiveSessions();\n    if (e.length === 0) {\n      (s = this.logger) == null || s.log(\"[stop-active-sessions] No active sessions to stop\");\n      return;\n    }\n    (n = this.logger) == null || n.log(\"[stop-active-sessions] Stopping all active sessions:\", {\n      activeSessions: e,\n      timestamp: t\n    }), await this.saveSessionChanges(t, {\n      toStart: [],\n      toEnd: e,\n      count: e.length\n    }), (r = this.logger) == null || r.log(\"[stop-active-sessions] All active sessions stopped!\");\n  }\n  async pingLastAliveAt() {\n    var e;\n    const t = Date.now();\n    (e = this.logger) == null || e.debug(\"[SessionMonitor] Updating last time browser was known to be open\", t), await Vt(Me.LAST_ALIVE_AT_KEY, t), clearTimeout(this.lastAlivePing), this.lastAlivePing = setTimeout(\n      () => this.pingLastAliveAt(),\n      Me.LAST_ALIVE_AT_POLL_INTERVAL_MS\n    );\n  }\n  getLastAliveAt() {\n    return pn(Me.LAST_ALIVE_AT_KEY);\n  }\n  invokeCheckSessionsListeners() {\n    this.checkSessionsListeners.forEach((t) => t());\n  }\n  invokeSessionUpdatedListeners() {\n    this.sessionUpdatedListeners.forEach((t) => t());\n  }\n  invokePageViewUpdatedListeners() {\n    this.pageViewUpdatedListeners.forEach((t) => t());\n  }\n  setHasRecentUserActivity(t) {\n    this.hasRecentUserActivity = t;\n  }\n};\nlet St = Me;\nSt.LAST_ALIVE_AT_KEY = \"last-activity-time-ms\";\nSt.LAST_ALIVE_AT_INTERVAL_MS = fn;\nSt.LAST_ALIVE_AT_POLL_INTERVAL_MS = 30 * Tt;\nSt.ALWAYS_STARTUP_AFTER_MS = 5 * Tt;\nSt.WINDOW_STATE_POLLING_INTERVAL_MS = 5 * Tt;\nfunction Wd(t) {\n  const e = new St(t.db, t);\n  return e.setupTriggers(), { sessionMonitor: e };\n}\nvar er = 1 / 0, Dr = 9007199254740991, gc = 17976931348623157e292, tr = 0 / 0, mc = \"[object Function]\", yc = \"[object GeneratorFunction]\", _c = \"[object Symbol]\", Ac = /^\\s+|\\s+$/g, vc = /^[-+]0x[0-9a-f]+$/i, wc = /^0b[01]+$/i, bc = /^0o[0-7]+$/i, xc = /^(?:0|[1-9]\\d*)$/, Tc = parseInt, Sc = Object.prototype, Pr = Sc.toString, Ec = Math.ceil, Ic = Math.max;\nfunction Nc(t, e, s) {\n  var n = -1, r = t.length;\n  e < 0 && (e = -e > r ? 0 : r + e), s = s > r ? r : s, s < 0 && (s += r), r = e > s ? 0 : s - e >>> 0, e >>>= 0;\n  for (var i = Array(r); ++n < r; )\n    i[n] = t[n + e];\n  return i;\n}\nfunction Oc(t, e) {\n  return e = e == null ? Dr : e, !!e && (typeof t == \"number\" || xc.test(t)) && t > -1 && t % 1 == 0 && t < e;\n}\nfunction kc(t, e, s) {\n  if (!Es(s))\n    return !1;\n  var n = typeof e;\n  return (n == \"number\" ? Cc(s) && Oc(e, s.length) : n == \"string\" && e in s) ? Mc(s[e], t) : !1;\n}\nfunction Rc(t, e, s) {\n  (s ? kc(t, e, s) : e === void 0) ? e = 1 : e = Ic($c(e), 0);\n  var n = t ? t.length : 0;\n  if (!n || e < 1)\n    return [];\n  for (var r = 0, i = 0, a = Array(Ec(n / e)); r < n; )\n    a[i++] = Nc(t, r, r += e);\n  return a;\n}\nfunction Mc(t, e) {\n  return t === e || t !== t && e !== e;\n}\nfunction Cc(t) {\n  return t != null && Dc(t.length) && !Lc(t);\n}\nfunction Lc(t) {\n  var e = Es(t) ? Pr.call(t) : \"\";\n  return e == mc || e == yc;\n}\nfunction Dc(t) {\n  return typeof t == \"number\" && t > -1 && t % 1 == 0 && t <= Dr;\n}\nfunction Es(t) {\n  var e = typeof t;\n  return !!t && (e == \"object\" || e == \"function\");\n}\nfunction Pc(t) {\n  return !!t && typeof t == \"object\";\n}\nfunction jc(t) {\n  return typeof t == \"symbol\" || Pc(t) && Pr.call(t) == _c;\n}\nfunction Vc(t) {\n  if (!t)\n    return t === 0 ? t : 0;\n  if (t = Zc(t), t === er || t === -er) {\n    var e = t < 0 ? -1 : 1;\n    return e * gc;\n  }\n  return t === t ? t : 0;\n}\nfunction $c(t) {\n  var e = Vc(t), s = e % 1;\n  return e === e ? s ? e - s : e : 0;\n}\nfunction Zc(t) {\n  if (typeof t == \"number\")\n    return t;\n  if (jc(t))\n    return tr;\n  if (Es(t)) {\n    var e = typeof t.valueOf == \"function\" ? t.valueOf() : t;\n    t = Es(e) ? e + \"\" : e;\n  }\n  if (typeof t != \"string\")\n    return t === 0 ? t : +t;\n  t = t.replace(Ac, \"\");\n  var s = wc.test(t);\n  return s || bc.test(t) ? Tc(t.slice(2), s ? 2 : 8) : vc.test(t) ? tr : +t;\n}\nvar Uc = Rc;\nconst Bc = 100;\nfunction Wc(t) {\n  const e = t.logger === void 0 ? console : t.logger;\n  async function s() {\n    var d;\n    const [i, a, o] = await Promise.all([\n      t.getAppId(),\n      t.getInstallId(),\n      (d = t.getBirthYear) == null ? void 0 : d.call(t)\n    ]);\n    return {\n      appId: i,\n      installId: a,\n      birthYear: o\n    };\n  }\n  async function n(i, a) {\n    var d, l;\n    let o;\n    try {\n      e == null || e.log(\n        `[${i.label}-uploader] Beginning upload @ ${new Date(\n          a\n        ).toISOString()}`\n      );\n      const [h, g, m] = await Promise.all([\n        i.getLastUploadedAt(),\n        t.db,\n        t.enabled()\n      ]);\n      if (!m) {\n        e == null || e.log(`[${i.label}-uploader] Uploads are disabled`);\n        return;\n      }\n      const S = await i.getModelsToUpload({\n        db: g,\n        lastUploadedAt: h,\n        uploadStartedAt: a\n      }), $ = (l = await ((d = t.getUploadBatchSize) == null ? void 0 : d.call(t))) != null ? l : Bc, _ = Uc(S, $), P = await s();\n      o = {\n        models: S,\n        batches: _,\n        body: P\n      }, e == null || e.debug(`[${i.label}-uploader] Data`, o);\n      for (const j of _) {\n        e == null || e.debug(`[${i.label}-uploader] Uploading`, {\n          batch: j,\n          requestSkipped: !!t.dev\n        }), t.dev || await i.upload(P, j);\n        const pe = j[j.length - 1];\n        (pe == null ? void 0 : pe.endedAt) != null && await i.setLastUploadedAt(pe.endedAt);\n      }\n      await i.setLastUploadedAt(a);\n      const C = (Date.now() - a) / 1e3;\n      e == null || e.log(\n        `[${i.label}-uploader] Uploaded ${S.length} items in ${_.length} batches in ${C}s`\n      ), i.onSuccess({\n        total: S.length,\n        batches: _.length,\n        batchSize: $,\n        durationInSec: C\n      });\n    } catch (h) {\n      e == null || e.error(`[${i.label}-uploader] Failed to upload`, h, o), i.onFailure(h);\n    }\n  }\n  async function r() {\n    const i = Date.now();\n    await Promise.allSettled(t.uploaders.map((a) => n(a, i)));\n  }\n  return {\n    uploadAll: r\n  };\n}\nfunction zc({\n  api: t,\n  onSuccess: e,\n  onFailure: s,\n  lastUploadedAtStorageKey: n\n}) {\n  return {\n    label: \"sessions\",\n    onSuccess: e,\n    onFailure: s,\n    async getLastUploadedAt() {\n      const r = await pn(n);\n      return r != null ? r : 1;\n    },\n    setLastUploadedAt(r) {\n      return Vt(n, r);\n    },\n    async getModelsToUpload({ db: r, lastUploadedAt: i, uploadStartedAt: a }) {\n      return (await r.sessionsRepo.findSessionsByEndedAt(i, a)).filter((d) => !d.imported);\n    },\n    async upload(r, i) {\n      const a = i.reduce((o, d) => {\n        var h, g;\n        if (d.endedAt == null)\n          throw Error(\"Cannot upload a session that is in progress\");\n        const l = {\n          duration: Ss(d.endedAt - d.startedAt),\n          timestamp: Ss(d.startedAt)\n        };\n        return l.duration > 0 && ((g = o[h = d.appId]) != null || (o[h] = { sessions: [] }), o[d.appId].sessions.push(l)), o;\n      }, {});\n      await t.uploadSessions({ ...r, websites: a });\n    }\n  };\n}\nvar Fc = jr;\nfunction jr(t, e, s) {\n  t instanceof RegExp && (t = sr(t, s)), e instanceof RegExp && (e = sr(e, s));\n  var n = Vr(t, e, s);\n  return n && {\n    start: n[0],\n    end: n[1],\n    pre: s.slice(0, n[0]),\n    body: s.slice(n[0] + t.length, n[1]),\n    post: s.slice(n[1] + e.length)\n  };\n}\nfunction sr(t, e) {\n  var s = e.match(t);\n  return s ? s[0] : null;\n}\njr.range = Vr;\nfunction Vr(t, e, s) {\n  var n, r, i, a, o, d = s.indexOf(t), l = s.indexOf(e, d + 1), h = d;\n  if (d >= 0 && l > 0) {\n    if (t === e)\n      return [d, l];\n    for (n = [], i = s.length; h >= 0 && !o; )\n      h == d ? (n.push(h), d = s.indexOf(t, h + 1)) : n.length == 1 ? o = [n.pop(), l] : (r = n.pop(), r < i && (i = r, a = l), l = s.indexOf(e, h + 1)), h = d < l && d >= 0 ? d : l;\n    n.length && (o = [i, a]);\n  }\n  return o;\n}\nvar $r = Fc, Hc = Xc, Zr = \"\\0SLASH\" + Math.random() + \"\\0\", Ur = \"\\0OPEN\" + Math.random() + \"\\0\", yn = \"\\0CLOSE\" + Math.random() + \"\\0\", Br = \"\\0COMMA\" + Math.random() + \"\\0\", Wr = \"\\0PERIOD\" + Math.random() + \"\\0\";\nfunction Xs(t) {\n  return parseInt(t, 10) == t ? parseInt(t, 10) : t.charCodeAt(0);\n}\nfunction qc(t) {\n  return t.split(\"\\\\\\\\\").join(Zr).split(\"\\\\{\").join(Ur).split(\"\\\\}\").join(yn).split(\"\\\\,\").join(Br).split(\"\\\\.\").join(Wr);\n}\nfunction Gc(t) {\n  return t.split(Zr).join(\"\\\\\").split(Ur).join(\"{\").split(yn).join(\"}\").split(Br).join(\",\").split(Wr).join(\".\");\n}\nfunction zr(t) {\n  if (!t)\n    return [\"\"];\n  var e = [], s = $r(\"{\", \"}\", t);\n  if (!s)\n    return t.split(\",\");\n  var n = s.pre, r = s.body, i = s.post, a = n.split(\",\");\n  a[a.length - 1] += \"{\" + r + \"}\";\n  var o = zr(i);\n  return i.length && (a[a.length - 1] += o.shift(), a.push.apply(a, o)), e.push.apply(e, a), e;\n}\nfunction Xc(t) {\n  return t ? (t.substr(0, 2) === \"{}\" && (t = \"\\\\{\\\\}\" + t.substr(2)), Lt(qc(t), !0).map(Gc)) : [];\n}\nfunction Kc(t) {\n  return \"{\" + t + \"}\";\n}\nfunction Yc(t) {\n  return /^-?0\\d/.test(t);\n}\nfunction Jc(t, e) {\n  return t <= e;\n}\nfunction Qc(t, e) {\n  return t >= e;\n}\nfunction Lt(t, e) {\n  var s = [], n = $r(\"{\", \"}\", t);\n  if (!n)\n    return [t];\n  var r = n.pre, i = n.post.length ? Lt(n.post, !1) : [\"\"];\n  if (/\\$$/.test(n.pre))\n    for (var a = 0; a < i.length; a++) {\n      var o = r + \"{\" + n.body + \"}\" + i[a];\n      s.push(o);\n    }\n  else {\n    var d = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(n.body), l = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(n.body), h = d || l, g = n.body.indexOf(\",\") >= 0;\n    if (!h && !g)\n      return n.post.match(/,.*\\}/) ? (t = n.pre + \"{\" + n.body + yn + n.post, Lt(t)) : [t];\n    var m;\n    if (h)\n      m = n.body.split(/\\.\\./);\n    else if (m = zr(n.body), m.length === 1 && (m = Lt(m[0], !1).map(Kc), m.length === 1))\n      return i.map(function(O) {\n        return n.pre + m[0] + O;\n      });\n    var S;\n    if (h) {\n      var $ = Xs(m[0]), _ = Xs(m[1]), P = Math.max(m[0].length, m[1].length), C = m.length == 3 ? Math.abs(Xs(m[2])) : 1, j = Jc, pe = _ < $;\n      pe && (C *= -1, j = Qc);\n      var Et = m.some(Yc);\n      S = [];\n      for (var Ie = $; j(Ie, _); Ie += C) {\n        var ne;\n        if (l)\n          ne = String.fromCharCode(Ie), ne === \"\\\\\" && (ne = \"\");\n        else if (ne = String(Ie), Et) {\n          var Pe = P - ne.length;\n          if (Pe > 0) {\n            var x = new Array(Pe + 1).join(\"0\");\n            Ie < 0 ? ne = \"-\" + x + ne.slice(1) : ne = x + ne;\n          }\n        }\n        S.push(ne);\n      }\n    } else {\n      S = [];\n      for (var b = 0; b < m.length; b++)\n        S.push.apply(S, Lt(m[b], !1));\n    }\n    for (var b = 0; b < S.length; b++)\n      for (var a = 0; a < i.length; a++) {\n        var o = r + S[b] + i[a];\n        (!e || h || o) && s.push(o);\n      }\n  }\n  return s;\n}\nconst ed = 1024 * 64, Is = (t) => {\n  if (typeof t != \"string\")\n    throw new TypeError(\"invalid pattern\");\n  if (t.length > ed)\n    throw new TypeError(\"pattern is too long\");\n}, td = {\n  \"[:alnum:]\": [\"\\\\p{L}\\\\p{Nl}\\\\p{Nd}\", !0],\n  \"[:alpha:]\": [\"\\\\p{L}\\\\p{Nl}\", !0],\n  \"[:ascii:]\": [\"\\\\x00-\\\\x7f\", !1],\n  \"[:blank:]\": [\"\\\\p{Zs}\\\\t\", !0],\n  \"[:cntrl:]\": [\"\\\\p{Cc}\", !0],\n  \"[:digit:]\": [\"\\\\p{Nd}\", !0],\n  \"[:graph:]\": [\"\\\\p{Z}\\\\p{C}\", !0, !0],\n  \"[:lower:]\": [\"\\\\p{Ll}\", !0],\n  \"[:print:]\": [\"\\\\p{C}\", !0],\n  \"[:punct:]\": [\"\\\\p{P}\", !0],\n  \"[:space:]\": [\"\\\\p{Z}\\\\t\\\\r\\\\n\\\\v\\\\f\", !0],\n  \"[:upper:]\": [\"\\\\p{Lu}\", !0],\n  \"[:word:]\": [\"\\\\p{L}\\\\p{Nl}\\\\p{Nd}\\\\p{Pc}\", !0],\n  \"[:xdigit:]\": [\"A-Fa-f0-9\", !1]\n}, Mt = (t) => t.replace(/[[\\]\\\\-]/g, \"\\\\$&\"), sd = (t) => t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), nr = (t) => t.join(\"\"), nd = (t, e) => {\n  const s = e;\n  if (t.charAt(s) !== \"[\")\n    throw new Error(\"not in a brace expression\");\n  const n = [], r = [];\n  let i = s + 1, a = !1, o = !1, d = !1, l = !1, h = s, g = \"\";\n  e:\n    for (; i < t.length; ) {\n      const _ = t.charAt(i);\n      if ((_ === \"!\" || _ === \"^\") && i === s + 1) {\n        l = !0, i++;\n        continue;\n      }\n      if (_ === \"]\" && a && !d) {\n        h = i + 1;\n        break;\n      }\n      if (a = !0, _ === \"\\\\\" && !d) {\n        d = !0, i++;\n        continue;\n      }\n      if (_ === \"[\" && !d) {\n        for (const [P, [C, j, pe]] of Object.entries(td))\n          if (t.startsWith(P, i)) {\n            if (g)\n              return [\"$.\", !1, t.length - s, !0];\n            i += P.length, pe ? r.push(C) : n.push(C), o = o || j;\n            continue e;\n          }\n      }\n      if (d = !1, g) {\n        _ > g ? n.push(Mt(g) + \"-\" + Mt(_)) : _ === g && n.push(Mt(_)), g = \"\", i++;\n        continue;\n      }\n      if (t.startsWith(\"-]\", i + 1)) {\n        n.push(Mt(_ + \"-\")), i += 2;\n        continue;\n      }\n      if (t.startsWith(\"-\", i + 1)) {\n        g = _, i += 2;\n        continue;\n      }\n      n.push(Mt(_)), i++;\n    }\n  if (h < i)\n    return [\"\", !1, 0, !1];\n  if (!n.length && !r.length)\n    return [\"$.\", !1, t.length - s, !0];\n  if (r.length === 0 && n.length === 1 && /^\\\\?.$/.test(n[0]) && !l) {\n    const _ = n[0].length === 2 ? n[0].slice(-1) : n[0];\n    return [sd(_), !1, h - s, !1];\n  }\n  const m = \"[\" + (l ? \"^\" : \"\") + nr(n) + \"]\", S = \"[\" + (l ? \"\" : \"^\") + nr(r) + \"]\";\n  return [n.length && r.length ? \"(\" + m + \"|\" + S + \")\" : n.length ? m : S, o, h - s, !0];\n}, Dt = (t, { windowsPathsNoEscape: e = !1 } = {}) => e ? t.replace(/\\[([^\\/\\\\])\\]/g, \"$1\") : t.replace(/((?!\\\\).|^)\\[([^\\/\\\\])\\]/g, \"$1$2\").replace(/\\\\([^\\/])/g, \"$1\"), rd = /* @__PURE__ */ new Set([\"!\", \"?\", \"+\", \"*\", \"@\"]), rr = (t) => rd.has(t), id = \"(?!\\\\.\\\\.?(?:$|/))\", Ks = \"(?!\\\\.)\", ad = /* @__PURE__ */ new Set([\"[\", \".\"]), od = /* @__PURE__ */ new Set([\"..\", \".\"]), cd = new Set(\"().*{}+?[]^$\\\\!\"), dd = (t) => t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), _n = \"[^/]\", ir = _n + \"*?\", ar = _n + \"+?\";\nvar ee, se, Ue, B, Y, Ye, ct, Je, Te, dt, Jt, Ns, Fr, vt, fs, Os, Hr;\nconst ye = class {\n  constructor(e, s, n = {}) {\n    he(this, Ns);\n    Q(this, \"type\");\n    he(this, ee, void 0);\n    he(this, se, void 0);\n    he(this, Ue, !1);\n    he(this, B, []);\n    he(this, Y, void 0);\n    he(this, Ye, void 0);\n    he(this, ct, void 0);\n    he(this, Je, !1);\n    he(this, Te, void 0);\n    he(this, dt, void 0);\n    he(this, Jt, !1);\n    this.type = e, e && G(this, se, !0), G(this, Y, s), G(this, ee, p(this, Y) ? p(p(this, Y), ee) : this), G(this, Te, p(this, ee) === this ? n : p(p(this, ee), Te)), G(this, ct, p(this, ee) === this ? [] : p(p(this, ee), ct)), e === \"!\" && !p(p(this, ee), Je) && p(this, ct).push(this), G(this, Ye, p(this, Y) ? p(p(this, Y), B).length : 0);\n  }\n  get hasMagic() {\n    if (p(this, se) !== void 0)\n      return p(this, se);\n    for (const e of p(this, B))\n      if (typeof e != \"string\" && (e.type || e.hasMagic))\n        return G(this, se, !0);\n    return p(this, se);\n  }\n  toString() {\n    return p(this, dt) !== void 0 ? p(this, dt) : this.type ? G(this, dt, this.type + \"(\" + p(this, B).map((e) => String(e)).join(\"|\") + \")\") : G(this, dt, p(this, B).map((e) => String(e)).join(\"\"));\n  }\n  push(...e) {\n    for (const s of e)\n      if (s !== \"\") {\n        if (typeof s != \"string\" && !(s instanceof ye && p(s, Y) === this))\n          throw new Error(\"invalid part: \" + s);\n        p(this, B).push(s);\n      }\n  }\n  toJSON() {\n    var s;\n    const e = this.type === null ? p(this, B).slice().map((n) => typeof n == \"string\" ? n : n.toJSON()) : [this.type, ...p(this, B).map((n) => n.toJSON())];\n    return this.isStart() && !this.type && e.unshift([]), this.isEnd() && (this === p(this, ee) || p(p(this, ee), Je) && ((s = p(this, Y)) == null ? void 0 : s.type) === \"!\") && e.push({}), e;\n  }\n  isStart() {\n    var s;\n    if (p(this, ee) === this)\n      return !0;\n    if (!((s = p(this, Y)) != null && s.isStart()))\n      return !1;\n    if (p(this, Ye) === 0)\n      return !0;\n    const e = p(this, Y);\n    for (let n = 0; n < p(this, Ye); n++) {\n      const r = p(e, B)[n];\n      if (!(r instanceof ye && r.type === \"!\"))\n        return !1;\n    }\n    return !0;\n  }\n  isEnd() {\n    var s, n, r;\n    if (p(this, ee) === this || ((s = p(this, Y)) == null ? void 0 : s.type) === \"!\")\n      return !0;\n    if (!((n = p(this, Y)) != null && n.isEnd()))\n      return !1;\n    if (!this.type)\n      return (r = p(this, Y)) == null ? void 0 : r.isEnd();\n    const e = p(this, Y) ? p(p(this, Y), B).length : 0;\n    return p(this, Ye) === e - 1;\n  }\n  copyIn(e) {\n    typeof e == \"string\" ? this.push(e) : this.push(e.clone(this));\n  }\n  clone(e) {\n    const s = new ye(this.type, e);\n    for (const n of p(this, B))\n      s.copyIn(n);\n    return s;\n  }\n  static fromGlob(e, s = {}) {\n    var r;\n    const n = new ye(null, void 0, s);\n    return gt(r = ye, vt, fs).call(r, e, n, 0, s), n;\n  }\n  toMMPattern() {\n    if (this !== p(this, ee))\n      return p(this, ee).toMMPattern();\n    const e = this.toString(), [s, n, r, i] = this.toRegExpSource();\n    if (!(r || p(this, se) || p(this, Te).nocase && !p(this, Te).nocaseMagicOnly && e.toUpperCase() !== e.toLowerCase()))\n      return n;\n    const o = (p(this, Te).nocase ? \"i\" : \"\") + (i ? \"u\" : \"\");\n    return Object.assign(new RegExp(`^${s}$`, o), {\n      _src: s,\n      _glob: e\n    });\n  }\n  toRegExpSource() {\n    var r;\n    if (p(this, ee) === this && gt(this, Ns, Fr).call(this), !this.type) {\n      const i = this.isStart() && this.isEnd(), a = p(this, B).map((h) => {\n        var _;\n        const [g, m, S, $] = typeof h == \"string\" ? gt(_ = ye, Os, Hr).call(_, h, p(this, se), i) : h.toRegExpSource();\n        return G(this, se, p(this, se) || S), G(this, Ue, p(this, Ue) || $), g;\n      }).join(\"\");\n      let o = \"\";\n      if (this.isStart() && typeof p(this, B)[0] == \"string\" && !(p(this, B).length === 1 && od.has(p(this, B)[0]))) {\n        const g = ad, m = p(this, Te).dot && g.has(a.charAt(0)) || a.startsWith(\"\\\\.\") && g.has(a.charAt(2)) || a.startsWith(\"\\\\.\\\\.\") && g.has(a.charAt(4)), S = !p(this, Te).dot && g.has(a.charAt(0));\n        o = m ? id : S ? Ks : \"\";\n      }\n      let d = \"\";\n      return this.isEnd() && p(p(this, ee), Je) && ((r = p(this, Y)) == null ? void 0 : r.type) === \"!\" && (d = \"(?:$|\\\\/)\"), [\n        o + a + d,\n        Dt(a),\n        G(this, se, !!p(this, se)),\n        p(this, Ue)\n      ];\n    }\n    const e = this.type === \"!\" ? \"(?:(?!(?:\" : \"(?:\", s = p(this, B).map((i) => {\n      if (typeof i == \"string\")\n        throw new Error(\"string type in extglob ast??\");\n      const [a, o, d, l] = i.toRegExpSource();\n      return G(this, Ue, p(this, Ue) || l), a;\n    }).filter((i) => !(this.isStart() && this.isEnd()) || !!i).join(\"|\");\n    if (this.isStart() && this.isEnd() && !s && this.type !== \"!\") {\n      const i = this.toString();\n      return G(this, B, [i]), this.type = null, G(this, se, void 0), [i, Dt(this.toString()), !1, !1];\n    }\n    let n = \"\";\n    if (this.type === \"!\" && p(this, Jt))\n      n = (this.isStart() && !p(this, Te).dot ? Ks : \"\") + ar;\n    else {\n      const i = this.type === \"!\" ? \"))\" + (this.isStart() && !p(this, Te).dot ? Ks : \"\") + ir + \")\" : this.type === \"@\" ? \")\" : `)${this.type}`;\n      n = e + s + i;\n    }\n    return [\n      n,\n      Dt(s),\n      G(this, se, !!p(this, se)),\n      p(this, Ue)\n    ];\n  }\n};\nlet _t = ye;\nee = new WeakMap(), se = new WeakMap(), Ue = new WeakMap(), B = new WeakMap(), Y = new WeakMap(), Ye = new WeakMap(), ct = new WeakMap(), Je = new WeakMap(), Te = new WeakMap(), dt = new WeakMap(), Jt = new WeakMap(), Ns = new WeakSet(), Fr = function() {\n  if (this !== p(this, ee))\n    throw new Error(\"should only call on root\");\n  if (p(this, Je))\n    return this;\n  this.toString(), G(this, Je, !0);\n  let e;\n  for (; e = p(this, ct).pop(); ) {\n    if (e.type !== \"!\")\n      continue;\n    let s = e, n = p(s, Y);\n    for (; n; ) {\n      for (let r = p(s, Ye) + 1; !n.type && r < p(n, B).length; r++)\n        for (const i of p(e, B)) {\n          if (typeof i == \"string\")\n            throw new Error(\"string part in extglob AST??\");\n          i.copyIn(p(n, B)[r]);\n        }\n      s = n, n = p(s, Y);\n    }\n  }\n  return this;\n}, vt = new WeakSet(), fs = function(e, s, n, r) {\n  var S, $;\n  let i = !1, a = !1, o = -1, d = !1;\n  if (s.type === null) {\n    let _ = n, P = \"\";\n    for (; _ < e.length; ) {\n      const C = e.charAt(_++);\n      if (i || C === \"\\\\\") {\n        i = !i, P += C;\n        continue;\n      }\n      if (a) {\n        _ === o + 1 ? (C === \"^\" || C === \"!\") && (d = !0) : C === \"]\" && !(_ === o + 2 && d) && (a = !1), P += C;\n        continue;\n      } else if (C === \"[\") {\n        a = !0, o = _, d = !1, P += C;\n        continue;\n      }\n      if (!r.noext && rr(C) && e.charAt(_) === \"(\") {\n        s.push(P), P = \"\";\n        const j = new ye(C, s);\n        _ = gt(S = ye, vt, fs).call(S, e, j, _, r), s.push(j);\n        continue;\n      }\n      P += C;\n    }\n    return s.push(P), _;\n  }\n  let l = n + 1, h = new ye(null, s);\n  const g = [];\n  let m = \"\";\n  for (; l < e.length; ) {\n    const _ = e.charAt(l++);\n    if (i || _ === \"\\\\\") {\n      i = !i, m += _;\n      continue;\n    }\n    if (a) {\n      l === o + 1 ? (_ === \"^\" || _ === \"!\") && (d = !0) : _ === \"]\" && !(l === o + 2 && d) && (a = !1), m += _;\n      continue;\n    } else if (_ === \"[\") {\n      a = !0, o = l, d = !1, m += _;\n      continue;\n    }\n    if (rr(_) && e.charAt(l) === \"(\") {\n      h.push(m), m = \"\";\n      const P = new ye(_, h);\n      h.push(P), l = gt($ = ye, vt, fs).call($, e, P, l, r);\n      continue;\n    }\n    if (_ === \"|\") {\n      h.push(m), m = \"\", g.push(h), h = new ye(null, s);\n      continue;\n    }\n    if (_ === \")\")\n      return m === \"\" && p(s, B).length === 0 && G(s, Jt, !0), h.push(m), m = \"\", s.push(...g, h), l;\n    m += _;\n  }\n  return s.type = null, G(s, se, void 0), G(s, B, [e.substring(n - 1)]), l;\n}, Os = new WeakSet(), Hr = function(e, s, n = !1) {\n  let r = !1, i = \"\", a = !1;\n  for (let o = 0; o < e.length; o++) {\n    const d = e.charAt(o);\n    if (r) {\n      r = !1, i += (cd.has(d) ? \"\\\\\" : \"\") + d;\n      continue;\n    }\n    if (d === \"\\\\\") {\n      o === e.length - 1 ? i += \"\\\\\\\\\" : r = !0;\n      continue;\n    }\n    if (d === \"[\") {\n      const [l, h, g, m] = nd(e, o);\n      if (g) {\n        i += l, a = a || h, o += g - 1, s = s || m;\n        continue;\n      }\n    }\n    if (d === \"*\") {\n      n && e === \"*\" ? i += ar : i += ir, s = !0;\n      continue;\n    }\n    if (d === \"?\") {\n      i += _n, s = !0;\n      continue;\n    }\n    i += dd(d);\n  }\n  return [i, Dt(e), !!s, a];\n}, he(_t, vt), he(_t, Os);\nconst ld = (t, { windowsPathsNoEscape: e = !1 } = {}) => e ? t.replace(/[?*()[\\]]/g, \"[$&]\") : t.replace(/[?*()[\\]\\\\]/g, \"\\\\$&\"), le = (t, e, s = {}) => (Is(e), !s.nocomment && e.charAt(0) === \"#\" ? !1 : new Cs(e, s).match(t)), ud = /^\\*+([^+@!?\\*\\[\\(]*)$/, hd = (t) => (e) => !e.startsWith(\".\") && e.endsWith(t), fd = (t) => (e) => e.endsWith(t), pd = (t) => (t = t.toLowerCase(), (e) => !e.startsWith(\".\") && e.toLowerCase().endsWith(t)), gd = (t) => (t = t.toLowerCase(), (e) => e.toLowerCase().endsWith(t)), md = /^\\*+\\.\\*+$/, yd = (t) => !t.startsWith(\".\") && t.includes(\".\"), _d = (t) => t !== \".\" && t !== \"..\" && t.includes(\".\"), Ad = /^\\.\\*+$/, vd = (t) => t !== \".\" && t !== \"..\" && t.startsWith(\".\"), wd = /^\\*+$/, bd = (t) => t.length !== 0 && !t.startsWith(\".\"), xd = (t) => t.length !== 0 && t !== \".\" && t !== \"..\", Td = /^\\?+([^+@!?\\*\\[\\(]*)?$/, Sd = ([t, e = \"\"]) => {\n  const s = qr([t]);\n  return e ? (e = e.toLowerCase(), (n) => s(n) && n.toLowerCase().endsWith(e)) : s;\n}, Ed = ([t, e = \"\"]) => {\n  const s = Gr([t]);\n  return e ? (e = e.toLowerCase(), (n) => s(n) && n.toLowerCase().endsWith(e)) : s;\n}, Id = ([t, e = \"\"]) => {\n  const s = Gr([t]);\n  return e ? (n) => s(n) && n.endsWith(e) : s;\n}, Nd = ([t, e = \"\"]) => {\n  const s = qr([t]);\n  return e ? (n) => s(n) && n.endsWith(e) : s;\n}, qr = ([t]) => {\n  const e = t.length;\n  return (s) => s.length === e && !s.startsWith(\".\");\n}, Gr = ([t]) => {\n  const e = t.length;\n  return (s) => s.length === e && s !== \".\" && s !== \"..\";\n}, Xr = typeof process == \"object\" && process ? typeof process.env == \"object\" && process.env && process.env.__MINIMATCH_TESTING_PLATFORM__ || process.platform : \"posix\", or = {\n  win32: { sep: \"\\\\\" },\n  posix: { sep: \"/\" }\n}, Od = Xr === \"win32\" ? or.win32.sep : or.posix.sep;\nle.sep = Od;\nconst xe = Symbol(\"globstar **\");\nle.GLOBSTAR = xe;\nconst kd = \"[^/]\", Rd = kd + \"*?\", Md = \"(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?\", Cd = \"(?:(?!(?:\\\\/|^)\\\\.).)*?\", Ld = (t, e = {}) => (s) => le(s, t, e);\nle.filter = Ld;\nconst be = (t, e = {}) => Object.assign({}, t, e), Dd = (t) => {\n  if (!t || typeof t != \"object\" || !Object.keys(t).length)\n    return le;\n  const e = le;\n  return Object.assign((n, r, i = {}) => e(n, r, be(t, i)), {\n    Minimatch: class extends e.Minimatch {\n      constructor(r, i = {}) {\n        super(r, be(t, i));\n      }\n      static defaults(r) {\n        return e.defaults(be(t, r)).Minimatch;\n      }\n    },\n    AST: class extends e.AST {\n      constructor(r, i, a = {}) {\n        super(r, i, be(t, a));\n      }\n      static fromGlob(r, i = {}) {\n        return e.AST.fromGlob(r, be(t, i));\n      }\n    },\n    unescape: (n, r = {}) => e.unescape(n, be(t, r)),\n    escape: (n, r = {}) => e.escape(n, be(t, r)),\n    filter: (n, r = {}) => e.filter(n, be(t, r)),\n    defaults: (n) => e.defaults(be(t, n)),\n    makeRe: (n, r = {}) => e.makeRe(n, be(t, r)),\n    braceExpand: (n, r = {}) => e.braceExpand(n, be(t, r)),\n    match: (n, r, i = {}) => e.match(n, r, be(t, i)),\n    sep: e.sep,\n    GLOBSTAR: xe\n  });\n};\nle.defaults = Dd;\nconst Kr = (t, e = {}) => (Is(t), e.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(t) ? [t] : Hc(t));\nle.braceExpand = Kr;\nconst Pd = (t, e = {}) => new Cs(t, e).makeRe();\nle.makeRe = Pd;\nconst jd = (t, e, s = {}) => {\n  const n = new Cs(e, s);\n  return t = t.filter((r) => n.match(r)), n.options.nonull && !t.length && t.push(e), t;\n};\nle.match = jd;\nconst cr = /[?*]|[+@!]\\(.*?\\)|\\[|\\]/, Vd = (t) => t.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\nclass Cs {\n  constructor(e, s = {}) {\n    Q(this, \"options\");\n    Q(this, \"set\");\n    Q(this, \"pattern\");\n    Q(this, \"windowsPathsNoEscape\");\n    Q(this, \"nonegate\");\n    Q(this, \"negate\");\n    Q(this, \"comment\");\n    Q(this, \"empty\");\n    Q(this, \"preserveMultipleSlashes\");\n    Q(this, \"partial\");\n    Q(this, \"globSet\");\n    Q(this, \"globParts\");\n    Q(this, \"nocase\");\n    Q(this, \"isWindows\");\n    Q(this, \"platform\");\n    Q(this, \"windowsNoMagicRoot\");\n    Q(this, \"regexp\");\n    Is(e), s = s || {}, this.options = s, this.pattern = e, this.platform = s.platform || Xr, this.isWindows = this.platform === \"win32\", this.windowsPathsNoEscape = !!s.windowsPathsNoEscape || s.allowWindowsEscape === !1, this.windowsPathsNoEscape && (this.pattern = this.pattern.replace(/\\\\/g, \"/\")), this.preserveMultipleSlashes = !!s.preserveMultipleSlashes, this.regexp = null, this.negate = !1, this.nonegate = !!s.nonegate, this.comment = !1, this.empty = !1, this.partial = !!s.partial, this.nocase = !!this.options.nocase, this.windowsNoMagicRoot = s.windowsNoMagicRoot !== void 0 ? s.windowsNoMagicRoot : !!(this.isWindows && this.nocase), this.globSet = [], this.globParts = [], this.set = [], this.make();\n  }\n  hasMagic() {\n    if (this.options.magicalBraces && this.set.length > 1)\n      return !0;\n    for (const e of this.set)\n      for (const s of e)\n        if (typeof s != \"string\")\n          return !0;\n    return !1;\n  }\n  debug(...e) {\n  }\n  make() {\n    const e = this.pattern, s = this.options;\n    if (!s.nocomment && e.charAt(0) === \"#\") {\n      this.comment = !0;\n      return;\n    }\n    if (!e) {\n      this.empty = !0;\n      return;\n    }\n    this.parseNegate(), this.globSet = [...new Set(this.braceExpand())], s.debug && (this.debug = (...i) => console.error(...i)), this.debug(this.pattern, this.globSet);\n    const n = this.globSet.map((i) => this.slashSplit(i));\n    this.globParts = this.preprocess(n), this.debug(this.pattern, this.globParts);\n    let r = this.globParts.map((i, a, o) => {\n      if (this.isWindows && this.windowsNoMagicRoot) {\n        const d = i[0] === \"\" && i[1] === \"\" && (i[2] === \"?\" || !cr.test(i[2])) && !cr.test(i[3]), l = /^[a-z]:/i.test(i[0]);\n        if (d)\n          return [...i.slice(0, 4), ...i.slice(4).map((h) => this.parse(h))];\n        if (l)\n          return [i[0], ...i.slice(1).map((h) => this.parse(h))];\n      }\n      return i.map((d) => this.parse(d));\n    });\n    if (this.debug(this.pattern, r), this.set = r.filter((i) => i.indexOf(!1) === -1), this.isWindows)\n      for (let i = 0; i < this.set.length; i++) {\n        const a = this.set[i];\n        a[0] === \"\" && a[1] === \"\" && this.globParts[i][2] === \"?\" && typeof a[3] == \"string\" && /^[a-z]:$/i.test(a[3]) && (a[2] = \"?\");\n      }\n    this.debug(this.pattern, this.set);\n  }\n  preprocess(e) {\n    if (this.options.noglobstar)\n      for (let n = 0; n < e.length; n++)\n        for (let r = 0; r < e[n].length; r++)\n          e[n][r] === \"**\" && (e[n][r] = \"*\");\n    const { optimizationLevel: s = 1 } = this.options;\n    return s >= 2 ? (e = this.firstPhasePreProcess(e), e = this.secondPhasePreProcess(e)) : s >= 1 ? e = this.levelOneOptimize(e) : e = this.adjascentGlobstarOptimize(e), e;\n  }\n  adjascentGlobstarOptimize(e) {\n    return e.map((s) => {\n      let n = -1;\n      for (; (n = s.indexOf(\"**\", n + 1)) !== -1; ) {\n        let r = n;\n        for (; s[r + 1] === \"**\"; )\n          r++;\n        r !== n && s.splice(n, r - n);\n      }\n      return s;\n    });\n  }\n  levelOneOptimize(e) {\n    return e.map((s) => (s = s.reduce((n, r) => {\n      const i = n[n.length - 1];\n      return r === \"**\" && i === \"**\" ? n : r === \"..\" && i && i !== \"..\" && i !== \".\" && i !== \"**\" ? (n.pop(), n) : (n.push(r), n);\n    }, []), s.length === 0 ? [\"\"] : s));\n  }\n  levelTwoFileOptimize(e) {\n    Array.isArray(e) || (e = this.slashSplit(e));\n    let s = !1;\n    do {\n      if (s = !1, !this.preserveMultipleSlashes) {\n        for (let r = 1; r < e.length - 1; r++) {\n          const i = e[r];\n          r === 1 && i === \"\" && e[0] === \"\" || (i === \".\" || i === \"\") && (s = !0, e.splice(r, 1), r--);\n        }\n        e[0] === \".\" && e.length === 2 && (e[1] === \".\" || e[1] === \"\") && (s = !0, e.pop());\n      }\n      let n = 0;\n      for (; (n = e.indexOf(\"..\", n + 1)) !== -1; ) {\n        const r = e[n - 1];\n        r && r !== \".\" && r !== \"..\" && r !== \"**\" && (s = !0, e.splice(n - 1, 2), n -= 2);\n      }\n    } while (s);\n    return e.length === 0 ? [\"\"] : e;\n  }\n  firstPhasePreProcess(e) {\n    let s = !1;\n    do {\n      s = !1;\n      for (let n of e) {\n        let r = -1;\n        for (; (r = n.indexOf(\"**\", r + 1)) !== -1; ) {\n          let a = r;\n          for (; n[a + 1] === \"**\"; )\n            a++;\n          a > r && n.splice(r + 1, a - r);\n          let o = n[r + 1];\n          const d = n[r + 2], l = n[r + 3];\n          if (o !== \"..\" || !d || d === \".\" || d === \"..\" || !l || l === \".\" || l === \"..\")\n            continue;\n          s = !0, n.splice(r, 1);\n          const h = n.slice(0);\n          h[r] = \"**\", e.push(h), r--;\n        }\n        if (!this.preserveMultipleSlashes) {\n          for (let a = 1; a < n.length - 1; a++) {\n            const o = n[a];\n            a === 1 && o === \"\" && n[0] === \"\" || (o === \".\" || o === \"\") && (s = !0, n.splice(a, 1), a--);\n          }\n          n[0] === \".\" && n.length === 2 && (n[1] === \".\" || n[1] === \"\") && (s = !0, n.pop());\n        }\n        let i = 0;\n        for (; (i = n.indexOf(\"..\", i + 1)) !== -1; ) {\n          const a = n[i - 1];\n          if (a && a !== \".\" && a !== \"..\" && a !== \"**\") {\n            s = !0;\n            const d = i === 1 && n[i + 1] === \"**\" ? [\".\"] : [];\n            n.splice(i - 1, 2, ...d), n.length === 0 && n.push(\"\"), i -= 2;\n          }\n        }\n      }\n    } while (s);\n    return e;\n  }\n  secondPhasePreProcess(e) {\n    for (let s = 0; s < e.length - 1; s++)\n      for (let n = s + 1; n < e.length; n++) {\n        const r = this.partsMatch(e[s], e[n], !this.preserveMultipleSlashes);\n        !r || (e[s] = r, e[n] = []);\n      }\n    return e.filter((s) => s.length);\n  }\n  partsMatch(e, s, n = !1) {\n    let r = 0, i = 0, a = [], o = \"\";\n    for (; r < e.length && i < s.length; )\n      if (e[r] === s[i])\n        a.push(o === \"b\" ? s[i] : e[r]), r++, i++;\n      else if (n && e[r] === \"**\" && s[i] === e[r + 1])\n        a.push(e[r]), r++;\n      else if (n && s[i] === \"**\" && e[r] === s[i + 1])\n        a.push(s[i]), i++;\n      else if (e[r] === \"*\" && s[i] && (this.options.dot || !s[i].startsWith(\".\")) && s[i] !== \"**\") {\n        if (o === \"b\")\n          return !1;\n        o = \"a\", a.push(e[r]), r++, i++;\n      } else if (s[i] === \"*\" && e[r] && (this.options.dot || !e[r].startsWith(\".\")) && e[r] !== \"**\") {\n        if (o === \"a\")\n          return !1;\n        o = \"b\", a.push(s[i]), r++, i++;\n      } else\n        return !1;\n    return e.length === s.length && a;\n  }\n  parseNegate() {\n    if (this.nonegate)\n      return;\n    const e = this.pattern;\n    let s = !1, n = 0;\n    for (let r = 0; r < e.length && e.charAt(r) === \"!\"; r++)\n      s = !s, n++;\n    n && (this.pattern = e.slice(n)), this.negate = s;\n  }\n  matchOne(e, s, n = !1) {\n    const r = this.options;\n    if (this.isWindows) {\n      const _ = e[0] === \"\" && e[1] === \"\" && e[2] === \"?\" && typeof e[3] == \"string\" && /^[a-z]:$/i.test(e[3]), P = s[0] === \"\" && s[1] === \"\" && s[2] === \"?\" && typeof s[3] == \"string\" && /^[a-z]:$/i.test(s[3]);\n      if (_ && P) {\n        const C = e[3], j = s[3];\n        C.toLowerCase() === j.toLowerCase() && (e[3] = j);\n      } else if (P && typeof e[0] == \"string\") {\n        const C = s[3], j = e[0];\n        C.toLowerCase() === j.toLowerCase() && (s[3] = j, s = s.slice(3));\n      } else if (_ && typeof s[0] == \"string\") {\n        const C = e[3];\n        C.toLowerCase() === s[0].toLowerCase() && (s[0] = C, e = e.slice(3));\n      }\n    }\n    const { optimizationLevel: i = 1 } = this.options;\n    i >= 2 && (e = this.levelTwoFileOptimize(e)), this.debug(\"matchOne\", this, { file: e, pattern: s }), this.debug(\"matchOne\", e.length, s.length);\n    for (var a = 0, o = 0, d = e.length, l = s.length; a < d && o < l; a++, o++) {\n      this.debug(\"matchOne loop\");\n      var h = s[o], g = e[a];\n      if (this.debug(s, h, g), h === !1)\n        return !1;\n      if (h === xe) {\n        this.debug(\"GLOBSTAR\", [s, h, g]);\n        var m = a, S = o + 1;\n        if (S === l) {\n          for (this.debug(\"** at the end\"); a < d; a++)\n            if (e[a] === \".\" || e[a] === \"..\" || !r.dot && e[a].charAt(0) === \".\")\n              return !1;\n          return !0;\n        }\n        for (; m < d; ) {\n          var $ = e[m];\n          if (this.debug(`\nglobstar while`, e, m, s, S, $), this.matchOne(e.slice(m), s.slice(S), n))\n            return this.debug(\"globstar found match!\", m, d, $), !0;\n          if ($ === \".\" || $ === \"..\" || !r.dot && $.charAt(0) === \".\") {\n            this.debug(\"dot detected!\", e, m, s, S);\n            break;\n          }\n          this.debug(\"globstar swallow a segment, and continue\"), m++;\n        }\n        return !!(n && (this.debug(`\n>>> no match, partial?`, e, m, s, S), m === d));\n      }\n      let _;\n      if (typeof h == \"string\" ? (_ = g === h, this.debug(\"string match\", h, g, _)) : (_ = h.test(g), this.debug(\"pattern match\", h, g, _)), !_)\n        return !1;\n    }\n    if (a === d && o === l)\n      return !0;\n    if (a === d)\n      return n;\n    if (o === l)\n      return a === d - 1 && e[a] === \"\";\n    throw new Error(\"wtf?\");\n  }\n  braceExpand() {\n    return Kr(this.pattern, this.options);\n  }\n  parse(e) {\n    Is(e);\n    const s = this.options;\n    if (e === \"**\")\n      return xe;\n    if (e === \"\")\n      return \"\";\n    let n, r = null;\n    (n = e.match(wd)) ? r = s.dot ? xd : bd : (n = e.match(ud)) ? r = (s.nocase ? s.dot ? gd : pd : s.dot ? fd : hd)(n[1]) : (n = e.match(Td)) ? r = (s.nocase ? s.dot ? Ed : Sd : s.dot ? Id : Nd)(n) : (n = e.match(md)) ? r = s.dot ? _d : yd : (n = e.match(Ad)) && (r = vd);\n    const i = _t.fromGlob(e, this.options).toMMPattern();\n    return r ? Object.assign(i, { test: r }) : i;\n  }\n  makeRe() {\n    if (this.regexp || this.regexp === !1)\n      return this.regexp;\n    const e = this.set;\n    if (!e.length)\n      return this.regexp = !1, this.regexp;\n    const s = this.options, n = s.noglobstar ? Rd : s.dot ? Md : Cd, r = new Set(s.nocase ? [\"i\"] : []);\n    let i = e.map((d) => {\n      const l = d.map((h) => {\n        if (h instanceof RegExp)\n          for (const g of h.flags.split(\"\"))\n            r.add(g);\n        return typeof h == \"string\" ? Vd(h) : h === xe ? xe : h._src;\n      });\n      return l.forEach((h, g) => {\n        const m = l[g + 1], S = l[g - 1];\n        h !== xe || S === xe || (S === void 0 ? m !== void 0 && m !== xe ? l[g + 1] = \"(?:\\\\/|\" + n + \"\\\\/)?\" + m : l[g] = n : m === void 0 ? l[g - 1] = S + \"(?:\\\\/|\" + n + \")?\" : m !== xe && (l[g - 1] = S + \"(?:\\\\/|\\\\/\" + n + \"\\\\/)\" + m, l[g + 1] = xe));\n      }), l.filter((h) => h !== xe).join(\"/\");\n    }).join(\"|\");\n    const [a, o] = e.length > 1 ? [\"(?:\", \")\"] : [\"\", \"\"];\n    i = \"^\" + a + i + o + \"$\", this.negate && (i = \"^(?!\" + i + \").+$\");\n    try {\n      this.regexp = new RegExp(i, [...r].join(\"\"));\n    } catch {\n      this.regexp = !1;\n    }\n    return this.regexp;\n  }\n  slashSplit(e) {\n    return this.preserveMultipleSlashes ? e.split(\"/\") : this.isWindows && /^\\/\\/[^\\/]+/.test(e) ? [\"\", ...e.split(/\\/+/)] : e.split(/\\/+/);\n  }\n  match(e, s = this.partial) {\n    if (this.debug(\"match\", e, this.pattern), this.comment)\n      return !1;\n    if (this.empty)\n      return e === \"\";\n    if (e === \"/\" && s)\n      return !0;\n    const n = this.options;\n    this.isWindows && (e = e.split(\"\\\\\").join(\"/\"));\n    const r = this.slashSplit(e);\n    this.debug(this.pattern, \"split\", r);\n    const i = this.set;\n    this.debug(this.pattern, \"set\", i);\n    let a = r[r.length - 1];\n    if (!a)\n      for (let o = r.length - 2; !a && o >= 0; o--)\n        a = r[o];\n    for (let o = 0; o < i.length; o++) {\n      const d = i[o];\n      let l = r;\n      if (n.matchBase && d.length === 1 && (l = [a]), this.matchOne(l, d, s))\n        return n.flipNegate ? !0 : !this.negate;\n    }\n    return n.flipNegate ? !1 : this.negate;\n  }\n  static defaults(e) {\n    return le.defaults(e).Minimatch;\n  }\n}\nle.AST = _t;\nle.Minimatch = Cs;\nle.escape = ld;\nle.unescape = Dt;\nfunction $d({\n  api: t,\n  onSuccess: e,\n  onFailure: s,\n  lastUploadedAtStorageKey: n,\n  getUploadAllowlist: r\n}) {\n  return {\n    label: \"page-views\",\n    onSuccess: e,\n    onFailure: s,\n    async getLastUploadedAt() {\n      const a = (await V.storage.local.get(n))[n];\n      return a != null ? a : 1;\n    },\n    setLastUploadedAt(i) {\n      return V.storage.local.set({ [n]: i });\n    },\n    async getModelsToUpload({ db: i, lastUploadedAt: a, uploadStartedAt: o }) {\n      var h;\n      const d = await i.pageViewsRepo.findPageViewsByEndedAt(\n        a,\n        o\n      ), l = (h = await r()) != null ? h : [];\n      return d.filter((g) => g.imported ? !1 : !!l.find((m) => le(g.appId + g.path, m)));\n    },\n    async upload(i, a) {\n      const o = a.reduce((d, l) => {\n        var g, m, S, $, _;\n        if (l.endedAt == null)\n          throw Error(\"Cannot upload a page view that is in progress\");\n        const h = {\n          duration: Ss(l.endedAt - l.startedAt),\n          timestamp: Ss(l.startedAt),\n          referrer: l.referrer\n        };\n        return h.duration > 0 && ((m = d[g = l.appId]) != null || (d[g] = {}), (_ = (S = d[l.appId])[$ = l.path]) != null || (S[$] = { page_views: [] }), d[l.appId][l.path].page_views.push(h)), d;\n      }, {});\n      await t.uploadPageViews({ ...i, websites: o });\n    }\n  };\n}\nfunction Hd(t) {\n  const e = zc({ api: t.api, ...t.sessions }), s = $d({ api: t.api, ...t.pageViews });\n  return Wc({\n    ...t,\n    uploaders: [e, s]\n  });\n}\nexport {\n  xr as Ad,\n  ae as DatabaseVersions,\n  J as IdbAdsRepo,\n  We as IdbPageViewsRepo,\n  X as IdbSessionsRepo,\n  Ud as OldUsageBackupJson,\n  Ao as PageView,\n  _o as PageViewEntity,\n  Hn as Session,\n  yo as SessionEntity,\n  St as SessionMonitor,\n  Po as UsageBackupJson,\n  Hd as defineWebUsageUploader,\n  Wd as initUsageSdkInBackground,\n  Bd as openIdbUsageDatabase\n};\n","const AppConsts = {\n  APP_ID: 'laankejkbhbdhmipfmgcngdelahlfoji',\n  INSTALL_ID_KEY: 'install-id',\n}\n\nexport default AppConsts\n","import * as WebExtUsage from '@sensortower/web-ext-usage'\nimport AppConsts from '~/core/AppConsts'\nimport * as PanelAPIUtils from '@sensortower/panel-api-utils'\nimport * as AdFinder from '@sensortower/ad-finder'\nimport GeneralUtils from './GeneralUtils'\nimport { API } from './API'\nimport { IndexedDbUsageDatabase } from '@sensortower/web-ext-usage'\nimport { seedDatabase } from '../utils/database/seed'\n\ndeclare module '~/core/API' {\n  interface API {\n    WebUsage: ReturnType<typeof WebUsage.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('WebUsage')\n\nlet api: API\n\nconst CRAWL_UPLOAD_ENDPOINT =\n  'https://api-pm.stayfocusd.st-panel-api.com/Ajax0001/IPD'\nconst PM_CONFIG_ENDPOINT =\n  'https://api-pm.stayfocusd.st-panel-api.com/Ajax0001/Config'\nconst STAYFOCUSD_AD_FINDER_PARTNER_ID = 33\n\nconst WebUsage = {\n  initialized: null as Promise<void> | null,\n  usageDatabase: null as IndexedDbUsageDatabase | null,\n\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('WebUsage', {\n      init: this.init.bind(this),\n      getUsageDatabase: this.getUsageDatabase.bind(this),\n    })\n  },\n\n  async init(): Promise<void> {\n    if (this.initialized != null) {\n      log(\n        'init',\n        'WebUsage already initialized',\n        { sessionId: '' }, // TODO - add sessionId if possible\n        'DEBUG',\n      )\n    } else {\n      const isEnabled = async (): Promise<boolean> => {\n        const hasAcceptedToS = await api.Storage.get('hasAcceptedToS', true)\n        return hasAcceptedToS ?? false\n      }\n      const installId = api.Storage.get('install-id', true)\n\n      const { promise, resolve } = api.Utils.getDecoupledPromise()\n      this.initialized = promise\n\n      // Start tracking usage\n      this.usageDatabase = WebExtUsage.openIdbUsageDatabase({\n        getInstallId: () => installId,\n      })\n\n      if (!MINIFIED) {\n        await seedDatabase(this.usageDatabase!)\n      }\n\n      WebExtUsage.initUsageSdkInBackground({\n        db: this.usageDatabase,\n        enabled: isEnabled,\n        isOnStartupAvailable: () => true,\n        isTabActiveWhenPlayingAudio: () => true,\n        logger: MINIFIED ? null : console,\n      })\n\n      resolve()\n      log?.('init', 'Initialized WebUsage', this, 'INFO')\n\n      const { processAdFinderMessage } =\n        await AdFinder.initAdFinderInBackground({\n          isEnabled: isEnabled,\n          getInstallId: () => installId,\n          extensionVersion: api.Chrome.Extension.getVersion(),\n          extensionId: AppConsts.APP_ID,\n          crawlUploadUrl: CRAWL_UPLOAD_ENDPOINT,\n          pmExternalConfigUrl: PM_CONFIG_ENDPOINT,\n          panelPartnerId: STAYFOCUSD_AD_FINDER_PARTNER_ID,\n        })\n\n      chrome.runtime.onConnect.addListener((port) => {\n        if (port.name != 'ad-finder') return\n\n        port.onMessage.addListener(async (msg) => {\n          if (msg.message == 'forward-message.request') {\n            const response = await processAdFinderMessage(msg.payload)\n\n            port.postMessage({\n              message: 'forward-message.response',\n              payload: response,\n              nonce: msg.nonce,\n            })\n          }\n\n          if (msg.message == 'ad-found') {\n            const hostname = PanelAPIUtils.parseUrl(msg.payload.hostname)\n            if (!hostname) return\n            const ad = msg.payload.ad\n\n            const activeSessions =\n              await this.usageDatabase?.sessionsRepo?.getActiveSessions()\n            const tabSession = activeSessions?.find(\n              (session) => session.appId === hostname.hostname,\n            )\n            if (!tabSession) return\n\n            await this.usageDatabase?.adsRepo?.upsertAd({\n              ...ad,\n              sessionId: tabSession.id,\n            })\n          }\n        })\n      })\n    }\n  },\n\n  async getUsageDatabase(): Promise<IndexedDbUsageDatabase> {\n    await this.initialized\n    if (this.usageDatabase == null) throw Error('WebUsage not initialized')\n    return this.usageDatabase\n  },\n}\n\nexport default WebUsage\n","const suspectProtoRx = /\"(?:_|\\\\u0{2}5[Ff]){2}(?:p|\\\\u0{2}70)(?:r|\\\\u0{2}72)(?:o|\\\\u0{2}6[Ff])(?:t|\\\\u0{2}74)(?:o|\\\\u0{2}6[Ff])(?:_|\\\\u0{2}5[Ff]){2}\"\\s*:/;\nconst suspectConstructorRx = /\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/;\nconst JsonSigRx = /^\\s*[\"[{]|^\\s*-?\\d{1,16}(\\.\\d{1,17})?([Ee][+-]?\\d+)?\\s*$/;\nfunction jsonParseTransform(key, value) {\n  if (key === \"__proto__\" || key === \"constructor\" && value && typeof value === \"object\" && \"prototype\" in value) {\n    warnKeyDropped(key);\n    return;\n  }\n  return value;\n}\nfunction warnKeyDropped(key) {\n  console.warn(`[destr] Dropping \"${key}\" key to prevent prototype pollution.`);\n}\nfunction destr(value, options = {}) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  const _value = value.trim();\n  if (\n    // eslint-disable-next-line unicorn/prefer-at\n    value[0] === '\"' && value.endsWith('\"') && !value.includes(\"\\\\\")\n  ) {\n    return _value.slice(1, -1);\n  }\n  if (_value.length <= 9) {\n    const _lval = _value.toLowerCase();\n    if (_lval === \"true\") {\n      return true;\n    }\n    if (_lval === \"false\") {\n      return false;\n    }\n    if (_lval === \"undefined\") {\n      return void 0;\n    }\n    if (_lval === \"null\") {\n      return null;\n    }\n    if (_lval === \"nan\") {\n      return Number.NaN;\n    }\n    if (_lval === \"infinity\") {\n      return Number.POSITIVE_INFINITY;\n    }\n    if (_lval === \"-infinity\") {\n      return Number.NEGATIVE_INFINITY;\n    }\n  }\n  if (!JsonSigRx.test(value)) {\n    if (options.strict) {\n      throw new SyntaxError(\"[destr] Invalid JSON\");\n    }\n    return value;\n  }\n  try {\n    if (suspectProtoRx.test(value) || suspectConstructorRx.test(value)) {\n      if (options.strict) {\n        throw new Error(\"[destr] Possible prototype pollution\");\n      }\n      return JSON.parse(value, jsonParseTransform);\n    }\n    return JSON.parse(value);\n  } catch (error) {\n    if (options.strict) {\n      throw error;\n    }\n    return value;\n  }\n}\nfunction safeDestr(value, options = {}) {\n  return destr(value, { ...options, strict: true });\n}\n\nexport { destr as default, destr, safeDestr };\n","const n = /[^\\0-\\x7E]/;\nconst t = /[\\x2E\\u3002\\uFF0E\\uFF61]/g;\nconst o = {\n  overflow: \"Overflow Error\",\n  \"not-basic\": \"Illegal Input\",\n  \"invalid-input\": \"Invalid Input\"\n};\nconst e = Math.floor;\nconst r = String.fromCharCode;\nfunction s(n2) {\n  throw new RangeError(o[n2]);\n}\nconst c = function(n2, t2) {\n  return n2 + 22 + 75 * (n2 < 26) - ((t2 != 0) << 5);\n};\nconst u = function(n2, t2, o2) {\n  let r2 = 0;\n  for (n2 = o2 ? e(n2 / 700) : n2 >> 1, n2 += e(n2 / t2); n2 > 455; r2 += 36) {\n    n2 = e(n2 / 35);\n  }\n  return e(r2 + 36 * n2 / (n2 + 38));\n};\nfunction toASCII(o2) {\n  return function(n2, o3) {\n    const e2 = n2.split(\"@\");\n    let r2 = \"\";\n    e2.length > 1 && (r2 = e2[0] + \"@\", n2 = e2[1]);\n    const s2 = function(n3, t2) {\n      const o4 = [];\n      let e3 = n3.length;\n      for (; e3--; ) {\n        o4[e3] = t2(n3[e3]);\n      }\n      return o4;\n    }((n2 = n2.replace(t, \".\")).split(\".\"), o3).join(\".\");\n    return r2 + s2;\n  }(o2, function(t2) {\n    return n.test(t2) ? \"xn--\" + function(n2) {\n      const t3 = [];\n      const o3 = (n2 = function(n3) {\n        const t4 = [];\n        let o4 = 0;\n        const e2 = n3.length;\n        for (; o4 < e2; ) {\n          const r2 = n3.charCodeAt(o4++);\n          if (r2 >= 55296 && r2 <= 56319 && o4 < e2) {\n            const e3 = n3.charCodeAt(o4++);\n            (64512 & e3) == 56320 ? t4.push(((1023 & r2) << 10) + (1023 & e3) + 65536) : (t4.push(r2), o4--);\n          } else {\n            t4.push(r2);\n          }\n        }\n        return t4;\n      }(n2)).length;\n      let f = 128;\n      let i = 0;\n      let l = 72;\n      for (const o4 of n2) {\n        o4 < 128 && t3.push(r(o4));\n      }\n      const h = t3.length;\n      let p = h;\n      for (h && t3.push(\"-\"); p < o3; ) {\n        let o4 = 2147483647;\n        for (const t4 of n2) {\n          t4 >= f && t4 < o4 && (o4 = t4);\n        }\n        const a = p + 1;\n        o4 - f > e((2147483647 - i) / a) && s(\"overflow\"), i += (o4 - f) * a, f = o4;\n        for (const o5 of n2) {\n          if (o5 < f && ++i > 2147483647 && s(\"overflow\"), o5 == f) {\n            let n3 = i;\n            for (let o6 = 36; ; o6 += 36) {\n              const s2 = o6 <= l ? 1 : o6 >= l + 26 ? 26 : o6 - l;\n              if (n3 < s2) {\n                break;\n              }\n              const u2 = n3 - s2;\n              const f2 = 36 - s2;\n              t3.push(r(c(s2 + u2 % f2, 0))), n3 = e(u2 / f2);\n            }\n            t3.push(r(c(n3, 0))), l = u(i, a, p == h), i = 0, ++p;\n          }\n        }\n        ++i, ++f;\n      }\n      return t3.join(\"\");\n    }(t2) : t2;\n  });\n}\n\nconst HASH_RE = /#/g;\nconst AMPERSAND_RE = /&/g;\nconst SLASH_RE = /\\//g;\nconst EQUAL_RE = /=/g;\nconst IM_RE = /\\?/g;\nconst PLUS_RE = /\\+/g;\nconst ENC_CARET_RE = /%5e/gi;\nconst ENC_BACKTICK_RE = /%60/gi;\nconst ENC_CURLY_OPEN_RE = /%7b/gi;\nconst ENC_PIPE_RE = /%7c/gi;\nconst ENC_CURLY_CLOSE_RE = /%7d/gi;\nconst ENC_SPACE_RE = /%20/gi;\nconst ENC_SLASH_RE = /%2f/gi;\nconst ENC_ENC_SLASH_RE = /%252f/gi;\nfunction encode(text) {\n  return encodeURI(\"\" + text).replace(ENC_PIPE_RE, \"|\");\n}\nfunction encodeHash(text) {\n  return encode(text).replace(ENC_CURLY_OPEN_RE, \"{\").replace(ENC_CURLY_CLOSE_RE, \"}\").replace(ENC_CARET_RE, \"^\");\n}\nfunction encodeQueryValue(input) {\n  return encode(typeof input === \"string\" ? input : JSON.stringify(input)).replace(PLUS_RE, \"%2B\").replace(ENC_SPACE_RE, \"+\").replace(HASH_RE, \"%23\").replace(AMPERSAND_RE, \"%26\").replace(ENC_BACKTICK_RE, \"`\").replace(ENC_CARET_RE, \"^\").replace(SLASH_RE, \"%2F\");\n}\nfunction encodeQueryKey(text) {\n  return encodeQueryValue(text).replace(EQUAL_RE, \"%3D\");\n}\nfunction encodePath(text) {\n  return encode(text).replace(HASH_RE, \"%23\").replace(IM_RE, \"%3F\").replace(ENC_ENC_SLASH_RE, \"%2F\").replace(AMPERSAND_RE, \"%26\").replace(PLUS_RE, \"%2B\");\n}\nfunction encodeParam(text) {\n  return encodePath(text).replace(SLASH_RE, \"%2F\");\n}\nfunction decode(text = \"\") {\n  try {\n    return decodeURIComponent(\"\" + text);\n  } catch {\n    return \"\" + text;\n  }\n}\nfunction decodePath(text) {\n  return decode(text.replace(ENC_SLASH_RE, \"%252F\"));\n}\nfunction decodeQueryKey(text) {\n  return decode(text.replace(PLUS_RE, \" \"));\n}\nfunction decodeQueryValue(text) {\n  return decode(text.replace(PLUS_RE, \" \"));\n}\nfunction encodeHost(name = \"\") {\n  return toASCII(name);\n}\n\nfunction parseQuery(parametersString = \"\") {\n  const object = {};\n  if (parametersString[0] === \"?\") {\n    parametersString = parametersString.slice(1);\n  }\n  for (const parameter of parametersString.split(\"&\")) {\n    const s = parameter.match(/([^=]+)=?(.*)/) || [];\n    if (s.length < 2) {\n      continue;\n    }\n    const key = decodeQueryKey(s[1]);\n    if (key === \"__proto__\" || key === \"constructor\") {\n      continue;\n    }\n    const value = decodeQueryValue(s[2] || \"\");\n    if (object[key] === void 0) {\n      object[key] = value;\n    } else if (Array.isArray(object[key])) {\n      object[key].push(value);\n    } else {\n      object[key] = [object[key], value];\n    }\n  }\n  return object;\n}\nfunction encodeQueryItem(key, value) {\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    value = String(value);\n  }\n  if (!value) {\n    return encodeQueryKey(key);\n  }\n  if (Array.isArray(value)) {\n    return value.map((_value) => `${encodeQueryKey(key)}=${encodeQueryValue(_value)}`).join(\"&\");\n  }\n  return `${encodeQueryKey(key)}=${encodeQueryValue(value)}`;\n}\nfunction stringifyQuery(query) {\n  return Object.keys(query).filter((k) => query[k] !== void 0).map((k) => encodeQueryItem(k, query[k])).filter(Boolean).join(\"&\");\n}\n\nconst PROTOCOL_STRICT_REGEX = /^[\\s\\w\\0+.-]{2,}:([/\\\\]{1,2})/;\nconst PROTOCOL_REGEX = /^[\\s\\w\\0+.-]{2,}:([/\\\\]{2})?/;\nconst PROTOCOL_RELATIVE_REGEX = /^([/\\\\]\\s*){2,}[^/\\\\]/;\nconst PROTOCOL_SCRIPT_RE = /^[\\s\\0]*(blob|data|javascript|vbscript):$/i;\nconst TRAILING_SLASH_RE = /\\/$|\\/\\?|\\/#/;\nconst JOIN_LEADING_SLASH_RE = /^\\.?\\//;\nfunction isRelative(inputString) {\n  return [\"./\", \"../\"].some((string_) => inputString.startsWith(string_));\n}\nfunction hasProtocol(inputString, opts = {}) {\n  if (typeof opts === \"boolean\") {\n    opts = { acceptRelative: opts };\n  }\n  if (opts.strict) {\n    return PROTOCOL_STRICT_REGEX.test(inputString);\n  }\n  return PROTOCOL_REGEX.test(inputString) || (opts.acceptRelative ? PROTOCOL_RELATIVE_REGEX.test(inputString) : false);\n}\nfunction isScriptProtocol(protocol) {\n  return !!protocol && PROTOCOL_SCRIPT_RE.test(protocol);\n}\nfunction hasTrailingSlash(input = \"\", respectQueryAndFragment) {\n  if (!respectQueryAndFragment) {\n    return input.endsWith(\"/\");\n  }\n  return TRAILING_SLASH_RE.test(input);\n}\nfunction withoutTrailingSlash(input = \"\", respectQueryAndFragment) {\n  if (!respectQueryAndFragment) {\n    return (hasTrailingSlash(input) ? input.slice(0, -1) : input) || \"/\";\n  }\n  if (!hasTrailingSlash(input, true)) {\n    return input || \"/\";\n  }\n  let path = input;\n  let fragment = \"\";\n  const fragmentIndex = input.indexOf(\"#\");\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n  }\n  const [s0, ...s] = path.split(\"?\");\n  const cleanPath = s0.endsWith(\"/\") ? s0.slice(0, -1) : s0;\n  return (cleanPath || \"/\") + (s.length > 0 ? `?${s.join(\"?\")}` : \"\") + fragment;\n}\nfunction withTrailingSlash(input = \"\", respectQueryAndFragment) {\n  if (!respectQueryAndFragment) {\n    return input.endsWith(\"/\") ? input : input + \"/\";\n  }\n  if (hasTrailingSlash(input, true)) {\n    return input || \"/\";\n  }\n  let path = input;\n  let fragment = \"\";\n  const fragmentIndex = input.indexOf(\"#\");\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n    if (!path) {\n      return fragment;\n    }\n  }\n  const [s0, ...s] = path.split(\"?\");\n  return s0 + \"/\" + (s.length > 0 ? `?${s.join(\"?\")}` : \"\") + fragment;\n}\nfunction hasLeadingSlash(input = \"\") {\n  return input.startsWith(\"/\");\n}\nfunction withoutLeadingSlash(input = \"\") {\n  return (hasLeadingSlash(input) ? input.slice(1) : input) || \"/\";\n}\nfunction withLeadingSlash(input = \"\") {\n  return hasLeadingSlash(input) ? input : \"/\" + input;\n}\nfunction cleanDoubleSlashes(input = \"\") {\n  return input.split(\"://\").map((string_) => string_.replace(/\\/{2,}/g, \"/\")).join(\"://\");\n}\nfunction withBase(input, base) {\n  if (isEmptyURL(base) || hasProtocol(input)) {\n    return input;\n  }\n  const _base = withoutTrailingSlash(base);\n  if (input.startsWith(_base)) {\n    return input;\n  }\n  return joinURL(_base, input);\n}\nfunction withoutBase(input, base) {\n  if (isEmptyURL(base)) {\n    return input;\n  }\n  const _base = withoutTrailingSlash(base);\n  if (!input.startsWith(_base)) {\n    return input;\n  }\n  const trimmed = input.slice(_base.length);\n  return trimmed[0] === \"/\" ? trimmed : \"/\" + trimmed;\n}\nfunction withQuery(input, query) {\n  const parsed = parseURL(input);\n  const mergedQuery = { ...parseQuery(parsed.search), ...query };\n  parsed.search = stringifyQuery(mergedQuery);\n  return stringifyParsedURL(parsed);\n}\nfunction getQuery(input) {\n  return parseQuery(parseURL(input).search);\n}\nfunction isEmptyURL(url) {\n  return !url || url === \"/\";\n}\nfunction isNonEmptyURL(url) {\n  return url && url !== \"/\";\n}\nfunction joinURL(base, ...input) {\n  let url = base || \"\";\n  for (const segment of input.filter((url2) => isNonEmptyURL(url2))) {\n    if (url) {\n      const _segment = segment.replace(JOIN_LEADING_SLASH_RE, \"\");\n      url = withTrailingSlash(url) + _segment;\n    } else {\n      url = segment;\n    }\n  }\n  return url;\n}\nfunction joinRelativeURL(..._input) {\n  const JOIN_SEGMENT_SPLIT_RE = /\\/(?!\\/)/;\n  const input = _input.filter(Boolean);\n  const segments = [];\n  let segmentsDepth = 0;\n  for (const i of input) {\n    if (!i || i === \"/\") {\n      continue;\n    }\n    for (const [sindex, s] of i.split(JOIN_SEGMENT_SPLIT_RE).entries()) {\n      if (!s || s === \".\") {\n        continue;\n      }\n      if (s === \"..\") {\n        if (segments.length === 1 && hasProtocol(segments[0])) {\n          continue;\n        }\n        segments.pop();\n        segmentsDepth--;\n        continue;\n      }\n      if (sindex === 1 && segments[segments.length - 1]?.endsWith(\":/\")) {\n        segments[segments.length - 1] += \"/\" + s;\n        continue;\n      }\n      segments.push(s);\n      segmentsDepth++;\n    }\n  }\n  let url = segments.join(\"/\");\n  if (segmentsDepth >= 0) {\n    if (input[0]?.startsWith(\"/\") && !url.startsWith(\"/\")) {\n      url = \"/\" + url;\n    } else if (input[0]?.startsWith(\"./\") && !url.startsWith(\"./\")) {\n      url = \"./\" + url;\n    }\n  } else {\n    url = \"../\".repeat(-1 * segmentsDepth) + url;\n  }\n  if (input[input.length - 1]?.endsWith(\"/\") && !url.endsWith(\"/\")) {\n    url += \"/\";\n  }\n  return url;\n}\nfunction withHttp(input) {\n  return withProtocol(input, \"http://\");\n}\nfunction withHttps(input) {\n  return withProtocol(input, \"https://\");\n}\nfunction withoutProtocol(input) {\n  return withProtocol(input, \"\");\n}\nfunction withProtocol(input, protocol) {\n  const match = input.match(PROTOCOL_REGEX);\n  if (!match) {\n    return protocol + input;\n  }\n  return protocol + input.slice(match[0].length);\n}\nfunction normalizeURL(input) {\n  const parsed = parseURL(input);\n  parsed.pathname = encodePath(decodePath(parsed.pathname));\n  parsed.hash = encodeHash(decode(parsed.hash));\n  parsed.host = encodeHost(decode(parsed.host));\n  parsed.search = stringifyQuery(parseQuery(parsed.search));\n  return stringifyParsedURL(parsed);\n}\nfunction resolveURL(base = \"\", ...inputs) {\n  if (typeof base !== \"string\") {\n    throw new TypeError(\n      `URL input should be string received ${typeof base} (${base})`\n    );\n  }\n  const filteredInputs = inputs.filter((input) => isNonEmptyURL(input));\n  if (filteredInputs.length === 0) {\n    return base;\n  }\n  const url = parseURL(base);\n  for (const inputSegment of filteredInputs) {\n    const urlSegment = parseURL(inputSegment);\n    if (urlSegment.pathname) {\n      url.pathname = withTrailingSlash(url.pathname) + withoutLeadingSlash(urlSegment.pathname);\n    }\n    if (urlSegment.hash && urlSegment.hash !== \"#\") {\n      url.hash = urlSegment.hash;\n    }\n    if (urlSegment.search && urlSegment.search !== \"?\") {\n      if (url.search && url.search !== \"?\") {\n        const queryString = stringifyQuery({\n          ...parseQuery(url.search),\n          ...parseQuery(urlSegment.search)\n        });\n        url.search = queryString.length > 0 ? \"?\" + queryString : \"\";\n      } else {\n        url.search = urlSegment.search;\n      }\n    }\n  }\n  return stringifyParsedURL(url);\n}\nfunction isSamePath(p1, p2) {\n  return decode(withoutTrailingSlash(p1)) === decode(withoutTrailingSlash(p2));\n}\nfunction isEqual(a, b, options = {}) {\n  if (!options.trailingSlash) {\n    a = withTrailingSlash(a);\n    b = withTrailingSlash(b);\n  }\n  if (!options.leadingSlash) {\n    a = withLeadingSlash(a);\n    b = withLeadingSlash(b);\n  }\n  if (!options.encoding) {\n    a = decode(a);\n    b = decode(b);\n  }\n  return a === b;\n}\nfunction withFragment(input, hash) {\n  if (!hash || hash === \"#\") {\n    return input;\n  }\n  const parsed = parseURL(input);\n  parsed.hash = hash === \"\" ? \"\" : \"#\" + encodeHash(hash);\n  return stringifyParsedURL(parsed);\n}\nfunction withoutFragment(input) {\n  return stringifyParsedURL({ ...parseURL(input), hash: \"\" });\n}\nfunction withoutHost(input) {\n  const parsed = parseURL(input);\n  return (parsed.pathname || \"/\") + parsed.search + parsed.hash;\n}\n\nconst protocolRelative = Symbol.for(\"ufo:protocolRelative\");\nfunction parseURL(input = \"\", defaultProto) {\n  const _specialProtoMatch = input.match(\n    /^[\\s\\0]*(blob:|data:|javascript:|vbscript:)(.*)/i\n  );\n  if (_specialProtoMatch) {\n    const [, _proto, _pathname = \"\"] = _specialProtoMatch;\n    return {\n      protocol: _proto.toLowerCase(),\n      pathname: _pathname,\n      href: _proto + _pathname,\n      auth: \"\",\n      host: \"\",\n      search: \"\",\n      hash: \"\"\n    };\n  }\n  if (!hasProtocol(input, { acceptRelative: true })) {\n    return defaultProto ? parseURL(defaultProto + input) : parsePath(input);\n  }\n  const [, protocol = \"\", auth, hostAndPath = \"\"] = input.replace(/\\\\/g, \"/\").match(/^[\\s\\0]*([\\w+.-]{2,}:)?\\/\\/([^/@]+@)?(.*)/) || [];\n  const [, host = \"\", path = \"\"] = hostAndPath.match(/([^#/?]*)(.*)?/) || [];\n  const { pathname, search, hash } = parsePath(\n    path.replace(/\\/(?=[A-Za-z]:)/, \"\")\n  );\n  return {\n    protocol: protocol.toLowerCase(),\n    auth: auth ? auth.slice(0, Math.max(0, auth.length - 1)) : \"\",\n    host,\n    pathname,\n    search,\n    hash,\n    [protocolRelative]: !protocol\n  };\n}\nfunction parsePath(input = \"\") {\n  const [pathname = \"\", search = \"\", hash = \"\"] = (input.match(/([^#?]*)(\\?[^#]*)?(#.*)?/) || []).splice(1);\n  return {\n    pathname,\n    search,\n    hash\n  };\n}\nfunction parseAuth(input = \"\") {\n  const [username, password] = input.split(\":\");\n  return {\n    username: decode(username),\n    password: decode(password)\n  };\n}\nfunction parseHost(input = \"\") {\n  const [hostname, port] = (input.match(/([^/:]*):?(\\d+)?/) || []).splice(1);\n  return {\n    hostname: decode(hostname),\n    port\n  };\n}\nfunction stringifyParsedURL(parsed) {\n  const pathname = parsed.pathname || \"\";\n  const search = parsed.search ? (parsed.search.startsWith(\"?\") ? \"\" : \"?\") + parsed.search : \"\";\n  const hash = parsed.hash || \"\";\n  const auth = parsed.auth ? parsed.auth + \"@\" : \"\";\n  const host = parsed.host || \"\";\n  const proto = parsed.protocol || parsed[protocolRelative] ? (parsed.protocol || \"\") + \"//\" : \"\";\n  return proto + auth + host + pathname + search + hash;\n}\nconst FILENAME_STRICT_REGEX = /\\/([^/]+\\.[^/]+)$/;\nconst FILENAME_REGEX = /\\/([^/]+)$/;\nfunction parseFilename(input = \"\", { strict }) {\n  const { pathname } = parseURL(input);\n  const matches = strict ? pathname.match(FILENAME_STRICT_REGEX) : pathname.match(FILENAME_REGEX);\n  return matches ? matches[1] : void 0;\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass $URL {\n  constructor(input = \"\") {\n    __publicField(this, \"protocol\");\n    __publicField(this, \"host\");\n    __publicField(this, \"auth\");\n    __publicField(this, \"pathname\");\n    __publicField(this, \"query\", {});\n    __publicField(this, \"hash\");\n    if (typeof input !== \"string\") {\n      throw new TypeError(\n        `URL input should be string received ${typeof input} (${input})`\n      );\n    }\n    const parsed = parseURL(input);\n    this.protocol = decode(parsed.protocol);\n    this.host = decode(parsed.host);\n    this.auth = decode(parsed.auth);\n    this.pathname = decodePath(parsed.pathname);\n    this.query = parseQuery(parsed.search);\n    this.hash = decode(parsed.hash);\n  }\n  get hostname() {\n    return parseHost(this.host).hostname;\n  }\n  get port() {\n    return parseHost(this.host).port || \"\";\n  }\n  get username() {\n    return parseAuth(this.auth).username;\n  }\n  get password() {\n    return parseAuth(this.auth).password || \"\";\n  }\n  get hasProtocol() {\n    return this.protocol.length;\n  }\n  get isAbsolute() {\n    return this.hasProtocol || this.pathname[0] === \"/\";\n  }\n  get search() {\n    const q = stringifyQuery(this.query);\n    return q.length > 0 ? \"?\" + q : \"\";\n  }\n  get searchParams() {\n    const p = new URLSearchParams();\n    for (const name in this.query) {\n      const value = this.query[name];\n      if (Array.isArray(value)) {\n        for (const v of value) {\n          p.append(name, v);\n        }\n      } else {\n        p.append(\n          name,\n          typeof value === \"string\" ? value : JSON.stringify(value)\n        );\n      }\n    }\n    return p;\n  }\n  get origin() {\n    return (this.protocol ? this.protocol + \"//\" : \"\") + encodeHost(this.host);\n  }\n  get fullpath() {\n    return encodePath(this.pathname) + this.search + encodeHash(this.hash);\n  }\n  get encodedAuth() {\n    if (!this.auth) {\n      return \"\";\n    }\n    const { username, password } = parseAuth(this.auth);\n    return encodeURIComponent(username) + (password ? \":\" + encodeURIComponent(password) : \"\");\n  }\n  get href() {\n    const auth = this.encodedAuth;\n    const originWithAuth = (this.protocol ? this.protocol + \"//\" : \"\") + (auth ? auth + \"@\" : \"\") + encodeHost(this.host);\n    return this.hasProtocol && this.isAbsolute ? originWithAuth + this.fullpath : this.fullpath;\n  }\n  append(url) {\n    if (url.hasProtocol) {\n      throw new Error(\"Cannot append a URL with protocol\");\n    }\n    Object.assign(this.query, url.query);\n    if (url.pathname) {\n      this.pathname = withTrailingSlash(this.pathname) + withoutLeadingSlash(url.pathname);\n    }\n    if (url.hash) {\n      this.hash = url.hash;\n    }\n  }\n  toJSON() {\n    return this.href;\n  }\n  toString() {\n    return this.href;\n  }\n}\nfunction createURL(input) {\n  return new $URL(input);\n}\n\nexport { $URL, cleanDoubleSlashes, createURL, decode, decodePath, decodeQueryKey, decodeQueryValue, encode, encodeHash, encodeHost, encodeParam, encodePath, encodeQueryItem, encodeQueryKey, encodeQueryValue, getQuery, hasLeadingSlash, hasProtocol, hasTrailingSlash, isEmptyURL, isEqual, isNonEmptyURL, isRelative, isSamePath, isScriptProtocol, joinRelativeURL, joinURL, normalizeURL, parseAuth, parseFilename, parseHost, parsePath, parseQuery, parseURL, resolveURL, stringifyParsedURL, stringifyQuery, withBase, withFragment, withHttp, withHttps, withLeadingSlash, withProtocol, withQuery, withTrailingSlash, withoutBase, withoutFragment, withoutHost, withoutLeadingSlash, withoutProtocol, withoutTrailingSlash };\n","import destr from 'destr';\nimport { withBase, withQuery } from 'ufo';\n\nclass FetchError extends Error {\n  constructor(message, opts) {\n    super(message, opts);\n    this.name = \"FetchError\";\n    if (opts?.cause && !this.cause) {\n      this.cause = opts.cause;\n    }\n  }\n}\nfunction createFetchError(ctx) {\n  const errorMessage = ctx.error?.message || ctx.error?.toString() || \"\";\n  const method = ctx.request?.method || ctx.options?.method || \"GET\";\n  const url = ctx.request?.url || String(ctx.request) || \"/\";\n  const requestStr = `[${method}] ${JSON.stringify(url)}`;\n  const statusStr = ctx.response ? `${ctx.response.status} ${ctx.response.statusText}` : \"<no response>\";\n  const message = `${requestStr}: ${statusStr}${errorMessage ? ` ${errorMessage}` : \"\"}`;\n  const fetchError = new FetchError(\n    message,\n    ctx.error ? { cause: ctx.error } : void 0\n  );\n  for (const key of [\"request\", \"options\", \"response\"]) {\n    Object.defineProperty(fetchError, key, {\n      get() {\n        return ctx[key];\n      }\n    });\n  }\n  for (const [key, refKey] of [\n    [\"data\", \"_data\"],\n    [\"status\", \"status\"],\n    [\"statusCode\", \"status\"],\n    [\"statusText\", \"statusText\"],\n    [\"statusMessage\", \"statusText\"]\n  ]) {\n    Object.defineProperty(fetchError, key, {\n      get() {\n        return ctx.response && ctx.response[refKey];\n      }\n    });\n  }\n  return fetchError;\n}\n\nconst payloadMethods = new Set(\n  Object.freeze([\"PATCH\", \"POST\", \"PUT\", \"DELETE\"])\n);\nfunction isPayloadMethod(method = \"GET\") {\n  return payloadMethods.has(method.toUpperCase());\n}\nfunction isJSONSerializable(value) {\n  if (value === void 0) {\n    return false;\n  }\n  const t = typeof value;\n  if (t === \"string\" || t === \"number\" || t === \"boolean\" || t === null) {\n    return true;\n  }\n  if (t !== \"object\") {\n    return false;\n  }\n  if (Array.isArray(value)) {\n    return true;\n  }\n  if (value.buffer) {\n    return false;\n  }\n  return value.constructor && value.constructor.name === \"Object\" || typeof value.toJSON === \"function\";\n}\nconst textTypes = /* @__PURE__ */ new Set([\n  \"image/svg\",\n  \"application/xml\",\n  \"application/xhtml\",\n  \"application/html\"\n]);\nconst JSON_RE = /^application\\/(?:[\\w!#$%&*.^`~-]*\\+)?json(;.+)?$/i;\nfunction detectResponseType(_contentType = \"\") {\n  if (!_contentType) {\n    return \"json\";\n  }\n  const contentType = _contentType.split(\";\").shift() || \"\";\n  if (JSON_RE.test(contentType)) {\n    return \"json\";\n  }\n  if (textTypes.has(contentType) || contentType.startsWith(\"text/\")) {\n    return \"text\";\n  }\n  return \"blob\";\n}\nfunction mergeFetchOptions(input, defaults, Headers = globalThis.Headers) {\n  const merged = {\n    ...defaults,\n    ...input\n  };\n  if (defaults?.params && input?.params) {\n    merged.params = {\n      ...defaults?.params,\n      ...input?.params\n    };\n  }\n  if (defaults?.query && input?.query) {\n    merged.query = {\n      ...defaults?.query,\n      ...input?.query\n    };\n  }\n  if (defaults?.headers && input?.headers) {\n    merged.headers = new Headers(defaults?.headers || {});\n    for (const [key, value] of new Headers(input?.headers || {})) {\n      merged.headers.set(key, value);\n    }\n  }\n  return merged;\n}\n\nconst retryStatusCodes = /* @__PURE__ */ new Set([\n  408,\n  // Request Timeout\n  409,\n  // Conflict\n  425,\n  // Too Early\n  429,\n  // Too Many Requests\n  500,\n  // Internal Server Error\n  502,\n  // Bad Gateway\n  503,\n  // Service Unavailable\n  504\n  //  Gateway Timeout\n]);\nconst nullBodyResponses = /* @__PURE__ */ new Set([101, 204, 205, 304]);\nfunction createFetch(globalOptions = {}) {\n  const {\n    fetch = globalThis.fetch,\n    Headers = globalThis.Headers,\n    AbortController = globalThis.AbortController\n  } = globalOptions;\n  async function onError(context) {\n    const isAbort = context.error && context.error.name === \"AbortError\" && !context.options.timeout || false;\n    if (context.options.retry !== false && !isAbort) {\n      let retries;\n      if (typeof context.options.retry === \"number\") {\n        retries = context.options.retry;\n      } else {\n        retries = isPayloadMethod(context.options.method) ? 0 : 1;\n      }\n      const responseCode = context.response && context.response.status || 500;\n      if (retries > 0 && (Array.isArray(context.options.retryStatusCodes) ? context.options.retryStatusCodes.includes(responseCode) : retryStatusCodes.has(responseCode))) {\n        const retryDelay = context.options.retryDelay || 0;\n        if (retryDelay > 0) {\n          await new Promise((resolve) => setTimeout(resolve, retryDelay));\n        }\n        return $fetchRaw(context.request, {\n          ...context.options,\n          retry: retries - 1\n        });\n      }\n    }\n    const error = createFetchError(context);\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(error, $fetchRaw);\n    }\n    throw error;\n  }\n  const $fetchRaw = async function $fetchRaw2(_request, _options = {}) {\n    const context = {\n      request: _request,\n      options: mergeFetchOptions(_options, globalOptions.defaults, Headers),\n      response: void 0,\n      error: void 0\n    };\n    context.options.method = context.options.method?.toUpperCase();\n    if (context.options.onRequest) {\n      await context.options.onRequest(context);\n    }\n    if (typeof context.request === \"string\") {\n      if (context.options.baseURL) {\n        context.request = withBase(context.request, context.options.baseURL);\n      }\n      if (context.options.query || context.options.params) {\n        context.request = withQuery(context.request, {\n          ...context.options.params,\n          ...context.options.query\n        });\n      }\n    }\n    if (context.options.body && isPayloadMethod(context.options.method)) {\n      if (isJSONSerializable(context.options.body)) {\n        context.options.body = typeof context.options.body === \"string\" ? context.options.body : JSON.stringify(context.options.body);\n        context.options.headers = new Headers(context.options.headers || {});\n        if (!context.options.headers.has(\"content-type\")) {\n          context.options.headers.set(\"content-type\", \"application/json\");\n        }\n        if (!context.options.headers.has(\"accept\")) {\n          context.options.headers.set(\"accept\", \"application/json\");\n        }\n      } else if (\n        // ReadableStream Body\n        \"pipeTo\" in context.options.body && typeof context.options.body.pipeTo === \"function\" || // Node.js Stream Body\n        typeof context.options.body.pipe === \"function\"\n      ) {\n        if (!(\"duplex\" in context.options)) {\n          context.options.duplex = \"half\";\n        }\n      }\n    }\n    let abortTimeout;\n    if (!context.options.signal && context.options.timeout) {\n      const controller = new AbortController();\n      abortTimeout = setTimeout(\n        () => controller.abort(),\n        context.options.timeout\n      );\n      context.options.signal = controller.signal;\n    }\n    try {\n      context.response = await fetch(\n        context.request,\n        context.options\n      );\n    } catch (error) {\n      context.error = error;\n      if (context.options.onRequestError) {\n        await context.options.onRequestError(context);\n      }\n      return await onError(context);\n    } finally {\n      if (abortTimeout) {\n        clearTimeout(abortTimeout);\n      }\n    }\n    const hasBody = context.response.body && !nullBodyResponses.has(context.response.status) && context.options.method !== \"HEAD\";\n    if (hasBody) {\n      const responseType = (context.options.parseResponse ? \"json\" : context.options.responseType) || detectResponseType(context.response.headers.get(\"content-type\") || \"\");\n      switch (responseType) {\n        case \"json\": {\n          const data = await context.response.text();\n          const parseFunction = context.options.parseResponse || destr;\n          context.response._data = parseFunction(data);\n          break;\n        }\n        case \"stream\": {\n          context.response._data = context.response.body;\n          break;\n        }\n        default: {\n          context.response._data = await context.response[responseType]();\n        }\n      }\n    }\n    if (context.options.onResponse) {\n      await context.options.onResponse(context);\n    }\n    if (!context.options.ignoreResponseError && context.response.status >= 400 && context.response.status < 600) {\n      if (context.options.onResponseError) {\n        await context.options.onResponseError(context);\n      }\n      return await onError(context);\n    }\n    return context.response;\n  };\n  const $fetch = async function $fetch2(request, options) {\n    const r = await $fetchRaw(request, options);\n    return r._data;\n  };\n  $fetch.raw = $fetchRaw;\n  $fetch.native = (...args) => fetch(...args);\n  $fetch.create = (defaultOptions = {}) => createFetch({\n    ...globalOptions,\n    defaults: {\n      ...globalOptions.defaults,\n      ...defaultOptions\n    }\n  });\n  return $fetch;\n}\n\nexport { FetchError as F, createFetchError as a, createFetch as c };\n","import { c as createFetch } from './shared/ofetch.37386b05.mjs';\nexport { F as FetchError, a as createFetchError } from './shared/ofetch.37386b05.mjs';\nimport 'destr';\nimport 'ufo';\n\nconst _globalThis = function() {\n  if (typeof globalThis !== \"undefined\") {\n    return globalThis;\n  }\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  throw new Error(\"unable to locate global object\");\n}();\nconst fetch = _globalThis.fetch || (() => Promise.reject(new Error(\"[ofetch] global.fetch is not supported!\")));\nconst Headers = _globalThis.Headers;\nconst AbortController = _globalThis.AbortController;\nconst ofetch = createFetch({ fetch, Headers, AbortController });\nconst $fetch = ofetch;\n\nexport { $fetch, AbortController, Headers, createFetch, fetch, ofetch };\n","var j=(s=>(s.Notification=\"notification\",s.Block=\"block\",s.Popup=\"popup\",s))(j||{}),H=(d=>(d.UsageTime=\"usage-time\",d.SessionCount=\"session-count\",d))(H||{}),Z=(p=>(p.Android=\"android\",p.Windows=\"windows\",p.Mac=\"mac\",p.Linux=\"linux\",p.Web=\"web\",p.Category=\"category\",p.Brand=\"brand\",p))(Z||{});import{getCountryCode as P,getGmtTimeZone as m}from\"@sensortower/panel-api-utils\";import{ofetch as J}from\"ofetch\";import A from\"ua-parser-js\";var _=class extends Error{constructor(){super(\"Invalid code entered\")}},b=class extends Error{constructor(){super(\"Both devices already belong to a device group\")}},w=class extends Error{constructor(){super(\"Forbidden\")}},c=class a extends Error{static message=\"Not in a device group\";static matchesMessage(i){return i instanceof Error?i.message===a.message:!1}constructor(){super(a.message)}};function f(a,i){return Object.entries(a).flatMap(([d,s])=>s.sessions.map(l=>({appId:d,startedAt:l.timestamp*1e3,endedAt:(l.timestamp+l.duration)*1e3,installId:l.install_id,platform:i})))}function x(a){return new Date(a).toISOString()}function ae(a){let i=J.create({retry:3,...a==null?void 0:a.ofetchDefaults}),d=(a==null?void 0:a.formatDeviceName)??(e=>e),s=a==null?void 0:a.logger;function l(e){return i(\"/v1/android/apps\",{query:{app_ids:e.appIds.join(\",\")}})}async function h(e){let t=await i(\"/v1/sync/pairing/generate\",{method:\"POST\",retry:0,query:{install_id:e.installId}});return{code:t.code,expiration:new Date(t.expiration*1e3).getTime()}}function O(e){return i(\"/v1/sync/pairing/validate\",{method:\"POST\",retry:0,query:{install_id:e.installId,code:e.code}}).catch(t=>{var n;let r=(n=t.response)==null?void 0:n.status;throw r===403?new b:r===404?new _:t})}function p(e){return i(\"/v1/sync/pairing/check\",{query:{install_id:e.installId}}).catch(t=>{var r;if(((r=t.response)==null?void 0:r.status)!==404)throw t})}async function D(e){return i(\"/v1/sync/devices\",{query:{key:e.deviceGroupKey}}).catch(t=>{var r;throw((r=t.response)==null?void 0:r.status)===404?new c:t})}async function S(e){await i(\"/v1/sync/devices/remove\",{method:\"POST\",retry:0,query:{key:e.deviceGroupKey,install_id:e.installIdToRemove}})}async function G(e){return(await i.raw(\"/v1/sync/devices/sessions\",{method:\"HEAD\",query:{key:e.deviceGroupKey,install_id:e.installId}}).catch(r=>{var n;throw((n=r.response)==null?void 0:n.status)===404?new c:r})).headers.get(\"Last-Modified\")??void 0}async function C(e){return i(\"/v1/analytics/avg_usage\",{query:{app_ids:e.appIds.join(\",\"),gender:e.gender,country_code:e.countryCode}})}async function M(e){return i(\"/v1/analytics/avg_web_usage\",{query:{websites:e.appIds.join(\",\"),gender:e.gender,country_code:e.countryCode}})}async function k(e){var o;let{android_apps:t,websites:r,windows_apps:n,mac_apps:g,linux_apps:u}=await i(\"/v1/sync/devices/sessions\",{query:{key:e.deviceGroupKey,install_id:e.installId,start_time:x(e.startTime),end_time:x(e.endTime),app_ids:(o=e.appIds)==null?void 0:o.join(\",\")}}).catch(v=>{var y;throw((y=v.response)==null?void 0:y.status)===404?new c:v});return[...f(t,\"android\"),...f(n??{},\"windows\"),...f(g??{},\"mac\"),...f(u??{},\"linux\"),...f(r,\"web\")].sort((v,y)=>v.startedAt-y.startedAt)}async function I(e){var n;if(!e.appId.trim()){let{websites:g,diffPrivateWebsites:u,...o}=e;throw s==null||s.error(\"Missing required parameter 'appId'\",o),Error(\"Missing required parameter 'appId'\")}if(!e.installId.trim()){let{websites:g,diffPrivateWebsites:u,...o}=e;throw s==null||s.error(\"Missing required parameter 'installId'\",o),Error(\"Missing required parameter 'installId'\")}let t=A(navigator==null?void 0:navigator.userAgent),r={app_id:e.appId,install_id:e.installId,time_zone:m(),country_code:P(),device_name:d((n=t.browser)==null?void 0:n.name),device_type:t.os.name,birth_year:e.birthYear,websites:e.websites,diff_private_websites:e.diffPrivateWebsites};await i(\"/v1/web/upload\",{method:\"POST\",retry:0,body:r})}async function R(e){var n;if(!e.appId.trim()){let{websites:g,diffPrivateWebsites:u,...o}=e;throw s==null||s.error(\"Missing required parameter 'appId'\",o),Error(\"Missing required parameter 'appId'\")}if(!e.installId.trim()){let{websites:g,diffPrivateWebsites:u,...o}=e;throw s==null||s.error(\"Missing required parameter 'installId'\",o),Error(\"Missing required parameter 'installId'\")}let t=A(navigator==null?void 0:navigator.userAgent),r={app_id:e.appId,install_id:e.installId,time_zone:m(),country_code:P(),device_name:d((n=t.browser)==null?void 0:n.name),device_type:t.os.name,birth_year:e.birthYear,websites:e.websites,diff_private_websites:e.diffPrivateWebsites};await i(\"/v1/page_views/upload\",{method:\"POST\",retry:0,body:r})}async function U(e){if(!e.appId.trim()){let{apps:r,...n}=e;throw s==null||s.error(\"Missing required parameter 'appId'\",n),Error(\"Missing required parameter 'appId'\")}if(!e.installId.trim()){let{apps:r,...n}=e;throw s==null||s.error(\"Missing required parameter 'installId'\",n),Error(\"Missing required parameter 'installId'\")}let t={app_id:e.appId,install_id:e.installId,time_zone:m(),country_code:P(),device_name:d(\"App\"),device_type:e.platform,birth_year:e.birthYear,apps:e.apps};await i(\"/v1/desktop/upload\",{method:\"POST\",retry:0,body:t})}function q(e){return I({appId:e.appId,installId:e.installId,websites:{}})}function E(e){return U({appId:e.appId,installId:e.installId,platform:e.platform})}function L(e){return i(\"/v1/brands\",{query:{install_id:e.installId}}).catch(t=>{var r;throw((r=t.response)==null?void 0:r.status)===403?new w:t})}function T(e){return i(\"/v1/sync/config\",{query:{key:e.deviceGroupKey}}).catch(t=>{var r;throw((r=t.response)==null?void 0:r.status)===404?new c:t})}async function B(e){await i(\"/v1/sync/config/reset_time\",{method:\"POST\",retry:0,body:e})}async function W(e){await i(\"/v1/sync/config/ignore_list/remove\",{method:\"POST\",retry:0,body:e})}async function F(e){await i(\"/v1/sync/config/ignore_list/add\",{method:\"POST\",retry:0,body:e})}async function V(e){await i(\"/v1/sync/config/usage_limit/add\",{method:\"POST\",retry:0,body:e})}async function K(e){let t={key:e.key,limit_ids:e.limitIds};await i(\"/v1/sync/config/usage_limit/remove\",{method:\"POST\",retry:0,body:t})}async function z(e){let t={app_id:e.appId,install_id:e.installId,time_zone:m(),country_code:P(),ads:e.ads};await i(\"/v1/desktop/retail/\"+e.website,{method:\"POST\",retry:0,body:t})}async function N(e){let t={app_id:e.appId,country_code:e.countryCode,time_zone:m(),prompts:e.prompts};await i(\"/v1/ai/analytics\",{method:\"POST\",retry:0,body:t})}async function Y(e){let t={app_id:e.appId,service:e.service,install_id:e.installId,status:e.status,country_code:e.countryCode,timestamp:Math.round(Date.now()/1e3)};await i(\"/v1/subscriptions/status\",{method:\"POST\",retry:0,body:t})}return{getAndroidAppInfo:l,createPairingCode:h,validatePairingCode:O,getMyDeviceGroup:p,getSessionsLastUploadedAt:G,getAverageAppUsage:C,getAverageWebUsage:M,listDeviceGroupDevices:D,removeDeviceFromDeviceGroup:S,listDeviceGroupSessions:k,uploadSessions:I,uploadPageViews:R,uploadDesktopUsage:U,createDevice:q,createDesktopDevice:E,getBrandMapping:L,getGroupConfig:T,setResetTime:B,removeFromIgnoreList:W,addToIgnoreList:F,addUsageLimit:V,removeUsageLimit:K,uploadRetailAds:z,uploadPrompts:N,uploadSubscriptionStatus:Y}}export{b as AlreadyInGroupError,w as ForbiddenError,_ as InvalidCodeError,Z as LimitType,H as MetricType,c as NotInDeviceGroupError,j as WarningType,ae as createPanelApiClient};\n","import * as WebExtUsage from '@sensortower/web-ext-usage'\nimport * as PanelAPI from '@sensortower/panel-api'\nimport { HOUR, MINUTE } from './Time'\nimport AppConst from './AppConsts'\nimport GeneralUtils from './GeneralUtils'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    ScheduleJobs: ReturnType<typeof ScheduleJobs.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('ScheduleJobs')\n\nlet api: API\n\nconst JobId = {\n  UploadWebUsage: '@alarm/upload-web-usage',\n}\n\nconst SESSIONS_LAST_UPLOADED_AT_STORAGE_KEY =\n  '@stayfocusd/sessions-last-uploaded-at-key'\nconst PAGE_VIEWS_LAST_UPLOADED_AT_STORAGE_KEY =\n  '@stayfocusd/page-views-last-uploaded-at-key'\n\nconst ScheduleJobs = {\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('ScheduleJobs', {\n      init: this.init.bind(this),\n    })\n  },\n\n  init() {\n    api.Chrome.Alarms.addListener(\n      'onAlarm',\n      async (alarm: chrome.alarms.Alarm) => {\n        if (alarm.name === JobId.UploadWebUsage) {\n          log(`Alarm fired`, alarm.name)\n\n          await this.uploadWebUsageJob()\n        }\n      },\n    )\n\n    api.Chrome.Alarms.ensure(JobId.UploadWebUsage, {\n      periodInMinutes: HOUR / MINUTE,\n    })\n  },\n\n  async uploadWebUsageJob() {\n    const usageDatabase = await api.WebUsage.getUsageDatabase()\n    const panelApi = PanelAPI.createPanelApiClient({\n      ofetchDefaults: {\n        baseURL: 'https://stayfocusd.st-panel-api.com',\n      },\n    })\n\n    const uploader = WebExtUsage.defineWebUsageUploader({\n      db: usageDatabase,\n      enabled: async () => {\n        const uploadEnabled = await api.RemoteConfig.get('uploadWebUsage')\n        const hasAcceptedPrivacyPolicy = await api.Storage.get(\n          'hasAcceptedPrivacyPolicy',\n          true,\n        )\n        return uploadEnabled && hasAcceptedPrivacyPolicy\n      },\n      getAppId: () => AppConst.APP_ID,\n      dev: !MINIFIED,\n      getInstallId: () => api.Storage.get(AppConst.INSTALL_ID_KEY),\n      getBirthYear: () => api.Settings.get('age') ?? undefined,\n      logger: MINIFIED ? null : console,\n      getUploadBatchSize: () => api.RemoteConfig.get('usageUploadBatchSize'),\n      api: panelApi,\n      sessions: {\n        lastUploadedAtStorageKey: SESSIONS_LAST_UPLOADED_AT_STORAGE_KEY,\n        onFailure: () => api.Analytics.event('WEB_USAGE_UPLOAD_FAILED'),\n        onSuccess: (details) =>\n          api.Analytics.event('WEB_USAGE_UPLOAD_COMPLETED', details),\n      },\n      pageViews: {\n        lastUploadedAtStorageKey: PAGE_VIEWS_LAST_UPLOADED_AT_STORAGE_KEY,\n        onFailure: () => api.Analytics.event('PAGE_VIEWS_UPLOAD_FAILED'),\n        onSuccess: (details) =>\n          api.Analytics.event('PAGE_VIEWS_UPLOAD_COMPLETED', details),\n        getUploadAllowlist: () => api.RemoteConfig.get('pageViewAllowlist'),\n      },\n    })\n\n    await uploader.uploadAll()\n  },\n}\n\nexport default ScheduleJobs\n","/** @license DropletJS.PubSub | MIT License | https://github.com/wmbenedetto/DropletJS.PubSub#mit-license */\nif (typeof MINIFIED === 'undefined'){\n    MINIFIED = false;\n}\n\n/**\n *     ____                   __     __      _______\n *    / __ \\_________  ____  / /__  / /_    / / ___/\n *   / / / / ___/ __ \\/ __ \\/ / _ \\/ __/_  / /\\__ \\\n *  / /_/ / /  / /_/ / /_/ / /  __/ /_/ /_/ /___/ /\n * /_____/_/   \\____/ .___/_/\\___/\\__/\\____//____/\n *                 /_/\n *\n * DropletJS.PubSub : Advanced JavaScript event framework\n *\n * Copyright (c) 2013 Warren Benedetto <wmbenedetto@gmail.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the Software\n * is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * Modified by Aaron Klinker to work with ESM.\n */\n\nconst PubSub = (function(root,undefined){\n\n    if (!MINIFIED){\n\n        var logLevels = {\n            OFF                         : 0,\n            ERROR                       : 1,\n            WARN                        : 2,\n            INFO                        : 3,\n            DEBUG                       : 4,\n            TRACE                       : 5\n        };\n\n        var logLevel                    = 'OFF';\n        var console                     = window.console || {};\n\n        console.log                     = (typeof console.log   === 'function') ? console.log   : function() {};\n        console.info                    = (typeof console.info  === 'function') ? console.info  : console.log;\n        console.error                   = (typeof console.error === 'function') ? console.error : console.log;\n        console.warn                    = (typeof console.warn  === 'function') ? console.warn  : console.log;\n\n        /**\n         * Default log() implementation\n         *\n         * This can be overridden by defining a log() function in the initObj\n         * passed to the constructor\n         *\n         * @param funcName The name of the function generating the log message\n         * @param message The message to log\n         * @param payload Data object\n         * @param level Log level (ERROR, WARN, INFO, DEBUG)\n         */\n        var log = function(funcName,message,payload,level) {\n\n            payload                     = (!payload) ? '' : payload;\n            level                       = (!level) ? 'INFO' : level.toUpperCase();\n            message                     = '[' + funcName + '()] ' + message;\n\n            if (isLoggable(level)) {\n\n                if (level === 'ERROR') {\n                    console.error(message,payload);\n                } else if (level === 'WARN') {\n                    console.warn(message,payload);\n                } else if (level === 'INFO') {\n                    console.info(message,payload);\n                } else {\n                    console.log(message,payload);\n                }\n            }\n        };\n\n        /**\n         * Checks whether the given level is loggable based on the\n         * current log level\n         *\n         * @param level The level to check\n         * @return {Boolean}\n         */\n        var isLoggable = function(level){\n\n            var currentLogLevel         = logLevels[logLevel];\n            var thisLogLevel            = logLevels[level];\n\n            return thisLogLevel <= currentLogLevel;\n        };\n    }else{\n        var log                         = function(){};\n    }\n\n    /**\n     * Add bind() to Function prototype for browsers that don't yet support ECMAScript 5.\n     *\n     * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\n     */\n    if (typeof Function.prototype.bind !== 'function'){\n\n        Function.prototype.bind = function(scope) {\n\n            var self                    = this;\n\n            return function() {\n                return self.apply(scope,arguments);\n            }\n        };\n    }\n\n    /**\n     * Checks whether options is an array\n     *\n     * @param options The object to check\n     */\n    var isArray = function(options){\n        return typeof options === 'object' && options !== null && typeof options.length === 'number';\n    };\n\n    /**\n     * Checks whether an object is an object literal (non-null, non-array)\n     *\n     * @param options The object to check\n     * @return {Boolean}\n     */\n    var isObjLiteral = function(options) {\n        return typeof options === 'object' && options !== null && typeof options.length !== 'number';\n    };\n\n    /**\n     * Delete property from object in IE-safe way\n     *\n     * @param obj Object containing property\n     * @param prop Property to delete\n     */\n    var safeDelete = function(obj,prop){\n\n        try {\n            delete obj[prop];\n        } catch (e){\n            obj[prop] = undefined;\n        }\n    };\n\n    /**\n     * Converts dot-delimited string into object literal with\n     * properties corresponding to message parts. Any parts\n     * that don't exist are set to wildcards.\n     *\n     * Strings are formatted like:\n     *\n     * Namespace:Originator.subject.verb.DESCRIPTOR\n     *\n     * @param msgString Dot-delimited string with optional namespace\n     * @constructor\n     */\n    var Message = function Message(msgString){\n\n        this.namespace                  = this.DEFAULT_NS;\n\n        /* Namespace is specified like Namespace:Foo.bar.baz.QUZ,\n         * so if a colon is found, we must separate it from the\n         * rest of the message string */\n        if (msgString.indexOf(':') > -1){\n            this.namespace              = msgString.substr(0,msgString.indexOf(':'));\n            msgString                   = msgString.substr((msgString.indexOf(':')+1),msgString.length);\n        }\n\n        if (msgString.indexOf('.') > -1){\n\n            var msgArray                = msgString.split('.');\n            this.msgArray               = [msgArray[0] || '*',msgArray[1] || '*',msgArray[2] || '*', msgArray[3] || '*'];\n            this.msgString              = this.msgArray.join('.');\n\n        } else {\n\n            this.msgArray               = [msgString];\n            this.msgString              = msgString;\n        }\n    };\n\n    /**\n     * Message class prototype\n     *\n     * @type {Object}\n     */\n    Message.prototype = {\n\n        DEFAULT_NS                      : '__default',\n\n        /**\n         * Compares this message to another\n         *\n         * If all segments are either matching or wildcards, then the messages are equivalent.\n         *\n         * For example:\n         *\n         * foo.bar.baz      === foo.bar.baz\n         * *.bar.*          === foo.bar.baz\n         * foo.*.baz        === foo.bar.baz\n         * goo.*.baz        !== foo.bar.baz\n         *\n         * We only return true if the this message if more specific than the other. Say we want\n         * to trigger a listener when the message and listener match exactly, or when the listener is\n         * more general than the message, but not when the message is more general than the listener.\n         *\n         * For example:\n         *\n         * If message is foo.bar.baz and listener is foo.bar.baz, trigger listener.\n         * If message is foo.bar.baz and listener is foo.bar.*, trigger listener.\n         * If message is foo.bar.* and listener is foo.bar.baz, DON'T trigger listener.\n         *\n         * @param msgString The message to compare\n         */\n        matches : function(msgString){\n\n            if (this.msgString === msgString){\n                return true;\n            }\n\n            /* Split messages into arrays at the dots */\n            var msg1Array               = this.msgArray;\n            var msg2Array               = msgString.split('.');\n\n            /* If the messages don't have the same number of segments, they aren't equivalent */\n            if (msg1Array.length !== msg2Array.length){\n                return false;\n            }\n\n            var msg1Bitmask             = '';\n            var msg2Bitmask             = '';\n            var longerMessageLength     = (msg1Array.length >= msg2Array.length) ? msg1Array.length : msg2Array.length;\n\n            /* Loop through segments and compare them */\n            for (var i=0;i<longerMessageLength;i++){\n\n                /* If neither segment is a wildcard, and the segments don't match, then the messages aren't equivalent */\n                if (msg1Array[i] !== '*' && msg2Array[i] !== '*' && msg1Array[i] !== msg2Array[i]){\n                    return false;\n                }\n\n                msg1Bitmask            += (msg1Array[i] === '*') ? '0' : '1';\n                msg2Bitmask            += (msg2Array[i] === '*') ? '0' : '1';\n            }\n\n            return msg1Bitmask >= msg2Bitmask;\n        },\n\n        /**\n         * Returns serialized message string\n         *\n         * @returns {String}\n         */\n        toString : function(){\n            return this.msgString;\n        }\n    };\n\n    /**\n     * PubSub singleton definition\n     *\n     * @constructor\n     */\n    var PubSub = {\n\n        handlers                        : {},\n        subscribers : {\n            before                      : [],\n            after                       : []\n        },\n\n        /**\n         * Gets public API methods\n         *\n         * @return {Object}\n         */\n        getAPI : function(){\n\n             return {\n                clear                   : this.clear.bind(this),\n                listen                  : this.listen.bind(this),\n                once                    : this.once.bind(this),\n                publish                 : this.publish.bind(this),\n                stop                    : this.stop.bind(this),\n                subscribe               : this.subscribe.bind(this),\n                unsubscribe             : this.unsubscribe.bind(this)\n             }\n        },\n\n        /**\n         * Listen for message(s)\n         *\n         * Valid forms:\n         *\n         * PubSub.listen('someMessage',messageHandler);\n         *\n         * PubSub.listen({\n         *     message                  : 'someMessage',\n         *     handler                  : messageHandler,\n         *     async                    : false             // optional. True if handler is asynchronous\n         * });\n         *\n         * ... plus all the above forms with an array of messages in place of a single message\n         */\n        listen : function(){\n\n            var options                 = this.processListenArgs(Array.prototype.slice.call(arguments));\n\n            this.log('listen', 'Adding listener', options);\n\n            /* Call listen() for each message in array */\n            if (isArray(options.message)){\n                this.each(options,this.listen.bind(this));\n                return null;\n            }\n\n            this.addHandler(options);\n        },\n\n        /**\n         * Listen for a message one time. Once the message is handled once,\n         * stop listening for it.\n         *\n         * Valid forms are the same as for listen()\n         *\n         * @return {*}\n         */\n        once : function(){\n\n            var options                 = this.processListenArgs(Array.prototype.slice.call(arguments));\n            options.limit               = 1;\n\n            this.log('once', 'Adding one-time listener', options);\n\n            /* Call once() for each message in array */\n            if (isArray(options.message)){\n                this.each(options,this.once.bind(this));\n                return null;\n            }\n\n            this.addHandler(options);\n        },\n\n        /**\n         * Stop listening for message(s)\n         *\n         * Valid forms:\n         *\n         * PubSub.stop('someMessage');\n         *\n         * ... plus the above form with an array of messages in place of a single message\n         *\n         * @return {*}\n         */\n        stop : function(message){\n\n            if (message){\n                throw new Error('Message(s) must be passed to stop()');\n            }\n\n            var options = {\n                message                 : this.toMessage(message)\n            };\n\n            this.log('stop', 'Stopping listener', options);\n\n            /* Call stop() for each message in array */\n            if (isArray(options.message)){\n                this.each(options,this.stop.bind(this));\n                return null;\n            }\n\n            this.removeHandlers(options);\n        },\n\n        /**\n         * subscribe() registers a handler to be called every time a message\n         * is published. Typical use-cases for this would be a reporting mechanism\n         * that wants to receive every message so it can report on some (or all) of\n         * them. Another use-case would be a third-party system that needs to adjust\n         * its own state based on changes indicated by published messages.\n         *\n         * By default, subscribed handlers are called after all message handlers are\n         * called. Setting the 'phase' param to 'before' will tell PubSub to call the\n         * subscribed handler before the message handlers instead.\n         *\n         * An optional namespace can be set so that subscribers can be removed later,\n         * limiting the removal to subscribers in a namespace.\n         *\n         * Finally, a boolean async param can be set. This tells PubSub to wait to call\n         * any onPublish() function until after the subscriber handler has been executed.\n         *\n         * Valid forms:\n         *\n         * PubSub.subscribe(handler);\n         *\n         * PubSub.subscribe({\n         *     handler                  : messageHandler,\n         *     namespace                : 'SomeNamespace',  // optional\n         *     phase                    : 'before',         // optional\n         *     async                    : true              // optional. True if handler is asynchronous\n         * });\n         */\n        subscribe : function(){\n\n            var options                 = this.processSubscribeArgs(Array.prototype.slice.call(arguments));\n            var phase                   = options.phase;\n\n            this.log('subscribe', 'Adding subscriber', options);\n\n            this.subscribers[phase]     = this.subscribers[phase] || [];\n            this.subscribers[phase].push(options);\n        },\n\n        /**\n         * Removes any subscribers matching the namespace. If no namespace is\n         * specified, removes subscribers in the default namespace.\n         *\n         * If phase is specified, limits the removal to subscribers\n         * in that phase ('before' or 'after')\n         *\n         * Valid forms:\n         *\n         * PubSub.unsubscribe(namespace,phase);\n         *\n         * PubSub.unsubscribe({\n         *     namespace                : 'SomeNamespace',  // optional\n         *     phase                    : 'before'          // optional\n         * });\n         */\n        unsubscribe : function(){\n\n            var options                 = this.processUnsubscribeArgs(Array.prototype.slice.call(arguments));\n\n             /* If \"phase\" isn't specified, remove before and after */\n            if (!options.phase){\n\n                this.unsubscribe(options.namespace,'before');\n                this.unsubscribe(options.namespace,'after');\n\n                return null;\n            }\n\n            var namespace               = options.namespace;\n            var phase                   = options.phase;\n            var subscribers             = this.subscribers[phase];\n\n            this.log('unsubscribe', 'Unsubscribe from ' + phase + ' phase' + ((namespace) ? ' in ' +namespace + ' namespace' : ''), options);\n\n            if (isArray(subscribers)){\n\n                for (var i=0;i<subscribers.length;i++){\n\n                    if (!namespace || subscribers[i].namespace === namespace){\n                        subscribers.splice(i,1);\n                    }\n                }\n            }\n        },\n\n        /**\n         * Valid forms:\n         *\n         * PubSub.publish('someMessage',payloadObject);\n         *\n         * PubSub.publish({\n         *     message                  : 'someMessage',\n         *     payload                  : payloadObject,    // optional\n         *     onComplete               : onCompleteFunc,   // optional\n         *     onPublish                : onPublishFunc     // optional\n         * });\n         *\n         * ... plus all the above forms with an array of messages in place of a single message\n         */\n        publish : function(){\n\n            var options                 = this.processPublishArgs(Array.prototype.slice.call(arguments));\n\n            if (isArray(options.message)){\n\n                /* If an onComplete has been defined, store it in a local variable,\n                 * then delete it from the data object. This is done so that onComplete\n                 * is only called once the each() iterator is complete, and not when each\n                 * iteration is complete. */\n                var onComplete          = options.onComplete;\n                options.onComplete      = null;\n\n                /* Call publish() for each message in array */\n                this.each(options,this.publish.bind(this),onComplete);\n\n                return null;\n            }\n\n            var msgString               = options.message.toString();\n\n            this.log('publish', '# START publishing '+msgString, options);\n\n            var message                 = options.message;\n            var payload                 = options.payload;\n            var onPublish               = options.onPublish;\n            var publishTo               = this.subscribers['before']\n                                            .concat(this.getHandlers(message))\n                                            .concat(this.subscribers['after']);\n\n            for (var i=0;i<publishTo.length;i++){\n\n                if (publishTo[i].limit === null || publishTo[i].count < publishTo[i].limit){\n\n                    var result          = (publishTo[i].async) ?\n                                           publishTo[i].handler(message,payload,onPublish) :\n                                           publishTo[i].handler(message,payload);\n\n                    if (publishTo[i].async !== true && typeof onPublish === 'function'){\n                        onPublish(result);\n                    }\n\n                    publishTo[i].count += 1;\n                }\n\n                if (typeof publishTo[i].limit === 'number' && publishTo[i].count === publishTo[i].limit){\n                    this.removeHandlers(options,i);\n                }\n            }\n\n            this.log('publish', '# END publishing ' + msgString, options);\n\n            if (typeof options.onComplete === 'function'){\n                options.onComplete();\n            }\n        },\n\n        /**\n         * Gets all handlers that match the published message (including those\n         * that match by wildcard, if applicable)\n         *\n         * @param message The message for which to get handlers\n         * @returns {Array}\n         */\n        getHandlers : function(message){\n\n            var handlers                = [];\n\n            for (var msgString in this.handlers){\n\n                if (this.handlers.hasOwnProperty(msgString) && message.matches(msgString)){\n                    handlers            = handlers.concat(this.handlers[msgString]);\n                }\n            }\n\n            return handlers;\n        },\n\n        /**\n         * Clears all handlers and subscribers.\n         */\n        clear : function(){\n\n            this.log('clear', 'Clearing PubSub');\n\n            this.handlers               = {};\n\n            this.subscribers = {\n                before                  : [],\n                after                   : []\n            };\n        },\n\n        /**\n         * Iterates over an array of messages, passing each one to a function\n         * as part of an object containing the rest of the properties required\n         * for the function.\n         *\n         * For example, the data object may contains messages, plus payload and\n         * callbacks. The object is passed through the function with one of the\n         * messages, plus the payload and callbacks. This is repeated for each\n         * message in the array.\n         *\n         * @param data Array of messages over which to iterate\n         * @param fn Function to call on each iteration\n         * @param onComplete Function to call once iterator is complete\n         */\n        each : function(data,fn,onComplete){\n\n            /* Call function for each message in array */\n            for (var i=0;i<data.message.length;i++){\n\n                var thisData            = {};\n\n                /* Copy properties of data to new object */\n                for (var j in data){\n\n                    if (data.hasOwnProperty(j) && j !== 'message'){\n                        thisData[j]     = data[j];\n                    }\n                }\n\n                thisData.message        = data.message[i];\n\n                fn(thisData)\n            }\n\n            if (typeof onComplete === 'function'){\n                onComplete();\n            }\n        },\n\n        /**\n         * Adds handlers for message\n         *\n         * @param options Object containing listen() options\n         */\n        addHandler : function(options){\n\n            var msgString               = options.message.toString();\n\n           this.log('addHandler', 'Adding handler for '+msgString+' message', null, 'TRACE');\n\n            this.handlers[msgString]    = this.handlers[msgString] || [];\n\n            this.handlers[msgString].push({\n                namespace               : options.message.namespace,\n                handler                 : options.handler,\n                async                   : options.async,\n                limit                   : (typeof options.limit === 'number')? options.limit : null,\n                count                   : 0\n            });\n        },\n\n        /**\n         * Removes handlers for given message\n         *\n         * @param options Data object containing message to remove handler for\n         * @param handlerNum The index of the handler to remove. If none specified, all handlers are removed.\n         */\n        removeHandlers : function(options,handlerNum){\n\n            var msgString               = options.message.toString();\n            var namespace               = options.message.namespace;\n            var handlers                = this.handlers;\n\n            if (handlers && handlers[msgString]){\n\n                var logMsg          = 'Removing handler for ' + msgString + ' message';\n                logMsg             += (namespace !== options.message.DEFAULT_NS) ? ' in ' + namespace + ' namespace' : '';\n\n                this.log('removeHandlers', logMsg, null, 'TRACE');\n\n                if (typeof handlerNum === 'number'){\n\n                    if (handlers[msgString][handlerNum].namespace === namespace){\n                        handlers[msgString].splice(handlerNum,1);\n                    }\n\n                } else {\n\n                    for (var i=0;i<handlers[msgString].length;i++){\n\n                        if (handlers[msgString][i].namespace === namespace){\n                            handlers[msgString].splice(i,1);\n                        }\n                    }\n                }\n\n                if (handlers[msgString].length === 0){\n                    safeDelete(handlers,msgString);\n                }\n            }\n        },\n\n        /**\n         * Processes arguments passed to listen() or once() methods, validating them\n         * and setting defaults as needed\n         *\n         * Returns object with message, handler, and/or async properties defined\n         *\n         * @param args Array of args to process\n         * @return {Object} Object containing processed args\n         */\n        processListenArgs : function(args){\n\n            var options                 = {};\n\n            if (isObjLiteral(args[0])){\n\n                options                 = args[0];\n\n            } else {\n\n                options.message         = (typeof args[0] === 'string' || isArray(args[0])) ? args[0] : null;\n                options.handler         = (typeof args[1] === 'function') ? args[1] : null;\n            }\n\n            if (!options.message || typeof options.handler !== 'function'){\n                throw new Error('Message(s) and handler function must be passed to listen() and/or once()');\n            }\n\n            options.message             = this.toMessage(options.message);\n\n            return options;\n        },\n\n        /**\n         * Processes arguments passed to subscribe() method, validating them\n         * and setting defaults as needed\n         *\n         * Returns object with handler, async, namespace and/or phase\n         *\n         * @param args Array of args to process\n         * @return {Object} Object containing processed args\n         */\n        processSubscribeArgs : function(args){\n\n            var options                 = {};\n\n            if (isObjLiteral(args[0])){\n\n                options                 = args[0];\n\n            } else {\n\n                options.handler         = (typeof args[0] === 'function') ? args[0] : null;\n            }\n\n            if (typeof options.handler !== 'function'){\n                throw new Error(\"Handler must be passed to subscribe()\");\n            }\n\n            options.phase               = options.phase || 'after';\n            options.limit               = null;\n            options.count               = 0;\n\n            if (options.phase && !(options.phase in { before : 1, after : 1 } )){\n                throw new Error(options.phase+\" is not a valid phase for subscribe().\");\n            }\n\n            return options;\n        },\n\n        /**\n         * Processes arguments passed to unsubscribe() method, validating them\n         * and setting defaults as needed\n         *\n         * Returns object with namespace and/or phase\n         *\n         * @param args Array of args to process\n         * @return {Object} Object containing processed args\n         */\n        processUnsubscribeArgs : function(args){\n\n            var options                 = {};\n\n            if (isObjLiteral(args[0])){\n\n                options                 = args[0];\n\n            } else {\n\n                options.namespace       = (typeof args[0] === 'string') ? args[0] : null;\n                options.phase           = (typeof args[1] === 'string') ? args[1] : null;\n            }\n\n            if (options.phase && !(options.phase in { before : 1, after : 1 } )){\n                throw new Error(options.phase+\" is not a valid phase for unsubscribe().\");\n            }\n\n            return options;\n        },\n\n        /**\n         * Processes arguments passed to publish() method, validating them\n         * and setting defaults as needed\n         *\n         * Returns object with message, payload, onComplete, and/or onPublish\n         * properties defined\n         *\n         * @param args Array of args to process\n         * @return {Object} Object containing processed args\n         */\n        processPublishArgs : function(args){\n\n            var options                 = {};\n\n            if (isObjLiteral(args[0])){\n\n                options                 = args[0];\n\n            } else {\n\n                options.message         = (typeof args[0] === 'string' || isArray(args[0])) ? args[0] : null;\n                options.payload         = (typeof args[1] !== 'undefined') ? args[1] : null;\n            }\n\n            if (!options.message){\n                throw new Error(\"Message(s) must be passed to publish()\");\n            }\n\n            options.message             = this.toMessage(options.message);\n\n            if (options.async && typeof options.onPublish !== 'function'){\n                options.onPublish       = function(){};\n            }\n\n            return options;\n        },\n\n        /**\n         * Converts message strings to Message objects\n         *\n         * @param message Message string or array of message strings\n         * @return {String|Array} Converted message(s)\n         */\n        toMessage : function(message){\n\n            /* Convert array of message strings to Message objects */\n            if (isArray(message)){\n\n                var messageArray        = [];\n\n                for (var i=0;i<message.length;i++){\n\n                    if (!(message[i] instanceof Message)){\n                        messageArray[i] = new Message(message[i]);\n                    }\n                }\n\n                message                 = messageArray;\n            }\n            /* Convert single message string to Message object */\n            else if (message && !(message instanceof Message)){\n\n                message                 = new Message(message);\n            }\n\n            return message;\n        },\n\n        /**\n         * Alias for global log(). Prepends PubSub to funcName.\n         *\n         * @param funcName The name of the function generating the log message\n         * @param message The message to log\n         * @param payload Data object\n         * @param level Log level (ERROR, WARN, INFO, DEBUG)\n         */\n        log : function(funcName,message,payload,level){\n\n            log('DropletJS.PubSub.'+funcName,message,payload,level);\n        },\n\n        /**\n         * Sets the log level\n         *\n         * @param level OFF, ERROR, WARN, INFO, DEBUG, or TRACE\n         */\n        setLogLevel : function(level){\n            logLevel                    = level;\n        }\n    };\n\n    return PubSub;\n}(window || global));\n\nexport default PubSub;\n","import GeneralUtils from './GeneralUtils'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    Notification: ReturnType<typeof Notification.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('Notification')\n\nlet api: API\n\n/**\n * Functions showing desktop notifications for elapsed time and Nuclear Option\n *\n * @author              Warren Benedetto <wmbenedetto@gmail.com>\n * @since               March 27, 2010\n * @version             1.2.4\n */\n\nconst Notification = {\n  settings: [300, 60, 10], // seconds\n  NOTIFICATION_TTL: 5000, // milliseconds\n\n  /**\n   * Initializes API\n   */\n  initAPI: function (theAPI: API) {\n    api = theAPI\n\n    return api.mixin('Notification', {\n      initAsync: this.initAsync.bind(this),\n      get: this.get.bind(this),\n      saveSettings: this.saveSettings.bind(this),\n    })\n  },\n\n  /**\n   * Initializes Notification class\n   */\n  init: function (callback: Function | undefined) {\n    log('init', 'Initializing Notification', null, 'DEBUG')\n\n    this.loadSettings()\n\n    if (typeof callback === 'function') {\n      callback()\n    }\n  },\n  initAsync() {\n    return new Promise((resolve) => this.init(resolve))\n  },\n\n  /**\n   * Gets notification settings\n   */\n  get: function () {\n    return this.settings\n  },\n\n  /**\n   * Shows desktop notification\n   *\n   * @param type The type of notification to show\n   */\n  show: function (type: 'nuclear' | 'block') {\n    log('show', 'Showing ' + type + ' notification')\n\n    let icon = ''\n    let message = ''\n    let totalSecondsRemaining = 0\n\n    if (type === 'nuclear') {\n      totalSecondsRemaining = api.NuclearOption.getSecondsUntilActive()\n\n      icon = '/common/img/icon-nuclear-48.png'\n      message =\n        api.Chrome.Translation.get('nuclearNotification') ||\n        'The Nuclear Option will start blocking sites in'\n    } else if (type === 'block') {\n      totalSecondsRemaining = api.StayFocusd.getTotalSecondsRemaining()\n\n      icon = '/common/img/icon-red-48.png'\n      message =\n        api.Chrome.Translation.get('blockNotification') ||\n        'StayFocusd will start blocking your Blocked Sites in'\n    }\n\n    message +=\n      totalSecondsRemaining > 60\n        ? ' ' + api.Date.secondsToMinsAndSecs(totalSecondsRemaining)\n        : ' ' + totalSecondsRemaining + ' seconds'\n\n    const options: chrome.notifications.NotificationOptions<true> = {\n      type: 'basic',\n      title: 'StayFocusd',\n      iconUrl: icon,\n      message: message,\n    }\n\n    api.Chrome.Notification.create('', options, (notificationID: string) => {\n      /* Close notification after NOTIFICATION_TTL seconds */\n      if (notificationID != undefined)\n        setTimeout(() => {\n          api.Chrome.Notification.clear(notificationID)\n        }, this.NOTIFICATION_TTL)\n    })\n  },\n\n  /**\n   * Checks whether a notification is set to appear at the given time\n   *\n   * @param timeToCheck The time to check, in seconds\n   */\n  isset: function (timeToCheck: number) {\n    return this.settings.inArray(timeToCheck)\n  },\n\n  /**\n   * Saves settings\n   *\n   * @param settings Object containing Notification settings\n   */\n  saveSettings: function (settings: number[]) {\n    log('saveSettings', 'Saving settings', settings, 'TRACE')\n\n    this.settings = settings\n\n    api.Settings.set({ notificationSettings: settings })\n  },\n\n  /**\n   * Loads settings\n   */\n  loadSettings: function () {\n    log('loadSettings', 'Loading settings', null, 'TRACE')\n\n    const notificationSettings = api.Settings.get('notificationSettings')\n\n    if (notificationSettings) {\n      this.settings = notificationSettings\n    }\n  },\n}\n\nexport default Notification\n","import Logger, { LogLevel } from '~/core/Logger'\n\nexport enum BadgeColor {\n  RED = '#FF0000',\n  YELLOW = '#FDD017',\n  GREEN = '#009933',\n  BLACK = '#000000',\n}\n\nexport enum BadgeIcon {\n  ONBOARDING = '/common/img/icon-red-dot-24.png',\n  ALLOWED = '/common/img/icon-green-24.png',\n  BLOCKED = '/common/img/icon-red-24.png',\n  DEFAULT = '/common/img/icon-24.png',\n  NUCLEAR = '/common/img/icon-nuclear-24.png',\n  DEACTIVATED = '/common/img/icon-disabled-24.png',\n}\n\n/**\n * Alias for Logger.log(). Prepends class name to funcName.\n *\n * @param funcName The name of the function generating the log message\n * @param message The message to log\n * @param payload Data object\n * @param level Log level (ERROR, WARN, INFO, DEBUG)\n */\nconst log = function (\n  funcName: string,\n  message: string,\n  payload: any,\n  level: LogLevel,\n) {\n  Logger.log(`BadgeIcons.${funcName}`, message, payload, level)\n}\n\nexport function badgeIcons() {\n  /**\n   * Shows badge on icon\n   *\n   * @param _text The badge text\n   * @param iconColor The badge's background color name\n   * @param _tabID Optional id of tab for which icon should be updated\n   */\n  function showBadge(\n    _text: string | undefined,\n    iconColor?: BadgeColor,\n    _tabID?: number,\n  ) {\n    const text = _text || ''\n    const tabID = _tabID || undefined\n\n    log('showBadge', 'Showing badge', { text, iconColor, tabID }, 'DEBUG')\n\n    if (iconColor) {\n      setBadgeColor(iconColor, tabID)\n    }\n\n    setBadgeText(text, tabID)\n  }\n\n  /**\n   * Hides icon badge\n   *\n   * @param tabID Optional id of tab for which icon should be updated\n   */\n  function hideBadge(tabID?: number) {\n    tabID = tabID || undefined\n\n    setBadgeText('', tabID)\n  }\n\n  /**\n   * Sets icon\n   *\n   * @param type The type of icon to show\n   * @param tabID Optional id of tab for which icon should be updated\n   */\n  async function setIcon(type: BadgeIcon, tabID?: number) {\n    tabID = tabID || undefined\n\n    log('setIcon', 'Setting icon', type, 'TRACE')\n\n    if (await isOnboardingIcon()) {\n      chrome.action.setIcon({\n        tabId: tabID,\n        path: BadgeIcon.ONBOARDING,\n      })\n    } else {\n      chrome.action.setIcon({\n        tabId: tabID,\n        path: type,\n      })\n    }\n  }\n\n  /**\n   * Sets badge color\n   *\n   * @param color The color as RGBA array or hex code\n   * @param tabID Optional id of tab for which icon should be updated\n   */\n  function setBadgeColor(color: string, tabID?: number) {\n    log('setBadgeColor', 'Setting badge color', color, 'TRACE')\n\n    tabID = tabID || undefined\n\n    chrome.action.setBadgeBackgroundColor({\n      tabId: tabID,\n      color: color,\n    })\n  }\n\n  /**\n   * Sets badge text\n   *\n   * @param text The text to display on the badge\n   * @param tabID Optional id of tab for which icon should be updated\n   */\n  function setBadgeText(text: string, tabID?: number) {\n    log('setBadgeText', 'Setting badge text', text, 'TRACE')\n\n    // TODO: Is this a bug? Should it be `tabID ?? undefined` to handle 0 correctly?\n    // There are many places in this file that do this, and they all need changed\n    tabID = tabID || undefined\n\n    chrome.action.setBadgeText({\n      tabId: tabID,\n      text: text,\n    })\n  }\n\n  async function isOnboardingIcon() {\n    // const isCompleted = await API.Requirements.isOnboardingCompleted()\n    // return !isCompleted\n    return false\n  }\n\n  return {\n    showBadge,\n    hideBadge,\n    setIcon,\n  }\n}\n","import Notification from './Notification'\nimport { MINUTE, HOUR } from './Time'\nimport GeneralUtils from './GeneralUtils'\nimport { API } from './API'\nimport { AmPm } from './DateUtils'\nimport SmartBomb from './SmartBomb'\nimport { badgeIcons } from './badge-icons'\n\ndeclare module '~/core/API' {\n  interface API {\n    NuclearOption: ReturnType<typeof NuclearOption.initAPI>\n  }\n}\n\nconst changeBadgeIcons = badgeIcons()\nconst log = GeneralUtils.createScopedLog('NuclearOption')\n\nlet api: API\n\n/**\n * Functions for setting, checking, and executing Nuclear Option\n *\n * @author              Warren Benedetto <wmbenedetto@gmail.com>\n * @since               March 13, 2011\n * @version             1.1.0\n */\n\nexport type NuclearContentType = 'wholeSite' | 'smartBomb'\nexport type NuclearStartType =\n  | 'now'\n  | 'whenMaxTimeAllowedExceeded'\n  | 'atScheduledTime'\nexport type NuclearFrequency =\n  | 'todayOnly'\n  | 'activeDays'\n  | 'everyWeekday'\n  | 'everyDay'\nexport type NuclearBlockType = 'all' | 'allExceptAllowed' | 'blocked'\n\nexport interface NuclearSettings {\n  blockType: NuclearBlockType\n  contentType: NuclearContentType\n  smartBomb: SmartBomb\n  blockLength: number\n  startType: NuclearStartType\n  frequency: NuclearFrequency\n  startHour: null | string\n  startMin: null | string\n  startAmPm: null | AmPm\n  activeDays?: boolean[]\n  expiration?: number\n  lastActiveDate: string\n  lastExpiredDate?: string | null\n  isCurrentlyActive: boolean\n}\n\nconst NuclearOption = {\n  timer: null as NodeJS.Timer | null, // holds setInterval() timer value\n  interval: 1, // how often to check time until nuclear, in seconds\n  settings: {} as NuclearSettings,\n  initialized: false,\n\n  /**\n   * Initializes API\n   */\n  initAPI: function (theAPI: API) {\n    api = theAPI\n\n    return api.mixin('NuclearOption', {\n      init: this.init.bind(this),\n      initAsync: this.initAsync.bind(this),\n      activate: this.activate.bind(this),\n      isActive: this.isActive.bind(this),\n      getBlockLength: this.getBlockLength.bind(this),\n      getBlockType: this.getBlockType.bind(this),\n      getContentType: this.getContentType.bind(this),\n      getExpiration: this.getExpiration.bind(this),\n      getFrequency: this.getFrequency.bind(this),\n      getSecondsUntilActive: this.getSecondsUntilActive.bind(this),\n      getSmartBomb: this.getSmartBomb.bind(this),\n      getStartAmPm: this.getStartAmPm.bind(this),\n      getStartHour: this.getStartHour.bind(this),\n      getStartMin: this.getStartMin.bind(this),\n      getStartType: this.getStartType.bind(this),\n      saveSettings: this.saveSettings.bind(this),\n      updateActiveDays: this.updateActiveDays.bind(this),\n    })\n  },\n\n  /**\n   * Initializes Nuclear Option\n   *\n   * @param callback Function to call when initialization is complete\n   */\n  init: function (callback: Function) {\n    log('init', 'Initializing NuclearOption', null, 'DEBUG')\n\n    this.loadSettings()\n\n    this.timer = setInterval(this.tick.bind(this), this.interval * 1000)\n    this.initialized = true\n\n    if (typeof callback === 'function') {\n      callback()\n    }\n\n    api.PubSub.listen(\n      'Settings.data.refreshed',\n      (message: string, payload: any) => {\n        if (payload.changes.nuclearOptionSettings) this.loadSettings()\n      },\n    )\n  },\n  initAsync() {\n    return new Promise((resolve) => this.init(resolve))\n  },\n\n  /**\n   * Saves settings\n   *\n   * @param settings Object containing Nuclear Option settings\n   */\n  saveSettings: function (settings: NuclearSettings) {\n    this.settings = settings\n    settings.activeDays = this.calculateActiveDays(settings)\n\n    log('saveSettings', 'Saving settings', settings, 'DEBUG')\n\n    api.Settings.set({ nuclearOptionSettings: settings })\n  },\n\n  /**\n   * Based on the type of active days selected, figures out exactly\n   * which days should be set to active\n   *\n   * @param settings Object containing Nuclear Option settings\n   * @returns {Array} Array of active days\n   */\n  calculateActiveDays: function (settings: Record<string, any>): boolean[] {\n    let activeDays: boolean[] = []\n\n    /* Use the days from the Active Days tab. */\n    if (settings.frequency === 'activeDays') {\n      activeDays = api.StayFocusd.getActiveDays(true) as boolean[]\n    } else if (typeof settings.frequency !== 'undefined') {\n      activeDays[0] = settings.frequency === 'everyDay'\n      activeDays[1] = settings.frequency.indexOf('every') > -1\n      activeDays[2] = settings.frequency.indexOf('every') > -1\n      activeDays[3] = settings.frequency.indexOf('every') > -1\n      activeDays[4] = settings.frequency.indexOf('every') > -1\n      activeDays[5] = settings.frequency.indexOf('every') > -1\n      activeDays[6] = settings.frequency === 'everyDay'\n    }\n\n    log('calculateActiveDays', 'Calculating active days', activeDays, 'DEBUG')\n\n    return activeDays\n  },\n\n  updateActiveDays: function (activeDays: boolean[]) {\n    log('updateActiveDays', 'Updating active days', activeDays, 'DEBUG')\n\n    if (!this.initialized) {\n      this.init(() => {\n        this.updateActiveDays(activeDays)\n      })\n    }\n\n    this.settings.activeDays = activeDays\n\n    this.saveSettings(this.settings)\n  },\n\n  /**\n   * Loads settings\n   */\n  loadSettings: function () {\n    log('loadSettings', 'Loading settings', this.settings, 'DEBUG')\n\n    const nuclearOptionSettings = api.Settings.get('nuclearOptionSettings')\n\n    if (nuclearOptionSettings) {\n      this.settings = nuclearOptionSettings\n    }\n  },\n\n  /**\n   * Determines whether the Nuclear Option is active.\n   *\n   * If it should be active and it's not, it is activated here. Likewise,\n   * if it shouldn't be active and it is, it's deactivated here.\n   */\n  isActive: function () {\n    if (this.isCurrentlyActive()) {\n      if (this.isExpired()) {\n        this.deactivate()\n      }\n    } else if (this.isStarted()) {\n      this.activate()\n    }\n\n    const isActive = this.isCurrentlyActive()\n\n    log(\n      'isActive',\n      'Is Nuclear Option active?',\n      isActive ? 'YES' : 'NO',\n      'TRACE',\n    )\n\n    return isActive\n  },\n\n  /**\n   * Checks whether the Nuclear Option is active today\n   */\n  isActiveToday: function () {\n    const frequency = this.getFrequency()\n    const lastActiveDate = this.getLastActiveDate()\n    const lastExpiredDate = this.getLastExpiredDate()\n    const todayDate = new Date().toDateString()\n\n    if (\n      frequency === 'todayOnly' &&\n      (lastActiveDate === todayDate || lastActiveDate === null) &&\n      lastExpiredDate !== todayDate\n    ) {\n      return true\n    }\n\n    const day = new Date().getDay()\n    const activeDays = this.getActiveDays()\n\n    if (activeDays.length === 0) {\n      return false\n    }\n\n    return activeDays[day]\n  },\n\n  /**\n   * Checks whether the Nuclear Option has started yet, based on the\n   * selected start type.\n   */\n  isStarted: function (): boolean {\n    const startType = this.getStartType()\n    const lastActiveDate = this.getLastActiveDate()\n    const lastExpiredDate = this.getLastExpiredDate()\n    const todayDate = new Date().toDateString()\n\n    if (!this.isActiveToday() || lastExpiredDate === todayDate) {\n      /**\n       * If the combination of the scheduled time and the block length push the\n       * expiration into the next day, then the expiration date will match today's\n       * date, even though technically it's the expiration of yesterday's block.\n       * Therefore, we have to make sure that the expiration was not only today,\n       * but that it happened after the start time for today. If it expired today\n       * before it started today, then we know the expiration was actually from\n       * yesterday.\n       */\n      if (startType === 'atScheduledTime') {\n        const todayStartTimeDateObj = new Date(\n          todayDate +\n            ' ' +\n            this.getStartHour() +\n            ':' +\n            this.getStartMin() +\n            ' ' +\n            this.getStartAmPm(),\n        )\n        const todayExpirationDateObj = new Date(this.getExpiration()!)\n\n        if (todayExpirationDateObj > todayStartTimeDateObj) {\n          return false\n        }\n      } else {\n        return false\n      }\n    }\n\n    if (startType === 'now') {\n      return lastActiveDate === todayDate\n    } else if (this.isActiveToday()) {\n      if (startType === 'atScheduledTime') {\n        return api.Date.hasTimePassed(\n          this.getStartHour(),\n          this.getStartMin(),\n          this.getStartAmPm(),\n        ) as boolean\n      } else if (startType === 'whenMaxTimeAllowedExceeded') {\n        return !!api.BlockedAllWebsites.isMaxTimeAllowedExceeded()\n      }\n    }\n    return false\n  },\n\n  /**\n   * Activates the Nuclear Option\n   */\n  activate: function () {\n    api.Analytics.event('TOGGLE_NUCLEAR_OPTION', { enabled: true })\n\n    log('activate', 'Activating Nuclear Option')\n\n    const startDate = this.hasScheduledTime()\n      ? api.Date.getTodayDateObj(\n          this.getStartHour(),\n          this.getStartMin(),\n          this.getStartAmPm(),\n        )\n      : new Date()\n\n    this.settings.expiration = startDate.getTime() + this.getBlockLength()\n    this.settings.lastActiveDate = new Date().toDateString()\n    this.settings.lastExpiredDate = null\n    this.settings.isCurrentlyActive = true\n\n    this.saveSettings(this.settings)\n    changeBadgeIcons.hideBadge()\n  },\n\n  /**\n   * Deactivates the Nuclear Option\n   */\n  deactivate: function () {\n    api.Analytics.event('TOGGLE_NUCLEAR_OPTION', { enabled: false })\n\n    log('deactivate', 'Deactivating Nuclear Option')\n\n    this.settings.lastExpiredDate = new Date().toDateString()\n    this.settings.isCurrentlyActive = false\n\n    this.saveSettings(this.settings)\n  },\n\n  /**\n   * Checks whether the Nuclear Option has expired for the day\n   */\n  isExpired: function () {\n    if (this.getExpiration() === null) {\n      return true\n    }\n\n    const nowDate = new Date()\n    const expirationDate = new Date(this.getExpiration()!)\n\n    return expirationDate < nowDate\n  },\n\n  /**\n   * Checks whether a domain is blockable based on the selected blockType\n   *\n   * @param isBlacklisted Whether the domain being checked is blacklisted\n   * @param isWhitelisted Whether the domain being checked is whitelisted\n   */\n  isBlockable: function (isBlacklisted: boolean, isWhitelisted: boolean) {\n    if (this.isActive() === false) {\n      return false\n    }\n\n    const blockType = this.getBlockType()\n\n    switch (blockType) {\n      case 'all':\n        return true\n\n      case 'allExceptAllowed':\n        return !isWhitelisted\n\n      case 'blocked':\n        return isBlacklisted && !isWhitelisted\n\n      default:\n        return false\n    }\n  },\n\n  hasScheduledTime: function () {\n    return this.getStartType() === 'atScheduledTime'\n  },\n\n  getSecondsUntilActive: function () {\n    return api.Date.secondsUntilTime(\n      this.getStartHour(),\n      this.getStartMin(),\n      this.getStartAmPm(),\n    )\n  },\n\n  hasSmartBomb: function () {\n    return this.getContentType() === 'smartBomb'\n  },\n\n  isCurrentlyActive: function () {\n    return typeof this.settings.isCurrentlyActive === 'undefined'\n      ? false\n      : this.settings.isCurrentlyActive\n  },\n\n  getSmartBomb: function (): SmartBomb {\n    return this.settings.smartBomb ?? {}\n  },\n\n  getContentType: function () {\n    return typeof this.settings.contentType === 'undefined'\n      ? 'wholeSite'\n      : this.settings.contentType\n  },\n\n  getExpiration: function () {\n    return typeof this.settings.expiration === 'undefined'\n      ? null\n      : Number(this.settings.expiration)\n  },\n\n  getLastActiveDate: function () {\n    return typeof this.settings.lastActiveDate === 'undefined'\n      ? null\n      : this.settings.lastActiveDate\n  },\n\n  getLastExpiredDate: function () {\n    return typeof this.settings.lastExpiredDate === 'undefined'\n      ? null\n      : this.settings.lastExpiredDate\n  },\n\n  getBlockType: function () {\n    return typeof this.settings.blockType === 'undefined'\n      ? 'blocked'\n      : this.settings.blockType\n  },\n\n  getBlockLength: function () {\n    if (typeof this.settings.blockLength === 'undefined') return HOUR\n    else {\n      const valueFromStorage = this.settings.blockLength\n      //check if value from storage is float or less then 1 minute\n      if (\n        (Number(valueFromStorage) === valueFromStorage &&\n          valueFromStorage % 1 !== 0) ||\n        valueFromStorage < MINUTE\n      ) {\n        return Math.floor(valueFromStorage * 60) * MINUTE\n      } else return valueFromStorage\n    }\n  },\n\n  getStartType: function () {\n    return typeof this.settings.startType === 'undefined'\n      ? 'now'\n      : this.settings.startType\n  },\n\n  getStartHour: function () {\n    return this.settings.startHour ?? '00'\n  },\n\n  getStartMin: function () {\n    return this.settings.startMin ?? '00'\n  },\n\n  getStartAmPm: function (): AmPm {\n    return this.settings.startAmPm ?? 'am'\n  },\n\n  getFrequency: function () {\n    return this.settings.frequency ?? null\n  },\n\n  getActiveDays: function (): boolean[] {\n    return this.settings.activeDays ?? []\n  },\n\n  tick: function () {\n    if (this.hasScheduledTime() && !this.isActive()) {\n      const secondsUntilNuclear = this.getSecondsUntilActive()\n\n      log(\n        'tick',\n        secondsUntilNuclear + ' seconds until Nuclear Option',\n        null,\n        'TRACE',\n      )\n\n      if (Notification.isset(secondsUntilNuclear)) {\n        Notification.show('nuclear')\n      }\n      this.updateBadge()\n    } else if (this.isActive()) {\n      this.updatePopupTimer()\n    }\n\n    return true\n  },\n  updatePopupTimer() {\n    api.StayFocusd.postTimerUpdatedMessage()\n  },\n  updateBadge: function () {\n    const seconds = this.getSecondsUntilActive()\n    if (seconds > 0 && seconds < 60) {\n      api.StayFocusd.updateBadge(this.getSecondsUntilActive(), true)\n    }\n  },\n}\n\nexport default NuclearOption\n","import { API } from './API'\nimport GeneralUtils from './GeneralUtils'\n\ndeclare module '~/core/API' {\n  interface API {\n    BlockedGroupsTimer: ReturnType<typeof BlockedGroupsTimer.initAPI>\n  }\n}\n\n/**\n * @type {((funcName: string, message: string, payload: any, level: 'ERROR' | 'WARN' | 'INFO' | 'DEBUG') => void) | undefined}\n */\nconst log = GeneralUtils.createScopedLog('WebUsage')\n\nconst TICK_INTERVAL = 1000\n\nlet api: API\n\nconst BlockedGroupsTimer = {\n  _timer: null as NodeJS.Timer | null,\n  _isNewDay: null as Function | null,\n  _killPageAction: null as Function | null,\n  _updateBadgeAction: null as Function | null,\n  _postTimerUpdatedMessage: null as Function | null,\n  _showNotification: null as Function | null,\n\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('BlockedGroupsTimer', {\n      init: this.init.bind(this),\n      startCountdown: this.startCountdown.bind(this),\n      stopCountdown: this.stopCountdown.bind(this),\n      tick: this.tick.bind(this),\n      isMaxTimeAllowedExceeded: this.isMaxTimeAllowedExceeded.bind(this),\n      getTotalSecondsRemaining: this.getTotalSecondsRemaining.bind(this),\n    })\n  },\n\n  async init(\n    isNewDay: () => boolean,\n    killPageAction: (url: string) => boolean,\n    updateBadgeAction: (totalSecondsRemaining: number) => void,\n    postTimerUpdatedMessage: () => void,\n    showNotification: (totalSecondsRemaining: number) => void,\n  ): Promise<void> {\n    this._isNewDay = isNewDay\n    this._killPageAction = killPageAction\n    this._updateBadgeAction = updateBadgeAction\n    this._postTimerUpdatedMessage = postTimerUpdatedMessage\n    this._showNotification = showNotification\n  },\n\n  /**\n   * Starts countdown timer\n   */\n  startCountdown(url: string) {\n    if (this._timer) {\n      this.stopCountdown()\n    }\n    if (!api.Settings.get('activated', true)) {\n      log('startCountdown', 'Extension is not activated')\n      return\n    }\n    log('startCountdown', 'Starting countdown')\n    this._timer = setInterval(async () => await this.tick(url), TICK_INTERVAL)\n  },\n\n  /**\n   * Stops countdown timer\n   */\n  stopCountdown() {\n    log('stopCountdown', 'Stopping countdown')\n    if (this._timer) clearInterval(this._timer as unknown as number)\n    this._timer = null\n  },\n\n  /**\n   * Increments elapsedTime counter in local storage. If time spent\n   * exceeds the maximum allowed, kills page\n   */\n  async tick(url: string) {\n    if (this._isNewDay?.()) {\n      api.BlockedGroupsRepository.clearElapsedTime()\n    }\n\n    const blockTimeForAllObj = api.BlockedAllWebsites.getTime()\n    if (blockTimeForAllObj != null) {\n      await api.Storage.set({\n        blockAllWebsitesElapsedTime: blockTimeForAllObj.elapsedTime + 1,\n      })\n\n      this.actionsAfterCheckingTime(\n        url,\n        blockTimeForAllObj.elapsedTime,\n        blockTimeForAllObj.allowedTime - blockTimeForAllObj.elapsedTime,\n      )\n    } else {\n      const group = api.BlockedGroupsRepository.getBlockedGroupByDomain(url)\n      if (!group) return\n\n      await api.BlockedGroupsRepository.incrementElapsedTime(group.groupName)\n\n      const totalSecondsRemainingForGroup =\n        group.maxTimeAllowed - group.elapsedTime\n\n      this.actionsAfterCheckingTime(\n        url,\n        group.elapsedTime,\n        totalSecondsRemainingForGroup,\n      )\n    }\n  },\n\n  actionsAfterCheckingTime(\n    url: string,\n    elapsedTime: number,\n    remainingTime: number,\n  ) {\n    log(\n      'tick',\n      `Elapsed time: ${elapsedTime}. Time remaining: ${remainingTime}`,\n      null,\n      'DEBUG',\n    )\n\n    this._showNotification?.(remainingTime)\n\n    if (remainingTime <= 0) {\n      this._killPageAction?.(url)\n      return\n    }\n\n    this._postTimerUpdatedMessage?.()\n    this._updateBadgeAction?.(remainingTime)\n  },\n\n  isMaxTimeAllowedExceeded(url: string) {\n    const isMaxTimeAllowedExceededForAll =\n      api.BlockedAllWebsites.isMaxTimeAllowedExceeded()\n    if (isMaxTimeAllowedExceededForAll != null) {\n      return isMaxTimeAllowedExceededForAll\n    } else {\n      const group = api.BlockedGroupsRepository.getBlockedGroupByDomain(url)\n      if (group) {\n        return group.elapsedTime >= group.maxTimeAllowed\n      }\n    }\n\n    return false\n  },\n\n  getTotalSecondsRemaining(url: string) {\n    const getTotalSecondsRemainingForAll =\n      api.BlockedAllWebsites.getTotalSecondsRemaining()\n    if (getTotalSecondsRemainingForAll != null) {\n      return getTotalSecondsRemainingForAll\n    } else {\n      const group = api.BlockedGroupsRepository.getBlockedGroupByDomain(url)\n      if (group != null) {\n        return group.maxTimeAllowed - group.elapsedTime\n      }\n    }\n  },\n}\nexport default BlockedGroupsTimer\n","import { MINUTE_IN_SEC } from './Time'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    BlockedAllWebsites: ReturnType<typeof BlockedAllWebsites.initAPI>\n  }\n}\n\nlet api: API\n\nexport type BlockTime = {\n  allowedTime: number\n  elapsedTime: number\n}\n\nconst BlockedAllWebsites = {\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('BlockedAllWebsites', {\n      getTime: this.getTime.bind(this),\n      isMaxTimeAllowedExceeded: this.isMaxTimeAllowedExceeded.bind(this),\n      getTotalSecondsRemaining: this.getTotalSecondsRemaining.bind(this),\n      clearElapsedTime: this.clearElapsedTime.bind(this),\n    })\n  },\n\n  /**\n   * Get allowed time and elapsed time if all websites are blocked\n   * @returns {boolean | null}\n   */\n  getTime(): BlockTime | null {\n    const blockAllWebsites = api.Settings.get('isBlockAllWebsites') ?? false\n    if (blockAllWebsites) {\n      const allowedTime =\n        api.Settings.get('blockAllWebsitesAllowedTime') ?? MINUTE_IN_SEC * 10\n      const elapsedTime = api.Settings.get('blockAllWebsitesElapsedTime') ?? 0\n      return {\n        allowedTime: allowedTime,\n        elapsedTime: elapsedTime,\n      }\n    }\n    return null\n  },\n\n  /**\n   * Is max time allowed exceeded if all websites are blocked. Return null if all websites have not been blocked\n   * @returns {boolean | null}\n   */\n  isMaxTimeAllowedExceeded() {\n    const blockTimeForAllObj = this.getTime()\n    if (blockTimeForAllObj != null) {\n      return blockTimeForAllObj.elapsedTime >= blockTimeForAllObj.allowedTime\n    }\n\n    return null\n  },\n\n  /**\n   * Return total seconds remaining if all websites are blocked. Return null if all websites have not been blocked\n   * @returns {number | null}\n   */\n  getTotalSecondsRemaining() {\n    const blockTimeForAllObj = this.getTime()\n    if (blockTimeForAllObj != null) {\n      return blockTimeForAllObj.allowedTime - blockTimeForAllObj.elapsedTime\n    }\n\n    return null\n  },\n\n  /**\n   * Clear elapsed time for all websites\n   * @returns {Promise<void>}\n   */\n  async clearElapsedTime() {\n    await api.Storage.set({ blockAllWebsitesElapsedTime: 0 })\n  },\n}\n\nexport default BlockedAllWebsites\n","import API from '~/core/CoreAPI'\n/**\n * Gets the blocklist for use with `isHostnameBlocked`.\n * @returns {Promise<string[]>}\n */\nexport function getBlocklist() {\n  const blockedGroups = API.BlockedGroupsRepository.get()\n  let array: string[] = []\n  blockedGroups.forEach((group) => {\n    array = array.concat(group.websites)\n  })\n  return array\n}\n\n/**\n * Gets the allowlist for use with `isHostnameBlocked`.\n * @returns {Promise<string[]>}\n */\nexport function getAllowlist() {\n  return API.WhitelistRepository.getAll()\n}\n\n/**\n * Give a hostname, blocklist, and allowlist, determine if the hostname should be blocked. Check\n * the blocklist first, then uses the allowlist to override.\n * @param {string} hostname\n * @param {string[]} blocklist\n * @param {string[]} allowlist\n * @returns {boolean}\n */\n\nexport function isHostnameBlocked(\n  hostname: string,\n  blocklist: string[],\n  allowlist: string[],\n) {\n  const matchesBlocklist =\n    blocklist == null\n      ? true\n      : blocklist.some((wildcard) =>\n          isHostnameBlockedPredicate(wildcard, hostname),\n        )\n  const matchesAllowlist = allowlist.some((wildcard) =>\n    isHostnameBlockedPredicate(wildcard, hostname),\n  )\n\n  return matchesBlocklist && !matchesAllowlist\n}\n\nexport function isHostnameBlockedPredicate(\n  domainToCheck: string,\n  domainToCompare: string,\n) {\n  return (\n    API.Domain.isMoreGeneralURL(domainToCheck, domainToCompare) ||\n    API.Domain.matchesWildcard(domainToCheck, domainToCompare)\n  )\n}\n","import { isHostnameBlockedPredicate } from '~/utils/isHostnameBlocked'\nimport { API } from './API'\nimport { MAX_TIME_ALLOWED_DEFAULT, MINUTE_IN_SEC } from './Time'\n\ndeclare module '~/core/API' {\n  interface API {\n    BlockedGroupsRepository: ReturnType<typeof BlockedGroupsRepository.initAPI>\n  }\n}\n\nconst GROUPS_IN_STORAGE = 'blockedGroups'\nconst BLACK_LIST_IN_STORAGE = 'blacklist'\nconst MAX_TIME_ALLOWED_IN_STORAGE = 'maxTimeAllowed'\nconst DEFAULT_GROUP_NAME = 'Default'\n\n// maxTimeAllowed & elapsedTime store in seconds\nexport interface BlockGroup {\n  groupName: string\n  maxTimeAllowed: number\n  websites: string[]\n  elapsedTime: number\n}\n\nlet api: API\nlet _groups: BlockGroup[] = []\n\nconst BlockedGroupsRepository = {\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('BlockedGroupsRepository', {\n      init: this.init.bind(this),\n      add: this.add.bind(this),\n      get: this.get.bind(this),\n      getByName: this.getByName.bind(this),\n      update: this.update.bind(this),\n      updateWebsites: this.updateWebsites.bind(this),\n      addWebsite: this.addWebsite.bind(this),\n      clearElapsedTime: this.clearElapsedTime.bind(this),\n      incrementElapsedTime: this.incrementElapsedTime.bind(this),\n      delete: this.delete.bind(this),\n      isBlockable: this.isBlockable.bind(this),\n      getBlockedGroupByDomain: this.getBlockedGroupByDomain.bind(this),\n      getBlockedGroupsByDomain: this.getBlockedGroupsByDomain.bind(this),\n      migrate: this.migrate.bind(this),\n      importBlockedsites: this.importBlockedsites.bind(this),\n    })\n  },\n\n  async init() {\n    const syncDisabled = API.Settings.get('disableSync') === true\n\n    if (syncDisabled) {\n      const data = await api.Chrome.Storage.getSync(GROUPS_IN_STORAGE)\n      const hasDataForMigration = !!data[GROUPS_IN_STORAGE]\n      await api.Storage.setBucket(\n        GROUPS_IN_STORAGE,\n        'LOCAL',\n        !hasDataForMigration,\n      )\n    } else {\n      const data = await api.Chrome.Storage.getLocal(GROUPS_IN_STORAGE)\n      const hasDataForMigration = !!data[GROUPS_IN_STORAGE]\n      await api.Storage.setBucket(\n        GROUPS_IN_STORAGE,\n        'SYNC',\n        !hasDataForMigration,\n      )\n    }\n\n    this.getGroups()\n    this.addListeners()\n  },\n\n  async getGroups() {\n    const groups = api.Settings.get(GROUPS_IN_STORAGE)\n    _groups = groups == null ? [] : groups\n  },\n\n  /**\n   * Add a new BlockGroup\n   * @returns {Promise<void>}\n   */\n  async add(\n    groupName: string,\n    maxTime: any,\n    websites: string[],\n    elapsedTime: any,\n  ) {\n    const existingGroup = _groups.find((x) => x.groupName == groupName)\n    if (existingGroup == undefined) {\n      const newGroup: BlockGroup = {\n        groupName: groupName,\n        maxTimeAllowed: maxTime,\n        websites: websites,\n        elapsedTime: elapsedTime == undefined ? 0 : elapsedTime,\n      }\n\n      _groups.push(newGroup)\n      await this.saveChanges()\n      API.Analytics.event('CREATE_BLOCKED_GROUP')\n    }\n  },\n\n  /**\n   * Add all blocked groups\n   * @returns {BlockGroup[]}\n   */\n  get() {\n    return _groups\n  },\n\n  /**\n   * Add blocked group by name\n   * @returns {BlockGroup}\n   */\n  getByName(groupName: string) {\n    return _groups.find((x) => x.groupName == groupName)\n  },\n\n  /**\n   * Update blocked group by name\n   * @returns {Promise<void>}\n   */\n  async update(\n    sourceGroupName: string,\n    groupName: string,\n    maxTime: any,\n    websites: string[],\n  ) {\n    const existingGroup = _groups.find((x) => x.groupName == sourceGroupName)\n    if (typeof existingGroup === 'undefined') return\n\n    if (existingGroup.groupName != groupName)\n      API.Analytics.event('UPDATE_BLOCKED_GROUP_NAME')\n\n    if (existingGroup.groupName != 'Default')\n      existingGroup.groupName = groupName\n\n    if (existingGroup.maxTimeAllowed != maxTime)\n      API.Analytics.event('UPDATE_BLOCKED_GROUP_MAX_TIME_ALLOWED', {\n        minutes: maxTime / 60,\n      })\n\n    existingGroup.maxTimeAllowed = maxTime\n    existingGroup.websites = websites\n    await this.saveChanges()\n  },\n\n  /**\n   * Update websites in blocked group by name\n   * @returns {Promise<void>}\n   */\n  async updateWebsites(groupName: string, websites: string[]) {\n    const existingGroup = _groups.find((x) => x.groupName == groupName)\n    if (typeof existingGroup === 'undefined') return\n    existingGroup.websites = websites\n    await this.saveChanges()\n  },\n\n  /**\n   * Add a website to blocked group by name\n   * Returns the flag whether the site was successfully added or not\n   * @returns {Promise<boolean>}\n   */\n  async addWebsite(groupName: string, website: string) {\n    const existingGroup = _groups.find((x) => x.groupName == groupName)\n    if (typeof existingGroup === 'undefined') return\n    if (existingGroup.websites.find((x) => x == website) == null) {\n      existingGroup.websites.push(website)\n      await this.saveChanges()\n      return true\n    }\n    return false\n  },\n\n  /**\n   * Clear elapsed time for all groups\n   * @returns {Promise<void>}\n   */\n  async clearElapsedTime() {\n    const groups = this.get()\n    groups.forEach((group) => (group.elapsedTime = 0))\n    await this.saveChanges()\n    await api.BlockedAllWebsites.clearElapsedTime()\n  },\n\n  /**\n   * Delete blocked group\n   * @returns {Promise<void>}\n   */\n  async delete(groupName: string): Promise<void> {\n    const targetGroupIndex = _groups.findIndex((x) => x.groupName == groupName)\n    if (targetGroupIndex > -1) {\n      _groups.splice(targetGroupIndex, 1)\n      await this.saveChanges()\n      API.Analytics.event('DELETE_BLOCKED_GROUP')\n    }\n  },\n\n  /**\n   * Is domain contains in any blocked groups\n   * @returns {void}\n   */\n  isBlockable(domain: string) {\n    domain = domain.toLowerCase()\n    return (\n      _groups.find((group) =>\n        group.websites.find((site) => isHostnameBlockedPredicate(site, domain)),\n      ) != undefined\n    )\n  },\n\n  /**\n   * If domain contains in any blocked groups return blocked group\n   * @returns {BlockGroup}\n   */\n  getBlockedGroupByDomain(domain: string) {\n    if (domain == null) return null\n    domain = domain.toLowerCase()\n    return _groups.find((group) =>\n      group.websites.find((site) => isHostnameBlockedPredicate(site, domain)),\n    )\n  },\n\n  /**\n   * Returns all blocked groups that contain provided domain\n   * @returns {BlockGroup[]}\n   */\n  getBlockedGroupsByDomain(domain: string) {\n    return _groups.filter((group) =>\n      group.websites.find((site) => isHostnameBlockedPredicate(site, domain)),\n    )\n  },\n\n  /**\n   * Migrate all blocled websites to blocked group. Create a new default blocked group.\n   * @returns {Promise<void>}\n   */\n  async migrate() {\n    if (this.needMigrate()) {\n      const websitesObj = api.Settings.get(BLACK_LIST_IN_STORAGE)\n      let maxTimeAllowedInMinutes = api.Settings.get(\n        MAX_TIME_ALLOWED_IN_STORAGE,\n      )\n      if (maxTimeAllowedInMinutes == null)\n        maxTimeAllowedInMinutes = MAX_TIME_ALLOWED_DEFAULT\n      else maxTimeAllowedInMinutes = maxTimeAllowedInMinutes * MINUTE_IN_SEC\n      let elapsedTime = await api.Storage.get('elapsedTime')\n      if (isNaN(elapsedTime) || elapsedTime == null) elapsedTime = 0\n      if (websitesObj != null) {\n        const websites = Object.keys(websitesObj)\n        await this.add(\n          DEFAULT_GROUP_NAME,\n          maxTimeAllowedInMinutes,\n          websites,\n          elapsedTime,\n        )\n      } else\n        await this.add(\n          DEFAULT_GROUP_NAME,\n          maxTimeAllowedInMinutes,\n          [],\n          elapsedTime,\n        )\n    }\n  },\n\n  needMigrate() {\n    return api.Settings.get(GROUPS_IN_STORAGE) == null\n  },\n\n  /**\n   * Move all blocked websites to the default groups after import settings\n   * @returns {Promise<void>}\n   */\n  async importBlockedsites() {\n    // we shoud import blockes websites only if user have done export settings in the old version of the extension that doesn't have blocked groups\n    // if storage has blocked groups than we shoudn't take blocked websites\n    _groups = []\n    const websitesObj = api.Settings.get(BLACK_LIST_IN_STORAGE)\n    if (websitesObj != null) {\n      const websites = Object.keys(websitesObj)\n      let maxTimeAllowedInMinutes = api.Settings.get(\n        MAX_TIME_ALLOWED_IN_STORAGE,\n      )\n      if (maxTimeAllowedInMinutes == null)\n        maxTimeAllowedInMinutes = MAX_TIME_ALLOWED_DEFAULT\n      else maxTimeAllowedInMinutes = maxTimeAllowedInMinutes * MINUTE_IN_SEC\n      await this.add(DEFAULT_GROUP_NAME, maxTimeAllowedInMinutes, websites, 0)\n    }\n  },\n\n  async incrementElapsedTime(groupName: string) {\n    const group = this.getByName(groupName)\n    if (!group) return\n    group.elapsedTime += 1\n    await this.saveChanges()\n  },\n\n  async saveChanges() {\n    await api.Storage.set({\n      blockedGroups: _groups,\n    })\n  },\n\n  addListeners() {\n    API.PubSub.listen(\n      'Settings.data.refreshed',\n      async (message: string, payload: any) => {\n        if (payload.changes.blockedGroups || payload.changes.disableSync) {\n          if (payload.changes.disableSync) {\n            if (payload.disableSync === false) {\n              await api.Storage.setBucket(GROUPS_IN_STORAGE, 'SYNC')\n            } else {\n              await api.Storage.setBucket(GROUPS_IN_STORAGE, 'LOCAL')\n            }\n          }\n          this.getGroups()\n        }\n      },\n    )\n  },\n}\n\nexport default BlockedGroupsRepository\n","import GeneralUtils from './GeneralUtils'\n\nconst log = GeneralUtils.createScopedLog('Message')\n\n/**\n * Converts dot-delimited string into object literal with\n * properties corresponding to message parts. Any parts\n * that don't exist are set to wildcards.\n *\n * Strings are formatted like:\n *\n * Namespace:Originator.subject.verb.DESCRIPTOR\n */\nexport default class Message {\n  DEFAULT_NS = '__default'\n\n  msgArray: string[] | null = null\n  msgString: string | null = null\n  namespace: string | null = null\n\n  /**\n   * @param {string} msgString Dot-delimited string with optional namespace\n   */\n  constructor(msgString: string) {\n    this.namespace = this.DEFAULT_NS\n\n    /* Namespace is specified like Namespace:Foo.bar.baz.QUZ,\n     * so if a colon is found, we must separate it from the\n     * rest of the message string */\n    if (msgString.indexOf(':') > -1) {\n      this.namespace = msgString.substr(0, msgString.indexOf(':'))\n      msgString = msgString.substr(msgString.indexOf(':') + 1, msgString.length)\n    }\n\n    if (msgString.indexOf('.') > -1) {\n      const msgArray = msgString.split('.')\n      this.msgArray = [\n        msgArray[0] || '*',\n        msgArray[1] || '*',\n        msgArray[2] || '*',\n        msgArray[3] || '*',\n      ]\n      this.msgString = this.msgArray.join('.')\n    } else {\n      this.msgArray = [msgString]\n      this.msgString = msgString\n    }\n  }\n\n  /**\n   * Compares this message to another\n   *\n   * If all segments are either matching or wildcards, then the messages are equivalent.\n   *\n   * For example:\n   *\n   * foo.bar.baz      === foo.bar.baz\n   * *.bar.*          === foo.bar.baz\n   * foo.*.baz        === foo.bar.baz\n   * goo.*.baz        !== foo.bar.baz\n   *\n   * We only return true if the this message if more specific than the other. Say we want\n   * to trigger a listener when the message and listener match exactly, or when the listener is\n   * more general than the message, but not when the message is more general than the listener.\n   *\n   * For example:\n   *\n   * If message is foo.bar.baz and listener is foo.bar.baz, trigger listener.\n   * If message is foo.bar.baz and listener is foo.bar.*, trigger listener.\n   * If message is foo.bar.* and listener is foo.bar.baz, DON'T trigger listener.\n   *\n   * @param msgString The message to compare\n   */\n  matches(msgString: string) {\n    if (this.msgString === msgString) {\n      log(\n        'matches',\n        this.msgString + ' matches ' + msgString + '?',\n        'YES',\n        'TRACE',\n      )\n\n      return true\n    }\n\n    /* Split messages into arrays at the dots */\n    const msg1Array = this.msgArray\n    const msg2Array = msgString.split('.')\n\n    /* If the messages don't have the same number of segments, they aren't equivalent */\n    if (msg1Array?.length !== msg2Array.length) {\n      log(\n        'matches',\n        this.msgString + ' matches ' + msgString + '?',\n        'NO',\n        'TRACE',\n      )\n\n      return false\n    }\n\n    let msg1Bitmask = ''\n    let msg2Bitmask = ''\n    const longerMessageLength =\n      msg1Array.length >= msg2Array.length ? msg1Array.length : msg2Array.length\n\n    /* Loop through segments and compare them */\n    for (let i = 0; i < longerMessageLength; i++) {\n      /* If neither segment is a wildcard, and the segments don't match, then the messages aren't equivalent */\n      if (\n        msg1Array[i] !== '*' &&\n        msg2Array[i] !== '*' &&\n        msg1Array[i] !== msg2Array[i]\n      ) {\n        log(\n          'matches',\n          this.msgString + ' matches ' + msgString + '?',\n          'NO',\n          'TRACE',\n        )\n\n        return false\n      }\n\n      msg1Bitmask += msg1Array[i] === '*' ? '0' : '1'\n      msg2Bitmask += msg2Array[i] === '*' ? '0' : '1'\n    }\n\n    log(\n      'matches',\n      this.msgString + ' matches ' + msgString + '?',\n      msg1Bitmask >= msg2Bitmask ? 'YES' : 'NO',\n      'TRACE',\n    )\n\n    return msg1Bitmask >= msg2Bitmask\n  }\n\n  /**\n   * Returns serialized message string\n   *\n   * @returns {String}\n   */\n  toString() {\n    return this.msgString\n  }\n\n  getOriginator() {\n    return this.msgArray?.[0] === '*' ? null : this.msgArray?.[0]\n  }\n\n  getDescriptor() {\n    return this.msgArray?.[3] === '*' ? null : this.msgArray?.[3]\n  }\n}\n","import DomainParser from './DomainParser'\nimport NuclearOption from './NuclearOption'\nimport Notification from './Notification'\nimport Message from './Message'\nimport Time, { MINUTE, SECOND } from './Time'\nimport { API } from './API'\nimport GeneralUtils from './GeneralUtils'\nimport Utils from './GeneralUtils'\nimport { BadgeColor, BadgeIcon, badgeIcons } from './badge-icons'\nimport Browser from 'webextension-polyfill'\n\ndeclare module '~/core/API' {\n  interface API {\n    StayFocusd: ReturnType<typeof StayFocusd.initAPI>\n  }\n}\n\nconst log = GeneralUtils.createScopedLog('StayFocusd')\nconst changeBadgeIcons = badgeIcons()\n\nlet api: API\n\n/**\n * Primary javascript logic for StayFocusd extension\n *\n * @author              Warren Benedetto <wmbenedetto@gmail.com>\n * @since               January 14, 2010\n */\ninterface ActiveHours {\n  endHour: string\n  endMin: string\n  startHourInt: number\n  startMinInt: number\n  startHour: string\n  startMin: string\n  endHourInt: number\n  endMinInt: number\n  startTime: string\n  endTime: string\n}\n\nexport interface ActiveHoursQueue {\n  timestamp: number\n  startTime: string\n  endTime: string\n}\n\nexport interface ResetTimeQueue {\n  timestamp: string\n  resetTime: string\n}\n\nexport interface DisplayTimerResult {\n  groupName: string | null\n  time: string\n  nuclear: boolean\n}\n\nconst onboardingOpenedAtStorageKey = 'onboarding-opened-at'\n\nconst StayFocusd = {\n  firstInstallAllowance: 60, // in minutes\n  interval: 1, // how often to check elapsed time, in seconds\n  timer: null, // holds setInterval() timer value\n  apiURL: 'https://www.stayfocusd.com',\n  redirectURL: 'https://www.stayfocusd.com/blocked/',\n  uninstallUrl: 'https://www.stayfocusd.com/goodbye/',\n  onboardingUrl: 'https://www.stayfocusd.com/extension-get-started',\n  currentURL: null as string | null,\n  version: null as string | null,\n  selectedTabID: null as number | null,\n  active: null,\n  popupPort: null as null | chrome.runtime.Port,\n\n  /**\n   * Initializes API\n   *\n   * @param theAPI\n   */\n  initAPI: function (theAPI: API) {\n    api = theAPI\n    //window.API = api\n\n    return api.mixin('StayFocusd', {\n      getActiveDays: this.getActiveDays.bind(this),\n      getActiveHours: this.getActiveHours.bind(this),\n      getActiveHoursQueue: this.getActiveHoursQueue.bind(this),\n      getAPIURL: () => this.apiURL,\n      getCurrentURL: () => this.currentURL,\n      getResetTime: this.getResetTime.bind(this),\n      getResetTimeQueue: this.getResetTimeQueue.bind(this),\n      getTotalSecondsRemaining: this.getTotalSecondsRemaining.bind(this),\n      isActive: this.isActive.bind(this),\n      isFirstInstallAllowanceActive:\n        this.isFirstInstallAllowanceActive.bind(this),\n      isUpdatePopupDisabled: this.isUpdatePopupDisabled.bind(this),\n      localizeHTML: this.localizeHTML.bind(this),\n      setActiveDays: this.setActiveDays.bind(this),\n      setActiveHoursQueue: this.setActiveHoursQueue.bind(this),\n      setResetTimeQueue: this.setResetTimeQueue.bind(this),\n      updateBadge: this.updateBadge.bind(this),\n      hideBadge: this.hideBadge.bind(this),\n      postTimerUpdatedMessage: this.postTimerUpdatedMessage.bind(this),\n      onInstalled: this.onInstalled.bind(this),\n      onUpdated: this.onUpdated.bind(this),\n      activated: this.activated.bind(this),\n      setActivated: this.setActivated.bind(this),\n      isActivateSwitchShown: this.isActivateSwitchShown.bind(this),\n      setActivateSwitchShown: this.setActivateSwitchShown.bind(this),\n    })\n  },\n\n  /**\n   * Initializes extension\n   */\n  async init() {\n    log('init', 'Initializing StayFocusd', null, 'DEBUG')\n\n    this.initCheckingTab()\n    await this.initSettings()\n    await this.initRemoteConfig()\n    this.initAnalytics()\n    this.initBugsnag()\n    await this.initRequirements()\n    await this.initBlockedGroups()\n    this.initBlockedGroupTimer()\n    await this.initWhitelist()\n    await this.initNuclearOption()\n    await this.initNotification()\n    this.initListeners()\n    this.initUninstallURL()\n    await this.initWebUsageCollect()\n    this.initScheduleJobs()\n    await this.forceOnboardingOnNewTab()\n  },\n\n  initBlockedGroupTimer() {\n    const isNewDay = () => this.isNewDay()\n    const killPageAction = (url: string) => this.killPage(url)\n    const updateBadgeAction = (totalSecondsRemaining: number) =>\n      this.updateBadge(totalSecondsRemaining)\n    const postTimerUpdatedMessage = () => this.postTimerUpdatedMessage()\n    const showNotification = (totalSecondsRemaining: number) =>\n      this.showNotification(totalSecondsRemaining)\n\n    api.BlockedGroupsTimer.init(\n      isNewDay,\n      killPageAction,\n      updateBadgeAction,\n      postTimerUpdatedMessage,\n      showNotification,\n    )\n  },\n\n  /**\n   * Initializes settings\n   */\n  async initSettings() {\n    await api.Settings.initAsync()\n\n    await api.Storage.setBucket([\n      'backupKeys',\n      'disableUpdatePopup',\n      'isUpdated',\n      'previousVersion',\n      'productivityBypass',\n    ])\n\n    /* When storage data changes, refresh Settings */\n    api.Storage.addOnChangeListener(\n      async (changes: Record<string, any>, areaName: string) => {\n        log('init', areaName + ' storage changed', changes)\n\n        api.Settings.refresh(() => {\n          api.PubSub.publish('Settings.data.refreshed', {\n            areaName: areaName,\n            changes: changes,\n          })\n        })\n      },\n    )\n\n    if (this.isFirstInstall()) {\n      this.setFirstInstallAllowance()\n    }\n  },\n\n  /**\n   * Initialize the remote config module.\n   */\n  async initRemoteConfig() {\n    await api.RemoteConfig.init()\n\n    // Set up an Alarm to refresh remote config on an interval\n    await api.Chrome.Alarms.ensure('remote-config', { periodInMinutes: 30 })\n    api.Chrome.Alarms.addListener(\n      'onAlarm',\n      async (alarm: chrome.alarms.Alarm) => {\n        if (alarm.name !== 'remote-config') return\n        await api.RemoteConfig.refresh()\n      },\n    )\n    await api.RemoteConfig.refresh()\n  },\n\n  initAnalytics() {\n    api.Analytics.init()\n  },\n\n  initBugsnag() {\n    api.Bugsnag.init('background')\n  },\n\n  async initWebUsageCollect() {\n    await api.WebUsage.init()\n\n    chrome.runtime.onConnect.addListener((port) => {\n      if (port.name == 'getUsageSummaryData') {\n        port.onMessage.addListener(async (msg) => {\n          if (msg.message == 'usage.getUsageSummaryData.request') {\n            const usageDatabase = await api.WebUsage.getUsageDatabase()\n            const sessions = await usageDatabase.sessionsRepo.findSessions(\n              msg.startDate,\n              msg.endDate,\n            )\n            const ads = await usageDatabase.adsRepo.findAds(\n              msg.startDate,\n              msg.endDate,\n            )\n            port.postMessage({\n              message: 'usage.getUsageSummaryData.response',\n              startDate: msg.startDate,\n              endDate: msg.endDate,\n              sessions: sessions,\n              ads: ads,\n            })\n          }\n        })\n      }\n    })\n  },\n\n  initCheckingTab() {\n    setInterval(() => {\n      api.Chrome.Tab.getSelected(undefined, (tab) => {\n        if (!tab) return\n        api.PubSub.publish('StayFocusd.tab.activity', {\n          tabID: tab.id,\n          tab,\n        })\n      })\n    }, 1000)\n  },\n\n  initScheduleJobs() {\n    api.ScheduleJobs.init()\n  },\n\n  async initRequirements() {\n    await api.Requirements.init()\n  },\n\n  /**\n   * Initializes blocked groups\n   */\n  async initBlockedGroups() {\n    await api.BlockedGroupsRepository.init()\n    await api.BlockedGroupsRepository.migrate()\n\n    if (this.isNewDay() === true) {\n      api.BlockedGroupsRepository.clearElapsedTime()\n    }\n  },\n\n  /**\n   * Initializes whitelist\n   */\n  async initWhitelist() {\n    log('initWhitelist', 'Initializing whitelist', null, 'DEBUG')\n    await api.WhitelistRepository.init()\n    await api.WhitelistRepository.migrate()\n  },\n\n  /**\n   * Initializes Nuclear Option\n   */\n  async initNuclearOption() {\n    log('initNuclearOption', 'Initializing Nuclear Option', null, 'DEBUG')\n\n    await NuclearOption.initAsync()\n    log('initNuclearOption', 'Nuclear Option initialized', null, 'DEBUG')\n  },\n\n  /**\n   * Initializes Notification\n   */\n  async initNotification() {\n    log('initNotification', 'Initializing Notification', null, 'DEBUG')\n\n    await Notification.initAsync()\n\n    log('initNotification', 'Notification initialized', null, 'DEBUG')\n  },\n\n  showNotification(totalSecondsRemaining: number) {\n    if (Notification.isset(totalSecondsRemaining)) {\n      Notification.show('block')\n    }\n  },\n\n  /**\n   * Initializes listeners\n   */\n  initListeners() {\n    log('initListeners', 'Initializing listeners', null, 'DEBUG')\n\n    /* Subscribe to all messages and pipe to tabs through the Chrome.Message API */\n    api.PubSub.subscribe({\n      async: true,\n      handler: async (\n        message: { msgString: string; msgArray: string[]; namespace: string },\n        payload: any,\n        callback: (response: any) => void | boolean,\n      ) => {\n        function callbackWrapper(\n          innerCallback: (response: any) => void | boolean,\n        ) {\n          if (chrome.runtime.lastError) {\n            log('initListeners', 'runtime.lastError', chrome.runtime.lastError)\n          }\n\n          if (\n            innerCallback != undefined &&\n            typeof innerCallback === 'function'\n          ) {\n            return innerCallback\n          } else {\n            return () => true\n          }\n        }\n\n        callback = callbackWrapper(callback)\n\n        /* If the message isn't coming from a tab, send it */\n\n        if (!payload) return true\n        if (!payload.tabID) return true\n        if (payload.sender?.tab) return true\n\n        const tab = await api.Chrome.Tab.get(payload.tabID)\n\n        // Don't send a message to a non-existent tab\n        if (!tab) return true\n\n        // Don't send a message to a loading tab because content script won't be loaded yet\n        if (tab.status === 'loading') return true\n\n        const url = (tab.url == '' ? tab.pendingUrl : tab.url) ?? ''\n\n        // Don't send a message to tabs in which content script cannot be loaded\n        if (/^about:|^chrome-extension:|^chrome:\\/\\//i.test(url)) return true\n\n        api.Chrome.Message.sendToTab(\n          payload.tabID,\n          { message: message.toString(), payload: payload },\n          callback,\n        )\n\n        return true\n      },\n    })\n\n    /* Listen for requests coming from content scripts and republish via PubSub */\n    api.Chrome.Message.on.addListener(\n      (\n        request: Record<string, any>,\n        sender: Record<string, any>,\n        callback?: Function,\n      ) => {\n        request.payload = request.payload || {}\n        request.payload.sender = sender || {}\n\n        // if the message is coming from proxy-service, don't interfere with it\n        if (/^proxy-service.*$/.test(request.type)) {\n          return true\n        }\n\n        /* If the message is coming from a tab, republish it */\n        if (sender.tab) {\n          api.PubSub.publish({\n            message: request.message,\n            payload: request.payload,\n            onPublish: typeof callback === 'function' ? callback : () => {},\n          })\n        }\n\n        return true\n      },\n    )\n\n    // FIXME: Hack to detect whether tab is blockable when ActivityMonitor loads\n    api.PubSub.listen('ActivityMonitor.component.initialized', () => {\n      api.Chrome.Tab.getSelected(undefined, (tab) => {\n        if (!tab) return\n\n        api.PubSub.publish('StayFocusd.tab.selected', {\n          tab,\n          tabID: tab.id,\n          blockable: this.isBlockable(tab.url ?? ''),\n        })\n      })\n    })\n\n    api.PubSub.listen({\n      message: 'ActivityMonitor.overlay.hidden', // TODO: Prefer not to know about ActivityMonitor\n      async: true,\n\n      handler: (\n        message: Record<string, any>,\n        payload: Record<string, any>,\n        callback?: Function,\n      ) => {\n        const response = {\n          countdownStarted: api.BlockedGroupsTimer.startCountdown(\n            this.currentURL!,\n          ),\n        }\n\n        if (typeof callback === 'function') {\n          callback(response)\n        }\n      },\n    })\n\n    api.PubSub.listen({\n      message: 'ActivityMonitor.overlay.shown', // TODO: Prefer not to know about ActivityMonitor\n      async: true,\n\n      handler: (\n        message: Record<string, any>,\n        payload: Record<string, any>,\n        callback?: Function,\n      ) => {\n        const response = {\n          countdownStopped: api.BlockedGroupsTimer.stopCountdown(),\n        }\n\n        if (typeof callback === 'function') {\n          callback(response)\n        }\n      },\n    })\n\n    /* Add listener for when connection from popup is established */\n    api.Chrome.Extension.addListener(\n      'onConnect',\n      (port: chrome.runtime.Port) => {\n        if (port.name === 'popup') {\n          this.onPopupConnected(port)\n        }\n      },\n    )\n\n    api.Chrome.Tab.getSelected(undefined, async (tab) => {\n      await this.onTabStateChange(tab)\n    })\n\n    /* Add listener to check domain each time new tab is selected */\n    api.Chrome.Tab.addListener('onActivated', () => {\n      api.Chrome.Tab.getSelected(undefined, async (tab) => {\n        await this.onTabStateChange(tab)\n      })\n    })\n\n    /* Add listener to check domain each time tab is updated */\n    api.Chrome.Tab.addListener('onUpdated', () => {\n      api.Chrome.Tab.getSelected(undefined, async (tab) => {\n        await this.onTabStateChange(tab)\n      })\n    })\n\n    /* Add listener to stop timer each time tab is removed */\n    api.Chrome.Tab.addListener('onRemoved', () => {\n      api.Chrome.Tab.getSelected(undefined, (tab) => {\n        /* If the tab is undefined, that means the window is totally closed.\n         * Therefore, the timer should be stopped. If there's still another\n         * window open and there's a blocked site in a tab there, that will\n         * restart the timer. */\n        if (typeof tab === 'undefined') {\n          api.BlockedGroupsTimer.stopCountdown()\n        }\n      })\n    })\n\n    /* Add listener to stop timer each time window is removed */\n    api.Chrome.Window.addListener('onRemoved', () => {\n      api.BlockedGroupsTimer.stopCountdown()\n    })\n\n    /* Add listener to check domain each time new window is focused */\n    api.Chrome.Window.addListener('onFocusChanged', () => {\n      api.Chrome.Tab.getSelected(undefined, async (tab) => {\n        await this.onTabStateChange(tab)\n      })\n    })\n  },\n\n  async onInstalled(details: chrome.runtime.InstalledDetails) {\n    await chrome.tabs.create({ url: this.onboardingUrl, active: true })\n    log('onInstalled', 'Installed extension', details, 'INFO')\n\n    const { promise: webOnboardingPromise, resolve: webOnboardingResolve } =\n      GeneralUtils.getDecoupledPromise<void>()\n\n    chrome.runtime.onConnect.addListener((port) => {\n      if (port.name == 'startOnboardingAfterInstall') {\n        port.onMessage.addListener(async (msg) => {\n          if (msg.message == 'start-onboarding') {\n            webOnboardingResolve()\n          }\n        })\n      }\n    })\n\n    await webOnboardingPromise\n    api.Settings.set({ isNewUser: true })\n    await this.openOnboarding()\n  },\n  async onUpdated(details: chrome.runtime.InstalledDetails) {\n    /* window.onInstalledDetails is set in background.js when the onInstalled listener is called.\n     * It's set up this way because the onInstalled listener must be set immediately when\n     * the extension loads in order for it to exist when the onInstalled event fires. */\n    if (!details.previousVersion) return\n\n    const prevVersion: string = await api.Storage.get('previousVersion')\n    const disableUpdatePopup: string | boolean = await api.Storage.get(\n      'disableUpdatePopup',\n    )\n    /**\n     * Only pop update tab if details.previousVersion doesn't match\n     * the last previousVersion that was recorded on the last update.\n     * This is needed because the \"update\" reason seems to be triggered\n     * for some users even when A.) StayFocusd has already updated or\n     * B.) there's a Chrome update pending.\n     *\n     * @see https://code.google.com/p/chromium/issues/detail?id=303481\n     */\n    if (prevVersion !== details.previousVersion) {\n      if (disableUpdatePopup !== 'true' && disableUpdatePopup !== true) {\n        changeBadgeIcons.showBadge('NEW', BadgeColor.GREEN)\n      }\n\n      api.Storage.set({\n        isUpdated: true,\n        previousVersion: details.previousVersion,\n      })\n    }\n  },\n  async openOnboarding() {\n    log('openOnboarding', 'Opening onboarding in new tab', undefined, 'INFO')\n\n    await api.Storage.set({ [onboardingOpenedAtStorageKey]: Date.now() })\n    await api.Chrome.Tab.update({\n      url: this.getOptionsPage(),\n      active: true,\n    })\n  },\n  async forceOnboardingOnNewTab() {\n    log('initOnboarding', 'initializing...', undefined, 'INFO')\n\n    const firstInstallDate = await this.getFirstSensorTowerInstallDate()\n\n    api.Chrome.Tab.addListener('onCreated', async (tab: chrome.tabs.Tab) => {\n      if (Date.now() - firstInstallDate < MINUTE) return\n\n      log('initOnboarding', 'tab.onCreated', tab, 'DEBUG')\n\n      const newTabTimeout = api.RemoteConfig.get('newTabTimeout')\n      const isOnboardingCompleted =\n        await api.Requirements.isOnboardingCompleted()\n      const onboardingOpenedAt =\n        (await api.Storage.get(onboardingOpenedAtStorageKey)) ?? 0\n      const canOpenTab = Date.now() >= onboardingOpenedAt + newTabTimeout\n      if (!isOnboardingCompleted && canOpenTab) {\n        await api.Analytics.event('OPENING_ONBOARDING_ON_TAB_CREATED')\n        await this.openOnboarding()\n      }\n    })\n  },\n\n  initUninstallURL() {\n    api.Chrome.Extension.setUninstallURL(this.uninstallUrl)\n  },\n\n  /**\n   * Callback to run each time popup connects to background page\n   *\n   * @param port The port on which the connection has been made\n   */\n  onPopupConnected(port: chrome.runtime.Port) {\n    log('onPopupConnected', 'Popup connected', port, 'DEBUG')\n\n    this.popupPort = port\n\n    port.onMessage.addListener(async (obj) => {\n      const message = new Message(obj.message)\n\n      if (message.matches('*.domain.add.BLACKLIST')) {\n        const groupName = obj.payload.groupName\n        const domain = obj.payload.domain\n        const result = await api.BlockedGroupsRepository.addWebsite(\n          groupName,\n          domain,\n        )\n\n        port.postMessage({\n          message: 'StayFocusd.domain.added.' + message.getDescriptor(),\n          payload: {\n            success: result,\n          },\n        })\n\n        // check\n        await this.checkURL(obj.payload.domain)\n      }\n\n      if (message.matches('*.domain.add.WHITELIST')) {\n        const domain = [obj.payload.domain]\n        const result = await api.WhitelistRepository.add(domain)\n\n        port.postMessage({\n          message: 'StayFocusd.domain.added.' + message.getDescriptor(),\n          payload: {\n            success: result,\n          },\n        })\n\n        // check\n        await this.checkURL(obj.payload.domain)\n      }\n\n      if (message.matches('PopupController.toggle.*.*')) {\n        const { value } = obj.payload\n        this.setActivated(value)\n        port.postMessage({\n          message: 'StayFocusd.toggled',\n          payload: {\n            value: this.activated(),\n          },\n        })\n\n        api.Chrome.Tab.getSelected(undefined, async (tab) => {\n          await this.onTabStateChange(tab)\n        })\n      }\n\n      return true\n    })\n\n    port.onDisconnect.addListener(() => {\n      this.popupPort = null\n    })\n\n    this.postTimerUpdatedMessage()\n  },\n\n  /**\n   * Updates popup timer\n   */\n  postTimerUpdatedMessage: function () {\n    api.PubSub.publish('StayFocusd.timer.updated', {\n      tabID: this.selectedTabID,\n      displayTimer: this.getDisplayTimer(),\n    })\n\n    if (this.popupPort) {\n      this.popupPort.postMessage({\n        message: 'StayFocusd.timer.updated',\n        payload: {\n          displayTimer: this.getDisplayTimer(),\n        },\n      })\n    }\n  },\n\n  /**\n   * Checks url when state of tab changes (selected, focused, updated)\n   *\n   * @param tab The tab object for the selected tab\n   */\n  onTabStateChange: async function (tab: chrome.tabs.Tab | undefined) {\n    if (typeof tab === 'undefined') {\n      return\n    }\n\n    log('onTabStateChange', 'Tab state changed', tab)\n\n    this.currentURL = tab.url!\n    this.selectedTabID = tab.id!\n    await this.checkURL(tab.url)\n\n    const isBlockable = this.isBlockable(tab.url)\n\n    api.PubSub.publish('StayFocusd.tab.selected', {\n      tab: tab,\n      tabID: tab.id,\n      blockable: isBlockable,\n    })\n  },\n\n  /**\n   * Checks whether the current URL has been blacklisted\n   *\n   * @param url The url to check\n   */\n  checkURL: async function (url?: string) {\n    url =\n      typeof url === 'undefined' ||\n      (typeof url === 'string' && url.length === 0)\n        ? this.currentURL!\n        : url\n\n    log('checkURL', 'Checking url: ', url)\n\n    if (this.isNewDay() === true) {\n      api.BlockedGroupsRepository.clearElapsedTime()\n    }\n\n    api.BlockedGroupsTimer.stopCountdown()\n\n    if (this.isBlockable(url)) {\n      api.Chrome.Tab.getSelected(undefined, (tab) => {\n        this.setBadgeIcon(tab, BadgeIcon.BLOCKED)\n      })\n\n      if (this.isKillable(url)) {\n        this.killPage(url)\n      } else {\n        api.BlockedGroupsTimer.startCountdown(url)\n      }\n    } else {\n      const isInWhitelist = api.WhitelistRepository.isExists(url)\n      if (isInWhitelist) {\n        api.Chrome.Tab.getSelected(undefined, (tab) => {\n          this.setBadgeIcon(tab, BadgeIcon.ALLOWED)\n        })\n      } else {\n        api.Chrome.Tab.getSelected(undefined, (tab) => {\n          this.setBadgeIcon(tab, BadgeIcon.DEFAULT)\n        })\n      }\n    }\n  },\n\n  setBadgeIcon(tab: chrome.tabs.Tab | undefined, defaultValue: BadgeIcon) {\n    if (tab) {\n      if (this.activated()) {\n        if (NuclearOption.isActive())\n          changeBadgeIcons.setIcon(BadgeIcon.NUCLEAR, tab.id)\n        else changeBadgeIcons.setIcon(defaultValue, tab.id)\n      } else {\n        changeBadgeIcons.setIcon(BadgeIcon.DEACTIVATED, tab.id)\n      }\n    }\n  },\n\n  /**\n   * Check whether the page is killable\n   */\n  isKillable: function (url: string) {\n    return (\n      api.BlockedGroupsTimer.isMaxTimeAllowedExceeded(url) ||\n      NuclearOption.isActive()\n    )\n  },\n\n  /**\n   * Checks whether the domain is a protected domain (and\n   * therefore can't be blocked)\n   *\n   * @param domain The domain to check\n   */\n  isProtectedURL: function (domain: string) {\n    if (\n      domain === null ||\n      typeof domain === 'undefined' ||\n      domain.length === 0\n    ) {\n      return false\n    }\n\n    /* Redirect URL can't be blocked */\n    if (domain.indexOf(this.redirectURL) === 0) {\n      return true\n    }\n\n    /* Never block Rescue Me page */\n    if (domain.indexOf('rescueMe') >= 0) {\n      return true\n    }\n\n    /* Allow access to devtools */\n    if (\n      domain.indexOf('chrome') >= 0 &&\n      domain.indexOf('chrome') < domain.indexOf('://') &&\n      (domain.indexOf('sf') > -1 || domain.indexOf('devtools') > -1)\n    ) {\n      return true\n    }\n\n    return false\n  },\n\n  /**\n   * Checks whether a domain is blockable\n   *\n   * @param domain The domain to check\n   */\n  isBlockable: function (domain?: string): boolean {\n    if (!this.activated()) return false\n    if (this.isProtectedURL(domain!)) {\n      return false\n    }\n\n    if (domain === null || typeof domain === 'undefined' || domain === '') {\n      return false\n    }\n\n    if (this.isActive() === false) {\n      return false\n    }\n\n    const isBlacklisted = api.BlockedGroupsRepository.isBlockable(domain)\n    const isWhitelisted = api.WhitelistRepository.isExists(domain)\n    const isBlockableByNuclearOption = NuclearOption.isBlockable(\n      isBlacklisted,\n      isWhitelisted,\n    )\n    const blockAllWebsites = api.Settings.get('isBlockAllWebsites')\n\n    if (blockAllWebsites && !isWhitelisted) return true\n\n    if (isBlockableByNuclearOption) {\n      return true\n    }\n\n    if (isBlacklisted && !isWhitelisted) {\n      return true\n    }\n\n    if (isBlacklisted && isWhitelisted) {\n      const blockedGroup =\n        api.BlockedGroupsRepository.getBlockedGroupByDomain(domain)\n      const blacklistMatch =\n        blockedGroup?.websites.find((site: string) =>\n          api.Domain.isMoreGeneralURL(site, domain),\n        ) ?? ''\n      const isWhitelisted = api.WhitelistRepository.isExists(domain)\n      const whitelistMatch = isWhitelisted ? domain : ''\n\n      /* If exact domain is on blacklist and isn't on whitelist, block it */\n      if (blacklistMatch === domain && whitelistMatch !== domain) {\n        return true\n      }\n\n      /* If exact domain is on whitelist and isn't on blacklist, don't block it */\n      if (blacklistMatch !== domain && whitelistMatch === domain) {\n        return false\n      }\n\n      /* If there's no exact match on either list, prefer domain on whitelist if\n       * it is more specific than domain on blacklist */\n      return DomainParser.isMoreGeneralURL(whitelistMatch, blacklistMatch)\n    }\n\n    if (\n      isWhitelisted ||\n      (NuclearOption.isActive() && !isBlockableByNuclearOption)\n    ) {\n      return false\n    }\n\n    return false\n  },\n\n  /**\n   * Checks whether the reset time has passed for today\n   *\n   * @return boolean\n   */\n  isNewDay: function () {\n    let isNewDay = false\n    const todayDate = new Date()\n    let nowTimestamp = todayDate.getTime()\n    let resetTimestamp = api.Settings.get('resetTimestamp')\n    let resetTime = this.getResetTime()\n\n    // resetTime was saved as 'null:00' before Aug 3\n    if (/null/.test(resetTime)) {\n      resetTime = '00:00'\n      this.setResetTime(resetTime)\n    }\n\n    /* If there's no reset timestamp, set it to the reset time for today (which may or may not have passed) */\n    if (\n      typeof resetTimestamp === 'undefined' ||\n      resetTimestamp === null ||\n      resetTimestamp === ''\n    ) {\n      const resetArray = resetTime.split(':')\n      const resetHour = Math.floor(resetArray[0])\n      const resetMin = Math.floor(resetArray[1])\n\n      const resetTimestampDate = new Date(\n        todayDate.toDateString() + ' ' + resetHour + ':' + resetMin,\n      )\n      resetTimestamp = resetTimestampDate.getTime()\n\n      this.updateResetTimestamp(resetTime)\n    }\n\n    resetTimestamp = Math.floor(resetTimestamp)\n    nowTimestamp = Math.floor(nowTimestamp)\n\n    if (nowTimestamp > resetTimestamp) {\n      isNewDay = true\n\n      this.updateResetTimestamp(resetTime)\n    }\n\n    return isNewDay\n  },\n\n  /**\n   * Updates badge on icon, turning it yellow, then red, as time runs out\n   */\n  updateBadge: function (\n    totalSecondsRemaining: number,\n    nuclearOptionCountdown = false,\n  ) {\n    let showBadge = false\n    let color: BadgeColor | undefined\n    const remainingInt = Math.floor(totalSecondsRemaining)\n    const remainingText = remainingInt.toString()\n\n    if (nuclearOptionCountdown && remainingInt <= 60) {\n      showBadge = true\n      color = BadgeColor.BLACK\n    } else if (remainingInt <= 30) {\n      showBadge = true\n      color = BadgeColor.RED\n    } else if (remainingInt <= 60) {\n      showBadge = true\n      color = BadgeColor.YELLOW\n    }\n\n    if (showBadge) {\n      changeBadgeIcons.showBadge(\n        remainingText,\n        color,\n        this.selectedTabID ?? undefined,\n      )\n    } else {\n      this.hideBadge()\n    }\n  },\n\n  hideBadge() {\n    changeBadgeIcons.hideBadge(this.selectedTabID ?? undefined)\n  },\n\n  /**\n   * Redirects selected page to redirect url\n   */\n  killPage: function (url: string): boolean {\n    log('killPage', 'Killing page', null, 'INFO')\n\n    api.BlockedGroupsTimer.stopCountdown()\n\n    /* Have to use windows.getLastFocused instead of tab.getSelected, because\n     * switching focus to a window opened via an application shortcut doesn't\n     * register the application window as the \"selected\" tab. */\n    api.Chrome.Window.getLastFocused((windowObj: chrome.windows.Window) => {\n      if (typeof windowObj !== 'undefined') {\n        api.Chrome.Tab.getAllInWindow(windowObj.id, (tabs) => {\n          for (const wTab in tabs) {\n            if (tabs[wTab].highlighted) {\n              if (\n                api.BlockedGroupsTimer.isMaxTimeAllowedExceeded(url) ||\n                (NuclearOption.isActive() && !NuclearOption.hasSmartBomb())\n              ) {\n                // Update the URL to the redirect page\n                const customMsg = api.Settings.get('customStayFocusdMsg') || ''\n                api.Chrome.Tab.update(tabs[wTab].id!, {\n                  url:\n                    this.redirectURL +\n                    '?background&customMsg=' +\n                    encodeURIComponent(customMsg),\n                })\n              } else if (\n                /* This could probably be a simple else clause, but I'm including conditions out of an\n                 * abundance of caution. */\n                NuclearOption.isActive() &&\n                NuclearOption.hasSmartBomb()\n              ) {\n                api.PubSub.publish('StayFocusd.smartBomb.activate', {\n                  tabID: tabs[wTab].id,\n                  smartBomb: NuclearOption.getSmartBomb(),\n                })\n              }\n            }\n          }\n        })\n      }\n    })\n\n    return false\n  },\n\n  /**\n   * Gets the total number of seconds remaining before blacklisted\n   * sites are blocked\n   */\n  getTotalSecondsRemaining: function (): number {\n    return api.BlockedGroupsTimer.getTotalSecondsRemaining(this.currentURL!)!\n  },\n\n  /**\n   * Gets remaining time, formatted like HH:MM:SS\n   *\n   * @return DisplayTimerResult Remaining time, formatted like HH:MM:SS\n   */\n  getDisplayTimer: function (): DisplayTimerResult {\n    function getTimerForDefaultGroup() {\n      const groupName = 'Default'\n      const group = API.BlockedGroupsRepository.getByName(groupName)!\n      return {\n        groupName: groupName,\n        time: Time.formatDurationInSeconds(\n          group.maxTimeAllowed - group.elapsedTime,\n        ),\n        nuclear: false,\n      }\n    }\n\n    // Show nuclear time remaining if the nuclear option is active\n    if (API.NuclearOption.isActive()) {\n      const nuclearExpiration = API.NuclearOption.getExpiration()\n      if (nuclearExpiration) {\n        const secondsUntilNuclear = (nuclearExpiration - Date.now()) / SECOND\n        return {\n          groupName: API.Chrome.Translation.get('nuclear'),\n          time: Time.formatDurationInSeconds(secondsUntilNuclear),\n          nuclear: true,\n        }\n      }\n    }\n\n    const blockAll = api.BlockedAllWebsites.getTime()\n    if (blockAll != null) {\n      return {\n        groupName: null,\n        time: Time.formatDurationInSeconds(\n          blockAll.allowedTime - blockAll.elapsedTime,\n        ),\n        nuclear: false,\n      }\n    }\n\n    if (this.currentURL == null || this.currentURL == '') {\n      return getTimerForDefaultGroup()\n    }\n\n    const group = api.BlockedGroupsRepository.getBlockedGroupByDomain(\n      this.currentURL,\n    )\n    if (group == undefined) return getTimerForDefaultGroup()\n    return {\n      groupName: group.groupName,\n      time: Time.formatDurationInSeconds(\n        group.maxTimeAllowed - group.elapsedTime,\n      ),\n      nuclear: false,\n    }\n  },\n\n  /**\n   * Gets today's date as a string: 2010-04-01\n   *\n   * @return string Today's date\n   */\n  getDateString: function () {\n    const date = new Date()\n    const month = date.getMonth() + 1\n    const day = date.getDate()\n    const year = date.getFullYear()\n\n    return year + '-' + month + '-' + day\n  },\n\n  /**\n   * Sets the days during which the extension is active\n   *\n   * @param activeDays Array of days (0-6)\n   */\n  setActiveDays: function (activeDays: number[]): void {\n    let activeDaysString = null\n\n    /* Technically, someone can legitimately have no active days\n     * selected, if they de-select all days but today (which is disabled),\n     * but then go back tomorrow and deselect that one too. Setting the\n     * value to \"none\" distinguishes this case from someone who tampered\n     * with the activeDays settings and just deleted them. */\n    if (activeDays.length === 0) {\n      activeDaysString = 'none'\n    } else {\n      activeDaysString = activeDays.join('|')\n    }\n\n    log('setActiveDays', 'Setting active days', activeDays)\n\n    api.Settings.set({ activeDays: activeDaysString })\n    api.NuclearOption.updateActiveDays(this.getActiveDays(true) as boolean[])\n  },\n\n  /**\n   * Gets the days during which the extension is active\n   *\n   * If no days are set, it is active all days by default\n   */\n  getActiveDays: function (\n    asBooleanArray: boolean = false,\n  ): number[] | boolean[] {\n    const activeDaysString = api.Settings.get('activeDays')\n\n    /* A value of \"none\" means the activeDays setting is legitimately empty */\n    if (activeDaysString === 'none') {\n      return []\n    }\n\n    /* If the active days are empty, then they need to be re-set to all days */\n    if (\n      typeof activeDaysString === 'undefined' ||\n      activeDaysString === null ||\n      activeDaysString.length === 0\n    ) {\n      this.setActiveDays([0, 1, 2, 3, 4, 5, 6])\n\n      return [0, 1, 2, 3, 4, 5, 6]\n    }\n\n    /* If the active days are a single number (when it's just one day), convert to an array */\n    if (\n      typeof activeDaysString !== 'string' ||\n      activeDaysString.indexOf('|') === -1\n    ) {\n      return [Number(activeDaysString)]\n    }\n\n    const activeDaysStrArray = activeDaysString.split('|')\n    const activeDaysArray: number[] = []\n\n    /* Convert strings to numbers */\n    for (let i = 0; i < activeDaysStrArray.length; i++) {\n      activeDaysArray[i] = Number(activeDaysStrArray[i])\n    }\n\n    return asBooleanArray\n      ? this.getActiveDaysAsWeekArray(activeDaysArray)\n      : activeDaysArray\n  },\n\n  /**\n   * Gets active days as an array where there is an index for each day of the week,\n   * with a boolean value in each.\n   *\n   * @param activeDays Array of active days where the day number is the value, and only active days are in the array\n   * @returns {Array}\n   */\n  getActiveDaysAsWeekArray: function (activeDays: number[]): boolean[] {\n    const activeDaysWeekArray: boolean[] = []\n\n    /* Active Days are stored with the day number as the value, so first we need to\n     * set all the days in that array to true */\n    for (let i = 0; i < activeDays.length; i++) {\n      const dayIndex = activeDays[i]\n\n      activeDaysWeekArray[dayIndex] = true\n    }\n\n    /* Then we need to loop through all days and set any not already set to true to false */\n    for (let j = 0; j < 7; j++) {\n      activeDaysWeekArray[j] = activeDaysWeekArray[j] || false\n    }\n\n    return activeDaysWeekArray\n  },\n\n  /**\n   * Checks whether the extension is active today\n   */\n  isActiveDay: function () {\n    const date = new Date()\n    const todayDay = date.getDay()\n    const activeDays = this.getActiveDays() as number[]\n\n    if (\n      typeof activeDays === 'undefined' ||\n      activeDays === null ||\n      activeDays.length === 0\n    ) {\n      return false\n    }\n\n    return activeDays.inArray(todayDay)\n  },\n\n  /**\n   * Sets the hours during which the extension is active\n   *\n   * @param startTime The start time, like 00:00\n   * @param endTime The end time, like 23:00\n   */\n  setActiveHours: function (startTime: string, endTime: string) {\n    log('setActiveHours', 'Setting active hours', {\n      startTime: startTime,\n      endTime: endTime,\n    })\n\n    api.Settings.set({ activeHours: startTime + '|' + endTime })\n  },\n\n  /**\n   * Gets the active hours as an object\n   *\n   * If the timestamp in the active hours queue has passed, then the\n   * queued hours become the active hours. Otherwise, the current\n   * active hours are used. If no active hours have been set yet,\n   * then the default is set to 00:00 - 23:59 (always active)\n   */\n  getActiveHours: function (): ActiveHours {\n    let startTime: boolean | string = false\n    let endTime: boolean | string = false\n    const _activeHoursQueue = this.getActiveHoursQueue()\n\n    /* If active hours queue exists, check if queue timestamp has passed */\n    if (_activeHoursQueue !== false) {\n      const activeHoursQueue = _activeHoursQueue as ActiveHoursQueue\n      const todayDate = new Date()\n      const currentTimestamp = todayDate.getTime()\n\n      /* If queue timestamp has passed, queued hours become active hours */\n      if (\n        currentTimestamp > activeHoursQueue.timestamp ||\n        this.isFirstInstallAllowanceActive()\n      ) {\n        startTime = activeHoursQueue.startTime\n        endTime = activeHoursQueue.endTime\n\n        this.clearActiveHoursQueue()\n        this.setActiveHours(startTime, endTime)\n      }\n    }\n\n    /* If queued hours aren't being used, get current active hours settings */\n    if (startTime === false && endTime === false) {\n      let activeHours = api.Settings.get('activeHours')\n\n      /* If no active hours have been defined, set them now */\n      if (\n        typeof activeHours === 'undefined' ||\n        activeHours === null ||\n        activeHours === ''\n      ) {\n        this.setActiveHours('00:00', '23:59')\n\n        activeHours = api.Settings.get('activeHours')\n      }\n\n      const activeHoursArray = activeHours.split('|')\n\n      startTime = activeHoursArray[0]\n      endTime = activeHoursArray[1]\n    }\n\n    const startArray = (startTime as string).split(':')\n    const endArray = (endTime as string).split(':')\n\n    return {\n      startTime: startTime as string,\n      endTime: endTime as string,\n      startHour: startArray[0],\n      startMin: startArray[1],\n      startHourInt: parseInt(startArray[0], 10),\n      startMinInt: parseInt(startArray[1], 10),\n      endHour: endArray[0],\n      endMin: endArray[1],\n      endHourInt: parseInt(endArray[0], 10),\n      endMinInt: parseInt(endArray[1], 10),\n    }\n  },\n\n  /**\n   * Checks whether the current time is within the active hours\n   *\n   * @return boolean\n   */\n  isActiveHour: function () {\n    const activeHours = this.getActiveHours()\n\n    const date = new Date()\n    const todayHour = date.getHours()\n    const todayMin = date.getMinutes()\n\n    if (this.isStartTimeLater(activeHours) === true) {\n      return (\n        this.isBetween(\n          todayHour,\n          todayMin,\n          activeHours.startHourInt,\n          activeHours.startMinInt,\n          23,\n          59,\n        ) ||\n        this.isBetween(\n          todayHour,\n          todayMin,\n          0,\n          0,\n          activeHours.endHourInt,\n          activeHours.endMinInt,\n        )\n      )\n    } else {\n      return this.isBetween(\n        todayHour,\n        todayMin,\n        activeHours.startHourInt,\n        activeHours.startMinInt,\n        activeHours.endHourInt,\n        activeHours.endMinInt,\n      )\n    }\n  },\n\n  /**\n   * Checks whether the time being tested is between the start and end times\n   *\n   * @param testHour The hour to test\n   * @param testMin The minutes to test\n   * @param startHour The start hour\n   * @param startMin The start minutes\n   * @param endHour The end hour\n   * @param endMin The end minutes\n   */\n  isBetween: function (\n    testHour: number,\n    testMin: number,\n    startHour: number,\n    startMin: number,\n    endHour: number,\n    endMin: number,\n  ) {\n    if (testHour > startHour && testHour < endHour) {\n      return true\n    }\n\n    if (testHour === startHour && testHour === endHour) {\n      return testMin >= startMin && testMin <= endMin\n    }\n\n    if (testHour === startHour && testMin >= startMin) {\n      return true\n    }\n\n    if (testHour === endHour && testMin <= endMin) {\n      return true\n    }\n\n    return false\n  },\n\n  /**\n   * Checks whether the start time is later than the end time (meaning that\n   * the active hours span midnight)\n   *\n   * @param activeHours Object created by getActiveHours() method\n   */\n  isStartTimeLater: function (activeHours: ActiveHours): boolean {\n    if (\n      activeHours.startHourInt === activeHours.endHourInt &&\n      activeHours.startMinInt >= activeHours.endMinInt\n    ) {\n      return true\n    } else if (activeHours.startHourInt > activeHours.endHourInt) {\n      return true\n    }\n\n    return false\n  },\n\n  /**\n   * Sets the active hours queue\n   *\n   * The startTime and endTime is stored, along with a timestamp 24 hours\n   * after now. Once that timestamp passes, the queued settings will take\n   * effect\n   *\n   * @param startTime The start time, like 00:00\n   * @param endTime The end time, like 23:00\n   */\n  setActiveHoursQueue: function (startTime: string, endTime: string) {\n    const todayDate = new Date()\n    const queueDate = todayDate.getTime() + api.Date.hoursToMilliseconds(24)\n\n    const activeHoursQueue = queueDate + '|' + startTime + '|' + endTime\n\n    log('setActiveHoursQueue', 'Setting active hours queue', activeHoursQueue)\n\n    api.Settings.set({ activeHoursQueue: activeHoursQueue })\n  },\n\n  /**\n   * Gets the active hours queue as an object with timestamp, startTime, and\n   * endTime properties\n   */\n  getActiveHoursQueue: function (): ActiveHoursQueue | boolean {\n    const activeHoursQueue = api.Settings.get('activeHoursQueue')\n\n    if (\n      typeof activeHoursQueue === 'undefined' ||\n      activeHoursQueue === null ||\n      activeHoursQueue === ''\n    ) {\n      return false\n    }\n\n    const activeHoursQueueArray = activeHoursQueue.split('|')\n\n    return {\n      timestamp: parseInt(activeHoursQueueArray[0]),\n      startTime: activeHoursQueueArray[1],\n      endTime: activeHoursQueueArray[2],\n    }\n  },\n\n  /**\n   * Removes the active hours queue from local storage\n   */\n  clearActiveHoursQueue: function () {\n    log('clearActiveHoursQueue', 'Clearing active hours queue')\n\n    api.Settings.remove('activeHoursQueue')\n  },\n\n  /**\n   * Checks whether the extension is active: today is an active day,\n   * and the current time is during active hours, or the Nuclear Option\n   * is active.\n   *\n   * @return boolean\n   */\n  isActive: function () {\n    if (NuclearOption.isActive() === true) {\n      return true\n    }\n\n    return this.isActiveDay() === true && this.isActiveHour() === true\n  },\n\n  activated: function () {\n    return api.Settings.get('activated', true)\n  },\n\n  setActivated: function (value: boolean): boolean {\n    if (value === false) {\n      if (!confirm(API.Chrome.Translation.get('areYouSure'))) {\n        return false\n      }\n\n      /* if (API.Settings.get('productivityBypass') === true) {\n         alert(API.Chrome.Translation.get('completeChallengeBeforeIncreasingTime'))\n         return false\n       }*/\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension1'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension2'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension3'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension4'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension5'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension6'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension7'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableExtension8'))) {\n        return false\n      }\n\n      if (!confirm(API.Chrome.Translation.get('disableFinalWarning'))) {\n        return false\n      }\n\n      alert(API.Chrome.Translation.get('extensionDisabled'))\n    }\n\n    api.Settings.set({ activated: value })\n    this.checkURL()\n    api.Analytics.event(value ? 'EXTENSION_ACTIVATED' : 'EXTENSION_DEACTIVATED')\n    return true\n  },\n\n  isActivateSwitchShown: function () {\n    return api.Settings.get('isActivateSwitchShown', true)\n  },\n\n  setActivateSwitchShown: function (value: boolean) {\n    api.Settings.set({ isActivateSwitchShown: value })\n  },\n\n  /**\n   * Updates the reset timestamp to tomorrow's reset time\n   *\n   * @param resetTime The time of the day to reset, i.e. 04:00\n   */\n  updateResetTimestamp: function (resetTime: string) {\n    const resetArray = resetTime.split(':')\n    const resetHour = parseInt(resetArray[0], 10)\n    const resetMin = parseInt(resetArray[1], 10)\n\n    const todayResetDate = new Date(\n      new Date().toDateString() + ' ' + resetHour + ':' + resetMin,\n    )\n    const newResetTimestamp = todayResetDate.getTime() + 86400000 // 24 hours in milliseconds\n\n    log(\n      'updateResetTimestamp',\n      'Updating reset timestamp to: ' + newResetTimestamp,\n    )\n\n    api.Settings.set({ resetTimestamp: newResetTimestamp })\n  },\n\n  /**\n   * Sets the time when the elapsed time counter will be reset\n   *\n   * @param resetTime The reset time, like 00:00\n   */\n  setResetTime: function (resetTime: string) {\n    log('setResetTime', 'Setting reset time to: ' + resetTime)\n\n    api.Settings.set({ resetTime: resetTime })\n  },\n\n  /**\n   * Gets the reset time\n   *\n   * If the timestamp in the reset time queue has passed, then the\n   * queued reset time become the current reset time. Otherwise, the\n   * current reset time is used. If no reset time has been set yet,\n   * then the default is set to 00:00 (midnight)\n   */\n  getResetTime: function () {\n    let resetTime = api.Settings.get('resetTime')\n    const resetTimeQueue = this.getResetTimeQueue()\n    const defaultResetTime = '00:00'\n\n    /* If reset time queue exists, check if queue timestamp has passed */\n    if (resetTimeQueue !== false) {\n      const todayDate = new Date()\n      const currentTimestamp = todayDate.getTime()\n      const resetTimeQueueObj = resetTimeQueue as Record<string, any>\n\n      /* If queue timestamp has passed, queued reset time becomes current reset time */\n      if (\n        currentTimestamp > resetTimeQueueObj.timestamp ||\n        this.isFirstInstallAllowanceActive()\n      ) {\n        resetTime = resetTimeQueueObj.resetTime\n\n        this.clearResetTimeQueue()\n        this.setResetTime(resetTime)\n        this.updateResetTimestamp(resetTime)\n      }\n    }\n\n    if (\n      typeof resetTime === 'undefined' ||\n      resetTime === null ||\n      resetTime === ''\n    ) {\n      this.setResetTime(defaultResetTime)\n\n      resetTime = defaultResetTime\n\n      this.updateResetTimestamp(resetTime)\n    }\n\n    return resetTime\n  },\n\n  /**\n   * Sets the daily reset time queue\n   *\n   * The resetTime is stored, along with a timestamp 24 hours\n   * after now. Once that timestamp passes, the queued settings\n   * will take effect\n   *\n   * @param resetTime The reset time, like 00:00\n   */\n  setResetTimeQueue: function (resetTime: string) {\n    const todayDate = new Date()\n    const queueDate = todayDate.getTime() + api.Date.hoursToMilliseconds(24)\n\n    const resetTimeQueue = queueDate + '|' + resetTime\n\n    log('setResetTimeQueue', 'Setting reset time queue: ' + resetTimeQueue)\n\n    api.Settings.set({ resetTimeQueue: resetTimeQueue })\n  },\n\n  /**\n   * Gets the reset time queue as an object with timestamp and resetTime properties\n   */\n  getResetTimeQueue: function (): boolean | ResetTimeQueue {\n    const resetTimeQueue = api.Settings.get('resetTimeQueue')\n\n    if (Utils.isEmpty(resetTimeQueue)) {\n      return false\n    }\n\n    const resetTimeQueueArray = resetTimeQueue.split('|')\n\n    return {\n      timestamp: resetTimeQueueArray[0],\n      resetTime: resetTimeQueueArray[1],\n    }\n  },\n\n  /**\n   * Removes the reset time queue from local storage\n   */\n  clearResetTimeQueue: function () {\n    log('clearResetTimeQueue', 'Clearing reset time queue')\n\n    api.Settings.remove('resetTimeQueue')\n  },\n\n  isFirstInstall: function () {\n    return typeof api.Settings.get('firstInstallDate') !== 'string'\n  },\n\n  async getFirstSensorTowerInstallDate() {\n    let ms = await api.Storage.get('firstSensorTowerInstallDate')\n    if (typeof ms !== 'number') {\n      ms = Date.now()\n      await api.Storage.set({ firstSensorTowerInstallDate: ms })\n    }\n    return ms\n  },\n\n  getOptionsPage: function (): string {\n    return Browser.runtime.getURL('options.html')\n  },\n\n  isUpdatePopupDisabled: function () {\n    const disableUpdatePopup = api.Settings.get('disableUpdatePopup')\n\n    return disableUpdatePopup === true || disableUpdatePopup === 'true'\n  },\n\n  setFirstInstallAllowance: function () {\n    const date = new Date()\n\n    api.Settings.set({ firstInstallDate: date.toDateString() })\n\n    date.setMinutes(date.getMinutes() + this.firstInstallAllowance)\n\n    log(\n      'setFirstInstallAllowance',\n      'Setting first install allowance to: ' + date.getTime(),\n    )\n\n    api.Settings.set({ firstInstallAllowanceExpiration: date.getTime() })\n  },\n\n  isFirstInstallAllowanceActive: function () {\n    const todayDate = new Date()\n    const expiration = api.Settings.get('firstInstallAllowanceExpiration')\n\n    return expiration > todayDate.getTime()\n  },\n\n  /**\n   * Finds all HTML elements with a data-i18n attribute and\n   * replaces their innerHTML with content from messages.json\n   */\n  localizeHTML: function (doc: Document) {\n    log('localizeHTML', 'Localizing HTML')\n\n    const objects = doc.getElementsByTagName(\n      '*',\n    ) as HTMLCollectionOf<HTMLElement>\n\n    for (let i = 0; i < objects.length; i++) {\n      if (objects[i].dataset && objects[i].dataset.i18n) {\n        objects[i].innerHTML = api.Chrome.Translation.get(\n          objects[i].dataset.i18n!,\n        )\n      }\n    }\n  },\n}\n\n/**\n * Checks whether a value is in an array\n *\n * @param needle The value to find\n */\nArray.prototype.inArray = function (needle): boolean {\n  for (const key in this) {\n    if (this.hasOwnProperty(key) && this[key] == needle) {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport default StayFocusd\n","import { isHostnameBlockedPredicate } from '~/utils/isHostnameBlocked'\nimport { API } from './API'\n\ndeclare module '~/core/API' {\n  interface API {\n    WhitelistRepository: ReturnType<typeof WhitelistRepository.initAPI>\n  }\n}\n\n// set a new name, because current obj with whitelist has the same name, but contains list of objects\nconst WHITELIST_IN_STORAGE_OLD = 'whitelist'\nconst WHITELIST_IN_STORAGE = 'whitelistNew'\n\nlet api: API\nlet _websites: string[] = []\n\nconst WhitelistRepository = {\n  initAPI(theAPI: API) {\n    api = theAPI\n\n    return api.mixin('WhitelistRepository', {\n      init: this.init.bind(this),\n      add: this.add.bind(this),\n      getAll: this.getAll.bind(this),\n      isExists: this.isExists.bind(this),\n      delete: this.delete.bind(this),\n      migrate: this.migrate.bind(this),\n      importWhitelist: this.importWhitelist.bind(this),\n    })\n  },\n\n  async init() {\n    const syncDisabled = (await API.Settings.get('disableSync')) === true\n\n    if (syncDisabled) {\n      const data = await api.Chrome.Storage.getSync(WHITELIST_IN_STORAGE)\n      const hasDataForMigration = !!data[WHITELIST_IN_STORAGE]\n      await API.Storage.setBucket(\n        WHITELIST_IN_STORAGE,\n        'LOCAL',\n        !hasDataForMigration,\n      )\n    } else {\n      const data = await api.Chrome.Storage.getLocal(WHITELIST_IN_STORAGE)\n      const hasDataForMigration = !!data[WHITELIST_IN_STORAGE]\n      await API.Storage.setBucket(\n        WHITELIST_IN_STORAGE,\n        'SYNC',\n        !hasDataForMigration,\n      )\n    }\n\n    this.getWhitelist()\n    this.addListeners()\n  },\n\n  getWhitelist() {\n    const websites = api.Settings.get(WHITELIST_IN_STORAGE)\n    _websites = websites == null ? [] : websites\n  },\n\n  /**\n   * Add a new website\n   * Returns the flag whether the site was successfully added or not\n   * @returns {Promise<boolean>}\n   */\n  async add(websites: string[]) {\n    let isAdded = false\n    for (let index = 0; index < websites.length; index++) {\n      const website = websites[index]\n      if (website && _websites.find((x) => x == website) == null) {\n        isAdded = true\n        _websites.push(website)\n        await this.saveChanges()\n      }\n    }\n\n    return isAdded\n  },\n\n  /**\n   * Return whitelist\n   * @returns {string[]}\n   */\n  getAll() {\n    return _websites\n  },\n\n  /**\n   * Delete website\n   * @returns {Promise<void>}\n   */\n  async delete(website: string): Promise<void> {\n    const targetIndex = _websites.findIndex((x) => x == website)\n    if (targetIndex > -1) {\n      _websites.splice(targetIndex, 1)\n      await this.saveChanges()\n    }\n  },\n\n  /**\n   * Is whitelist contains website\n   * @returns {void}\n   */\n  isExists(domain: string) {\n    if (domain == null) return false\n\n    domain = domain.toLowerCase()\n    return (\n      _websites.find((website) =>\n        isHostnameBlockedPredicate(website, domain),\n      ) != undefined\n    )\n  },\n  /**\n   * Migrate all whitelist websites to the new structure in the storage\n   * @returns {Promise<void>}\n   */\n  async migrate() {\n    if (this.needMigrate()) {\n      const websitesObj = api.Settings.get(WHITELIST_IN_STORAGE_OLD)\n      if (websitesObj != null) {\n        const websites = Object.keys(websitesObj)\n        await this.add(websites)\n      }\n    }\n  },\n\n  needMigrate() {\n    return api.Settings.get(WHITELIST_IN_STORAGE) == null\n  },\n\n  /**\n   * Move all whitelist websites to the new structure in the storage after import settings\n   * @returns {Promise<void>}\n   */\n  async importWhitelist() {\n    // we shoud check whitelist after import settings, because old and new whitelist have different structure\n    _websites = []\n    const websitesObj = api.Settings.get(WHITELIST_IN_STORAGE_OLD)\n    if (websitesObj != null) {\n      const websites = Object.keys(websitesObj)\n      await this.add(websites)\n    }\n  },\n\n  async saveChanges() {\n    await api.Storage.set({\n      [WHITELIST_IN_STORAGE]: _websites,\n    })\n  },\n\n  addListeners() {\n    API.PubSub.listen(\n      'Settings.data.refreshed',\n      async (message: string, payload: any) => {\n        if (payload.changes.whitelistNew || payload.changes.disableSync) {\n          if (payload.changes.disableSync) {\n            if (payload.disableSync === false) {\n              await api.Storage.setBucket(WHITELIST_IN_STORAGE, 'SYNC')\n            } else {\n              await api.Storage.setBucket(WHITELIST_IN_STORAGE, 'LOCAL')\n            }\n          }\n\n          this.getWhitelist()\n        }\n      },\n    )\n  },\n}\n\nexport default WhitelistRepository\n","import { API } from './API'\nimport Amplitude from './Amplitude'\nimport AmplitudeAPI from './AmplitudeAPI'\nimport ChromeAPI from './ChromeAPI'\nimport DateUtils from './DateUtils'\nimport DomainParser from './DomainParser'\nimport GeneralUtils from './GeneralUtils'\nimport IncrementalRollout from './IncrementalRollout'\nimport ObjectUtils from './ObjectUtils'\nimport Requirements from './Requirements'\nimport Storage from './Storage'\nimport Settings from './Settings'\nimport RemoteConfig from './RemoteConfig'\nimport WebUsage from './WebUsage'\nimport ScheduleJobs from './ScheduleJobs'\nimport PubSub from 'dropletjs.pubsub'\nimport Notification from './Notification'\nimport NuclearOption from './NuclearOption'\nimport BlockedGroupsTimer from './BlockedGroupsTimer'\nimport BlockedAllWebsites from './BlockedAllWebsites'\nimport BlockedGroupsRepository from './BlockedGroupsRepository'\nimport StayFocusd from './StayFocusd'\nimport Bugsnag from './Bugsnag'\nimport WhitelistRepository from './WhitelistRepository'\n\nconst classes: any[] = [\n  API,\n  Amplitude,\n  AmplitudeAPI,\n  Bugsnag,\n  ChromeAPI,\n  DateUtils,\n  DomainParser,\n  GeneralUtils,\n  IncrementalRollout,\n  ObjectUtils,\n  Requirements,\n  Storage,\n  Settings,\n  RemoteConfig,\n  WebUsage,\n  ScheduleJobs,\n  PubSub,\n  Notification,\n  NuclearOption,\n  BlockedGroupsRepository,\n  BlockedAllWebsites,\n  BlockedGroupsTimer,\n  WhitelistRepository,\n  StayFocusd,\n]\n\n/* Add third-party libraries to API */\ndeclare module '~/core/API' {\n  interface API {\n    PubSub: typeof PubSub\n  }\n}\nAPI.mixin({\n  mixin: API.mixin.bind(API),\n  PubSub,\n})\n\n/*\n * Call initAPI() method on each of the required classes. This is how each class\n * exposes its methods to the API\n */\nfor (let i = 0; i < classes.length; i++) {\n  const thisClass = classes[i]\n\n  if (\n    typeof thisClass === 'object' &&\n    thisClass !== null &&\n    typeof thisClass.initAPI === 'function'\n  ) {\n    thisClass.initAPI(API)\n  }\n}\n\n/*\n * If the background page is available and the API has already been defined\n * there, use that. This ensures that all references to the API are consistent\n * the across background script, options page, and popup\n */\n\n/**\n * Don't use the background page for some APIs, like Analytics.\n */\nAmplitude.initAPI(API) // Must run in the current context so the sessionId is generated per page\nBugsnag.initAPI(API) // Must run in the current context so it reports errors from each page\n\nexport default API\n","const list = [\n\t// Native ES errors https://262.ecma-international.org/12.0/#sec-well-known-intrinsic-objects\n\tEvalError,\n\tRangeError,\n\tReferenceError,\n\tSyntaxError,\n\tTypeError,\n\tURIError,\n\n\t// Built-in errors\n\tglobalThis.DOMException,\n\n\t// Node-specific errors\n\t// https://nodejs.org/api/errors.html\n\tglobalThis.AssertionError,\n\tglobalThis.SystemError,\n]\n\t// Non-native Errors are used with `globalThis` because they might be missing. This filter drops them when undefined.\n\t.filter(Boolean)\n\t.map(\n\t\tconstructor => [constructor.name, constructor],\n\t);\n\nconst errorConstructors = new Map(list);\n\nexport default errorConstructors;\n","import errorConstructors from './error-constructors.js';\n\nexport class NonError extends Error {\n\tname = 'NonError';\n\n\tconstructor(message) {\n\t\tsuper(NonError._prepareSuperMessage(message));\n\t}\n\n\tstatic _prepareSuperMessage(message) {\n\t\ttry {\n\t\t\treturn JSON.stringify(message);\n\t\t} catch {\n\t\t\treturn String(message);\n\t\t}\n\t}\n}\n\nconst commonProperties = [\n\t{\n\t\tproperty: 'name',\n\t\tenumerable: false,\n\t},\n\t{\n\t\tproperty: 'message',\n\t\tenumerable: false,\n\t},\n\t{\n\t\tproperty: 'stack',\n\t\tenumerable: false,\n\t},\n\t{\n\t\tproperty: 'code',\n\t\tenumerable: true,\n\t},\n\t{\n\t\tproperty: 'cause',\n\t\tenumerable: false,\n\t},\n];\n\nconst toJsonWasCalled = new WeakSet();\n\nconst toJSON = from => {\n\ttoJsonWasCalled.add(from);\n\tconst json = from.toJSON();\n\ttoJsonWasCalled.delete(from);\n\treturn json;\n};\n\nconst getErrorConstructor = name => errorConstructors.get(name) ?? Error;\n\n// eslint-disable-next-line complexity\nconst destroyCircular = ({\n\tfrom,\n\tseen,\n\tto,\n\tforceEnumerable,\n\tmaxDepth,\n\tdepth,\n\tuseToJSON,\n\tserialize,\n}) => {\n\tif (!to) {\n\t\tif (Array.isArray(from)) {\n\t\t\tto = [];\n\t\t} else if (!serialize && isErrorLike(from)) {\n\t\t\tconst Error = getErrorConstructor(from.name);\n\t\t\tto = new Error();\n\t\t} else {\n\t\t\tto = {};\n\t\t}\n\t}\n\n\tseen.push(from);\n\n\tif (depth >= maxDepth) {\n\t\treturn to;\n\t}\n\n\tif (useToJSON && typeof from.toJSON === 'function' && !toJsonWasCalled.has(from)) {\n\t\treturn toJSON(from);\n\t}\n\n\tconst continueDestroyCircular = value => destroyCircular({\n\t\tfrom: value,\n\t\tseen: [...seen],\n\t\tforceEnumerable,\n\t\tmaxDepth,\n\t\tdepth,\n\t\tuseToJSON,\n\t\tserialize,\n\t});\n\n\tfor (const [key, value] of Object.entries(from)) {\n\t\tif (value && value instanceof Uint8Array && value.constructor.name === 'Buffer') {\n\t\t\tto[key] = '[object Buffer]';\n\t\t\tcontinue;\n\t\t}\n\n\t\t// TODO: Use `stream.isReadable()` when targeting Node.js 18.\n\t\tif (value !== null && typeof value === 'object' && typeof value.pipe === 'function') {\n\t\t\tto[key] = '[object Stream]';\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (typeof value === 'function') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!value || typeof value !== 'object') {\n\t\t\t// Gracefully handle non-configurable errors like `DOMException`.\n\t\t\ttry {\n\t\t\t\tto[key] = value;\n\t\t\t} catch {}\n\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!seen.includes(from[key])) {\n\t\t\tdepth++;\n\t\t\tto[key] = continueDestroyCircular(from[key]);\n\n\t\t\tcontinue;\n\t\t}\n\n\t\tto[key] = '[Circular]';\n\t}\n\n\tfor (const {property, enumerable} of commonProperties) {\n\t\tif (typeof from[property] !== 'undefined' && from[property] !== null) {\n\t\t\tObject.defineProperty(to, property, {\n\t\t\t\tvalue: isErrorLike(from[property]) ? continueDestroyCircular(from[property]) : from[property],\n\t\t\t\tenumerable: forceEnumerable ? true : enumerable,\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t});\n\t\t}\n\t}\n\n\treturn to;\n};\n\nexport function serializeError(value, options = {}) {\n\tconst {\n\t\tmaxDepth = Number.POSITIVE_INFINITY,\n\t\tuseToJSON = true,\n\t} = options;\n\n\tif (typeof value === 'object' && value !== null) {\n\t\treturn destroyCircular({\n\t\t\tfrom: value,\n\t\t\tseen: [],\n\t\t\tforceEnumerable: true,\n\t\t\tmaxDepth,\n\t\t\tdepth: 0,\n\t\t\tuseToJSON,\n\t\t\tserialize: true,\n\t\t});\n\t}\n\n\t// People sometimes throw things besides Error objects\n\tif (typeof value === 'function') {\n\t\t// `JSON.stringify()` discards functions. We do too, unless a function is thrown directly.\n\t\t// We intentionally use `||` because `.name` is an empty string for anonymous functions.\n\t\treturn `[Function: ${value.name || 'anonymous'}]`;\n\t}\n\n\treturn value;\n}\n\nexport function deserializeError(value, options = {}) {\n\tconst {maxDepth = Number.POSITIVE_INFINITY} = options;\n\n\tif (value instanceof Error) {\n\t\treturn value;\n\t}\n\n\tif (isMinimumViableSerializedError(value)) {\n\t\tconst Error = getErrorConstructor(value.name);\n\t\treturn destroyCircular({\n\t\t\tfrom: value,\n\t\t\tseen: [],\n\t\t\tto: new Error(),\n\t\t\tmaxDepth,\n\t\t\tdepth: 0,\n\t\t\tserialize: false,\n\t\t});\n\t}\n\n\treturn new NonError(value);\n}\n\nexport function isErrorLike(value) {\n\treturn Boolean(value)\n\t&& typeof value === 'object'\n\t&& 'name' in value\n\t&& 'message' in value\n\t&& 'stack' in value;\n}\n\nfunction isMinimumViableSerializedError(value) {\n\treturn Boolean(value)\n\t&& typeof value === 'object'\n\t&& 'message' in value\n\t&& !Array.isArray(value);\n}\n\nexport {default as errorConstructors} from './error-constructors.js';\n","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/generic.ts\nimport { serializeError, deserializeError } from \"serialize-error\";\nfunction defineGenericMessanging(config) {\n  let removeRootListener;\n  let perTypeListeners = {};\n  function cleanupRootListener() {\n    if (Object.entries(perTypeListeners).length === 0) {\n      removeRootListener == null ? void 0 : removeRootListener();\n      removeRootListener = void 0;\n    }\n  }\n  let idSeq = Math.floor(Math.random() * 1e4);\n  function getNextId() {\n    return idSeq++;\n  }\n  return {\n    sendMessage(type, data, ...args) {\n      return __async(this, null, function* () {\n        var _a2, _b;\n        const message = {\n          id: getNextId(),\n          type,\n          data,\n          timestamp: Date.now()\n        };\n        (_a2 = config.logger) == null ? void 0 : _a2.debug(`[messaging] sendMessage {id=${message.id}} \\u2500\\u1405`, message, ...args);\n        const response = yield config.sendMessage(message, ...args);\n        const { res, err } = response != null ? response : { err: new Error(\"No response\") };\n        (_b = config.logger) == null ? void 0 : _b.debug(`[messaging] sendMessage {id=${message.id}} \\u140A\\u2500`, { res, err });\n        if (err != null)\n          throw deserializeError(err);\n        return res;\n      });\n    },\n    onMessage(type, onReceived) {\n      var _a2, _b, _c;\n      if (removeRootListener == null) {\n        (_a2 = config.logger) == null ? void 0 : _a2.debug(\n          `[messaging] \"${type}\" initialized the message listener for this context`\n        );\n        removeRootListener = config.addRootListener((message) => {\n          var _a3, _b2;\n          if (typeof message.type != \"string\" || typeof message.timestamp !== \"number\") {\n            const err = Error(\n              `[messaging] Unknown message format, must include the 'type' & 'timestamp' fields, received: ${JSON.stringify(\n                message\n              )}`\n            );\n            (_a3 = config.logger) == null ? void 0 : _a3.error(err);\n            throw err;\n          }\n          (_b2 = config == null ? void 0 : config.logger) == null ? void 0 : _b2.debug(\"[messaging] Received message\", message);\n          const listener = perTypeListeners[message.type];\n          if (listener == null)\n            return;\n          const res = listener(message);\n          return Promise.resolve(res).then((res2) => {\n            var _a4;\n            (_a4 = config == null ? void 0 : config.logger) == null ? void 0 : _a4.debug(`[messaging] onMessage {id=${message.id}} \\u2500\\u1405`, { res: res2 });\n            return { res: res2 };\n          }).catch((err) => {\n            var _a4;\n            (_a4 = config == null ? void 0 : config.logger) == null ? void 0 : _a4.debug(`[messaging] onMessage {id=${message.id}} \\u2500\\u1405`, { err });\n            return { err: serializeError(err) };\n          });\n        });\n      }\n      if (perTypeListeners[type] != null) {\n        const err = Error(\n          `[messaging] In this JS context, only one listener can be setup for ${type}`\n        );\n        (_b = config.logger) == null ? void 0 : _b.error(err);\n        throw err;\n      }\n      perTypeListeners[type] = onReceived;\n      (_c = config.logger) == null ? void 0 : _c.log(`[messaging] Added listener for ${type}`);\n      return () => {\n        delete perTypeListeners[type];\n        cleanupRootListener();\n      };\n    },\n    removeAllListeners() {\n      Object.keys(perTypeListeners).forEach((type) => {\n        delete perTypeListeners[type];\n      });\n      cleanupRootListener();\n    }\n  };\n}\n\nexport {\n  __spreadValues,\n  __spreadProps,\n  __objRest,\n  __async,\n  defineGenericMessanging\n};\n","import {\n  __spreadProps,\n  __spreadValues,\n  defineGenericMessanging\n} from \"./chunk-ALTBYIMW.js\";\n\n// src/extension.ts\nimport Browser from \"webextension-polyfill\";\nfunction defineExtensionMessaging(config) {\n  return defineGenericMessanging(__spreadProps(__spreadValues({}, config), {\n    sendMessage(message, tabId) {\n      if (tabId == null)\n        return Browser.runtime.sendMessage(message);\n      return Browser.tabs.sendMessage(tabId, message);\n    },\n    addRootListener(processMessage) {\n      const listener = (message, sender) => {\n        if (typeof message === \"object\")\n          return processMessage(__spreadProps(__spreadValues({}, message), { sender }));\n        else\n          return processMessage(message);\n      };\n      Browser.runtime.onMessage.addListener(listener);\n      return () => Browser.runtime.onMessage.removeListener(listener);\n    }\n  }));\n}\nexport {\n  defineExtensionMessaging\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","/*!\n * get-value <https://github.com/jonschlinkert/get-value>\n *\n * Copyright (c) 2014-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nconst isObject = require('isobject');\n\nmodule.exports = function(target, path, options) {\n  if (!isObject(options)) {\n    options = { default: options };\n  }\n\n  if (!isValidObject(target)) {\n    return typeof options.default !== 'undefined' ? options.default : target;\n  }\n\n  if (typeof path === 'number') {\n    path = String(path);\n  }\n\n  const isArray = Array.isArray(path);\n  const isString = typeof path === 'string';\n  const splitChar = options.separator || '.';\n  const joinChar = options.joinChar || (typeof splitChar === 'string' ? splitChar : '.');\n\n  if (!isString && !isArray) {\n    return target;\n  }\n\n  if (isString && path in target) {\n    return isValid(path, target, options) ? target[path] : options.default;\n  }\n\n  let segs = isArray ? path : split(path, splitChar, options);\n  let len = segs.length;\n  let idx = 0;\n\n  do {\n    let prop = segs[idx];\n    if (typeof prop === 'number') {\n      prop = String(prop);\n    }\n\n    while (prop && prop.slice(-1) === '\\\\') {\n      prop = join([prop.slice(0, -1), segs[++idx] || ''], joinChar, options);\n    }\n\n    if (prop in target) {\n      if (!isValid(prop, target, options)) {\n        return options.default;\n      }\n\n      target = target[prop];\n    } else {\n      let hasProp = false;\n      let n = idx + 1;\n\n      while (n < len) {\n        prop = join([prop, segs[n++]], joinChar, options);\n\n        if ((hasProp = prop in target)) {\n          if (!isValid(prop, target, options)) {\n            return options.default;\n          }\n\n          target = target[prop];\n          idx = n - 1;\n          break;\n        }\n      }\n\n      if (!hasProp) {\n        return options.default;\n      }\n    }\n  } while (++idx < len && isValidObject(target));\n\n  if (idx === len) {\n    return target;\n  }\n\n  return options.default;\n};\n\nfunction join(segs, joinChar, options) {\n  if (typeof options.join === 'function') {\n    return options.join(segs);\n  }\n  return segs[0] + joinChar + segs[1];\n}\n\nfunction split(path, splitChar, options) {\n  if (typeof options.split === 'function') {\n    return options.split(path);\n  }\n  return path.split(splitChar);\n}\n\nfunction isValid(key, target, options) {\n  if (typeof options.isValid === 'function') {\n    return options.isValid(key, target);\n  }\n  return true;\n}\n\nfunction isValidObject(val) {\n  return isObject(val) || Array.isArray(val) || typeof val === 'function';\n}\n","var __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/isBackground.ts\nimport Browser from \"webextension-polyfill\";\nfunction isBackground() {\n  if (!canAccessExtensionApi())\n    return false;\n  const manifest = Browser.runtime.getManifest();\n  if (!manifest.background)\n    return false;\n  return manifest.manifest_version === 3 ? isBackgroundServiceWorker() : isBackgroundPage();\n}\nfunction canAccessExtensionApi() {\n  var _a;\n  return !!((_a = Browser.runtime) == null ? void 0 : _a.id);\n}\nvar KNOWN_BACKGROUND_PAGE_PATHNAMES = [\n  \"/_generated_background_page.html\"\n];\nfunction isBackgroundPage() {\n  return typeof window !== \"undefined\" && KNOWN_BACKGROUND_PAGE_PATHNAMES.includes(location.pathname);\n}\nfunction isBackgroundServiceWorker() {\n  return typeof window === \"undefined\";\n}\n\n// src/defineProxyService.ts\nimport { defineExtensionMessaging } from \"@webext-core/messaging\";\nimport get from \"get-value\";\nfunction defineProxyService(name, init, config) {\n  let service;\n  const messageKey = `proxy-service.${name}`;\n  const { onMessage, sendMessage } = defineExtensionMessaging(config);\n  function createProxy(path) {\n    const wrapped = () => {\n    };\n    const proxy = new Proxy(wrapped, {\n      apply(_target, _thisArg, args) {\n        return __async(this, null, function* () {\n          const res = yield sendMessage(messageKey, {\n            path,\n            args\n          });\n          return res;\n        });\n      },\n      get(target, propertyName, receiver) {\n        if (propertyName === \"__proxy\" || typeof propertyName === \"symbol\") {\n          return Reflect.get(target, propertyName, receiver);\n        }\n        return createProxy(path == null ? propertyName : `${path}.${propertyName}`);\n      }\n    });\n    proxy.__proxy = true;\n    return proxy;\n  }\n  return [\n    function registerService(...args) {\n      service = init(...args);\n      onMessage(messageKey, ({ data }) => {\n        const method = data.path == null ? service : get(service != null ? service : {}, data.path);\n        if (method)\n          return Promise.resolve(method.bind(service)(...data.args));\n      });\n      return service;\n    },\n    function getService() {\n      if (!isBackground())\n        return createProxy();\n      if (service == null) {\n        throw Error(\n          `Failed to get an instance of ${name}: in background, but registerService has not been called. Did you forget to call registerService?`\n        );\n      }\n      return service;\n    }\n  ];\n}\n\n// src/flattenPromise.ts\nimport get2 from \"get-value\";\nfunction flattenPromise(promise) {\n  function createProxy(location2) {\n    const wrapped = () => {\n    };\n    const proxy = new Proxy(wrapped, {\n      apply(_target, _thisArg, args) {\n        return __async(this, null, function* () {\n          const t = yield promise;\n          const thisArg = (location2 == null ? void 0 : location2.parentPath) ? get2(t, location2.parentPath) : t;\n          const fn = location2 ? get2(t, location2.propertyPath) : t;\n          return fn.apply(thisArg, args);\n        });\n      },\n      get(target, propertyName, receiver) {\n        if (propertyName === \"__proxy\" || typeof propertyName === \"symbol\") {\n          return Reflect.get(target, propertyName, receiver);\n        }\n        return createProxy({\n          propertyPath: location2 == null ? propertyName : `${location2.propertyPath}.${propertyName}`,\n          parentPath: location2 == null ? void 0 : location2.propertyPath\n        });\n      }\n    });\n    proxy.__proxy = true;\n    return proxy;\n  }\n  return createProxy();\n}\nexport {\n  defineProxyService,\n  flattenPromise\n};\n","import { createPanelApiClient } from '@sensortower/panel-api'\nimport { defineProxyService } from '@webext-core/proxy-service'\n\nexport const [registerBackroundApi, injectBackgroundApi] = defineProxyService(\n  'BackgroundApi',\n  () => {\n    return createPanelApiClient({\n      ofetchDefaults: {\n        baseURL: 'https://stayfocusd.st-panel-api.com',\n      },\n    })\n  },\n)\n","import API from '~/core/CoreAPI'\nimport Logger from '~/core/Logger'\n\nconst extensionID = API.Chrome.Extension.getID()\nexport function initPubSubForwarder() {\n  /* Listen for requests coming from background scripts and republish via PubSub */\n  API.Chrome.Message.on.addListener(function (request, sender, callback) {\n    request.payload = request.payload || {}\n    request.payload.sender = sender || {}\n\n    /* If the message isn't coming from a tab, republish it */\n    if (!sender.tab) {\n      API.PubSub.publish({\n        message: request.message,\n        payload: request.payload,\n        onPublish: typeof callback === 'function' ? callback : function () {},\n      })\n    }\n\n    return true\n  })\n\n  /* Subscribe to all messages and pipe them through the Chrome.Message API */\n  API.PubSub.subscribe({\n    async: true,\n\n    handler: function (message, payload, callback) {\n      payload = payload || {}\n\n      function callbackWrapper(callback) {\n        if (chrome.runtime.lastError) {\n          Logger.log(\n            'Content.js subscribe to all messages',\n            'runtime.lastError',\n            chrome.runtime.lastError,\n          )\n        }\n\n        if (callback != undefined && typeof callback === 'function') {\n          return () => callback\n        } else {\n          return () => true\n        }\n      }\n\n      callback = callbackWrapper(callback)\n\n      /* If the message is not coming from the extension, send it */\n      if (!payload.sender || payload.sender.id !== extensionID) {\n        API.Chrome.Message.send(\n          null,\n          { message: message.toString(), payload: payload },\n          null,\n          callback,\n        )\n      }\n\n      return true\n    },\n  })\n}\n","// Don't change the order of these imports.\n// Not sure why but it creates broken output in dist folder and\n// chrome complains with `Uncaught SyntaxError: Illegal return statement`\nimport * as AdFinder from '@sensortower/ad-finder'\nimport API from '~/core/CoreAPI'\nimport Logger from '~/core/Logger'\nimport { injectBackgroundApi } from '~/utils/backround-api'\nimport { initPubSubForwarder } from '~/utils/initPubSubForwarder'\nimport AppConst from './AppConsts'\n\nlet currentTabUrl: string\n\nconst port = chrome.runtime.connect({ name: 'ad-finder' })\ninitPubSubForwarder()\n\nAPI.PubSub.listen(\n  'StayFocusd.tab.selected.*',\n  function (message: string, payload: any) {\n    currentTabUrl = payload.tab.url\n  },\n)\n\nconst init = async () => {\n  const installId = await API.Storage.get('install-id')\n\n  AdFinder.initAdFinderInContentScript(\n    {\n      getInstallId: () => API.Storage.get('install-id', true),\n      sendMessageToBackground: (message) => {\n        // Used to ensure we wait for a response from this specific request, not another, similar request.\n        const msgNonce = Math.random()\n        port.postMessage({\n          message: 'forward-message.request',\n          payload: message,\n          nonce: msgNonce,\n        })\n        return new Promise((res) => {\n          const listener = ({\n            message,\n            payload,\n            nonce,\n          }: {\n            message: string\n            payload: any\n            nonce: number\n          }) => {\n            if (message === 'forward-message.response' && msgNonce === nonce) {\n              port.onMessage.removeListener(listener)\n              res(payload)\n            }\n          }\n          port.onMessage.addListener(listener)\n        })\n      },\n      logger: MINIFIED ? null : console,\n      enablePathmaticsLogs: !MINIFIED,\n      mv3PathmaticsPath: 'common/youtube-hulu-vast-ads.js',\n      onAdDetected: (ad) => {\n        port.postMessage({\n          message: 'ad-found',\n          payload: {\n            hostname: currentTabUrl,\n            ad: ad,\n          },\n        })\n      },\n    },\n    {\n      api: injectBackgroundApi(),\n      appId: AppConst.APP_ID,\n      installId: installId,\n      instacartSelectors: await API.RemoteConfig.get('instacartSelectors'),\n      onAdFound(_ad, container) {\n        // Highlight the elements during development\n        if (import.meta.env.DEV) {\n          container.style.backgroundColor = 'red'\n          container.style.outline = '8px solid red'\n        }\n      },\n    },\n  )\n}\n\n;(async () => {\n  await API.Storage.initAsync()\n  await API.RemoteConfig.init()\n  const isEnabled = await API.IncrementalRollout.AdFinder.isEnabled()\n\n  Logger.log('ad-finder', 'Ad finder enabled? ' + isEnabled, undefined, 'INFO')\n  if (isEnabled) init()\n})()\n"],"names":["ae","ce","r","e","k","le","te","J","re","s","a","o","f","g","n","p","E","l","i","u","A","T","N","P","R","b","C","S","O","M","I","q","x","v","_","B","L","G","y","w","h","m","ue","F","X","X$1","he","K","de","Z","fe","U","$","ge","ne","Y","ie","Q","me","pe","ye","ee","Ae","we","c","xe","ve","be","Ee","Se","D","t","k$1","z","j","H","V","_e","se","Te","W","Ne","Ce","Oe","Pe","Ie","Re","Me","d","je","oe","Le","De","ke","Ue","Fe$1","qe","He","Fe","ObjectUtils","API","target","source","deep","dotPath","sourceObj","parts","lastPart","len","counter","current","obj","str","keys","sortedObj","key","key2","root","factory","module","__webpack_modules__","Breadcrumb","message","metadata","type","timestamp","__unused_webpack_exports","__webpack_require__","config","Event","Session","map","includes","filter","reduce","assign","runCallbacks","metadataDelegate","runSyncCallbacks","BREADCRUMB_TYPES","add","clear","merge","noop","Client","configuration","schema","internalPlugins","notifier","pl","self","notify","section","keyOrObj","maybeVal","name","variant","featureFlags","opts","plugin","errors","accum","defaultValue","generateConfigErrorMessage","id","email","result","session","fn","front","crumb","types","maybeError","onError","postReportCallback","event","originalSeverity","onCallbackError","err","callbacks","shouldSend","rawInput","stringify","val","isArray","intRange","stringWithLength","listOfFunctions","defaultErrorTypes","value","providedKeys","defaultKeys","maybeType","method","feature","ErrorStackParser","StackGenerator","hasStack","featureFlagDelegate","isError","errorClass","errorMessage","stacktrace","handledState","defaultHandledState","originalError","createBugsnagError","er","formatStackframe","frame","normaliseFunctionName","ensureString","getCauseStack","error","errorFramesToSkip","backtraceFramesToSkip","tolerateNonErrors","component","logger","internalFrames","normaliseError","makeSerialisable","causes","normalisedCauses","cause","createAndLogInputError","reason","verb","hasNecessaryFields","arr","cb","index","next","some","ret","item","_hasDontEnumBug","_dontEnums","prop","jsonStringify","existingFeatures","existingFeatureKeys","existingIndex","newFeatures","toEventApi","flag","features","featuresIndex","EVENT_REDACTION_PATHS","redactedKeys","payload","state","updates","get","callbackArg","callbackType","ignore","cbs","min","max","fingerprint","pad","blockSize","base","discreteValues","randomBlock","safeCounter","cuid","letter","print","random","env","globalCount","mimeTypesLength","clientId","num","size","data","replacer","space","redactedPaths","prepareObjForSerialization","MAX_DEPTH","MAX_EDGES","MIN_PRESERVED_DEPTH","REPLACEMENT_NODE","throwsMessage","find","haystack","needle","isDescendent","paths","path","shouldRedact","patterns","safelyGetProp","seen","edges","visit","edgesExceeded","fResult","eResult","aResult","exports","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","urlLike","regExp","filtered","line","sanitizedLine","location","tokens","locationParts","functionName","fileName","functionNameRegex","matches","lineRE","lines","match","functionCall","argsRaw","args","stack","maxStackSize","curr","_isNumber","_capitalize","_getter","booleanProps","numericProps","stringProps","arrayProps","props","lineNumber","columnNumber","BUGSNAG_ANONYMOUS_ID_KEY","getDeviceId","win","storage","nav","client","device","setDefaultUserId","eventOrSession","user","sessionDelegate","sessionClient","onerror","messageOrEvent","url","lineNo","charNo","decorateStack","prevOnError","culprit","isActualNumber","listener","evt","isBluebird","fixBluebirdStacktrace","promise","getPrefixedConsole","consoleLog","consoleMethod","extensionRegex","__webpack_module_cache__","moduleId","cachedModule","getter","definition","__webpack_exports__","client_default","json_payload","delivery_fetch_delivery","fetch","client_ip","client_ip_default","plugin_window_onerror_onerror","onerror_default","unhandled_rejection","unhandled_rejection_default","src_config","config_default","device_default","session_default","prevent_discard","prevent_discard_default","notifier_name","version","Bugsnag","bugsnag","serialize","object","serialized","global","this","_b","_a","CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE","wrapAPIs","extensionAPIs","apiMetadata","DefaultWeakMap","createItem","items","isThenable","makeCallback","callbackArgs","pluralizeArguments","numArgs","wrapAsyncFunction","resolve","reject","cbError","wrapMethod","wrapper","targetMethod","thisObj","hasOwnProperty","wrapObject","wrappers","cache","handlers","proxyTarget","receiver","desc","wrapEvent","wrapperMap","onRequestFinishedWrappers","req","wrappedReq","onMessageWrappers","sender","sendResponse","didCallSendResponse","wrappedSendResponse","sendResponsePromise","response","isResultThenable","sendPromisedResult","msg","wrappedSendMessageCallback","reply","wrappedSendMessage","apiNamespaceObj","wrappedCb","staticWrappers","settingMetadata","api","getValidStacktracePrefix","protocol","Browser","isStringable","isErrorFromExtension","VALID_STACKTRACE_PREFIX","isErrorIgnored","ignoreMatches","ignored","fixStackTrace","getErrorFromArgs","arg","getStringFromArgs","excludeFuncFromStacktrace","func","sliceAt","trace","BugsnagApi","theAPI","context","installId","hasAcceptedPrivacyPolicy","hasCompletedOnboarding","isNewUser","bugsnagIgnoreMatches","defaultSampling","createLogger","funcName","_message","_payload","_level","level","Logger","Utils","text","res","rej","scope","log","GeneralUtils","mixins","mixinTemp","mixin","mixinObj","mixinName","_typeof","toInteger","dirtyNumber","number","requiredArgs","required","toDate","argument","argStr","addMilliseconds","dirtyDate","dirtyAmount","amount","defaultOptions","getDefaultOptions","getTimezoneOffsetInMilliseconds","date","utcDate","isDate","isValid","subMilliseconds","MILLISECONDS_IN_DAY","getUTCDayOfYear","startOfYearTimestamp","difference","startOfUTCISOWeek","weekStartsOn","day","diff","getUTCISOWeekYear","year","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfUTCISOWeekYear","fourthOfJanuary","MILLISECONDS_IN_WEEK","getUTCISOWeek","startOfUTCWeek","options","_ref","_ref2","_ref3","_options$weekStartsOn","_options$locale","_options$locale$optio","_defaultOptions$local","_defaultOptions$local2","getUTCWeekYear","_options$firstWeekCon","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfUTCWeekYear","firstWeek","getUTCWeek","addLeadingZeros","targetLength","sign","output","formatters","token","signedYear","month","dayPeriodEnumValue","numberOfDigits","milliseconds","fractionalSeconds","formatters$3","dayPeriodEnum","localize","era","lightFormatters","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","quarter","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","originalDate","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","offset","dirtyDelimiter","absOffset","minutes","delimiter","formatters$1","dateLongFormatter","pattern","formatLong","timeLongFormatter","dateTimeLongFormatter","matchResult","datePattern","timePattern","dateTimeFormat","longFormatters","longFormatters$1","protectedDayOfYearTokens","protectedWeekYearTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","throwProtectedError","format","input","formatDistanceLocale","formatDistance","count","tokenValue","formatDistance$1","buildFormatLongFn","width","dateFormats","timeFormats","dateTimeFormats","formatLong$1","formatRelativeLocale","formatRelative","_date","_baseDate","_options","formatRelative$1","buildLocalizeFn","dirtyIndex","valuesArray","defaultWidth","_defaultWidth","_width","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","rem100","localize$1","buildMatchFn","string","matchPattern","matchedString","parsePatterns","findIndex","findKey","rest","predicate","array","buildMatchPatternFn","parseResult","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","locale","defaultLocale","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","dirtyFormatStr","_ref4","_options$locale2","_options$locale2$opti","_ref5","_ref6","_ref7","_options$locale3","_options$locale3$opti","_defaultOptions$local3","_defaultOptions$local4","formatStr","formatterOptions","substring","firstCharacter","longFormatter","cleanEscapedString","formatter","matched","window","undefined","LIBVERSION","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","UA_MAX_LENGTH","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","EDGE","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","CHROMIUM_OS","MAC_OS","extend","regexes","extensions","mergedRegexes","enumerize","enums","has","str1","str2","lowerize","majorize","trim","rgxMapper","ua","arrays","regex","strMapper","oldSafariMap","windowsVersionMap","UAParser","_navigator","_ua","_uach","_rgxmap","_isSelfNav","_browser","_cpu","_device","_engine","_os","parser","Amplitude","canUpload","isProduction","PanelAPIUtils.generateInstallId","eventType","eventProperties","amplitudeSampling","samplePercentInt","isSampled","enabled","clickAttr","element","toggledAttr","checked","AmplitudeAPI","events","ChromeAPI","windowID","callback","query","tabs","tab","alarmInfo","alarm","listenTo","_type","_listenTo","typed","_apiName","_method","apiName","exists","DateUtils","militaryTime","timeArray","hour","ampm","displayHour","ampmString","dateObj","nowDate","dateString","msRemaining","seconds","unit","time","dayNum","abbreviated","todayDate","totalSeconds","DomainParser","fullDomain","domainArray","baseDomain","logMsg","domainTokens","penultimate","antepenultimate","domainToCheck","domainToCompare","baseDomainToCompare","baseDomainToCheck","wildcard","rawWildcardString","domainUpToWildcard","getRemoteConfigFeatures","defineFeature","enabledPercent","IncrementalRollout","Requirements","now","enabledPercentInt","hasAcceptedPP","promptAgainAt","confirmationCount","age","ineffectiveHours","currentHour","Storage","forceRefresh","_bucket","bucket","settings","sync","local","hasSync","hasLocal","promises","to","from","_key","skipMigration","_map","cacheObj","lsValue","Settings","initCount","numKeys","refreshKey","allowUnregisteredSettings","backupKeys","_version","backupString","backup","oldKey","validBackupKeys","hasChanged","SECOND","MINUTE","HOUR","DAY","MINUTE_IN_SEC","HOUR_IN_SEC","MAX_TIME_ALLOWED_DEFAULT","Time","durationInSec","hoursNum","minutesNum","secondsNum","returnSeconds","blockMinInTotal","blockHours","blockMinutes","RemoteConfig","latestConfig","latestSharedConfig","ha","Bs","gt","Ke","fa","Be","$t","dr","pa","ps","gs","ga","lr","Ys","Js","ms","ys","Wn","ft","bt","zt","Ft","Kt","hr","bs","es","ma","ya","Aa","ze","va","et","Zt","Ut","ut","_s","Bt","Wt","wt","lt","As","vs","zn","yt","ur","hs","qt","Gt","Qt","Xt","ks","Qs","Ht","ws","ht","At","xs","wa","fr","ba","xa","Ta","Sa","Rs","Ea","Ia","Na","Oa","pr","ka","Ra","Ma","Ca","La","nn","Da","Pa","ja","gr","Va","$a","Za","Ua","Ba","xt","Wa","za","Fn","Fa","Ha","qa","Ga","Ts","eo","mr","yr","so","rn","_r","an","on","Ar","no","ro","io","ao","cn","dn","oo","ln","co","lo","uo","vr","wr","br","ho","fo","po","go","mo","yo","Hn","_o","Ao","xr","un","Pt","ds","vo","wo","bo","xo","qn","Yt","hn","To","Ws","jt","We","Tr","Sr","So","Eo","Er","Ct","Ir","tt","It","Et","Io","Tt","No","Ss","Oo","ko","pn","Vt","Ro","Mo","Co","Lo","Do","Nr","gn","Gn","ot","Ze","Po","jo","Vo","$o","Or","Ms","Zo","kr","zs","Uo","Bo","Wo","zo","Fo","Ho","Xn","Kn","qo","Go","Rr","en","Mr","Fs","mn","Xo","Qe","Ko","tn","Yo","Jo","Hs","Qo","ec","tc","sc","qs","Yn","nc","rc","ic","ac","ls","oc","cc","mt","Gs","dc","lc","uc","Bd","sn","Yr","Jr","Qr","An","ei","vn","wn","bn","Ls","xn","Tn","ti","si","ni","ri","ii","ai","oi","ci","di","li","ui","hi","ts","Ds","Sn","En","In","fi","Nn","ss","On","kn","pi","st","Rn","gi","mi","Ps","pt","Nt","js","Vs","$s","Ot","yi","it","_i","Ai","vi","wi","Mn","Zs","nt","bi","xi","Ti","Si","Ei","Ve","Ii","Ni","rs","Oi","ki","Ri","rt","Mi","Ci","is","Li","Di","Pi","ns","ji","Vi","$i","Zi","Ui","Bi","Wi","zi","as","ia","Us","Un","ea","jn","Fi","kt","Ji","ra","Cn","Rt","Ln","Hi","Ge","Dn","Ki","Xe","$e","Yi","qi","Zn","sa","Vn","Gi","$n","Xi","na","at","Pn","Bn","os","cs","ca","Qi","ta","da","aa","la","oa","hc","Jn","fc","pc","us","Cr","Lr","Qn","St","Wd","Dr","gc","tr","mc","yc","_c","Ac","vc","wc","bc","xc","Tc","Sc","Pr","Ec","Ic","Nc","Oc","kc","Es","Cc","Mc","Rc","$c","Dc","Lc","Pc","jc","Vc","Zc","Uc","Bc","Wc","zc","Fc","jr","sr","Vr","$r","Hc","Xc","Zr","Ur","yn","Br","Wr","Xs","qc","Gc","zr","Lt","Kc","Yc","Jc","Qc","ed","Is","td","Mt","sd","nr","nd","Dt","rd","rr","Ks","ad","od","cd","dd","_n","ir","ar","Ye","ct","Je","dt","Jt","Ns","Fr","vt","fs","Os","Hr","_t","ld","Cs","ud","hd","fd","pd","gd","md","yd","_d","Ad","vd","wd","bd","xd","Td","Sd","qr","Ed","Gr","Id","Nd","Xr","or","Od","kd","Rd","Md","Cd","Ld","Dd","Kr","Pd","jd","cr","Vd","$d","Hd","AppConsts","CRAWL_UPLOAD_ENDPOINT","PM_CONFIG_ENDPOINT","STAYFOCUSD_AD_FINDER_PARTNER_ID","WebUsage","isEnabled","WebExtUsage.openIdbUsageDatabase","WebExtUsage.initUsageSdkInBackground","processAdFinderMessage","AdFinder.initAdFinderInBackground","port","hostname","PanelAPIUtils.parseUrl","activeSessions","tabSession","suspectProtoRx","suspectConstructorRx","JsonSigRx","jsonParseTransform","warnKeyDropped","destr","_value","_lval","HASH_RE","AMPERSAND_RE","SLASH_RE","EQUAL_RE","PLUS_RE","ENC_CARET_RE","ENC_BACKTICK_RE","ENC_PIPE_RE","ENC_SPACE_RE","encode","encodeQueryValue","encodeQueryKey","decode","decodeQueryKey","decodeQueryValue","parseQuery","parametersString","parameter","encodeQueryItem","stringifyQuery","PROTOCOL_STRICT_REGEX","PROTOCOL_REGEX","PROTOCOL_RELATIVE_REGEX","TRAILING_SLASH_RE","JOIN_LEADING_SLASH_RE","hasProtocol","inputString","hasTrailingSlash","respectQueryAndFragment","withoutTrailingSlash","fragment","fragmentIndex","s0","withTrailingSlash","withBase","isEmptyURL","_base","joinURL","withQuery","parsed","parseURL","mergedQuery","stringifyParsedURL","isNonEmptyURL","segment","url2","_segment","protocolRelative","defaultProto","_specialProtoMatch","_proto","_pathname","parsePath","auth","hostAndPath","host","pathname","search","hash","FetchError","createFetchError","ctx","requestStr","statusStr","fetchError","refKey","payloadMethods","isPayloadMethod","isJSONSerializable","textTypes","JSON_RE","detectResponseType","_contentType","contentType","mergeFetchOptions","defaults","Headers","merged","retryStatusCodes","nullBodyResponses","createFetch","globalOptions","AbortController","isAbort","retries","responseCode","retryDelay","$fetchRaw","_request","abortTimeout","controller","responseType","parseFunction","$fetch","request","_globalThis","ofetch","__publicField","JobId","SESSIONS_LAST_UPLOADED_AT_STORAGE_KEY","PAGE_VIEWS_LAST_UPLOADED_AT_STORAGE_KEY","ScheduleJobs","usageDatabase","panelApi","PanelAPI.createPanelApiClient","WebExtUsage.defineWebUsageUploader","uploadEnabled","AppConst","details","PubSub","isObjLiteral","safeDelete","Message","msgString","msgArray","msg1Array","msg2Array","msg1Bitmask","msg2Bitmask","longerMessageLength","phase","namespace","subscribers","onComplete","onPublish","publishTo","thisData","handlerNum","messageArray","Notification","icon","totalSecondsRemaining","notificationID","timeToCheck","notificationSettings","BadgeColor","BadgeIcon","badgeIcons","showBadge","_text","iconColor","_tabID","tabID","setBadgeColor","setBadgeText","hideBadge","setIcon","isOnboardingIcon","color","changeBadgeIcons","NuclearOption","activeDays","nuclearOptionSettings","isActive","frequency","lastActiveDate","lastExpiredDate","startType","todayStartTimeDateObj","startDate","isBlacklisted","isWhitelisted","valueFromStorage","secondsUntilNuclear","TICK_INTERVAL","BlockedGroupsTimer","isNewDay","killPageAction","updateBadgeAction","postTimerUpdatedMessage","showNotification","blockTimeForAllObj","group","totalSecondsRemainingForGroup","elapsedTime","remainingTime","isMaxTimeAllowedExceededForAll","getTotalSecondsRemainingForAll","BlockedAllWebsites","allowedTime","isHostnameBlockedPredicate","GROUPS_IN_STORAGE","BLACK_LIST_IN_STORAGE","MAX_TIME_ALLOWED_IN_STORAGE","DEFAULT_GROUP_NAME","_groups","BlockedGroupsRepository","hasDataForMigration","groups","groupName","maxTime","websites","newGroup","sourceGroupName","existingGroup","website","targetGroupIndex","domain","site","websitesObj","maxTimeAllowedInMinutes","onboardingOpenedAtStorageKey","StayFocusd","changes","areaName","sessions","ads","callbackWrapper","innerCallback","webOnboardingPromise","webOnboardingResolve","prevVersion","disableUpdatePopup","firstInstallDate","newTabTimeout","isOnboardingCompleted","onboardingOpenedAt","canOpenTab","isBlockable","isBlockableByNuclearOption","blockedGroup","blacklistMatch","whitelistMatch","nowTimestamp","resetTimestamp","resetTime","resetArray","resetHour","resetMin","nuclearOptionCountdown","remainingInt","remainingText","windowObj","wTab","customMsg","getTimerForDefaultGroup","nuclearExpiration","blockAll","activeDaysString","asBooleanArray","activeDaysStrArray","activeDaysArray","activeDaysWeekArray","dayIndex","todayDay","startTime","endTime","_activeHoursQueue","activeHoursQueue","activeHours","activeHoursArray","startArray","endArray","todayHour","todayMin","testHour","testMin","startHour","startMin","endHour","endMin","activeHoursQueueArray","newResetTimestamp","resetTimeQueue","defaultResetTime","currentTimestamp","resetTimeQueueObj","resetTimeQueueArray","doc","objects","WHITELIST_IN_STORAGE_OLD","WHITELIST_IN_STORAGE","_websites","classes","isAdded","targetIndex","thisClass","list","constructor","errorConstructors$1","NonError","commonProperties","toJsonWasCalled","toJSON","json","getErrorConstructor","errorConstructors","destroyCircular","forceEnumerable","maxDepth","depth","useToJSON","isErrorLike","Error","continueDestroyCircular","property","enumerable","serializeError","deserializeError","isMinimumViableSerializedError","__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","__spreadValues","__spreadProps","__async","__this","__arguments","generator","fulfilled","step","rejected","defineGenericMessanging","removeRootListener","perTypeListeners","cleanupRootListener","idSeq","getNextId","_a2","onReceived","_a3","_b2","res2","_a4","defineExtensionMessaging","tabId","processMessage","isobject","isObject","require$$0","getValue","isValidObject","isString","splitChar","joinChar","segs","split","idx","join","hasProp","isBackground","canAccessExtensionApi","manifest","isBackgroundServiceWorker","isBackgroundPage","KNOWN_BACKGROUND_PAGE_PATHNAMES","defineProxyService","init","service","messageKey","onMessage","sendMessage","createProxy","wrapped","proxy","_target","_thisArg","propertyName","registerBackroundApi","injectBackgroundApi","createPanelApiClient","extensionID","initPubSubForwarder","currentTabUrl","AdFinder.initAdFinderInContentScript","msgNonce","nonce","_ad","container"],"mappings":"iOAAA,IAAIA,GAAK,OAAO,eACZC,GAAK,CAACC,EAAG,EAAGC,IAAM,KAAKD,EAAIF,GAAGE,EAAG,EAAG,CAAE,WAAY,GAAI,aAAc,GAAI,SAAU,GAAI,MAAOC,CAAC,CAAE,EAAID,EAAE,CAAC,EAAIC,EAC3GC,GAAI,CAACF,EAAG,EAAGC,KAAOF,GAAGC,EAAG,OAAO,GAAK,SAAW,EAAI,GAAK,EAAGC,CAAC,EAAGA,GACnE,MAAME,GAAK,uy5CACX,IAAIC,GAAK,OAAO,WAAa,IAAM,WAAa,OAAO,OAAS,IAAM,OAAS,OAAO,OAAS,IAAM,OAAS,OAAO,KAAO,IAAM,KAAO,GACzI,SAASC,GAAEL,EAAG,CACZ,OAAOA,GAAKA,EAAE,YAAc,OAAO,UAAU,eAAe,KAAKA,EAAG,SAAS,EAAIA,EAAE,QAAUA,CAC/F,CACA,IAAIM,GAAK,CAAE,QAAS,CAAA,IACnB,SAASN,EAAG,EAAG,EACb,SAASC,EAAGM,EAAG,CACdA,EAAEP,CAAC,CACP,GAAK,OAAO,WAAa,IAAM,WAAa,OAAO,KAAO,IAAM,KAAOI,GAAI,SAASH,EAAG,CACnF,IAAIM,EAAGC,EACP,GAAI,GAAGA,GAAKD,EAAI,WAAW,SAAW,KAAO,OAASA,EAAE,UAAY,MAAQC,EAAE,IAC5E,MAAM,IAAI,MAAM,2DAA2D,EAC7E,GAAI,OAAO,WAAW,QAAU,KAAO,OAAO,eAAe,WAAW,OAAO,IAAM,OAAO,UAAW,CACrG,MAAMC,EAAI,0DAA2DC,EAAKC,GAAM,CAC9E,MAAMC,EAAI,CACR,OAAQ,CACN,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,UAAW,CACT,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,cAAe,CACb,QAAS,CACP,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,OAAQ,CACN,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,wBAAyB,CACvB,QAAS,EACT,QAAS,CACV,EACD,aAAc,CACZ,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,wBAAyB,CACvB,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,aAAc,CACZ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,aAAc,CACZ,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,iBAAkB,CAChB,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,aAAc,CACZ,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,gBAAiB,CACf,KAAM,CACJ,QAAS,EACT,QAAS,EACT,kBAAmB,EACpB,CACF,EACD,OAAQ,CACN,OAAQ,CACN,QAAS,EACT,QAAS,EACT,kBAAmB,EACpB,EACD,SAAU,CACR,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,CACF,CACF,CACF,EACD,UAAW,CACT,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,UAAW,CACT,0BAA2B,CACzB,QAAS,EACT,QAAS,CACV,EACD,yBAA0B,CACxB,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,WAAY,CACV,QAAS,EACT,QAAS,CACV,CACF,EACD,WAAY,CACV,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,CACF,EACD,cAAe,CACb,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,WAAY,CACV,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,YAAa,CACX,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,MAAO,CACL,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,CACF,EACD,KAAM,CACJ,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,E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wB,EACzB,EACD,aAAgB,CACd,QAAW,EACX,QAAW,EACX,qBAAwB,EACzB,EACD,QAAW,CACT,QAAW,EACX,QAAW,CACZ,EACD,SAAY,CACV,QAAW,EACX,QAAW,EACX,qBAAwB,EACzB,EACD,SAAY,CACV,QAAW,EACX,QAAW,EACX,qBAAwB,EACzB,CACF,EACD,aAAgB,CACd,OAAU,CACR,QAAW,EACX,QAAW,CACZ,EACD,YAAe,CACb,QAAW,EACX,QAAW,CACZ,EACD,cAAiB,CACf,QAAW,EACX,QAAW,CACZ,EACD,gBAAmB,CACjB,QAAW,EACX,QAAW,CACZ,EACD,eAAkB,CAChB,QAAW,EACX,QAAW,CACZ,EACD,cAAiB,CACf,QAAW,EACX,QAAW,CACZ,EACD,mBAAsB,CACpB,QAAW,EACX,QAAW,CACZ,EACD,gBAAmB,CACjB,QAAW,EACX,QAAW,CACZ,EACD,iBAAoB,CAClB,QAAW,EACX,QAAW,CACZ,EACD,SAAY,CACV,QAAW,EACX,QAAW,CACZ,CACF,EACD,SAAY,CACV,OAAU,CACR,QAAW,EACX,QAAW,CACZ,CACF,EACD,aAAgB,CACd,OAAU,CACR,QAAW,EACX,QAAW,CACZ,EACD,UAAa,CACX,QAAW,EACX,QAAW,CACZ,EACD,OAAU,CACR,QAAW,EACX,QAAW,CACZ,CACF,EACD,QAAW,CACT,IAAO,CACL,QAAW,EACX,QAAW,CACZ,EACD,OAAU,CACR,QAAW,EACX,QAAW,CACZ,EACD,mBAAsB,CACpB,QAAW,EACX,QAAW,CACZ,EACD,OAAU,CACR,QAAW,EACX,QAAW,CACZ,EACD,IAAO,CACL,QAAW,EACX,QAAW,CACZ,CACF,EACD,SAAY,CACV,gBAAmB,CACjB,KAAQ,CACN,QAAW,EACX,QAAW,EACX,kBAAqB,EACtB,CACF,EACD,OAAU,CACR,OAAU,CACR,QAAW,EACX,QAAW,EACX,kBAAqB,EACtB,EACD,SAAY,CACV,kBAAqB,CACnB,QAAW,EACX,QAAW,CACZ,CACF,CACF,CACF,EACD,UAAa,CACX,OAAU,CACR,QAAW,EACX,QAAW,CACZ,EACD,SAAY,CACV,QAA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EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,wBAAyB,CACvB,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,aAAc,CACZ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,aAAc,CACZ,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,iBAAkB,CAChB,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,aAAc,CACZ,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,gBAAiB,CACf,KAAM,CACJ,QAAS,EACT,QAAS,EACT,kBAAmB,EACpB,CACF,EACD,OAAQ,CACN,OAAQ,CACN,QAAS,EACT,QAAS,EACT,kBAAmB,EACpB,EACD,SAAU,CACR,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,CACF,CACF,CACF,EACD,UAAW,CACT,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,UAAW,CACT,0BAA2B,CACzB,QAAS,EACT,QAAS,CACV,EACD,yBAA0B,CACxB,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,WAAY,CACV,QAAS,EACT,QAAS,CACV,CACF,EACD,WAAY,CACV,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,CACF,EACD,cAAe,CACb,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,WAAY,CACV,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,SAAU,CACR,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,EACD,KAAM,CACJ,QAAS,EACT,QAAS,EACT,qBAAsB,EACvB,CACF,EACD,YAAa,CACX,SAAU,CACR,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,mBAAoB,CAClB,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,MAAO,CACL,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,CACF,EACD,KAAM,CACJ,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,CACF,EACD,KAAM,CACJ,kBAAmB,CACjB,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,cAAe,CACb,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,KAAM,CACJ,QAAS,EACT,QAAS,CACV,EACD,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,UAAW,CACT,QAAS,EACT,QAAS,CACV,EACD,YAAa,CACX,QAAS,EACT,QAAS,CACV,EACD,QAAS,CACP,QAAS,EACT,QAAS,CACV,EACD,gBAAiB,CACf,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,EACD,SAAU,CACR,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACF,EACD,cAAe,CACb,aAAc,CACZ,QAAS,EACT,QAAS,CACV,EACD,SAAU,CACR,QAAS,EACT,QAAS,CACV,CACF,EACD,WAAY,CACV,uBAAwB,CACtB,QAAS,EACT,QAAS,CACV,CACF,EACD,QAAS,CACP,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,WAAY,CACV,QAAS,EACT,QAAS,CACV,EACD,eAAgB,CACd,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,EACD,OAAQ,CACN,QAAS,EACT,QAAS,CACV,CACF,CACX,EACQ,GAAI,OAAO,KAAKA,CAAC,EAAE,SAAW,EAC5B,MAAM,IAAI,MAAM,6DAA6D,EAC/E,MAAMvE,UAAU,OAAQ,CACtB,YAAYQ,EAAG,EAAI,OAAQ,CACzB,MAAM,CAAC,EAAG,KAAK,WAAaA,CAC7B,CACD,IAAIA,EAAG,CACL,OAAO,KAAK,IAAIA,CAAC,GAAK,KAAK,IAAIA,EAAG,KAAK,WAAWA,CAAC,CAAC,EAAG,MAAM,IAAIA,CAAC,CACnE,CACF,CACD,MAAMe,EAAKR,GAAMA,GAAK,OAAOA,GAAK,UAAY,OAAOA,EAAE,MAAQ,WAAYnB,EAAI,CAACmB,EAAGP,IAAM,IAAI,IAAM,CACjGd,EAAE,QAAQ,UAAYqB,EAAE,OAAO,IAAI,MAAMrB,EAAE,QAAQ,UAAU,OAAO,CAAC,EAAIc,EAAE,mBAAqB,EAAE,QAAU,GAAKA,EAAE,oBAAsB,GAAKO,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAIA,EAAE,QAAQ,CAAC,CAC5K,EAAES,EAAKT,GAAMA,GAAK,EAAI,WAAa,YAAaL,EAAI,CAACK,EAAGP,IAAM,SAAS6C,KAAM3B,EAAG,CAC/E,GAAIA,EAAE,OAASlB,EAAE,QACf,MAAM,IAAI,MAAM,qBAAqBA,EAAE,OAAO,IAAIgB,EAAEhB,EAAE,OAAO,CAAC,QAAQO,CAAC,WAAWW,EAAE,MAAM,EAAE,EAC9F,GAAIA,EAAE,OAASlB,EAAE,QACf,MAAM,IAAI,MAAM,oBAAoBA,EAAE,OAAO,IAAIgB,EAAEhB,EAAE,OAAO,CAAC,QAAQO,CAAC,WAAWW,EAAE,MAAM,EAAE,EAC7F,OAAO,IAAI,QAAQ,CAACD,EAAIW,IAAO,CAC7B,GAAI5B,EAAE,qBACJ,GAAI,CACF6C,EAAEtC,CAAC,EAAE,GAAGW,EAAG9B,EAAE,CACX,QAAS6B,EACT,OAAQW,CAC1B,EAAmB5B,CAAC,CAAC,CACN,OAAQD,EAAG,CACV,QAAQ,KAAK,GAAGQ,CAAC,2GAA4GR,CAAC,EAAG8C,EAAEtC,CAAC,EAAE,GAAGW,CAAC,EAAGlB,EAAE,qBAAuB,GAAIA,EAAE,WAAa,GAAIiB,GAC9L,MAEDjB,EAAE,YAAc6C,EAAEtC,CAAC,EAAE,GAAGW,CAAC,EAAGD,EAAE,GAAM4B,EAAEtC,CAAC,EAAE,GAAGW,EAAG9B,EAAE,CAC/C,QAAS6B,EACT,OAAQW,CACxB,EAAiB5B,CAAC,CAAC,CACnB,CAAW,CACX,EAAW2B,EAAI,CAACpB,EAAGP,EAAG,IAAM,IAAI,MAAMA,EAAG,CAC/B,MAAM6C,EAAG3B,EAAGD,EAAI,CACd,OAAO,EAAE,KAAKC,EAAGX,EAAG,GAAGU,CAAE,CAC1B,CACX,CAAS,EACD,IAAIR,EAAI,SAAS,KAAK,KAAK,OAAO,UAAU,cAAc,EAC1D,MAAMX,EAAI,CAACS,EAAGP,EAAI,CAAE,EAAE,EAAI,KAAO,CAC/B,IAAI6C,EAAoB,OAAO,OAAO,IAAI,EAAG3B,EAAI,CAC/C,IAAIU,EAAI7B,EAAG,CACT,OAAOA,KAAKQ,GAAKR,KAAK8C,CACvB,EACD,IAAIjB,EAAI7B,EAAGkC,EAAI,CACb,GAAIlC,KAAK8C,EACP,OAAOA,EAAE9C,CAAC,EACZ,GAAI,EAAEA,KAAKQ,GACT,OACF,IAAIe,EAAIf,EAAER,CAAC,EACX,GAAI,OAAOuB,GAAK,WACd,GAAI,OAAOtB,EAAED,CAAC,GAAK,WACjBuB,EAAIK,EAAEpB,EAAGA,EAAER,CAAC,EAAGC,EAAED,CAAC,CAAC,UACZU,EAAE,EAAGV,CAAC,EAAG,CAChB,IAAIyE,EAAKtE,EAAEH,EAAG,EAAEA,CAAC,CAAC,EAClBuB,EAAIK,EAAEpB,EAAGA,EAAER,CAAC,EAAGyE,CAAE,CAClB,MACClD,EAAIA,EAAE,KAAKf,CAAC,UACP,OAAOe,GAAK,UAAYA,IAAM,OAASb,EAAET,EAAGD,CAAC,GAAKU,EAAE,EAAGV,CAAC,GAC/DuB,EAAIxB,EAAEwB,EAAGtB,EAAED,CAAC,EAAG,EAAEA,CAAC,CAAC,UACZU,EAAE,EAAG,GAAG,EACfa,EAAIxB,EAAEwB,EAAGtB,EAAED,CAAC,EAAG,EAAE,GAAG,CAAC,MAErB,QAAO,OAAO,eAAe8C,EAAG9C,EAAG,CACjC,aAAc,GACd,WAAY,GACZ,KAAM,CACJ,OAAOQ,EAAER,CAAC,CACX,EACD,IAAIyE,EAAI,CACNjE,EAAER,CAAC,EAAIyE,CACR,CACF,CAAA,EAAGlD,EACN,OAAOuB,EAAE9C,CAAC,EAAIuB,EAAGA,CAClB,EACD,IAAIM,EAAI7B,EAAGkC,EAAIX,EAAG,CAChB,OAAOvB,KAAK8C,EAAIA,EAAE9C,CAAC,EAAIkC,EAAK1B,EAAER,CAAC,EAAIkC,EAAI,EACxC,EACD,eAAeL,EAAI7B,EAAGkC,EAAI,CACxB,OAAO,QAAQ,eAAeY,EAAG9C,EAAGkC,CAAE,CACvC,EACD,eAAeL,EAAI7B,EAAG,CACpB,OAAO,QAAQ,eAAe8C,EAAG9C,CAAC,CACnC,CACF,EAAEkB,EAAK,OAAO,OAAOV,CAAC,EACvB,OAAO,IAAI,MAAMU,EAAIC,CAAC,CAChC,EAAWjB,EAAKM,IAAO,CACb,YAAYP,EAAG,KAAM6C,EAAG,CACtB7C,EAAE,YAAYO,EAAE,IAAI,CAAC,EAAG,GAAGsC,CAAC,CAC7B,EACD,YAAY7C,EAAG,EAAG,CAChB,OAAOA,EAAE,YAAYO,EAAE,IAAI,CAAC,CAAC,CAC9B,EACD,eAAeP,EAAG,EAAG,CACnBA,EAAE,eAAeO,EAAE,IAAI,CAAC,CAAC,CAC1B,CACX,GAAY0C,EAAI,IAAIzD,EAAGe,GAAM,OAAOA,GAAK,WAAaA,EAAI,SAASJ,EAAG,CAC5D,MAAM0C,EAAI/C,EACRK,EACA,CAAE,EACF,CACE,WAAY,CACV,QAAS,EACT,QAAS,CACV,CACF,CACb,EACUI,EAAEsC,CAAC,CACJ,CAAA,EAAGX,EAAK,IAAI1C,EAAGe,GAAM,OAAOA,GAAK,WAAaA,EAAI,SAASJ,EAAG0C,EAAG3B,EAAG,CACnE,IAAID,EAAK,GAAIW,EAAI7B,EAAI,IAAI,QAASggC,GAAO,CACvCn+B,EAAK,SAASS,EAAI,CAChBpB,EAAK,GAAI8+B,EAAG19B,CAAE,CAC5B,CACW,CAAA,EAAGJ,EACJ,GAAI,CACFA,EAAK1B,EAAEJ,EAAG0C,EAAGjB,CAAE,CAChB,OAAQm+B,EAAI,CACX99B,EAAK,QAAQ,OAAO89B,CAAE,CACvB,CACD,MAAMz+B,EAAIW,IAAO,IAAMlB,EAAEkB,CAAE,EAC3B,OAAIA,IAAO,IAAM,CAACX,GAAK,CAACL,EACf,KACG8+B,GAAO,CACjBA,EAAG,KAAM19B,GAAO,CACdnB,EAAEmB,CAAE,CACL,EAAGA,GAAO,CACT,IAAI29B,EACJ39B,IAAOA,aAAc,OAAS,OAAOA,EAAG,SAAW,UAAY29B,EAAK39B,EAAG,QAAU29B,EAAK,+BAAgC9+B,EAAE,CACtH,kCAAmC,GACnC,QAAS8+B,CACzB,CAAe,CACf,CAAa,EAAE,MAAO39B,GAAO,CACf,QAAQ,MAAM,0CAA2CA,CAAE,CACzE,CAAa,CACb,GACoBf,EAAIW,EAAKlC,CAAC,EAAG,GACjC,CAAS,EAAGkgC,EAAK,CAAC,CACR,OAAQ1/B,EACR,QAASP,CACV,EAAE,IAAM,CACPd,EAAE,QAAQ,UAAYA,EAAE,QAAQ,UAAU,UAAY,EAAIc,EAAG,EAAGO,EAAE,IAAI,MAAMrB,EAAE,QAAQ,UAAU,OAAO,CAAC,EAAI,GAAK,EAAE,kCAAoCqB,EAAE,IAAI,MAAM,EAAE,OAAO,CAAC,EAAIP,EAAE,CAAC,CAC9L,EAAW4D,EAAK,CAACrD,EAAGP,EAAG,KAAM6C,IAAM,CACzB,GAAIA,EAAE,OAAS7C,EAAE,QACf,MAAM,IAAI,MAAM,qBAAqBA,EAAE,OAAO,IAAIgB,EAAEhB,EAAE,OAAO,CAAC,QAAQO,CAAC,WAAWsC,EAAE,MAAM,EAAE,EAC9F,GAAIA,EAAE,OAAS7C,EAAE,QACf,MAAM,IAAI,MAAM,oBAAoBA,EAAE,OAAO,IAAIgB,EAAEhB,EAAE,OAAO,CAAC,QAAQO,CAAC,WAAWsC,EAAE,MAAM,EAAE,EAC7F,OAAO,IAAI,QAAQ,CAAC3B,EAAGD,IAAO,CAC5B,MAAMW,EAAKq+B,EAAG,KAAK,KAAM,CACvB,QAAS/+B,EACT,OAAQD,CACtB,CAAa,EACD4B,EAAE,KAAKjB,CAAE,EAAG,EAAE,YAAY,GAAGiB,CAAC,CAC1C,CAAW,CACF,EAAEhB,EAAK,CACN,SAAU,CACR,QAAS,CACP,kBAAmB5B,EAAEgD,CAAC,CACvB,CACF,EACD,QAAS,CACP,UAAWhD,EAAEiC,CAAE,EACf,kBAAmBjC,EAAEiC,CAAE,EACvB,YAAa0B,EAAG,KAAK,KAAM,cAAe,CACxC,QAAS,EACT,QAAS,CACvB,CAAa,CACF,EACD,KAAM,CACJ,YAAaA,EAAG,KAAK,KAAM,cAAe,CACxC,QAAS,EACT,QAAS,CACvB,CAAa,CACF,CACF,EAAED,EAAK,CACN,MAAO,CACL,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,EACD,IAAK,CACH,QAAS,EACT,QAAS,CACV,CACX,EACQ,OAAOI,EAAE,QAAU,CACjB,QAAS,CACP,IAAKJ,CACN,EACD,SAAU,CACR,IAAKA,CACN,EACD,SAAU,CACR,IAAKA,CACN,CACF,EAAE7D,EAAEZ,EAAG2C,EAAIkC,CAAC,CACrB,EACM/E,EAAE,QAAU,EAAE,MAAM,CACrB,MACCA,EAAE,QAAU,WAAW,OAC7B,CAAG,CACH,GAAG8gC,EAAE,EACL,MAAM38B,GAAI28B,GAAG,QACb,MAAMI,EAAG,CACP,YAAYxhC,EAAGM,EAAI,KAAK,IAAG,EAAI,CAC7B,KAAK,UAAYN,EAAG,KAAK,UAAYM,CACtC,CACD,IAAIN,EAAG,CACL,MAAMM,EAAI,KAAK,IAAG,EAAK,KAAK,UAC5B,KAAK,UAAUN,EAAE,QAAQ,gBAAiB,IAAIM,EAAI,KAAK,QAAQ,CAAC,CAAC,GAAG,CAAC,CACtE,CACH,CACA,MAAMmhC,GAAK,IAAKp3B,GAAK,GAAKo3B,GAAIC,GAAK,GAAKr3B,GACxC,SAASs3B,GAAGv9B,EAAG,CACb,OAAO,KAAK,MAAMA,EAAI,GAAG,CAC3B,CACA,SAASw9B,IAAK,CACZ,OAAO,IAAI,QAASx9B,GAAM,WAAWA,EAAG,CAAC,CAAC,CAC5C,CACA,SAASy9B,GAAGz9B,EAAG,CACb,MAAMpE,EAAI,IAAIkhC,GACd,MAAO,IAAI5gC,IAAMN,EAAE,aAAa,IAAMoE,EAAE,GAAG9D,CAAC,CAAC,CAC/C,CACA,eAAewhC,GAAG19B,EAAG,CACnB,OAAQ,MAAMK,GAAE,QAAQ,MAAM,IAAIL,CAAC,GAAGA,CAAC,CACzC,CACA,eAAe29B,GAAG39B,EAAGpE,EAAG,CACtBA,IAAM,OAAS,MAAMyE,GAAE,QAAQ,MAAM,OAAOL,CAAC,EAAI,MAAMK,GAAE,QAAQ,MAAM,IAAI,CAAE,CAACL,CAAC,EAAGpE,CAAC,CAAE,CACvF,CACA,SAASgiC,GAAG59B,EAAGpE,EAAG,CAChB,MAAMM,EAAI,OAAON,GAAK,SAAUW,EAAKZ,GAAMO,EAAIP,EAAEC,CAAC,EAAIA,EAAED,CAAC,EACzD,OAAOqE,EAAE,OAAO,CAACrE,EAAG,IAAM,CACxB,IAAIS,EAAG6E,EACP,MAAM9E,EAAII,EAAE,CAAC,EACb,OAAOZ,EAAEQ,CAAC,GAAK8E,GAAK7E,EAAIT,EAAEQ,CAAC,IAAM,KAAO,OAASC,EAAE,OAAO,CAAC,IAAM,KAAO6E,EAAI,CAAC,CAAC,EAAGtF,CAClF,EAAE,CAAE,CAAA,CACP,CACA,SAASkiC,GAAG79B,EAAGpE,EAAG,CAChB,MAAMM,EAAI,OAAON,GAAK,SAAUW,EAAKZ,GAAMO,EAAIP,EAAEC,CAAC,EAAIA,EAAED,CAAC,EACzD,OAAOqE,EAAE,OAAO,CAACrE,EAAG,IAAM,CACxB,MAAM,EAAIY,EAAE,CAAC,EACb,OAAOZ,EAAE,CAAC,EAAI,EAAGA,CAClB,EAAE,CAAE,CAAA,CACP,CACA,SAASmiC,IAAK,CACZ,IAAI99B,EAAGpE,EACP,MAAO,CAAC,IAAI,QAAQ,CAAC,EAAG,IAAM,CAC5BoE,EAAI,EAAGpE,EAAI,CACf,CAAG,EAAGoE,EAAGpE,CAAC,CACV,CACA,SAASmiC,GAAG/9B,EAAG,CACb,OAAOA,EAAE,QAAU,UAAYA,EAAE,QAAU,WAC7C,CACA,SAASg+B,GAAGh+B,EAAGpE,EAAGM,EAAGK,EAAG,CACtB,OAAOA,GAAKyD,EAAE,SAAWA,EAAE,QAAUpE,EAAE,SAAWmiC,GAAGniC,CAAC,GAAKM,CAC7D,CACA,SAAS+hC,GAAGj+B,EAAG,CACb,MAAMpE,EAAIoE,EAAE,iBAAiB,OAAQ9D,EAAI,CAAA,EACzC,QAASK,EAAI,EAAGA,EAAIX,EAAGW,IAAK,CAC1B,MAAMZ,EAAIqE,EAAE,iBAAiB,KAAKzD,CAAC,EACnCZ,GAAKO,EAAE,KAAKP,CAAC,CACd,CACD,OAAOO,CACT,CACA,MAAMgiC,GAAK,GACX,SAASC,GAAGn+B,EAAG,CACb,IAAIpE,EACJ,MAAO,CACL,GAAIoE,EAAE,GACN,MAAOA,EAAE,MACT,UAAWA,EAAE,UACb,SAAUpE,EAAIoE,EAAE,UAAY,KAAOpE,EAAIsiC,GACvC,UAAWl+B,EAAE,UACb,SAAUA,EAAE,SACZ,UAAWA,EAAE,SACjB,CACA,CACA,SAASo+B,GAAGp+B,EAAG,CACb,MAAO,CACL,GAAIA,EAAE,GACN,MAAOA,EAAE,MACT,UAAWA,EAAE,UACb,QAASA,EAAE,UAAYk+B,GAAK,KAAOl+B,EAAE,QACrC,UAAWA,EAAE,UACb,SAAUA,EAAE,SACZ,UAAWA,EAAE,SACjB,CACA,CACA,MAAMq+B,GAAK,cAAczC,EAAG,CAC1B,YAAY57B,EAAG,CACb,MAAMA,EAAE,GAAIq+B,GAAG,iBAAiB,EAAG,KAAK,OAASr+B,CAClD,CACD,MAAM,aAAaA,EAAG,CACpB,MAAMpE,EAAI,MAAM,KAAK,GAAIM,EAAIs/B,GAAG,MAAM,CACpC,GAAGx7B,EACH,GAAIo8B,GAAI,EACR,UAAW,MAAM,KAAK,OAAO,aAAc,EAC3C,QAAS,MACV,CAAA,EAAG7/B,EAAI4hC,GAAGjiC,CAAC,EACZ,OAAO,MAAMN,EAAE,IAAI,KAAK,UAAWW,CAAC,EAAGL,CACxC,CACD,MAAM,eAAe8D,EAAG,CACtB,MAAMpE,EAAI,MAAM,KAAK,GAAIM,EAAI,MAAM,KAAK,OAAO,eAAgBK,EAAIX,EAAE,YAAYyiC,GAAG,kBAAmB,WAAW,EAAG1iC,EAAIY,EAAE,YAAY8hC,GAAG,iBAAiB,EAAG,EAAIr+B,EAAE,IACjK5D,GAAMo/B,GAAG,MAAM,CACd,GAAGp/B,EACH,GAAIggC,GAAI,EACR,UAAWlgC,CACnB,CAAO,CACF,EAAE,EAAI,EAAE,IAAIiiC,EAAE,EACf,OAAO,MAAM,QAAQ,IAAI,CAAC,GAAG,EAAE,IAAK/hC,GAAMT,EAAE,IAAIS,CAAC,CAAC,EAAGG,EAAE,IAAI,CAAC,EAAG,CAChE,CACD,MAAM,WAAWyD,EAAGpE,EAAG,CACrB,IAAIe,EAAGR,EACP,MAAM,EAAI,MAAM,KAAK,GACrBP,EAAIoE,EAAE,WAAa,EAAIs9B,MAAQnhC,GAAKQ,EAAI,KAAK,QAAQ,wBAA0B,MAAQR,EAAE,KAAKQ,EAAGqD,EAAGpE,CAAC,EAAGA,EAAIoE,EAAE,UAAY,GAAKiG,IAC/H,MAAM1J,EAAI,MAAM,EAAE,IAAI,KAAK,UAAWyD,EAAE,EAAE,EAC1C,GAAIzD,GAAK,KACP,MAAM,MAAM,4CAA4CyD,EAAE,EAAE,EAAE,EAChE,MAAMrE,EAAI,CAAE,GAAGY,EAAG,QAASX,CAAC,EAC5B,OAAO,MAAM,EAAE,IAAI,KAAK,UAAWD,CAAC,EAAGyiC,GAAGziC,CAAC,CAC5C,CACD,MAAM,iBAAkB,CACtB,OAAQ,MAAM,MAAM,QAAS,GAAE,IAAIyiC,EAAE,CACtC,CACD,MAAM,aAAap+B,EAAGpE,EAAG,CACvB,OAAQ,MAAO,MAAM,KAAK,IAAI,gBAC5B,KAAK,UACLyiC,GAAG,iBACH,YAAY,MAAMr+B,EAAGpE,EAAG,GAAI,EAAE,CACpC,GAAO,IAAIwiC,EAAE,CACV,CACD,MAAM,sBAAsBp+B,EAAGpE,EAAG,CAChC,OAAQ,MAAO,MAAM,KAAK,IAAI,gBAC5B,KAAK,UACLyiC,GAAG,eACH,YAAY,MAAMr+B,EAAGpE,EAAG,GAAI,EAAE,CACpC,GAAO,IAAIwiC,EAAE,CACV,CACD,MAAM,mBAAoB,CACxB,MAAMliC,GAAK,MAAO,MAAM,KAAK,IAAI,gBAC/B,KAAK,UACLmiC,GAAG,iBACH,YAAY,WAAW,EAAG,EAAE,CAC7B,GAAE,MAAK,EACR,OAAOniC,EAAIkiC,GAAGliC,CAAC,EAAI,MACpB,CACD,MAAM,WAAW8D,EAAG,CAClB,MAAM9D,EAAI,MAAO,MAAM,KAAK,IAAI,IAAI,KAAK,UAAW8D,CAAC,EACrD,GAAI9D,GAAK,KACP,MAAM,MAAM,sBAAsB8D,CAAC,YAAY,EACjD,OAAOo+B,GAAGliC,CAAC,CACZ,CACD,MAAM,mBAAoB,CACxB,OAAQ,MAAO,MAAM,KAAK,IAAI,gBAC5B,KAAK,UACLmiC,GAAG,eACHH,EACN,GAAO,IAAIE,EAAE,CACV,CACD,MAAM,4BAA6B,CACjC,MAAM,GAAK,MAAM,KAAK,IAAI,YAAY,KAAK,UAAW,WAAW,EACjE,IAAIliC,EAAI,MAAM,EAAE,MAAM,WAAU,EAChC,KAAOA,GAAK,CACV,MAAM,EAAIA,EAAE,OACX,EAAE,UAAY,EAAE,YAAc,MAAMA,EAAE,OAAM,EAAIA,EAAI,MAAMA,EAAE,SAAQ,CACtE,CACD,MAAM,EAAE,IACT,CACH,EACA,IAAImC,GAAIggC,GACRhgC,GAAE,aAAe,WACjBA,GAAE,aAAe,aACjBA,GAAE,kBAAoBggC,GAAG,aACzBhgC,GAAE,eAAiB,sBACnBA,GAAE,iBAAmB,wBACrB,IAAI5C,IAAuBuE,IAAOA,EAAEA,EAAE,GAAK,CAAC,EAAI,KAAMA,EAAEA,EAAE,GAAK,CAAC,EAAI,KAAMA,EAAEA,EAAE,GAAK,CAAC,EAAI,KAAMA,EAAEA,EAAE,GAAK,CAAC,EAAI,KAAMA,EAAEA,EAAE,GAAK,CAAC,EAAI,KAAMA,EAAEA,EAAE,GAAK,CAAC,EAAI,KAAMA,EAAEA,EAAE,GAAK,CAAC,EAAI,KAAMA,IAAIvE,IAAM,CAAA,CAAE,EACrL,MAAC6iC,GAAKx+B,GAAG,OAAO,CACnB,QAASA,GAAG,WAAWrE,EAAE,EACzB,OAAQqE,GAAG,OAAO,CAChB,CAACzB,GAAE,iBAAiB,EAAGyB,GAAG,MAAMy7B,EAAE,EAAE,SAAU,EAC9C,CAACkB,GAAG,iBAAiB,EAAG38B,GAAG,MAAM27B,EAAE,EAAE,SAAU,EAC/C,CAACz/B,GAAE,iBAAiB,EAAG8D,GAAG,MAAM67B,EAAE,EAAE,SAAU,CAClD,CAAG,CACH,CAAC,EAAQ77B,GAAG,OAAO,CACjB,QAASA,GAAG,WAAWrE,EAAE,EACzB,OAAQqE,GAAG,OAAOA,GAAG,OAAM,EAAIA,GAAG,MAAMA,GAAG,IAAG,CAAE,CAAC,CACnD,CAAC,EACD,eAAey+B,GAAGv+B,EAAG,CACnB,MAAMpE,EAAI,MAAMoE,EAAG9D,EAAI,CACrB,QAASN,EAAE,QACX,OAAQ,CAAE,CACd,EAAKW,EAAI0hC,GAAGriC,CAAC,EAAGD,EAAIC,EAAE,YAAYW,EAAG,UAAU,EAC7C,UAAW,KAAKA,EAAG,CACjB,MAAMH,EAAI,MAAMT,EAAE,YAAY,CAAC,EAAE,SACjCS,EAAE,QAAS6E,GAAM,CACf,OAAOA,EAAE,QACV,CAAA,EAAG/E,EAAE,OAAO,CAAC,EAAIE,CACnB,CACD,OAAO,MAAMT,EAAE,KAAMO,CACvB,CACA,SAASsiC,GAAGx+B,EAAGpE,EAAG,CAChB,MAAO,CACL,GAAGoE,EACH,GAAIo8B,GAAI,EACR,UAAWxgC,CACf,CACA,CACA,SAAS6iC,GAAGz+B,EAAG,CACb,MAAO,CACL,GAAGA,EACH,GAAIo8B,GAAI,CACZ,CACA,CACA,SAASsC,GAAG1+B,EAAG,CACb,MAAO,CACL,GAAIA,EAAE,GACN,UAAWA,EAAE,UACb,UAAWA,EAAE,UACb,KAAM,gBACN,QAAS,CACP,KAAMA,EAAE,KACR,OAAQA,EAAE,kBAAkB,OAC5B,MAAOA,EAAE,kBAAkB,MAC3B,IAAKA,EAAE,KACR,CACL,CACA,CACA,SAAS2+B,GAAG3+B,EAAGpE,EAAG,CAChB,IAAIM,EACJ,MAAO,CACL,GAAI8D,EAAE,GACN,MAAOA,EAAE,KACT,UAAWpE,EACX,UAAWoE,EAAE,UACb,SAAU9D,EAAI8D,EAAE,UAAY,KAAO9D,EAAI,GACvC,SAAU8D,EAAE,SACZ,UAAWA,EAAE,SACjB,CACA,CACA,eAAe4+B,GAAG,CAChB,UAAW5+B,EACX,YAAapE,EACb,OAAQM,EACR,aAAcK,CAChB,EAAG,CACD,MAAMZ,EAAI,MAAMqE,EAChB9D,GAAK,MAAQA,EAAE,MAAM,+BAAgCN,CAAC,EACtD,MAAM,EAAI,MAAMW,EAAC,EAAI,EAAI,MAAM+hC,GAAG,WAChC,MAAMO,GAAGjjC,EAAGD,EAAE,QAAS,CAAE,UAAW,EAAG,CAC3C,EAAKS,EAAI6hC,GAAGtiC,CAAC,EAAGsF,EAAItF,EAAE,YAAYS,EAAG,WAAW,EAC9C,UAAWM,KAAKN,EAAG,CACjB,MAAM6B,EAAI,EAAE,OAAOvB,CAAC,EACpB,GAAIuB,GAAK,MAAQA,EAAE,OAAQ,CACzB,MAAM3B,EAAI2E,EAAE,YAAYvE,CAAC,EACzB,UAAWwB,KAAKD,EACd/B,GAAK,MAAQA,EAAE,MAAM,oBAAoBQ,CAAC,IAAKwB,CAAC,EAAG,MAAM5B,EAAE,IAAI,CAAE,GAAG4B,EAAG,SAAU,EAAE,CAAE,CACxF,CACF,CACD,MAAM+C,EAAE,IACV,CACA,MAAM69B,GAAM9+B,GAAOpE,IAAO,CAAE,GAAGA,EAAG,QAASoE,CAAG,GAAG++B,GAAK,IAAO/+B,GAAMA,EAAGg/B,GAAMh/B,GAAM,CAChF,IAAIpE,EACJ,MAAO,CACL,QAASH,GAAG,GACZ,OAAQ,CACN,CAAC4C,GAAE,YAAY,EAAG2B,EAAE,OAAO3B,GAAE,YAAY,EACzC,CAACrC,GAAE,YAAY,GAAIJ,EAAIoE,EAAE,OAAOhE,GAAE,YAAY,IAAM,KAAO,OAASJ,EAAE,IAAI8iC,EAAE,CAC7E,CACL,CACA,EAAGO,GAAK,CAACj/B,EAAG,CAAE,UAAWpE,CAAC,IAAO,CAC/B,IAAIM,EACJ,MAAO,CACL,QAAST,GAAG,GACZ,OAAQ,CACN,CAAC4C,GAAE,YAAY,GAAInC,EAAI8D,EAAE,OAAO3B,GAAE,YAAY,IAAM,KAAO,OAASnC,EAAE,IACnEK,GAAMoiC,GAAGpiC,EAAGX,CAAC,CACf,EACD,CAACI,GAAE,YAAY,EAAGgE,EAAE,OAAOhE,GAAE,YAAY,CAC1C,CACL,CACA,EAAGkjC,GAAK,CAACl/B,EAAG,CAAE,UAAWpE,CAAC,IAAO,CAC/B,IAAIM,EACJ,MAAO,CACL,QAAST,GAAG,GACZ,OAAQ,CACN,CAAC4C,GAAE,YAAY,GAAInC,EAAI8D,EAAE,OAAO3B,GAAE,YAAY,IAAM,KAAO,OAASnC,EAAE,IACnEK,GAAM,SAAUA,EAAIoiC,GAAGpiC,EAAGX,CAAC,EAAIW,CACjC,EACD,CAACP,GAAE,YAAY,EAAGgE,EAAE,OAAOhE,GAAE,YAAY,CAC1C,CACL,CACA,EAAGmjC,GAAK,CACN,CAAC1jC,GAAG,EAAE,EAAGqjC,GAAGrjC,GAAG,EAAE,EACjB,CAACA,GAAG,EAAE,EAAGujC,GACT,CAACvjC,GAAG,EAAE,EAAGqjC,GAAGrjC,GAAG,EAAE,EACjB,CAACA,GAAG,EAAE,EAAGwjC,GACT,CAACxjC,GAAG,EAAE,EAAGyjC,GACT,CAACzjC,GAAG,EAAE,EAAGqjC,GAAGrjC,GAAG,EAAE,EACjB,CAACA,GAAG,EAAE,EAAGsjC,GAAI,CACf,EACA,eAAeF,GAAG7+B,EAAGpE,EAAGM,EAAG,CACzB,GAAI8D,EAAE,UAAYpE,EAChB,OAAOoE,EACT,MAAMzD,EAAI4iC,GAAGn/B,EAAE,OAAO,EACtB,GAAIzD,GAAK,KACP,MAAM,MAAM,oCAAoCyD,EAAE,OAAO,yBAAyB,EACpF,MAAMrE,EAAI,MAAMY,EAAEyD,EAAG9D,CAAC,EACtB,OAAO,MAAM2iC,GAAGljC,EAAGC,EAAGM,CAAC,CACzB,CACA,MAAMkjC,GAAK,CAACp/B,EAAGpE,IAAMA,EAAE,KAAMM,GAAM8D,aAAa9D,CAAC,EACjD,IAAImjC,GAAIC,GACR,SAASC,IAAK,CACZ,OAAOF,KAAOA,GAAK,CACjB,YACA,eACA,SACA,UACA,cACJ,EACA,CACA,SAASG,IAAK,CACZ,OAAOF,KAAOA,GAAK,CACjB,UAAU,UAAU,QACpB,UAAU,UAAU,SACpB,UAAU,UAAU,kBACxB,EACA,CACA,MAAMG,GAAqB,IAAI,QAAWC,GAAqB,IAAI,QAAWC,GAAqB,IAAI,QAAWC,GAAqB,IAAI,QAAWC,GAAqB,IAAI,QAC/K,SAASC,GAAG9/B,EAAG,CACb,MAAMpE,EAAI,IAAI,QAAQ,CAACM,EAAGK,IAAM,CAC9B,MAAMZ,EAAI,IAAM,CACdqE,EAAE,oBAAoB,UAAW,CAAC,EAAGA,EAAE,oBAAoB,QAAS,CAAC,CACtE,EAAE,EAAI,IAAM,CACX9D,EAAE6jC,GAAG//B,EAAE,MAAM,CAAC,EAAGrE,EAAC,CACnB,EAAE,EAAI,IAAM,CACXY,EAAEyD,EAAE,KAAK,EAAGrE,EAAC,CACnB,EACIqE,EAAE,iBAAiB,UAAW,CAAC,EAAGA,EAAE,iBAAiB,QAAS,CAAC,CACnE,CAAG,EACD,OAAOpE,EAAE,KAAMM,GAAM,CACnBA,aAAa,WAAaujC,GAAG,IAAIvjC,EAAG8D,CAAC,CACzC,CAAG,EAAE,MAAM,IAAM,CACjB,CAAG,EAAG6/B,GAAG,IAAIjkC,EAAGoE,CAAC,EAAGpE,CACpB,CACA,SAASokC,GAAGhgC,EAAG,CACb,GAAI0/B,GAAG,IAAI1/B,CAAC,EACV,OACF,MAAMpE,EAAI,IAAI,QAAQ,CAACM,EAAGK,IAAM,CAC9B,MAAMZ,EAAI,IAAM,CACdqE,EAAE,oBAAoB,WAAY,CAAC,EAAGA,EAAE,oBAAoB,QAAS,CAAC,EAAGA,EAAE,oBAAoB,QAAS,CAAC,CAC1G,EAAE,EAAI,IAAM,CACX9D,EAAC,EAAIP,GACN,EAAE,EAAI,IAAM,CACXY,EAAEyD,EAAE,OAAS,IAAI,aAAa,aAAc,YAAY,CAAC,EAAGrE,GAClE,EACIqE,EAAE,iBAAiB,WAAY,CAAC,EAAGA,EAAE,iBAAiB,QAAS,CAAC,EAAGA,EAAE,iBAAiB,QAAS,CAAC,CACpG,CAAG,EACD0/B,GAAG,IAAI1/B,EAAGpE,CAAC,CACb,CACA,IAAIqkC,GAAK,CACP,IAAIjgC,EAAGpE,EAAGM,EAAG,CACX,GAAI8D,aAAa,eAAgB,CAC/B,GAAIpE,IAAM,OACR,OAAO8jC,GAAG,IAAI1/B,CAAC,EACjB,GAAIpE,IAAM,mBACR,OAAOoE,EAAE,kBAAoB2/B,GAAG,IAAI3/B,CAAC,EACvC,GAAIpE,IAAM,QACR,OAAOM,EAAE,iBAAiB,CAAC,EAAI,OAASA,EAAE,YAAYA,EAAE,iBAAiB,CAAC,CAAC,CAC9E,CACD,OAAO6jC,GAAG//B,EAAEpE,CAAC,CAAC,CACf,EACD,IAAIoE,EAAGpE,EAAGM,EAAG,CACX,OAAO8D,EAAEpE,CAAC,EAAIM,EAAG,EAClB,EACD,IAAI8D,EAAGpE,EAAG,CACR,OAAOoE,aAAa,iBAAmBpE,IAAM,QAAUA,IAAM,SAAW,GAAKA,KAAKoE,CACnF,CACH,EACA,SAASkgC,GAAGlgC,EAAG,CACbigC,GAAKjgC,EAAEigC,EAAE,CACX,CACA,SAASE,GAAGngC,EAAG,CACb,OAAOA,IAAM,YAAY,UAAU,aAAe,EAAE,qBAAsB,eAAe,WAAa,SAASpE,KAAMM,EAAG,CACtH,MAAMK,EAAIyD,EAAE,KAAKogC,GAAG,IAAI,EAAGxkC,EAAG,GAAGM,CAAC,EAClC,OAAOyjC,GAAG,IAAIpjC,EAAGX,EAAE,KAAOA,EAAE,KAAI,EAAK,CAACA,CAAC,CAAC,EAAGmkC,GAAGxjC,CAAC,CACnD,EAAMijC,GAAI,EAAC,SAASx/B,CAAC,EAAI,YAAYpE,EAAG,CACpC,OAAOoE,EAAE,MAAMogC,GAAG,IAAI,EAAGxkC,CAAC,EAAGmkC,GAAGN,GAAG,IAAI,IAAI,CAAC,CAChD,EAAM,YAAY7jC,EAAG,CACjB,OAAOmkC,GAAG//B,EAAE,MAAMogC,GAAG,IAAI,EAAGxkC,CAAC,CAAC,CAClC,CACA,CACA,SAASykC,GAAGrgC,EAAG,CACb,OAAO,OAAOA,GAAK,WAAamgC,GAAGngC,CAAC,GAAKA,aAAa,gBAAkBggC,GAAGhgC,CAAC,EAAGo/B,GAAGp/B,EAAGu/B,GAAE,CAAE,EAAI,IAAI,MAAMv/B,EAAGigC,EAAE,EAAIjgC,EAClH,CACA,SAAS+/B,GAAG//B,EAAG,CACb,GAAIA,aAAa,WACf,OAAO8/B,GAAG9/B,CAAC,EACb,GAAI4/B,GAAG,IAAI5/B,CAAC,EACV,OAAO4/B,GAAG,IAAI5/B,CAAC,EACjB,MAAMpE,EAAIykC,GAAGrgC,CAAC,EACd,OAAOpE,IAAMoE,IAAM4/B,GAAG,IAAI5/B,EAAGpE,CAAC,EAAGikC,GAAG,IAAIjkC,EAAGoE,CAAC,GAAIpE,CAClD,CACA,MAAMwkC,GAAMpgC,GAAM6/B,GAAG,IAAI7/B,CAAC,EAC1B,SAASsgC,GAAGtgC,EAAGpE,EAAG,CAAE,QAASM,EAAG,QAASK,EAAG,SAAUZ,EAAG,WAAY,CAAC,EAAK,CAAA,EAAI,CAC7E,MAAM,EAAI,UAAU,KAAKqE,EAAGpE,CAAC,EAAGQ,EAAI2jC,GAAG,CAAC,EACxC,OAAOxjC,GAAK,EAAE,iBAAiB,gBAAkB0E,GAAM,CACrD1E,EAAEwjC,GAAG,EAAE,MAAM,EAAG9+B,EAAE,WAAYA,EAAE,WAAY8+B,GAAG,EAAE,WAAW,EAAG9+B,CAAC,CACpE,CAAG,EAAG/E,GAAK,EAAE,iBAAiB,UAAY+E,GAAM/E,EAC5C+E,EAAE,WACFA,EAAE,WACFA,CACD,CAAA,EAAG7E,EAAE,KAAM6E,GAAM,CAChB,GAAKA,EAAE,iBAAiB,QAAS,IAAM,GAAG,EAAGtF,GAAKsF,EAAE,iBAAiB,gBAAkBvE,GAAMf,EAAEe,EAAE,WAAYA,EAAE,WAAYA,CAAC,CAAC,CACjI,CAAG,EAAE,MAAM,IAAM,CACd,CAAA,EAAGN,CACN,CACA,MAAMmkC,GAAK,CAAC,MAAO,SAAU,SAAU,aAAc,OAAO,EAAGC,GAAK,CAAC,MAAO,MAAO,SAAU,OAAO,EAAGC,GAAqB,IAAI,IAChI,SAASC,GAAG1gC,EAAGpE,EAAG,CAChB,GAAI,EAAEoE,aAAa,aAAe,EAAEpE,KAAKoE,IAAM,OAAOpE,GAAK,UACzD,OACF,GAAI6kC,GAAG,IAAI7kC,CAAC,EACV,OAAO6kC,GAAG,IAAI7kC,CAAC,EACjB,MAAMM,EAAIN,EAAE,QAAQ,aAAc,EAAE,EAAGW,EAAIX,IAAMM,EAAGP,EAAI6kC,GAAG,SAAStkC,CAAC,EACrE,GAAI,EAAEA,KAAMK,EAAI,SAAW,gBAAgB,YAAc,EAAEZ,GAAK4kC,GAAG,SAASrkC,CAAC,GAC3E,OACF,MAAM,EAAI,eAAe,KAAME,EAAG,CAChC,MAAM6E,EAAI,KAAK,YAAY,EAAGtF,EAAI,YAAc,UAAU,EAC1D,IAAIe,EAAIuE,EAAE,MACV,OAAO1E,IAAMG,EAAIA,EAAE,MAAMN,EAAE,MAAK,CAAE,IAAK,MAAM,QAAQ,IAAI,CACvDM,EAAER,CAAC,EAAE,GAAGE,CAAC,EACTT,GAAKsF,EAAE,IACb,CAAK,GAAG,CAAC,CACT,EACE,OAAOw/B,GAAG,IAAI7kC,EAAG,CAAC,EAAG,CACvB,CACAskC,GAAIlgC,IAAO,CACT,GAAGA,EACH,IAAK,CAACpE,EAAGM,EAAGK,IAAMmkC,GAAG9kC,EAAGM,CAAC,GAAK8D,EAAE,IAAIpE,EAAGM,EAAGK,CAAC,EAC3C,IAAK,CAACX,EAAGM,IAAM,CAAC,CAACwkC,GAAG9kC,EAAGM,CAAC,GAAK8D,EAAE,IAAIpE,EAAGM,CAAC,CACzC,EAAE,EACF,eAAeykC,GAAG,CAAE,GAAI3gC,EAAG,GAAIpE,CAAC,EAAI,CAClC,MAAMM,EAAIN,EAAE,YAAYyC,GAAE,YAAY,EAAG9B,EAAIX,EAAE,YAAYyC,GAAE,YAAY,EAAG1C,EAAIC,EAAE,YAAYI,GAAE,YAAY,EAAG,EAAIJ,EAAE,YAAYI,GAAE,YAAY,EAAG,EAAI,MAAME,EAAE,MAAMmC,GAAE,gBAAgB,EAAE,OAAM,EAC9L,UAAWjC,KAAK,EAAG,CACjB,MAAM6E,EAAIw9B,GAAGriC,CAAC,EACd,MAAMG,EAAE,IAAI0E,CAAC,EACb,MAAMvE,EAAI,MAAMf,EAAE,MAAMK,GAAE,gBAAgB,EAAE,OAAOI,EAAE,EAAE,EACvD,UAAW6B,KAAKvB,EAAG,CACjB,MAAMJ,EAAIkiC,GAAGvgC,EAAGgD,EAAE,EAAE,EACpB,MAAM,EAAE,IAAI3E,CAAC,CACd,CACF,CACD0D,EAAE,kBAAkB9D,EAAE,IAAI,EAAG8D,EAAE,kBAAkBrE,EAAE,IAAI,CACzD,CACA,eAAeilC,GAAG,CAAE,GAAI5gC,GAAK,CAC3B,MAAMpE,EAAIoE,EAAE,YAAYhE,GAAE,YAAY,EAAGE,EAAI,MAAMN,EAAE,SACrD,UAAWW,KAAKL,EAAG,CACjB,MAAMP,EAAI+iC,GAAGniC,CAAC,EACd,MAAMX,EAAE,IAAID,CAAC,CACd,CACH,CACA,eAAeklC,GAAG,CAAE,GAAI7gC,EAAG,IAAKpE,CAAC,EAAI,CACnC,MAAMM,EAAI8D,EAAE,YAAY3B,GAAE,YAAY,EAAG9B,EAAI,MAAML,EAAE,SACrD,UAAWP,KAAKY,EAAG,CACjB,MAAM,EAAIoiC,GAAGhjC,EAAGC,EAAE,SAAS,EAC3B,MAAMM,EAAE,IAAI,CAAC,CACd,CACH,CACA,eAAe4kC,GAAG,CAAE,GAAI9gC,EAAG,IAAKpE,CAAC,EAAI,CACnC,MAAMM,EAAI8D,EAAE,YAAY3B,GAAE,YAAY,EAAG9B,EAAI,MAAML,EAAE,SACrD,UAAWP,KAAKY,EACd,GAAI,SAAUZ,EAAG,CACf,MAAM,EAAIgjC,GAAGhjC,EAAGC,EAAE,SAAS,EAC3B,MAAMM,EAAE,IAAI,CAAC,CACd,CACL,CACA,MAAM6kC,GAAK,IAAM,CACjB,EAAGC,GAAK,CACND,GACAA,GACAA,GACAJ,GACAC,GACAG,GACAF,GACAC,EACF,EACA,eAAeG,GAAGjhC,EAAG,CAAE,OAAQpE,CAAC,EAAI,CAClC,GAAIoE,EAAE,aAAe,GAAKA,EAAE,YAAc,KAAM,CAC9CpE,GAAK,MAAQA,EAAE,MAAM,yDAA0D,CAC7E,WAAYoE,EAAE,WACd,WAAYA,EAAE,UACpB,CAAK,EACD,MACD,CACD,MAAM9D,EAAI8D,EAAE,WAAa,EAAGzD,EAAIyD,EAAE,WAAYrE,EAAIqlC,GAAG,MAAM9kC,EAAGK,EAAI,CAAC,EACnE,GAAIZ,EAAE,SAAW,EAAG,CAClBC,GAAK,MAAQA,EAAE,IAAI,uCAAuC,EAC1D,MACD,CACDA,GAAK,MAAQA,EAAE,IAAI,uCAAuCM,CAAC,OAAOK,CAAC,EAAE,EACrE,UAAW,KAAKZ,EACd,MAAM,EAAEqE,CAAC,CACb,CACA,SAASkhC,GAAGlhC,EAAGpE,EAAGM,EAAGK,EAAG,CACtB,OAAOyD,EAAE,WAAW,SAASpE,CAAC,EAAIoE,EAAE,MAAMpE,CAAC,EAAIoE,EAAE,YAAYpE,EAAGM,EAAGK,CAAC,CACtE,CACA,SAAS4kC,GAAG,CAAE,GAAInhC,EAAG,GAAIpE,CAAG,EAAEM,EAAGK,EAAG,CAClC,OAAOyD,EAAE,iBAAiB,SAAS9D,CAAC,EAAIN,EAAE,YAAYM,CAAC,EAAI8D,EAAE,kBAAkB9D,EAAGK,CAAC,CACrF,CACA,MAAM6kC,GAAK3lC,GAAG,GACd,eAAe4lC,GAAGrhC,EAAG,CACnB,MAAMpE,EAAI,MAAMoE,EAAE,eAClB,OAAOsgC,GAAG,aAAcc,GAAI,CAC1B,MAAM,QAAQllC,EAAGK,EAAGZ,EAAG,EAAG,CACxB,MAAM,EAAI,CACR,GAAIO,EACJ,WAAYK,EACZ,WAAYZ,EACZ,GAAI,EACJ,IAAK,CACH,UAAWC,CACZ,CACT,EACM0lC,GAAG,CAAC,EAAG,MAAML,GAAG,EAAG,CAAE,OAAQ,IAAI,CAAE,CACpC,CACL,CAAG,CACH,CACA,SAASK,GAAGthC,EAAG,CACb,MAAMpE,EAAIulC,GAAGnhC,EAAG3B,GAAE,kBAAmB,CACnC,QAAS,IACb,CAAG,EACD6iC,GAAGtlC,EAAGyC,GAAE,iBAAkB,YAAa,CACrC,OAAQ,EACZ,CAAG,EAAG6iC,GAAGtlC,EAAGyC,GAAE,eAAgB,UAAW,CAAE,OAAQ,EAAE,CAAE,EACrD,MAAMnC,EAAIilC,GAAGnhC,EAAGy8B,GAAG,kBAAmB,CACpC,QAAS,IACb,CAAG,EACDyE,GAAGhlC,EAAGugC,GAAG,iBAAkB,YAAa,CACtC,OAAQ,EACT,CAAA,EAAGyE,GAAGhlC,EAAGugC,GAAG,eAAgB,UAAW,CACtC,OAAQ,EACZ,CAAG,EACD,MAAMlgC,EAAI4kC,GAAGnhC,EAAGhE,GAAE,kBAAmB,CACnC,QAAS,IACb,CAAG,EACDklC,GAAG3kC,EAAGP,GAAE,iBAAkB,YAAa,CAAE,OAAQ,EAAI,CAAA,EAAGklC,GAAG3kC,EAAGP,GAAE,gBAAiB,YAAa,CAAE,OAAQ,EAAE,CAAE,CAC9G,CACA,SAASulC,GAAGvhC,EAAG,CACb,MAAMpE,EAAIylC,GAAGrhC,CAAC,EAAG9D,EAAI8D,EAAE,SAAW,OAAS,QAAUA,EAAE,OACvD,MAAO,CACL,UAAWpE,EACX,aAAc,IAAIyC,GAAE,CAAE,GAAIzC,EAAG,GAAGoE,EAAG,EACnC,cAAe,IAAIy8B,GAAG,CAAE,GAAI7gC,EAAG,GAAGoE,EAAG,EACrC,QAAS,IAAIhE,GAAE,CAAE,GAAIJ,EAAG,GAAGoE,EAAG,EAC9B,aAAc,IAAMu+B,GAAG3iC,CAAC,EACxB,aAAeW,GAAMqiC,GAAG,CACtB,UAAWhjC,EACX,YAAaW,EACb,aAAcyD,EAAE,aAChB,OAAQ9D,CACd,CAAK,CACL,CACA,CACA,IAAIslC,GAAK,CAAE,QAAS,CAAA,IACnB,SAASxhC,EAAGpE,EAAG,CACd,IAAIM,EAAI,IAAKK,EAAI,4BAA6BZ,EAAI,EAAG,EAAI,EAAG,EAAI,iBAAkBS,EAAI,qBAAsB6E,EAAI,iBAAkBvE,EAAI,yBAA0BuB,EAAI,mBAAoB3B,EAAI,gBAAiB4B,EAAI,iBAAkBd,EAAI,oBAAqByB,EAAI,6BAA8BlB,EAAI,eAAgBX,EAAI,kBAAmBG,EAAI,gBAAiBgD,EAAI,kBAAmBf,EAAK,mBAAoB+9B,EAAK,iBAAkBr8B,EAAK,kBAAmB/B,EAAK,eAAgB8B,EAAK,kBAAmBpD,EAAI,kBAAmBP,EAAI,qBAAsB,EAAI,mBAAoB6C,EAAI,uBAAwB3B,EAAI,oBAAqBD,EAAK,wBAAyBW,EAAK,wBAAyB7B,EAAI,qBAAsBkC,EAAK,sBAAuBX,EAAI,sBAAuBkD,EAAK,sBAAuBu7B,EAAK,6BAA8B19B,EAAK,uBAAwB29B,EAAK,uBAAwBuE,GAAK,sBAAuBC,GAAK,8BAA+BC,GAAK,mBAAoBjjC,GAAI,GAC38BA,GAAEP,CAAE,EAAIO,GAAEI,CAAE,EAAIJ,GAAEzB,CAAC,EAAIyB,GAAES,CAAE,EAAIT,GAAEF,CAAC,EAAIE,GAAEgD,CAAE,EAAIhD,GAAEu+B,CAAE,EAAIv+B,GAAEa,CAAE,EAAIb,GAAEw+B,CAAE,EAAI,GAAIx+B,GAAEtC,CAAC,EAAIsC,GAAEuC,CAAC,EAAIvC,GAAEqB,CAAC,EAAIrB,GAAET,CAAC,EAAIS,GAAEN,CAAC,EAAIM,GAAEpC,CAAC,EAAIoC,GAAER,CAAC,EAAIQ,GAAEtB,CAAC,EAAIsB,GAAEf,CAAC,EAAIe,GAAE1B,CAAC,EAAI0B,GAAEyB,CAAC,EAAIzB,GAAEoC,CAAE,EAAIpC,GAAEK,CAAE,EAAIL,GAAEmC,CAAE,EAAInC,GAAE,CAAC,EAAI,GACtL,IAAIkjC,GAAK,OAAO7E,IAAM,UAAYA,IAAMA,GAAG,SAAW,QAAUA,GAAI8E,GAAK,OAAO,MAAQ,UAAY,MAAQ,KAAK,SAAW,QAAU,KAAM3gC,GAAK0gC,IAAMC,IAAM,SAAS,aAAa,EAAG,EAAEC,GAAKlmC,GAAK,CAACA,EAAE,UAAYA,EAAGmmC,GAAKD,IAAM,IAAM9hC,GAAK,CAACA,EAAE,UAAYA,EAAGgiC,GAAKD,IAAMA,GAAG,UAAYD,GAAIG,GAAKD,IAAMJ,GAAG,QAASM,GAAK,UAAW,CAC/T,GAAI,CACF,OAAOD,IAAMA,GAAG,SAAWA,GAAG,QAAQ,MAAM,CAClD,MAAY,CACP,CACF,EAAA,EAAIE,GAAKD,IAAMA,GAAG,aACnB,SAASE,GAAG3iC,EAAG7C,EAAG,CAChB,QAASP,EAAI,GAAIqB,EAAI+B,GAAK,KAAO,EAAIA,EAAE,OAAQb,GAAI,EAAGrB,EAAI,CAAA,EAAI,EAAElB,EAAIqB,GAAK,CACvE,IAAI0C,GAAIX,EAAEpD,CAAC,EACXO,EAAEwD,GAAG/D,EAAGoD,CAAC,IAAMlC,EAAEqB,IAAG,EAAIwB,GACzB,CACD,OAAO7C,CACR,CACD,SAAS8kC,GAAG5iC,EAAG7C,EAAG,CAChB,QAASP,EAAI,GAAIqB,EAAId,EAAE,OAAQgC,GAAIa,EAAE,OAAQ,EAAEpD,EAAIqB,GACjD+B,EAAEb,GAAIvC,CAAC,EAAIO,EAAEP,CAAC,EAChB,OAAOoD,CACR,CACD,SAAS6iC,GAAG7iC,EAAG7C,EAAG,CAChB,QAASP,EAAI,GAAIqB,EAAI+B,GAAK,KAAO,EAAIA,EAAE,OAAQ,EAAEpD,EAAIqB,GACnD,GAAId,EAAE6C,EAAEpD,CAAC,EAAGA,EAAGoD,CAAC,EACd,MAAO,GACX,MAAO,EACR,CACD,SAAS8iC,GAAG9iC,EAAG7C,EAAG,CAChB,QAASP,EAAI,GAAIqB,EAAI,MAAM+B,CAAC,EAAG,EAAEpD,EAAIoD,GACnC/B,EAAErB,CAAC,EAAIO,EAAEP,CAAC,EACZ,OAAOqB,CACR,CACD,SAAS8kC,GAAG/iC,EAAG,CACb,OAAO,SAAS7C,EAAG,CACjB,OAAO6C,EAAE7C,CAAC,CAChB,CACG,CACD,SAAS6lC,GAAGhjC,EAAG7C,EAAG,CAChB,OAAO6C,EAAE,IAAI7C,CAAC,CACf,CACD,SAAS8lC,GAAGjjC,EAAG7C,EAAG,CAChB,OAAO6C,GAAK,KAAO,OAASA,EAAE7C,CAAC,CAChC,CACD,SAAS+lC,GAAGljC,EAAG,CACb,IAAI7C,EAAI,GAAIP,EAAI,MAAMoD,EAAE,IAAI,EAC5B,OAAOA,EAAE,QAAQ,SAAS/B,EAAGkB,GAAG,CAC9BvC,EAAE,EAAEO,CAAC,EAAI,CAACgC,GAAGlB,CAAC,CACf,CAAA,EAAGrB,CACL,CACD,SAASumC,GAAGnjC,EAAG7C,EAAG,CAChB,OAAO,SAASP,EAAG,CACjB,OAAOoD,EAAE7C,EAAEP,CAAC,CAAC,CACnB,CACG,CACD,SAASwmC,GAAGpjC,EAAG,CACb,IAAI7C,EAAI,GAAIP,EAAI,MAAMoD,EAAE,IAAI,EAC5B,OAAOA,EAAE,QAAQ,SAAS/B,EAAG,CAC3BrB,EAAE,EAAEO,CAAC,EAAIc,CACV,CAAA,EAAGrB,CACL,CACD,IAAIymC,GAAK,MAAM,UAAWC,GAAK,SAAS,UAAWC,EAAK,OAAO,UAAWC,GAAK/hC,GAAG,oBAAoB,EAAGgiC,GAAKH,GAAG,SAAUhiC,GAAKiiC,EAAG,eAAgBG,GAAK,UAAW,CACjK,IAAI1jC,EAAI,SAAS,KAAKwjC,IAAMA,GAAG,MAAQA,GAAG,KAAK,UAAY,EAAE,EAC7D,OAAOxjC,EAAI,iBAAmBA,EAAI,EACnC,EAAA,EAAI2jC,EAAKJ,EAAG,SAAUK,GAAK,OAC1B,IAAMH,GAAG,KAAKniC,EAAE,EAAE,QAAQ0gC,GAAI,MAAM,EAAE,QAAQ,yDAA0D,OAAO,EAAI,GACvH,EAAK6B,GAAKtB,GAAK9gC,GAAG,OAAS,OAAQqiC,GAAKriC,GAAG,OAAQsiC,GAAKtiC,GAAG,WAAYuiC,GAAKT,EAAG,qBAAsBU,GAAKZ,GAAG,OAAQa,GAAKJ,GAAKA,GAAG,YAAc,OAAQK,GAAK,OAAO,sBAAuBC,GAAKP,GAAKA,GAAG,SAAW,OAAQQ,GAAKlB,GAAG,OAAO,KAAM,MAAM,EAAGmB,GAAKC,GAAG9iC,GAAI,UAAU,EAAG+iC,GAAKD,GAAG9iC,GAAI,KAAK,EAAGgjC,GAAKF,GAAG9iC,GAAI,SAAS,EAAGijC,GAAKH,GAAG9iC,GAAI,KAAK,EAAGkjC,GAAKJ,GAAG9iC,GAAI,SAAS,EAAGmjC,GAAKL,GAAG,OAAQ,QAAQ,EAAGM,GAAKC,GAAGR,EAAE,EAAGS,GAAKD,GAAGN,EAAE,EAAGQ,GAAKF,GAAGL,EAAE,EAAGQ,GAAKH,GAAGJ,EAAE,EAAGQ,GAAKJ,GAAGH,EAAE,EAAGQ,GAAKrB,GAAKA,GAAG,UAAY,OAAQsB,GAAKD,GAAKA,GAAG,QAAU,OAC5f,SAASE,GAAGrlC,EAAG,CACb,IAAI7C,EAAI,GAAIP,EAAIoD,GAAK,KAAO,EAAIA,EAAE,OAClC,IAAK,KAAK,MAAK,EAAI,EAAE7C,EAAIP,GAAK,CAC5B,IAAIqB,EAAI+B,EAAE7C,CAAC,EACX,KAAK,IAAIc,EAAE,CAAC,EAAGA,EAAE,CAAC,CAAC,CACpB,CACF,CACD,SAASqnC,IAAK,CACZ,KAAK,SAAWV,GAAKA,GAAG,IAAI,EAAI,GAAI,KAAK,KAAO,CACjD,CACD,SAASW,GAAGvlC,EAAG,CACb,IAAI7C,EAAI,KAAK,IAAI6C,CAAC,GAAK,OAAO,KAAK,SAASA,CAAC,EAC7C,OAAO,KAAK,MAAQ7C,EAAI,EAAI,EAAGA,CAChC,CACD,SAASqoC,GAAGxlC,EAAG,CACb,IAAI7C,EAAI,KAAK,SACb,GAAIynC,GAAI,CACN,IAAIhoC,EAAIO,EAAE6C,CAAC,EACX,OAAOpD,IAAME,EAAI,OAASF,CAC3B,CACD,OAAO0E,GAAG,KAAKnE,EAAG6C,CAAC,EAAI7C,EAAE6C,CAAC,EAAI,MAC/B,CACD,SAASylC,GAAGzlC,EAAG,CACb,IAAI7C,EAAI,KAAK,SACb,OAAOynC,GAAKznC,EAAE6C,CAAC,IAAM,OAASsB,GAAG,KAAKnE,EAAG6C,CAAC,CAC3C,CACD,SAAS0lC,GAAG1lC,EAAG7C,EAAG,CAChB,IAAIP,EAAI,KAAK,SACb,OAAO,KAAK,MAAQ,KAAK,IAAIoD,CAAC,EAAI,EAAI,EAAGpD,EAAEoD,CAAC,EAAI4kC,IAAMznC,IAAM,OAASL,EAAIK,EAAG,IAC7E,CACDkoC,GAAG,UAAU,MAAQC,GAAID,GAAG,UAAU,OAASE,GAAIF,GAAG,UAAU,IAAMG,GAAIH,GAAG,UAAU,IAAMI,GAAIJ,GAAG,UAAU,IAAMK,GACpH,SAASC,GAAG3lC,EAAG,CACb,IAAI7C,EAAI,GAAIP,EAAIoD,GAAK,KAAO,EAAIA,EAAE,OAClC,IAAK,KAAK,MAAK,EAAI,EAAE7C,EAAIP,GAAK,CAC5B,IAAIqB,EAAI+B,EAAE7C,CAAC,EACX,KAAK,IAAIc,EAAE,CAAC,EAAGA,EAAE,CAAC,CAAC,CACpB,CACF,CACD,SAAS2nC,IAAK,CACZ,KAAK,SAAW,CAAA,EAAI,KAAK,KAAO,CACjC,CACD,SAASC,GAAG7lC,EAAG,CACb,IAAI7C,EAAI,KAAK,SAAUP,EAAIkpC,GAAG3oC,EAAG6C,CAAC,EAClC,GAAIpD,EAAI,EACN,MAAO,GACT,IAAIqB,EAAId,EAAE,OAAS,EACnB,OAAOP,GAAKqB,EAAId,EAAE,IAAK,EAAG8mC,GAAG,KAAK9mC,EAAGP,EAAG,CAAC,EAAG,EAAE,KAAK,KAAM,EAC1D,CACD,SAASmpC,GAAG/lC,EAAG,CACb,IAAI7C,EAAI,KAAK,SAAUP,EAAIkpC,GAAG3oC,EAAG6C,CAAC,EAClC,OAAOpD,EAAI,EAAI,OAASO,EAAEP,CAAC,EAAE,CAAC,CAC/B,CACD,SAASopC,GAAGhmC,EAAG,CACb,OAAO8lC,GAAG,KAAK,SAAU9lC,CAAC,EAAI,EAC/B,CACD,SAASimC,GAAGjmC,EAAG7C,EAAG,CAChB,IAAIP,EAAI,KAAK,SAAUqB,EAAI6nC,GAAGlpC,EAAGoD,CAAC,EAClC,OAAO/B,EAAI,GAAK,EAAE,KAAK,KAAMrB,EAAE,KAAK,CAACoD,EAAG7C,CAAC,CAAC,GAAKP,EAAEqB,CAAC,EAAE,CAAC,EAAId,EAAG,IAC7D,CACDwoC,GAAG,UAAU,MAAQC,GAAID,GAAG,UAAU,OAASE,GAAIF,GAAG,UAAU,IAAMI,GAAIJ,GAAG,UAAU,IAAMK,GAAIL,GAAG,UAAU,IAAMM,GACpH,SAASC,GAAGlmC,EAAG,CACb,IAAI7C,EAAI,GAAIP,EAAIoD,GAAK,KAAO,EAAIA,EAAE,OAClC,IAAK,KAAK,MAAK,EAAI,EAAE7C,EAAIP,GAAK,CAC5B,IAAIqB,EAAI+B,EAAE7C,CAAC,EACX,KAAK,IAAIc,EAAE,CAAC,EAAGA,EAAE,CAAC,CAAC,CACpB,CACF,CACD,SAASkoC,IAAK,CACZ,KAAK,KAAO,EAAG,KAAK,SAAW,CAC7B,KAAM,IAAId,GACV,IAAK,IAAKb,IAAMmB,IAChB,OAAQ,IAAIN,EAClB,CACG,CACD,SAASe,GAAGpmC,EAAG,CACb,IAAI7C,EAAIkpC,GAAG,KAAMrmC,CAAC,EAAE,OAAOA,CAAC,EAC5B,OAAO,KAAK,MAAQ7C,EAAI,EAAI,EAAGA,CAChC,CACD,SAASmpC,GAAGtmC,EAAG,CACb,OAAOqmC,GAAG,KAAMrmC,CAAC,EAAE,IAAIA,CAAC,CACzB,CACD,SAASumC,GAAGvmC,EAAG,CACb,OAAOqmC,GAAG,KAAMrmC,CAAC,EAAE,IAAIA,CAAC,CACzB,CACD,SAASwmC,GAAGxmC,EAAG7C,EAAG,CAChB,IAAIP,EAAIypC,GAAG,KAAMrmC,CAAC,EAAG/B,EAAIrB,EAAE,KAC3B,OAAOA,EAAE,IAAIoD,EAAG7C,CAAC,EAAG,KAAK,MAAQP,EAAE,MAAQqB,EAAI,EAAI,EAAG,IACvD,CACDioC,GAAG,UAAU,MAAQC,GAAID,GAAG,UAAU,OAASE,GAAIF,GAAG,UAAU,IAAMI,GAAIJ,GAAG,UAAU,IAAMK,GAAIL,GAAG,UAAU,IAAMM,GACpH,SAASC,GAAGzmC,EAAG,CACb,IAAI7C,EAAI,GAAIP,EAAIoD,GAAK,KAAO,EAAIA,EAAE,OAClC,IAAK,KAAK,SAAW,IAAIkmC,GAAM,EAAE/oC,EAAIP,GACnC,KAAK,IAAIoD,EAAE7C,CAAC,CAAC,CAChB,CACD,SAASupC,GAAG1mC,EAAG,CACb,OAAO,KAAK,SAAS,IAAIA,EAAGlD,CAAC,EAAG,IACjC,CACD,SAAS6pC,GAAG3mC,EAAG,CACb,OAAO,KAAK,SAAS,IAAIA,CAAC,CAC3B,CACDymC,GAAG,UAAU,IAAMA,GAAG,UAAU,KAAOC,GAAID,GAAG,UAAU,IAAME,GAC9D,SAAS3kC,GAAGhC,EAAG,CACb,IAAI7C,EAAI,KAAK,SAAW,IAAIwoC,GAAG3lC,CAAC,EAChC,KAAK,KAAO7C,EAAE,IACf,CACD,SAASypC,IAAK,CACZ,KAAK,SAAW,IAAIjB,GAAM,KAAK,KAAO,CACvC,CACD,SAASkB,GAAG7mC,EAAG,CACb,IAAI7C,EAAI,KAAK,SAAUP,EAAIO,EAAE,OAAO6C,CAAC,EACrC,OAAO,KAAK,KAAO7C,EAAE,KAAMP,CAC5B,CACD,SAASkqC,GAAG9mC,EAAG,CACb,OAAO,KAAK,SAAS,IAAIA,CAAC,CAC3B,CACD,SAAS+mC,GAAG/mC,EAAG,CACb,OAAO,KAAK,SAAS,IAAIA,CAAC,CAC3B,CACD,SAASgnC,GAAGhnC,EAAG7C,EAAG,CAChB,IAAIP,EAAI,KAAK,SACb,GAAIA,aAAa+oC,GAAI,CACnB,IAAI1nC,EAAIrB,EAAE,SACV,GAAI,CAAC4nC,IAAMvmC,EAAE,OAASxB,EAAI,EACxB,OAAOwB,EAAE,KAAK,CAAC+B,EAAG7C,CAAC,CAAC,EAAG,KAAK,KAAO,EAAEP,EAAE,KAAM,KAC/CA,EAAI,KAAK,SAAW,IAAIspC,GAAGjoC,CAAC,CAC7B,CACD,OAAOrB,EAAE,IAAIoD,EAAG7C,CAAC,EAAG,KAAK,KAAOP,EAAE,KAAM,IACzC,CACDoF,GAAG,UAAU,MAAQ4kC,GAAI5kC,GAAG,UAAU,OAAS6kC,GAAI7kC,GAAG,UAAU,IAAM8kC,GAAI9kC,GAAG,UAAU,IAAM+kC,GAAI/kC,GAAG,UAAU,IAAMglC,GACpH,SAASC,GAAGjnC,EAAG7C,EAAG,CAChB,IAAIP,EAAIsqC,GAAGlnC,CAAC,EAAG/B,EAAI,CAACrB,GAAKuqC,GAAGnnC,CAAC,EAAGb,GAAI,CAACvC,GAAK,CAACqB,GAAKmpC,GAAGpnC,CAAC,EAAGlC,EAAI,CAAClB,GAAK,CAACqB,GAAK,CAACkB,IAAKkoC,GAAGrnC,CAAC,EAAGW,GAAI/D,GAAKqB,GAAKkB,IAAKrB,EAAGxB,GAAKqE,GAAImiC,GAAG9iC,EAAE,OAAQ,MAAM,EAAI,GAAIxD,GAAKF,GAAG,OACtJ,QAASmE,MAAKT,GACX7C,GAAKmE,GAAG,KAAKtB,EAAGS,EAAC,IAAM,EAAEE,KAAMF,IAAK,UAAYtB,KAAMsB,IAAK,UAAYA,IAAK,WAAa3C,IAAM2C,IAAK,UAAYA,IAAK,cAAgBA,IAAK,eAAiB6mC,GAAG7mC,GAAGjE,EAAE,KAAOF,GAAG,KAAKmE,EAAC,EACtL,OAAOnE,EACR,CACD,SAASwpC,GAAG9lC,EAAG7C,EAAG,CAChB,QAASP,EAAIoD,EAAE,OAAQpD,KACrB,GAAI2qC,GAAGvnC,EAAEpD,CAAC,EAAE,CAAC,EAAGO,CAAC,EACf,OAAOP,EACX,MAAO,EACR,CACD,SAAS4qC,GAAGxnC,EAAG7C,EAAGP,EAAG,CACnB,IAAIqB,EAAId,EAAE6C,CAAC,EACX,OAAOknC,GAAGlnC,CAAC,EAAI/B,EAAI2kC,GAAG3kC,EAAGrB,EAAEoD,CAAC,CAAC,CAC9B,CACD,SAASynC,GAAGznC,EAAG,CACb,OAAOA,GAAK,KAAOA,IAAM,OAASvC,EAAIC,EAAIwmC,IAAMA,MAAM,OAAOlkC,CAAC,EAAI0nC,GAAG1nC,CAAC,EAAI2nC,GAAG3nC,CAAC,CAC/E,CACD,SAAS4nC,GAAG5nC,EAAG,CACb,OAAO6nC,GAAG7nC,CAAC,GAAKynC,GAAGznC,CAAC,GAAKrD,CAC1B,CACD,SAASmrC,GAAG9nC,EAAG7C,EAAGP,EAAGqB,EAAGkB,GAAG,CACzB,OAAOa,IAAM7C,EAAI,GAAK6C,GAAK,MAAQ7C,GAAK,MAAQ,CAAC0qC,GAAG7nC,CAAC,GAAK,CAAC6nC,GAAG1qC,CAAC,EAAI6C,IAAMA,GAAK7C,IAAMA,EAAI4qC,GAAG/nC,EAAG7C,EAAGP,EAAGqB,EAAG6pC,GAAI3oC,EAAC,CAC7G,CACD,SAAS4oC,GAAG/nC,EAAG7C,EAAGP,EAAGqB,EAAGkB,GAAGrB,EAAG,CAC5B,IAAI6C,GAAIumC,GAAGlnC,CAAC,EAAG1D,GAAK4qC,GAAG/pC,CAAC,EAAGX,GAAKmE,GAAIa,EAAIwmC,GAAGhoC,CAAC,EAAGS,GAAInE,GAAKkF,EAAIwmC,GAAG7qC,CAAC,EAChEX,GAAKA,IAAMG,EAAI+D,EAAIlE,GAAIiE,GAAIA,IAAK9D,EAAI+D,EAAID,GACxC,IAAII,GAAKrE,IAAMkE,EAAGO,GAAKR,IAAKC,EAAGgB,GAAKlF,IAAMiE,GAC1C,GAAIiB,IAAM0lC,GAAGpnC,CAAC,EAAG,CACf,GAAI,CAAConC,GAAGjqC,CAAC,EACP,MAAO,GACTwD,GAAI,GAAIE,GAAK,EACd,CACD,GAAIa,IAAM,CAACb,GACT,OAAO/C,IAAMA,EAAI,IAAIkE,IAAOrB,IAAK0mC,GAAGrnC,CAAC,EAAIioC,GAAGjoC,EAAG7C,EAAGP,EAAGqB,EAAGkB,GAAGrB,CAAC,EAAIoqC,GAAGloC,EAAG7C,EAAGX,GAAII,EAAGqB,EAAGkB,GAAGrB,CAAC,EACzF,GAAI,EAAElB,EAAIV,GAAI,CACZ,IAAIgE,GAAKW,IAAMS,GAAG,KAAKtB,EAAG,aAAa,EAAGD,GAAKkB,IAAMK,GAAG,KAAKnE,EAAG,aAAa,EAC7E,GAAI+C,IAAMH,GAAI,CACZ,IAAIooC,GAAKjoC,GAAKF,EAAE,MAAK,EAAKA,EAAGooC,GAAKroC,GAAK5C,EAAE,MAAK,EAAKA,EACnD,OAAOW,IAAMA,EAAI,IAAIkE,IAAO7C,GAAEgpC,GAAIC,GAAIxrC,EAAGqB,EAAGH,CAAC,CAC9C,CACF,CACD,OAAO4D,IAAM5D,IAAMA,EAAI,IAAIkE,IAAOqmC,GAAGroC,EAAG7C,EAAGP,EAAGqB,EAAGkB,GAAGrB,CAAC,GAAK,EAC3D,CACD,SAASwqC,GAAGtoC,EAAG,CACb,GAAI,CAACuoC,GAAGvoC,CAAC,GAAKwoC,GAAGxoC,CAAC,EAChB,MAAO,GACT,IAAI7C,EAAIsrC,GAAGzoC,CAAC,EAAI4jC,GAAK3B,GACrB,OAAO9kC,EAAE,KAAK2nC,GAAG9kC,CAAC,CAAC,CACpB,CACD,SAAS0oC,GAAG1oC,EAAG,CACb,OAAO6nC,GAAG7nC,CAAC,GAAK2oC,GAAG3oC,EAAE,MAAM,GAAK,CAAC,CAACf,GAAEwoC,GAAGznC,CAAC,CAAC,CAC1C,CACD,SAAS4oC,GAAG5oC,EAAG,CACb,GAAI,CAAC6oC,GAAG7oC,CAAC,EACP,OAAOqkC,GAAGrkC,CAAC,EACb,IAAI7C,EAAI,CAAA,EACR,QAASP,KAAK,OAAOoD,CAAC,EACpBsB,GAAG,KAAKtB,EAAGpD,CAAC,GAAKA,GAAK,eAAiBO,EAAE,KAAKP,CAAC,EACjD,OAAOO,CACR,CACD,SAAS8qC,GAAGjoC,EAAG7C,EAAGP,EAAGqB,EAAGkB,GAAGrB,EAAG,CAC5B,IAAI6C,GAAI/D,EAAIV,EAAGI,GAAK0D,EAAE,OAAQxD,GAAKW,EAAE,OACrC,GAAIb,IAAME,IAAM,EAAEmE,IAAKnE,GAAKF,IAC1B,MAAO,GACT,IAAImE,GAAI3C,EAAE,IAAIkC,CAAC,EACf,GAAIS,IAAK3C,EAAE,IAAIX,CAAC,EACd,OAAOsD,IAAKtD,EACd,IAAI0D,GAAK,GAAII,GAAK,GAAIS,GAAK9E,EAAI,EAAI,IAAI6pC,GAAO,OAC9C,IAAK3oC,EAAE,IAAIkC,EAAG7C,CAAC,EAAGW,EAAE,IAAIX,EAAG6C,CAAC,EAAG,EAAEa,GAAKvE,IAAM,CAC1C,IAAI4D,GAAKF,EAAEa,EAAE,EAAGd,GAAK5C,EAAE0D,EAAE,EACzB,GAAI5C,EACF,IAAIkqC,GAAKxnC,GAAI1C,EAAE8B,GAAIG,GAAIW,GAAI1D,EAAG6C,EAAGlC,CAAC,EAAIG,EAAEiC,GAAIH,GAAIc,GAAIb,EAAG7C,EAAGW,CAAC,EAC7D,GAAIqqC,KAAO,OAAQ,CACjB,GAAIA,GACF,SACFlnC,GAAK,GACL,KACD,CACD,GAAIS,IACF,GAAI,CAACmhC,GAAG1lC,EAAG,SAASirC,GAAIU,GAAI,CAC1B,GAAI,CAAC9F,GAAGthC,GAAIonC,EAAE,IAAM5oC,KAAOkoC,IAAMjpC,GAAEe,GAAIkoC,GAAIxrC,EAAGqB,EAAGH,CAAC,GAChD,OAAO4D,GAAG,KAAKonC,EAAE,CAC7B,CAAS,EAAG,CACF7nC,GAAK,GACL,KACD,UACQ,EAAEf,KAAOH,IAAMZ,GAAEe,GAAIH,GAAInD,EAAGqB,EAAGH,CAAC,GAAI,CAC7CmD,GAAK,GACL,KACD,CACF,CACD,OAAOnD,EAAE,OAAOkC,CAAC,EAAGlC,EAAE,OAAOX,CAAC,EAAG8D,EAClC,CACD,SAASinC,GAAGloC,EAAG7C,EAAGP,EAAGqB,EAAGkB,GAAGrB,EAAG6C,GAAG,CAC/B,OAAQ/D,EAAC,CACP,KAAK+B,EACH,GAAIqB,EAAE,YAAc7C,EAAE,YAAc6C,EAAE,YAAc7C,EAAE,WACpD,MAAO,GACT6C,EAAIA,EAAE,OAAQ7C,EAAIA,EAAE,OACtB,KAAKmD,EACH,MAAO,EAAEN,EAAE,YAAc7C,EAAE,YAAc,CAACW,EAAE,IAAIimC,GAAG/jC,CAAC,EAAG,IAAI+jC,GAAG5mC,CAAC,CAAC,GAClE,KAAKqB,EACL,KAAK3B,EACL,KAAKU,EACH,OAAOgqC,GAAG,CAACvnC,EAAG,CAAC7C,CAAC,EAClB,KAAKsB,EACH,OAAOuB,EAAE,MAAQ7C,EAAE,MAAQ6C,EAAE,SAAW7C,EAAE,QAC5C,KAAKkE,EACL,KAAKD,EACH,OAAOpB,GAAK7C,EAAI,GAClB,KAAKe,EACH,IAAI5B,GAAK4mC,GACX,KAAK5jC,EACH,IAAI9C,GAAKyB,EAAI/B,EACb,GAAII,KAAOA,GAAK8mC,IAAKpjC,EAAE,MAAQ7C,EAAE,MAAQ,CAACX,GACxC,MAAO,GACT,IAAIiE,GAAIE,GAAE,IAAIX,CAAC,EACf,GAAIS,GACF,OAAOA,IAAKtD,EACdc,GAAK,EAAG0C,GAAE,IAAIX,EAAG7C,CAAC,EAClB,IAAI0D,GAAKonC,GAAG3rC,GAAG0D,CAAC,EAAG1D,GAAGa,CAAC,EAAGc,EAAGkB,GAAGrB,EAAG6C,EAAC,EACpC,OAAOA,GAAE,OAAOX,CAAC,EAAGa,GACtB,KAAK7C,EACH,GAAIonC,GACF,OAAOA,GAAG,KAAKplC,CAAC,GAAKolC,GAAG,KAAKjoC,CAAC,CACnC,CACD,MAAO,EACR,CACD,SAASkrC,GAAGroC,EAAG7C,EAAGP,EAAGqB,EAAGkB,GAAGrB,EAAG,CAC5B,IAAI6C,GAAI/D,EAAIV,EAAGI,GAAKysC,GAAG/oC,CAAC,EAAGxD,GAAKF,GAAG,OAAQmE,GAAIsoC,GAAG5rC,CAAC,EAAG0D,GAAKJ,GAAE,OAC7D,GAAIjE,IAAMqE,IAAM,CAACF,GACf,MAAO,GACT,QAASM,GAAKzE,GAAIyE,MAAQ,CACxB,IAAIS,GAAKpF,GAAG2E,EAAE,EACd,GAAI,EAAEN,GAAIe,MAAMvE,EAAImE,GAAG,KAAKnE,EAAGuE,EAAE,GAC/B,MAAO,EACV,CACD,IAAIxB,GAAKpC,EAAE,IAAIkC,CAAC,EAChB,GAAIE,IAAMpC,EAAE,IAAIX,CAAC,EACf,OAAO+C,IAAM/C,EACf,IAAI4C,GAAK,GACTjC,EAAE,IAAIkC,EAAG7C,CAAC,EAAGW,EAAE,IAAIX,EAAG6C,CAAC,EACvB,QAASmoC,GAAKxnC,GAAG,EAAEM,GAAKzE,IAAM,CAC5BkF,GAAKpF,GAAG2E,EAAE,EACV,IAAImnC,GAAKpoC,EAAE0B,EAAE,EAAGonC,GAAK3rC,EAAEuE,EAAE,EACzB,GAAIzD,EACF,IAAI+qC,GAAKroC,GAAI1C,EAAE6qC,GAAIV,GAAI1mC,GAAIvE,EAAG6C,EAAGlC,CAAC,EAAIG,EAAEmqC,GAAIU,GAAIpnC,GAAI1B,EAAG7C,EAAGW,CAAC,EAC7D,GAAI,EAAEkrC,KAAO,OAASZ,KAAOU,IAAM3pC,GAAEipC,GAAIU,GAAIlsC,EAAGqB,EAAGH,CAAC,EAAIkrC,IAAK,CAC3DjpC,GAAK,GACL,KACD,CACDooC,KAAOA,GAAKzmC,IAAM,cACnB,CACD,GAAI3B,IAAM,CAACooC,GAAI,CACb,IAAIc,GAAKjpC,EAAE,YAAakpC,GAAK/rC,EAAE,YAC/B8rC,IAAMC,IAAM,gBAAiBlpC,GAAK,gBAAiB7C,GAAK,EAAE,OAAO8rC,IAAM,YAAcA,cAAcA,IAAM,OAAOC,IAAM,YAAcA,cAAcA,MAAQnpC,GAAK,GAChK,CACD,OAAOjC,EAAE,OAAOkC,CAAC,EAAGlC,EAAE,OAAOX,CAAC,EAAG4C,EAClC,CACD,SAASgpC,GAAG/oC,EAAG,CACb,OAAOwnC,GAAGxnC,EAAGmpC,GAAIC,EAAE,CACpB,CACD,SAAS/C,GAAGrmC,EAAG7C,EAAG,CAChB,IAAIP,EAAIoD,EAAE,SACV,OAAOqpC,GAAGlsC,CAAC,EAAIP,EAAE,OAAOO,GAAK,SAAW,SAAW,MAAM,EAAIP,EAAE,GAChE,CACD,SAAS2nC,GAAGvkC,EAAG7C,EAAG,CAChB,IAAIP,EAAIqmC,GAAGjjC,EAAG7C,CAAC,EACf,OAAOmrC,GAAG1rC,CAAC,EAAIA,EAAI,MACpB,CACD,SAAS8qC,GAAG1nC,EAAG,CACb,IAAI7C,EAAImE,GAAG,KAAKtB,EAAGkkC,EAAE,EAAGtnC,EAAIoD,EAAEkkC,EAAE,EAChC,GAAI,CACFlkC,EAAEkkC,EAAE,EAAI,OACR,IAAIjmC,EAAI,EACd,MAAY,CACP,CACD,IAAIkB,GAAIwkC,EAAG,KAAK3jC,CAAC,EACjB,OAAO/B,IAAMd,EAAI6C,EAAEkkC,EAAE,EAAItnC,EAAI,OAAOoD,EAAEkkC,EAAE,GAAI/kC,EAC7C,CACD,IAAIiqC,GAAKjF,GAAK,SAASnkC,EAAG,CACxB,OAAOA,GAAK,KAAO,CAAE,GAAIA,EAAI,OAAOA,CAAC,EAAG2iC,GAAGwB,GAAGnkC,CAAC,EAAG,SAAS7C,EAAG,CAC5D,OAAO6mC,GAAG,KAAKhkC,EAAG7C,CAAC,CACpB,CAAA,EACL,EAAMmsC,GAAItB,GAAKP,IACZnD,IAAM0D,GAAG,IAAI1D,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,GAAK3lC,GAAK6lC,IAAMwD,GAAG,IAAIxD,EAAI,GAAKtmC,GAAKumC,IAAMuD,GAAGvD,GAAG,QAAO,CAAE,GAAK9kC,GAAM+kC,IAAMsD,GAAG,IAAItD,EAAI,GAAKplC,GAAMqlC,IAAMqD,GAAG,IAAIrD,EAAI,GAAK,KAAOqD,GAAK,SAAShoC,EAAG,CACjL,IAAI7C,EAAIsqC,GAAGznC,CAAC,EAAGpD,EAAIO,GAAKuD,EAAIV,EAAE,YAAc,OAAQ/B,EAAIrB,EAAIkoC,GAAGloC,CAAC,EAAI,GACpE,GAAIqB,EACF,OAAQA,EAAC,CACP,KAAK4mC,GACH,OAAOlmC,EACT,KAAKomC,GACH,OAAO7mC,EACT,KAAK8mC,GACH,OAAOrlC,EACT,KAAKslC,GACH,OAAO3lC,EACT,KAAK4lC,GACH,OAAO,CACV,CACH,OAAO/nC,CACX,GACE,SAASmqC,GAAGtnC,EAAG7C,EAAG,CAChB,OAAOA,EAAIA,GAAY,EAAO,CAAC,CAACA,IAAM,OAAO6C,GAAK,UAAYkiC,GAAG,KAAKliC,CAAC,IAAMA,EAAI,IAAMA,EAAI,GAAK,GAAKA,EAAI7C,CAC1G,CACD,SAASksC,GAAGrpC,EAAG,CACb,IAAI7C,EAAI,OAAO6C,EACf,OAAO7C,GAAK,UAAYA,GAAK,UAAYA,GAAK,UAAYA,GAAK,UAAY6C,IAAM,YAAcA,IAAM,IACtG,CACD,SAASwoC,GAAGxoC,EAAG,CACb,MAAO,CAAC,CAAC0jC,IAAMA,MAAM1jC,CACtB,CACD,SAAS6oC,GAAG7oC,EAAG,CACb,IAAI7C,EAAI6C,GAAKA,EAAE,YAAapD,EAAI,OAAOO,GAAK,YAAcA,EAAE,WAAaomC,EACzE,OAAOvjC,IAAMpD,CACd,CACD,SAAS+qC,GAAG3nC,EAAG,CACb,OAAO2jC,EAAG,KAAK3jC,CAAC,CACjB,CACD,SAAS8kC,GAAG9kC,EAAG,CACb,GAAIA,GAAK,KAAM,CACb,GAAI,CACF,OAAOyjC,GAAG,KAAKzjC,CAAC,CACxB,MAAc,CACP,CACD,GAAI,CACF,OAAOA,EAAI,EACnB,MAAc,CACP,CACF,CACD,MAAO,EACR,CACD,SAASunC,GAAGvnC,EAAG7C,EAAG,CAChB,OAAO6C,IAAM7C,GAAK6C,IAAMA,GAAK7C,IAAMA,CACpC,CACD,IAAIgqC,GAAKS,GAAG,UAAW,CACrB,OAAO,SACX,GAAK,EAAIA,GAAK,SAAS5nC,EAAG,CACtB,OAAO6nC,GAAG7nC,CAAC,GAAKsB,GAAG,KAAKtB,EAAG,QAAQ,GAAK,CAACgkC,GAAG,KAAKhkC,EAAG,QAAQ,CAChE,EAAKknC,GAAK,MAAM,QACd,SAASqC,GAAGvpC,EAAG,CACb,OAAOA,GAAK,MAAQ2oC,GAAG3oC,EAAE,MAAM,GAAK,CAACyoC,GAAGzoC,CAAC,CAC1C,CACD,IAAIonC,GAAKhD,IAAMoF,GACf,SAASC,GAAGzpC,EAAG7C,EAAG,CAChB,OAAO2qC,GAAG9nC,EAAG7C,CAAC,CACf,CACD,SAASsrC,GAAGzoC,EAAG,CACb,GAAI,CAACuoC,GAAGvoC,CAAC,EACP,MAAO,GACT,IAAI7C,EAAIsqC,GAAGznC,CAAC,EACZ,OAAO7C,GAAKQ,GAAKR,GAAKiC,GAAKjC,GAAKF,GAAKE,GAAKugC,CAC3C,CACD,SAASiL,GAAG3oC,EAAG,CACb,OAAO,OAAOA,GAAK,UAAYA,EAAI,IAAMA,EAAI,GAAK,GAAKA,GAAK,CAC7D,CACD,SAASuoC,GAAGvoC,EAAG,CACb,IAAI7C,EAAI,OAAO6C,EACf,OAAOA,GAAK,OAAS7C,GAAK,UAAYA,GAAK,WAC5C,CACD,SAAS0qC,GAAG7nC,EAAG,CACb,OAAOA,GAAK,MAAQ,OAAOA,GAAK,QACjC,CACD,IAAIqnC,GAAK3E,GAAKK,GAAGL,EAAE,EAAIgG,GACvB,SAASS,GAAGnpC,EAAG,CACb,OAAOupC,GAAGvpC,CAAC,EAAIinC,GAAGjnC,CAAC,EAAI4oC,GAAG5oC,CAAC,CAC5B,CACD,SAASspC,IAAK,CACZ,MAAO,EACR,CACD,SAASE,IAAK,CACZ,MAAO,EACR,CACDjpC,EAAE,QAAUkpC,EACd,GAAG1H,GAAIA,GAAG,OAAO,EACjB,MAAM2H,GAAK3H,GAAG,QACd,SAAS4H,GAAGppC,EAAGpE,EAAG,CAChB,IAAID,EACJ,GAAI,OAAOqE,GAAK,WAAaA,EAAIqpC,GAAGrpC,EAAE,KAAI,CAAE,GAAI,CAACA,EAC/C,OACF,IAAI9D,GAAKP,EAAIC,GAAK,KAAO,OAASA,EAAE,wBAA0B,KAAOD,EAAI,GAAIY,EAAIyD,EAAE,SACnF,OAAO9D,IAAMK,EAAIA,EAAE,QAAQ,oNAAqN,EAAE,EAAE,QAAQ,eAAgB,SAAS,EAAE,QAAQ,iBAAkB,WAAW,EAAE,QAAQ,qBAAsB,eAAe,EAAE,QAAQ,qBAAsB,eAAe,EAAE,QAAQ,oBAAqB,cAAc,GAAI,CAAE,SAAUA,EAAG,KAAM+sC,GAAGtpC,EAAE,QAAQ,EAC/e,CACA,SAASqpC,GAAGrpC,EAAG,CACb,GAAI,CAACA,EACH,OACF,IAAIpE,EAAKM,GAAM,CACb,IAAIK,EAAI,IAAI,IAAIL,CAAC,EACjB,GAAI,CAAC,WAAW,KAAKK,EAAE,QAAQ,EAC7B,MAAM,MAAM,qCAAqC,EACnD,GAAI,CAACA,EAAE,SACL,MAAM,MAAM,0BAA0B,EACxC,GAAIA,EAAE,SAAS,YAAY,GAAG,GAAKA,EAAE,SAAS,OAAS,EACrD,MAAM,MAAM,gCAAgC,EAC9C,OAAOA,CACX,EACE,GAAI,CACF,OAAOX,EAAEoE,CAAC,CACd,MAAU,CACP,CACD,GAAI,CAACA,EAAE,SAAS,KAAK,EACnB,GAAI,CACF,OAAOpE,EAAE,WAAaoE,CAAC,CAC7B,MAAY,CACP,CACL,CACA,SAASspC,GAAGtpC,EAAG,CACb,OAAOA,EAAE,SAAS,GAAG,EAAIA,EAAE,UAAU,EAAG,KAAK,IAAI,EAAGA,EAAE,OAAS,CAAC,CAAC,EAAIA,CACvE,CACA,MAAMupC,GAAK,kBAAmBC,GAAK,KAAM,CACvC,YAAYxpC,EAAG,CACb,KAAK,cAAgB,KAAK,kBAAiB,EAAI,KAAK,KAAO,IAAI88B,GAC/D,IAAIlhC,EAAI,EACRyE,GAAE,KAAK,UAAU,YACdnE,GAAM,KAAK,KAAK,aAAa,SAAY,CACxC,IAAIK,EACJ,GAAIL,EAAE,IAAM,OAAS8D,GAAK,MAAQA,EAAE,MAAM,cAAcpE,GAAG,kBAAmBM,CAAC,EAAGA,EAAE,aAAe,MAAO,CACxG,MAAMS,GAAKJ,GAAK,MAAM,KAAK,eAAeL,EAAE,WAAW,IAAM,KAAO,OAASK,EAAE,CAAC,EAChFI,GAAK,MAAM,KAAK,WAAWT,EAAE,GAAIS,CAAC,CACnC,CACT,CAAO,CACP,EAAO0D,GAAE,cAAc,YAAY,YAC5BnE,GAAM,KAAK,KAAK,aAAa,SAAY,CACxC8D,GAAK,MAAQA,EAAE,MAAM,cAAcpE,GAAG,6BAA8BM,CAAC,EACrE,KAAM,CAAE,QAASK,EAAG,MAAOZ,EAAG,IAAK,EAAG,qBAAsB,CAAG,EAAGO,EAClEK,IAAM,KAAO,EAAE,SAAS,cAAc,GAAK,EAAE,SAAS,kBAAkB,IAAM,MAAM,KAAK,WAAWZ,EAAG,MAAM,EAAG,MAAM,KAAK,WAAWA,EAAG,CAAC,EAClJ,CAAO,CACF,EAAE0E,GAAE,QAAQ,UAAU,YAAY,IAAM,KAAK,aAAY,CAAE,EAAGA,GAAE,QAAQ,UAAU,YAAY,IAAM,KAAK,aAAc,CAAA,EAAGA,GAAE,KAAK,UAAU,YAAanE,GAAM,KAAK,cAAcA,CAAC,CAAC,CACrL,CACD,MAAM,mBAAoB,CACxB,MAAM8D,EAAI,MAAM09B,GAAG6L,EAAE,EACrB,OAAOvpC,GAAgB,EACxB,CACD,MAAM,WAAWA,EAAGpE,EAAG,CACrB,IAAID,EACJ,MAAMO,EAAI,MAAM,KAAK,cAAeK,GAAKZ,EAAIO,EAAE8D,CAAC,IAAM,KAAOrE,EAAIO,EAAE8D,CAAC,EAAI,CAAA,EACxEpE,IAAMW,EAAE,CAAC,GAAKA,EAAE,QAAQ,KAAK,oBAAoBX,CAAC,CAAC,EAAGW,EAAE,OAAOitC,GAAG,yBAAyB,EAAG,MAAM7L,GAAG4L,GAAIrtC,CAAC,CAC7G,CACD,oBAAoB8D,EAAG,CACrB,GAAMA,EACJ,GAAI,CACF,MAAMpE,EAAI,IAAI,IAAIoE,CAAC,EACnB,OAAOpE,EAAE,OAAS,GAAIA,EAAE,SAAW,GAAIA,EAAE,SAAW,GAAIA,EAAE,KAAO,GAAIA,EAAE,IAC/E,MAAc,CACN,MACD,CACJ,CACD,eAAeoE,EAAGpE,EAAG,CACnB,OAAO,KAAK,KAAK,aAAa,SAAY,CACxC,GAAIoE,GAAK,MAAQ,CAACpE,EAChB,OACF,MAAM,GAAK,MAAM,KAAK,eAAeoE,CAAC,EACtC,GAAI,GAAK,KACP,OACF,MAAM,EAAI,EAAE,UAAWrD,GAAMA,IAAMf,CAAC,EACpC,OAAO,IAAM,GAAK,OAAS,EAAE,EAAI,CAAC,CACxC,CAAK,CACF,CACD,cAAe,CACb,OAAO+hC,GAAG4L,GAAI,CAAA,CAAE,CACjB,CACD,MAAM,cAAcvpC,EAAG,CACrB,MAAMpE,EAAI,MAAM,KAAK,cACrB,OAAOA,EAAEoE,CAAC,EAAG,MAAM29B,GAAG4L,GAAI3tC,CAAC,CAC5B,CACH,EACA,IAAI6tC,GAAKD,GACTC,GAAG,0BAA4B,GAC/B,MAAMC,EAAG,CACP,aAAc,CACZ,KAAK,IAAM,EACZ,CACD,gBAAgB9tC,EAAG,CACjBA,EAAE,QAASM,GAAM,KAAK,IAAIA,EAAE,EAAE,EAAI,EAAE,CACrC,CACD,YAAYN,EAAG,CACb,IAAIM,EACJ,OAAQA,EAAI,KAAK,IAAIN,EAAE,EAAE,IAAM,KAAOM,EAAI,EAC3C,CACH,CACA,MAAM8E,GAAK,KAAM,CACf,YAAYhB,EAAGpE,EAAG,CAChB,KAAK,sBAAwB,GAAI,KAAK,sBAAwB,GAAI,KAAK,wBAA0B,GAAI,KAAK,yBAA2B,CAAE,EAAE,KAAK,uBAAyB,CAAE,EAAE,KAAK,gBAAkB,EAAG,KAAK,eAAiB6hC,GACzN,MAAO9hC,GAAM,CACX,IAAIS,EAAG6E,EAAG,EACV,MAAMtE,EAAI,sBAAsBhB,EAAE,SAAS,IAC3C,IAAKS,EAAI,KAAK,SAAW,MAAQA,EAAE,MAAM,GAAGO,CAAC,mDAAmD,EAAG,MAAM,KAAK,gBAAiBsE,EAAI,KAAK,SAAW,MAAQA,EAAE,MAC3J,GAAGtE,CAAC,iBAAiB,IAAI,KAAKhB,EAAE,SAAS,EAAE,mBAAkB,CAAE,EACzE,EAAW,KAAK,gBAAiB,EAAE,KAAK,6BAA8B,EAAE,MAAM,KAAK,OAAO,UAAW,CAC3F,MAAMsC,EAAI,KAAK,OAAS,IAAIm/B,GAAG,KAAK,OAAO,MAAM,KAAK,KAAK,MAAM,CAAC,EAAI,OAAQ9gC,EAAI,MAAM,KAAK,yBAC7F2B,GAAK,MAAQA,EAAE,IAAI,GAAGtB,CAAC,qCAAqC,EAC5D,MAAMuB,EAAI,KAAK,mBAAmBvC,EAAGW,CAAC,EACtC2B,GAAK,MAAQA,EAAE,IAAI,GAAGtB,CAAC,4CAA4C,EACnE,MAAMS,EAAI,MAAM,KAAK,oBAAoBzB,EAAGW,CAAC,EAC7C2B,GAAK,MAAQA,EAAE,IAAI,GAAGtB,CAAC,8CAA8C,EAAG,MAAM,KAAK,mBAAmBhB,EAAE,UAAWuC,CAAC,EAAGD,GAAK,MAAQA,EAAE,IAAI,GAAGtB,CAAC,6DAA6D,EAAG,MAAM,KAAK,oBAAoBhB,EAAE,UAAWyB,CAAC,EAAGa,GAAK,MAAQA,EAAE,IAAI,GAAGtB,CAAC,+DAA+D,CACrV,EACA,EAAI,KAAK,SAAW,MAAQ,EAAE,IAAI,GAAGA,CAAC,OAAO,CAC/C,CACF,EAAE,KAAK,OAASf,EAAG,KAAK,aAAeoE,EAAE,aAAc,KAAK,cAAgBA,EAAE,cAAe,KAAK,eAAiB,KAAK,eAAe,KAAK,IAAI,EAAGpE,EAAE,SAAW,OAAS,KAAK,OAAS,QAAU,KAAK,OAASA,EAAE,OAClN,KAAM,CAACM,EAAGK,CAAC,EAAIuhC,GAAE,EACjB,KAAK,eAAiB5hC,EAAG,KAAK,oBAAsBK,CACrD,CACD,eAAgB,CACd,IAAIyD,EAAGpE,EACP,KAAK,UAAY,IAAI6tC,GAAG,KAAK,MAAM,GAAI7tC,GAAKoE,EAAI,KAAK,QAAQ,sBAAwB,MAAQpE,EAAE,KAAKoE,EAAG,CACrG,0BAA2B,KAAK,aAAa,KAAK,IAAI,EACtD,yBAA0B,KAAK,yBAAyB,KAAK,IAAI,CACvE,CAAK,EAAG,KAAK,4BAA6B,KAAK,oBAAqB,KAAK,sBACtE,CACD,0BAA0BA,EAAG,CAC3B,KAAK,wBAAwB,KAAKA,CAAC,CACpC,CACD,2BAA2BA,EAAG,CAC5B,KAAK,yBAAyB,KAAKA,CAAC,CACrC,CACD,yBAAyBA,EAAG,CAC1B,KAAK,uBAAuB,KAAKA,CAAC,CACnC,CACD,2BAA4B,CAC1BK,GAAE,cAAc,YAAY,YAAY,MAAOL,GAAM,CACnDA,EAAE,QAAU,GAAK,MAAM,KAAK,aAC1B,4BACA,KAAK,MAAMA,EAAE,SAAS,CAC9B,CACK,CAAA,EAAGK,GAAE,KAAK,UAAU,YAAY,IAAM,KAAK,aAAa,gBAAgB,CAAC,EAAGA,GAAE,KAAK,UAAU,YAAY,IAAM,KAAK,aAAa,gBAAgB,CAAC,EAAGA,GAAE,KAAK,YAAY,YAAY,IAAM,KAAK,aAAa,kBAAkB,CAAC,EAAGA,GAAE,KAAK,UAAU,YAAY,IAAM,KAAK,aAAa,gBAAgB,CAAC,EAAGA,GAAE,QAAQ,UAAU,YAAY,IAAM,KAAK,aAAa,mBAAmB,CAAC,EAAGA,GAAE,QAAQ,eAAe,YAAY,IAAM,KAAK,aAAa,wBAAwB,CAAC,EAAGA,GAAE,QAAQ,UAAU,YAAY,IAAM,KAAK,aAAa,mBAAmB,CAAC,EAAG,KAAK,qBACriBL,GAAM,KAAK,aAAa,sCAAuCA,CAAC,CACvE,CACG,CACD,mBAAoB,CACnB,CACD,sBAAuB,CACrB,MAAMA,EAAI,KAAK,MACf,KAAK,OAAO,qBAAsB,GAAIK,GAAE,QAAQ,UAAU,YAAY,IAAM,CAC1E,KAAK,sBAAwB,GAAI,KAAK,YAAY,CAChD,gBAAiB,GACjB,QAAS,oBACT,UAAWL,CACnB,CAAO,CACP,CAAK,EAAG,WAAW,IAAM,CACnB,KAAK,uBAAyB,KAAK,YAAY,CAC7C,gBAAiB,GACjB,QAAS,aACT,UAAWA,CACnB,CAAO,CACF,EAAEgB,GAAG,uBAAuB,IAAMX,GAAE,OAAO,MAAM,oBAAoB,EAAGA,GAAE,OAAO,OAAO,qBAAsB,CAC7G,eAAgBW,GAAG,0BAA4Bq8B,GAC/C,gBAAiBr8B,GAAG,0BAA4Bq8B,EACtD,CAAK,EAAGh9B,GAAE,OAAO,QAAQ,YAAanE,GAAM,CACtC,GAAIA,EAAE,OAAS,qBACb,OAAO,KAAK,iBACf,CAAA,EAAG,KAAK,eAAgB,EAAC,KAAMA,GAAM,CACpC,KAAK,sBAAwB,GAC7B,MAAMK,EAAIL,GAAK,MAAQ,KAAK,IAAK,EAAGA,EAAI,EAAI8E,GAAG,0BAC/C,KAAK,YAAY,CACf,gBAAiBzE,EACjB,QAASA,EAAI,mDAAqD,oDAClE,UAAWyD,CACnB,CAAO,CACP,CAAK,GAAIK,GAAE,QAAQ,YAAY,YAAanE,GAAM,CAC5C,KAAK,sBAAwB,GAAI,KAAK,YAAY,CAChD,gBAAiBA,EAAE,SAAW,UAC9B,QAAS,sBACT,UAAW8D,CACnB,CAAO,CACP,CAAK,EACD,KAAM,CAAE,UAAWpE,GAAMyE,GAAE,QAC3BzE,GAAK,MAAQA,EAAE,YAAY,IAAM,KAAK,qBAAqB,KAAK,IAAK,CAAA,CAAC,CACvE,CACD,aAAaoE,EAAGpE,EAAI,KAAK,IAAG,EAAI,CAC9B,IAAI,EACJ,MAAMM,EAAI,KAAK,kBACf,OAAQ,EAAI,KAAK,SAAW,MAAQ,EAAE,IACpC,sBAAsBA,CAAC,eAAe8D,CAAC,MAAM,IAAI,KAC/CpE,CACR,EAAQ,mBAAoB,CAAA,EAC5B,EAAO,KAAK,eAAe,CAAE,UAAWA,EAAG,UAAWM,EAAG,YAAa8D,CAAC,CAAE,CACtE,CACD,qBAAqBA,EAAG,CACtB,IAAIpE,EAAI,CAAA,EACR,KAAK,gBAAe,EAAG,KAAMM,GAAM,CACjCN,EAAIM,CACV,CAAK,EAAG,YAAY,SAAY,CAC1B,MAAMA,EAAI,KAAK,IAAG,EAAIK,EAAI,MAAM,KAAK,kBACrC4sC,GAAGvtC,EAAGW,CAAC,IAAMyD,EAAE9D,CAAC,EAAGN,EAAIW,EAC7B,EAAOyE,GAAG,gCAAgC,CACvC,CACD,MAAM,iBAAkB,CACtB,OAAQ,MAAMX,GAAE,QAAQ,OAAM,GAAI,OAAO,CAAC,EAAGnE,KAAOA,EAAE,IAAM,OAAS,EAAEA,EAAE,EAAE,EAAIA,EAAE,OAAQ,GAAI,CAAA,CAAE,CAChG,CACD,MAAM,YAAY,CAChB,gBAAiB8D,EACjB,QAASpE,EACT,UAAWM,CACf,EAAK,CACD8D,GAAK,MAAM,KAAK,+BAA+B9D,CAAC,EAAG,MAAM,KAAK,gBAAiB,EAAE,MAAMshC,GAAE,EAAG,KAAK,IAAM,KAAK,qBAAqB,EAAG,MAAM,KAAK,aAAa5hC,EAAGM,CAAC,CACjK,CACD,MAAM,+BAA+B8D,EAAG,CACtC,IAAIrE,EAAGgB,EAAGR,EAAGC,EACb,MAAMR,EAAI,MAAM,KAAK,iBACrB,IAAKD,EAAI,KAAK,SAAW,MAAQA,EAAE,MAAM,2BAA4B,CACnE,aAAcC,GAAK,IAAI,KAAKA,CAAC,EAAE,YAAa,EAC5C,IAAK,IAAI,KAAKoE,CAAC,EAAE,YAAa,CACpC,CAAK,EAAGpE,GAAK,KACP,MAAM,MAAM,8BAA8B,GAC3Ce,EAAI,KAAK,SAAW,MAAQA,EAAE,IAAI,4CAA4C,EAC/E,MAAMT,EAAIN,EAAIoF,GAAG,+BAAgCzE,EAAI,KAAK,IAAIyD,EAAG9D,CAAC,GACjEC,EAAI,KAAK,SAAW,MAAQA,EAAE,IAAI,+BAAgC,CACjE,aAAc,IAAI,KAAKP,CAAC,EAAE,YAAa,EACvC,IAAK,IAAI,KAAKoE,CAAC,EAAE,YAAa,EAC9B,OAAQ,IAAI,KAAK9D,CAAC,EAAE,YAAa,EACjC,MAAO,IAAI,KAAKK,CAAC,EAAE,YAAa,CACjC,CAAA,EAAG,MAAM,KAAK,qBAAqBA,CAAC,GAAIH,EAAI,KAAK,SAAW,MAAQA,EAAE,IAAI,gCAAgC,CAC5G,CACD,MAAM,wBAAyB,CAC7B,KAAM,CAAC4D,EAAGpE,CAAC,EAAI,MAAM,QAAQ,IAAI,CAACyE,GAAE,QAAQ,SAAUA,GAAE,KAAK,MAAM,CAAE,CAAA,CAAC,CAAC,EAAGnE,EAAI,MAAM,KAAK,aAAa,kBAAmB,EAAEK,EAAI,MAAM,KAAK,cAAc,mBAAkB,EAC1K,MAAO,CACL,4BAA6B,MAAM,KAAK,OAAO,4BAA6B,EAC5E,kBAAmBX,EAAE,OAAO,CAACD,EAAG,IAAM,CACjC,IAACS,EAAM,EACV,MAAMD,GAAKC,EAAIgtC,GAAG,EAAE,GAAG,IAAM,KAAO,OAAShtC,EAAE,SAC/C,OAAOD,IAAWR,EAAEQ,CAAC,GAAM,OAASR,EAAEQ,CAAC,EAAI,KAAM,EAAIR,EAAEQ,CAAC,IAAM,MAAQ,EAAE,KAAK,CAAC,GAAIR,CACnF,EAAE,EAAE,EACL,kBAAmBO,EACnB,mBAAoBK,EACpB,wBAAyBqhC,GAAG1hC,GAAgB,CAAE,EAAE,OAAO,EACvD,oBAAqB2hC,GAAG79B,EAAG,IAAI,EAC/B,4BAA6B,IAAI0pC,GACjC,6BAA8B,IAAIA,EACxC,CACG,CACD,mBAAmB1pC,EAAGpE,EAAG,CACvB,IAAIe,EAAGR,EAAGC,EACV,MAAMF,EAAI,CAAA,EAAIK,EAAI,GAClB,SAAW,CAAC0E,EAAGvE,CAAC,IAAK,OAAO,QAAQd,EAAE,iBAAiB,EACrD,GAAMqF,EACJ,GAAI,CACF,GAAI,EAAEvE,GAAK,MAAQA,EAAE,QACnB,MAAM,MAAM,4BAA4B,EAC1C,MAAMuB,EAAIrC,EAAE,wBAAwBqF,CAAC,EAAG3E,EAAI,CAAC,EAAE2B,GAAK,MAAQA,EAAE,QAASC,EAAI,CAAC,CAACxB,EAAE,KAAMU,GAAM,KAAK,YAAYA,EAAGxB,CAAC,CAAC,EACjH,CAACU,GAAK4B,EAAIhC,EAAE,KAAK,CAAE,MAAO+E,EAAG,UAAWjB,EAAE,UAAW,EAAI1D,GAAK,CAAC4B,GAAK3B,EAAE,KAAK,GAAG0B,CAAC,EAAG3B,GAAKV,EAAE,4BAA4B,gBAAgBqC,CAAC,CACvI,OAAQA,EAAG,EACTtB,EAAI,KAAK,SAAW,MAAQA,EAAE,MAC7B,wDAAwDsE,CAAC,IACzDhD,CACZ,CACS,CACL,QAAS7B,GAAKD,EAAIP,EAAE,oBAAsB,KAAO,OAASO,EAAE,OAAQ8E,GAAM,CAACrF,EAAE,4BAA4B,YAAYqF,CAAC,CAAC,IAAM,KAAO7E,EAAI,CAAA,GAAI,QAAS6E,GAAM1E,EAAE,KAAK0E,CAAC,CAAC,EAAG,CACrK,QAAS/E,EACT,MAAOK,EACP,MAAOL,EAAE,OAASK,EAAE,MAC1B,CACG,CACD,MAAM,oBAAoByD,EAAGpE,EAAG,CAC9B,IAAIe,EACJ,MAAMT,EAAI,OAAO,OAAON,EAAE,iBAAiB,EAAE,OAAO,OAAQ,GAAM,CAAC,CAAC,GAAK,KAAK,YAAY,EAAGA,CAAC,CAAC,EAAGW,EAAI,CAAE,EAAEZ,EAAI,CAAC,GAAGC,EAAE,kBAAkB,EACtI,UAAW,KAAKM,EAAG,CACjB,MAAME,EAAIgtC,GAAG,EAAE,GAAG,EAClB,GAAIhtC,GAAK,KACP,SACF,MAAM6E,EAAIrF,EAAE,mBAAmB,OAC5Bc,GAAMA,EAAE,SAAWN,GAAK,KAAO,OAASA,EAAE,WAAaM,EAAE,OAASN,EAAE,IAC7E,EACM,GAAI6E,EAAE,OAAS,EACb,UAAWvE,KAAKuE,EAAG,CACjB,MAAMhD,EAAItC,EAAE,UACTW,GAAMA,EAAE,KAAOI,EAAE,EAC9B,EACUuB,GAAK,GAAKtC,EAAE,OAAOsC,EAAG,CAAC,CACxB,MAED1B,EAAE,KAAK,CACL,MAAOH,EAAE,SACT,KAAMA,EAAE,KACR,UAAW4D,EAAE,UACb,SAAU,OAAQrD,EAAI,KAAK,YAAc,KAAO,OAASA,EAAE,eAAe,EAAE,GAAI,EAAE,GAAG,EAC/F,CAAS,CACJ,CACD,MAAO,CACL,QAASJ,EACT,MAAOZ,EACP,MAAOY,EAAE,OAASZ,EAAE,MAC1B,CACG,CACD,MAAM,mBAAmBqE,EAAGpE,EAAG,CAC7B,MAAMM,EAAIN,EAAE,MAAM,IAAK,GAAM,CAC3B,IAAIqF,EACJ,MAAM,EAAI,IAAI,KAAKjB,CAAC,EAAE,mBAAkB,EACxC,OAAQiB,EAAI,KAAK,SAAW,MAAQA,EAAE,IACpC,iCAAiC,EAAE,KAAK,MAAM,CAAC,KAAKjB,EAAI,EAAE,SAAS,KACpE,EAAE,KAAK,aAAa,WAAW,EAAGA,CAAC,CAC1C,CAAK,EAAGzD,EAAIX,EAAE,QAAQ,IAAK,GAAM,CAC3B,IAAIQ,EACJ,OAAQA,EAAI,KAAK,SAAW,MAAQA,EAAE,IACpC,kCAAkC,EAAE,KAAK,MAAM,IAAI,KACjD,EAAE,SACZ,EAAU,mBAAoB,CAAA,GACtB,CAAE,QAAS,CAAG,CACf,EAAE,KAAK,aAAa,aAAa,CAAC,CACpC,CAAA,EAAGT,EAAI,MAAM,QAAQ,WAAWO,CAAC,EAAG,EAAI,MAAM,QAAQ,WAAWK,CAAC,EACnE,KAAK,iBAAiB,WAAY,SAAUZ,CAAC,EAAG,KAAK,iBAAiB,WAAY,WAAY,CAAC,EAAGC,EAAE,MAAQ,GAAK,KAAK,+BACvH,CACD,MAAM,oBAAoBoE,EAAGpE,EAAG,CAC9B,MAAMM,EAAIN,EAAE,MAAM,IAAK,GAAM,CAC3B,IAAIqF,EACJ,MAAM,EAAI,IAAI,KAAKjB,CAAC,EAAE,mBAAkB,EACxC,OAAQiB,EAAI,KAAK,SAAW,MAAQA,EAAE,IACpC,mCAAmC,EAAE,KAAK,GAAG,EAAE,IAAI,MAAM,CAAC,KAAKjB,EAAI,EAAE,SAAS,KAC/E,EAAE,KAAK,cAAc,YAAY,EAAGA,CAAC,CAC5C,CAAK,EAAGzD,EAAIX,EAAE,QAAQ,IAAK,GAAM,CAC3B,IAAIQ,EACJ,OAAQA,EAAI,KAAK,SAAW,MAAQA,EAAE,IACpC,oCAAoC,EAAE,KAAK,GAAG,EAAE,IAAI,MAAM,IAAI,KAC5D,EAAE,SACZ,EAAU,mBAAoB,CAAA,GACtB,CAAE,QAAS,CAAG,CACf,EAAE,KAAK,cAAc,cAAc,CAAC,CACtC,CAAA,EAAGT,EAAI,MAAM,QAAQ,WAAWO,CAAC,EAAG,EAAI,MAAM,QAAQ,WAAWK,CAAC,EACnE,KAAK,iBAAiB,aAAc,SAAUZ,CAAC,EAAG,KAAK,iBAAiB,aAAc,WAAY,CAAC,EAAGC,EAAE,MAAQ,GAAK,KAAK,gCAC3H,CACD,iBAAiBoE,EAAGpE,EAAGM,EAAG,CACxB,IAAI,EACJ,MAAMK,EAAIL,EAAE,IAAK,GAAM,CACrB,GAAI,EAAE,SAAW,WACf,OAAO,EAAE,MACZ,CAAA,EAAE,OAAQ,GAAM,GAAK,IAAI,EAC1BK,EAAE,OAAS,KAAO,EAAI,KAAK,SAAW,MAAQ,EAAE,KAC9C,qBAAqBA,EAAE,MAAM,IAAIL,EAAE,MAAM,6BAA6BN,CAAC,IAAIoE,CAAC,GAC5EzD,CACN,EACG,CACD,YAAYyD,EAAGpE,EAAG,CAChB,IAAI,EACJ,GAAIoE,EAAE,UAAY,KAChB,OAAQ,EAAI,KAAK,SAAW,MAAQ,EAAE,KAAK,gEAAgE,EAAG,GAChH,MAAM9D,EAAIN,EAAE,oBAAoBoE,EAAE,QAAQ,EAC1C,MAAO,CAAC,CAAC9D,GAAK8hC,GAAGh+B,EAAG9D,EAAG,KAAK,sBAAuBN,EAAE,2BAA2B,CACjF,CACD,MAAM,qBAAqBoE,EAAG,CAC5B,IAAI9D,EAAG,EAAG,EACV,MAAMN,EAAI,MAAM,KAAK,aAAa,kBAAiB,EACnD,GAAIA,EAAE,SAAW,EAAG,EACjBM,EAAI,KAAK,SAAW,MAAQA,EAAE,IAAI,mDAAmD,EACtF,MACD,EACA,EAAI,KAAK,SAAW,MAAQ,EAAE,IAAI,uDAAwD,CACzF,eAAgBN,EAChB,UAAWoE,CACZ,CAAA,EAAG,MAAM,KAAK,mBAAmBA,EAAG,CACnC,QAAS,CAAE,EACX,MAAOpE,EACP,MAAOA,EAAE,MACf,CAAK,GAAI,EAAI,KAAK,SAAW,MAAQ,EAAE,IAAI,qDAAqD,CAC7F,CACD,MAAM,iBAAkB,CACtB,IAAI,EACJ,MAAM,EAAI,KAAK,OACd,EAAI,KAAK,SAAW,MAAQ,EAAE,MAAM,mEAAoE,CAAC,EAAG,MAAM+hC,GAAG38B,GAAG,kBAAmB,CAAC,EAAG,aAAa,KAAK,aAAa,EAAG,KAAK,cAAgB,WACrM,IAAM,KAAK,gBAAiB,EAC5BA,GAAG,8BACT,CACG,CACD,gBAAiB,CACf,OAAO08B,GAAG18B,GAAG,iBAAiB,CAC/B,CACD,8BAA+B,CAC7B,KAAK,uBAAuB,QAAShB,GAAMA,EAAG,CAAA,CAC/C,CACD,+BAAgC,CAC9B,KAAK,wBAAwB,QAASA,GAAMA,EAAG,CAAA,CAChD,CACD,gCAAiC,CAC/B,KAAK,yBAAyB,QAASA,GAAMA,EAAG,CAAA,CACjD,CACD,yBAAyBA,EAAG,CAC1B,KAAK,sBAAwBA,CAC9B,CACH,EACA,IAAI2pC,GAAK3oC,GACT2oC,GAAG,kBAAoB,wBACvBA,GAAG,0BAA4B1jC,GAC/B0jC,GAAG,+BAAiC,GAAKtM,GACzCsM,GAAG,wBAA0B,EAAItM,GACjCsM,GAAG,iCAAmC,EAAItM,GAC1C,SAASuM,GAAG5pC,EAAG,CACb,MAAMpE,EAAI,IAAI+tC,GAAG3pC,EAAE,GAAIA,CAAC,EACxB,OAAOpE,EAAE,cAAa,EAAI,CAAE,eAAgBA,CAAC,CAC/C,CACA,IAAI4M,GAAK,EAAI,EAAGqhC,GAAK,iBAAkBC,GAAK,sBAAuBC,GAAK,EAAI,EAAGC,GAAK,oBAAqBC,GAAK,6BAA8BC,GAAK,kBAAmBC,GAAK,aAAcC,GAAK,qBAAsBC,GAAK,aAAcC,GAAK,cAAeC,GAAK,mBAAoBC,GAAK,SAAUC,GAAK,OAAO,UAAWC,GAAKD,GAAG,SAAUE,GAAK,KAAK,KAAMC,GAAK,KAAK,IACpW,SAASC,GAAG7qC,EAAGpE,EAAGM,EAAG,CACnB,IAAIK,EAAI,GAAIZ,EAAIqE,EAAE,OAClBpE,EAAI,IAAMA,EAAI,CAACA,EAAID,EAAI,EAAIA,EAAIC,GAAIM,EAAIA,EAAIP,EAAIA,EAAIO,EAAGA,EAAI,IAAMA,GAAKP,GAAIA,EAAIC,EAAIM,EAAI,EAAIA,EAAIN,IAAM,EAAGA,KAAO,EAC7G,QAAS,EAAI,MAAMD,CAAC,EAAG,EAAEY,EAAIZ,GAC3B,EAAEY,CAAC,EAAIyD,EAAEzD,EAAIX,CAAC,EAChB,OAAO,CACT,CACA,SAASkvC,GAAG9qC,EAAGpE,EAAG,CAChB,OAAOA,EAAIA,GAAYiuC,GAAQ,CAAC,CAACjuC,IAAM,OAAOoE,GAAK,UAAYuqC,GAAG,KAAKvqC,CAAC,IAAMA,EAAI,IAAMA,EAAI,GAAK,GAAKA,EAAIpE,CAC5G,CACA,SAASmvC,GAAG/qC,EAAGpE,EAAGM,EAAG,CACnB,GAAI,CAAC8uC,GAAG9uC,CAAC,EACP,MAAO,GACT,IAAIK,EAAI,OAAOX,EACf,OAAQW,GAAK,SAAW0uC,GAAG/uC,CAAC,GAAK4uC,GAAGlvC,EAAGM,EAAE,MAAM,EAAIK,GAAK,UAAYX,KAAKM,GAAKgvC,GAAGhvC,EAAEN,CAAC,EAAGoE,CAAC,EAAI,EAC9F,CACA,SAASmrC,GAAGnrC,EAAGpE,EAAGM,EAAG,EAClBA,EAAI6uC,GAAG/qC,EAAGpE,EAAGM,CAAC,EAAIN,IAAM,QAAUA,EAAI,EAAIA,EAAIgvC,GAAGQ,GAAGxvC,CAAC,EAAG,CAAC,EAC1D,IAAIW,EAAIyD,EAAIA,EAAE,OAAS,EACvB,GAAI,CAACzD,GAAKX,EAAI,EACZ,MAAO,GACT,QAASD,EAAI,EAAG,EAAI,EAAG,EAAI,MAAMgvC,GAAGpuC,EAAIX,CAAC,CAAC,EAAGD,EAAIY,GAC/C,EAAE,GAAG,EAAIsuC,GAAG7qC,EAAGrE,EAAGA,GAAKC,CAAC,EAC1B,OAAO,CACT,CACA,SAASsvC,GAAGlrC,EAAGpE,EAAG,CAChB,OAAOoE,IAAMpE,GAAKoE,IAAMA,GAAKpE,IAAMA,CACrC,CACA,SAASqvC,GAAGjrC,EAAG,CACb,OAAOA,GAAK,MAAQqrC,GAAGrrC,EAAE,MAAM,GAAK,CAACsrC,GAAGtrC,CAAC,CAC3C,CACA,SAASsrC,GAAGtrC,EAAG,CACb,IAAIpE,EAAIovC,GAAGhrC,CAAC,EAAI0qC,GAAG,KAAK1qC,CAAC,EAAI,GAC7B,OAAOpE,GAAKouC,IAAMpuC,GAAKquC,EACzB,CACA,SAASoB,GAAGrrC,EAAG,CACb,OAAO,OAAOA,GAAK,UAAYA,EAAI,IAAMA,EAAI,GAAK,GAAKA,GAAK6pC,EAC9D,CACA,SAASmB,GAAGhrC,EAAG,CACb,IAAIpE,EAAI,OAAOoE,EACf,MAAO,CAAC,CAACA,IAAMpE,GAAK,UAAYA,GAAK,WACvC,CACA,SAAS2vC,GAAGvrC,EAAG,CACb,MAAO,CAAC,CAACA,GAAK,OAAOA,GAAK,QAC5B,CACA,SAASwrC,GAAGxrC,EAAG,CACb,OAAO,OAAOA,GAAK,UAAYurC,GAAGvrC,CAAC,GAAK0qC,GAAG,KAAK1qC,CAAC,GAAKkqC,EACxD,CACA,SAASuB,GAAGzrC,EAAG,CACb,GAAI,CAACA,EACH,OAAOA,IAAM,EAAIA,EAAI,EACvB,GAAIA,EAAI0rC,GAAG1rC,CAAC,EAAGA,IAAMwI,IAAMxI,IAAM,CAACwI,GAAI,CACpC,IAAI5M,EAAIoE,EAAI,EAAI,GAAK,EACrB,OAAOpE,EAAIkuC,EACZ,CACD,OAAO9pC,IAAMA,EAAIA,EAAI,CACvB,CACA,SAASorC,GAAGprC,EAAG,CACb,IAAIpE,EAAI6vC,GAAGzrC,CAAC,EAAG9D,EAAIN,EAAI,EACvB,OAAOA,IAAMA,EAAIM,EAAIN,EAAIM,EAAIN,EAAI,CACnC,CACA,SAAS8vC,GAAG1rC,EAAG,CACb,GAAI,OAAOA,GAAK,SACd,OAAOA,EACT,GAAIwrC,GAAGxrC,CAAC,EACN,OAAO+pC,GACT,GAAIiB,GAAGhrC,CAAC,EAAG,CACT,IAAIpE,EAAI,OAAOoE,EAAE,SAAW,WAAaA,EAAE,QAAS,EAAGA,EACvDA,EAAIgrC,GAAGpvC,CAAC,EAAIA,EAAI,GAAKA,CACtB,CACD,GAAI,OAAOoE,GAAK,SACd,OAAOA,IAAM,EAAIA,EAAI,CAACA,EACxBA,EAAIA,EAAE,QAAQmqC,GAAI,EAAE,EACpB,IAAIjuC,EAAImuC,GAAG,KAAKrqC,CAAC,EACjB,OAAO9D,GAAKouC,GAAG,KAAKtqC,CAAC,EAAIwqC,GAAGxqC,EAAE,MAAM,CAAC,EAAG9D,EAAI,EAAI,CAAC,EAAIkuC,GAAG,KAAKpqC,CAAC,EAAI+pC,GAAK,CAAC/pC,CAC1E,CACA,IAAI2rC,GAAKR,GACT,MAAMS,GAAK,IACX,SAASC,GAAG7rC,EAAG,CACb,MAAMpE,EAAIoE,EAAE,SAAW,OAAS,QAAUA,EAAE,OAC5C,eAAe9D,GAAI,CACjB,IAAI+E,EACJ,KAAM,CAACtE,EAAGR,EAAG,CAAC,EAAI,MAAM,QAAQ,IAAI,CAClC6D,EAAE,SAAU,EACZA,EAAE,aAAc,GACfiB,EAAIjB,EAAE,eAAiB,KAAO,OAASiB,EAAE,KAAKjB,CAAC,CACtD,CAAK,EACD,MAAO,CACL,MAAOrD,EACP,UAAWR,EACX,UAAW,CACjB,CACG,CACD,eAAeI,EAAE,EAAG,EAAG,CACrB,IAAI0E,EAAGvE,EACP,IAAIN,EACJ,GAAI,CACFR,GAAK,MAAQA,EAAE,IACb,IAAI,EAAE,KAAK,iCAAiC,IAAI,KAC9C,CACV,EAAU,YAAa,CAAA,EACvB,EACM,KAAM,CAACqC,EAAG3B,EAAG4B,CAAC,EAAI,MAAM,QAAQ,IAAI,CAClC,EAAE,kBAAmB,EACrB8B,EAAE,GACFA,EAAE,QAAS,CACnB,CAAO,EACD,GAAI,CAAC9B,EAAG,CACNtC,GAAK,MAAQA,EAAE,IAAI,IAAI,EAAE,KAAK,iCAAiC,EAC/D,MACD,CACD,MAAMwB,EAAI,MAAM,EAAE,kBAAkB,CAClC,GAAId,EACJ,eAAgB2B,EAChB,gBAAiB,CAClB,CAAA,EAAGY,GAAKnC,EAAI,OAAQuE,EAAIjB,EAAE,qBAAuB,KAAO,OAASiB,EAAE,KAAKjB,CAAC,KAAO,KAAOtD,EAAIkvC,GAAIjuC,EAAIguC,GAAGvuC,EAAGyB,CAAC,EAAG7B,EAAI,MAAMd,EAAC,EACzHE,EAAI,CACF,OAAQgB,EACR,QAASO,EACT,KAAMX,CACP,EAAEpB,GAAK,MAAQA,EAAE,MAAM,IAAI,EAAE,KAAK,kBAAmBQ,CAAC,EACvD,UAAW+D,KAAKxC,EAAG,CACjB/B,GAAK,MAAQA,EAAE,MAAM,IAAI,EAAE,KAAK,uBAAwB,CACtD,MAAOuE,EACP,eAAgB,CAAC,CAACH,EAAE,GAC9B,CAAS,EAAGA,EAAE,KAAO,MAAM,EAAE,OAAOhD,EAAGmD,CAAC,EAChC,MAAMf,EAAKe,EAAEA,EAAE,OAAS,CAAC,GACxBf,GAAM,KAAO,OAASA,EAAG,UAAY,MAAQ,MAAM,EAAE,kBAAkBA,EAAG,OAAO,CACnF,CACD,MAAM,EAAE,kBAAkB,CAAC,EAC3B,MAAMjC,GAAK,KAAK,IAAG,EAAK,GAAK,IAC7BvB,GAAK,MAAQA,EAAE,IACb,IAAI,EAAE,KAAK,uBAAuBwB,EAAE,MAAM,aAAaO,EAAE,MAAM,eAAeR,CAAC,GACvF,EAAS,EAAE,UAAU,CACb,MAAOC,EAAE,OACT,QAASO,EAAE,OACX,UAAWkB,EACX,cAAe1B,CACvB,CAAO,CACF,OAAQc,EAAG,CACVrC,GAAK,MAAQA,EAAE,MAAM,IAAI,EAAE,KAAK,8BAA+BqC,EAAG7B,CAAC,EAAG,EAAE,UAAU6B,CAAC,CACpF,CACF,CACD,eAAetC,GAAI,CACjB,MAAM,EAAI,KAAK,MACf,MAAM,QAAQ,WAAWqE,EAAE,UAAU,IAAK,GAAMzD,EAAE,EAAG,CAAC,CAAC,CAAC,CACzD,CACD,MAAO,CACL,UAAWZ,CACf,CACA,CACA,SAASmwC,GAAG,CACV,IAAK9rC,EACL,UAAWpE,EACX,UAAWM,EACX,yBAA0BK,CAC5B,EAAG,CACD,MAAO,CACL,MAAO,WACP,UAAWX,EACX,UAAWM,EACX,MAAM,mBAAoB,CACxB,MAAMP,EAAI,MAAM+hC,GAAGnhC,CAAC,EACpB,OAAOZ,GAAgB,CACxB,EACD,kBAAkBA,EAAG,CACnB,OAAOgiC,GAAGphC,EAAGZ,CAAC,CACf,EACD,MAAM,kBAAkB,CAAE,GAAIA,EAAG,eAAgB,EAAG,gBAAiB,GAAK,CACxE,OAAQ,MAAMA,EAAE,aAAa,sBAAsB,EAAG,CAAC,GAAG,OAAQsF,GAAM,CAACA,EAAE,QAAQ,CACpF,EACD,MAAM,OAAOtF,EAAG,EAAG,CACjB,MAAM,EAAI,EAAE,OAAO,CAACS,EAAG6E,IAAM,CACxB,IAAChD,EACJ,GAAIgD,EAAE,SAAW,KACf,MAAM,MAAM,6CAA6C,EAC3D,MAAMvE,EAAI,CACR,SAAU6gC,GAAGt8B,EAAE,QAAUA,EAAE,SAAS,EACpC,UAAWs8B,GAAGt8B,EAAE,SAAS,CACnC,EACQ,OAAOvE,EAAE,SAAW,IAAWN,EAAE6B,EAAIgD,EAAE,KAAK,GAAM,OAAS7E,EAAE6B,CAAC,EAAI,CAAE,SAAU,CAAE,CAAA,GAAK7B,EAAE6E,EAAE,KAAK,EAAE,SAAS,KAAKvE,CAAC,GAAIN,CACpH,EAAE,CAAE,CAAA,EACL,MAAM4D,EAAE,eAAe,CAAE,GAAGrE,EAAG,SAAU,CAAC,CAAE,CAC7C,CACL,CACA,CACA,IAAIowC,GAAKC,GACT,SAASA,GAAGhsC,EAAGpE,EAAGM,EAAG,CACnB8D,aAAa,SAAWA,EAAIisC,GAAGjsC,EAAG9D,CAAC,GAAIN,aAAa,SAAWA,EAAIqwC,GAAGrwC,EAAGM,CAAC,GAC1E,IAAIK,EAAI2vC,GAAGlsC,EAAGpE,EAAGM,CAAC,EAClB,OAAOK,GAAK,CACV,MAAOA,EAAE,CAAC,EACV,IAAKA,EAAE,CAAC,EACR,IAAKL,EAAE,MAAM,EAAGK,EAAE,CAAC,CAAC,EACpB,KAAML,EAAE,MAAMK,EAAE,CAAC,EAAIyD,EAAE,OAAQzD,EAAE,CAAC,CAAC,EACnC,KAAML,EAAE,MAAMK,EAAE,CAAC,EAAIX,EAAE,MAAM,CACjC,CACA,CACA,SAASqwC,GAAGjsC,EAAGpE,EAAG,CAChB,IAAIM,EAAIN,EAAE,MAAMoE,CAAC,EACjB,OAAO9D,EAAIA,EAAE,CAAC,EAAI,IACpB,CACA8vC,GAAG,MAAQE,GACX,SAASA,GAAGlsC,EAAGpE,EAAGM,EAAG,CACnB,IAAIK,EAAGZ,EAAG,EAAG,EAAGS,EAAG6E,EAAI/E,EAAE,QAAQ8D,CAAC,EAAGtD,EAAIR,EAAE,QAAQN,EAAGqF,EAAI,CAAC,EAAGhD,EAAIgD,EAClE,GAAIA,GAAK,GAAKvE,EAAI,EAAG,CACnB,GAAIsD,IAAMpE,EACR,MAAO,CAACqF,EAAGvE,CAAC,EACd,IAAKH,EAAI,CAAE,EAAE,EAAIL,EAAE,OAAQ+B,GAAK,GAAK,CAAC7B,GACpC6B,GAAKgD,GAAK1E,EAAE,KAAK0B,CAAC,EAAGgD,EAAI/E,EAAE,QAAQ8D,EAAG/B,EAAI,CAAC,GAAK1B,EAAE,QAAU,EAAIH,EAAI,CAACG,EAAE,IAAK,EAAEG,CAAC,GAAKf,EAAIY,EAAE,MAAOZ,EAAI,IAAM,EAAIA,EAAG,EAAIe,GAAIA,EAAIR,EAAE,QAAQN,EAAGqC,EAAI,CAAC,GAAIA,EAAIgD,EAAIvE,GAAKuE,GAAK,EAAIA,EAAIvE,EAChLH,EAAE,SAAWH,EAAI,CAAC,EAAG,CAAC,EACvB,CACD,OAAOA,CACT,CACA,IAAI+vC,GAAKJ,GAAIK,GAAKC,GAAIC,GAAK,UAAY,KAAK,OAAM,EAAK,KAAMC,GAAK,SAAW,KAAK,OAAQ,EAAG,KAAMC,GAAK,UAAY,KAAK,OAAQ,EAAG,KAAMC,GAAK,UAAY,KAAK,OAAM,EAAK,KAAMC,GAAK,WAAa,KAAK,OAAQ,EAAG,KACnN,SAASC,GAAG3sC,EAAG,CACb,OAAO,SAASA,EAAG,EAAE,GAAKA,EAAI,SAASA,EAAG,EAAE,EAAIA,EAAE,WAAW,CAAC,CAChE,CACA,SAAS4sC,GAAG5sC,EAAG,CACb,OAAOA,EAAE,MAAM,MAAM,EAAE,KAAKssC,EAAE,EAAE,MAAM,KAAK,EAAE,KAAKC,EAAE,EAAE,MAAM,KAAK,EAAE,KAAKC,EAAE,EAAE,MAAM,KAAK,EAAE,KAAKC,EAAE,EAAE,MAAM,KAAK,EAAE,KAAKC,EAAE,CACxH,CACA,SAASG,GAAG7sC,EAAG,CACb,OAAOA,EAAE,MAAMssC,EAAE,EAAE,KAAK,IAAI,EAAE,MAAMC,EAAE,EAAE,KAAK,GAAG,EAAE,MAAMC,EAAE,EAAE,KAAK,GAAG,EAAE,MAAMC,EAAE,EAAE,KAAK,GAAG,EAAE,MAAMC,EAAE,EAAE,KAAK,GAAG,CAC9G,CACA,SAASI,GAAG9sC,EAAG,CACb,GAAI,CAACA,EACH,MAAO,CAAC,EAAE,EACZ,IAAIpE,EAAI,CAAA,EAAIM,EAAIiwC,GAAG,IAAK,IAAKnsC,CAAC,EAC9B,GAAI,CAAC9D,EACH,OAAO8D,EAAE,MAAM,GAAG,EACpB,IAAIzD,EAAIL,EAAE,IAAKP,EAAIO,EAAE,KAAM,EAAIA,EAAE,KAAM,EAAIK,EAAE,MAAM,GAAG,EACtD,EAAE,EAAE,OAAS,CAAC,GAAK,IAAMZ,EAAI,IAC7B,IAAIS,EAAI0wC,GAAG,CAAC,EACZ,OAAO,EAAE,SAAW,EAAE,EAAE,OAAS,CAAC,GAAK1wC,EAAE,MAAK,EAAI,EAAE,KAAK,MAAM,EAAGA,CAAC,GAAIR,EAAE,KAAK,MAAMA,EAAG,CAAC,EAAGA,CAC7F,CACA,SAASywC,GAAGrsC,EAAG,CACb,OAAOA,GAAKA,EAAE,OAAO,EAAG,CAAC,IAAM,OAASA,EAAI,SAAWA,EAAE,OAAO,CAAC,GAAI+sC,GAAGH,GAAG5sC,CAAC,EAAG,EAAE,EAAE,IAAI6sC,EAAE,GAAK,EAChG,CACA,SAASG,GAAGhtC,EAAG,CACb,MAAO,IAAMA,EAAI,GACnB,CACA,SAASitC,GAAGjtC,EAAG,CACb,MAAO,SAAS,KAAKA,CAAC,CACxB,CACA,SAASktC,GAAGltC,EAAGpE,EAAG,CAChB,OAAOoE,GAAKpE,CACd,CACA,SAASuxC,GAAGntC,EAAGpE,EAAG,CAChB,OAAOoE,GAAKpE,CACd,CACA,SAASmxC,GAAG/sC,EAAGpE,EAAG,CAChB,IAAIM,EAAI,CAAA,EAAIK,EAAI4vC,GAAG,IAAK,IAAKnsC,CAAC,EAC9B,GAAI,CAACzD,EACH,MAAO,CAACyD,CAAC,EACX,IAAIrE,EAAIY,EAAE,IAAK,EAAIA,EAAE,KAAK,OAASwwC,GAAGxwC,EAAE,KAAM,EAAE,EAAI,CAAC,EAAE,EACvD,GAAI,MAAM,KAAKA,EAAE,GAAG,EAClB,QAAS,EAAI,EAAG,EAAI,EAAE,OAAQ,IAAK,CACjC,IAAIH,EAAIT,EAAI,IAAMY,EAAE,KAAO,IAAM,EAAE,CAAC,EACpCL,EAAE,KAAKE,CAAC,CACT,KACE,CACH,IAAI6E,EAAI,iCAAiC,KAAK1E,EAAE,IAAI,EAAGG,EAAI,uCAAuC,KAAKH,EAAE,IAAI,EAAG0B,EAAIgD,GAAKvE,EAAGJ,EAAIC,EAAE,KAAK,QAAQ,GAAG,GAAK,EACvJ,GAAI,CAAC0B,GAAK,CAAC3B,EACT,OAAOC,EAAE,KAAK,MAAM,OAAO,GAAKyD,EAAIzD,EAAE,IAAM,IAAMA,EAAE,KAAOiwC,GAAKjwC,EAAE,KAAMwwC,GAAG/sC,CAAC,GAAK,CAACA,CAAC,EACrF,IAAI9B,EACJ,GAAID,EACFC,EAAI3B,EAAE,KAAK,MAAM,MAAM,UAChB2B,EAAI4uC,GAAGvwC,EAAE,IAAI,EAAG2B,EAAE,SAAW,IAAMA,EAAI6uC,GAAG7uC,EAAE,CAAC,EAAG,EAAE,EAAE,IAAI8uC,EAAE,EAAG9uC,EAAE,SAAW,GACjF,OAAO,EAAE,IAAI,SAAS,EAAG,CACvB,OAAO3B,EAAE,IAAM2B,EAAE,CAAC,EAAI,CAC9B,CAAO,EACH,IAAId,EACJ,GAAIa,EAAG,CACL,IAAIY,EAAI8tC,GAAGzuC,EAAE,CAAC,CAAC,EAAGP,EAAIgvC,GAAGzuC,EAAE,CAAC,CAAC,EAAGlB,EAAI,KAAK,IAAIkB,EAAE,CAAC,EAAE,OAAQA,EAAE,CAAC,EAAE,MAAM,EAAGf,EAAIe,EAAE,QAAU,EAAI,KAAK,IAAIyuC,GAAGzuC,EAAE,CAAC,CAAC,CAAC,EAAI,EAAGiC,EAAI+sC,GAAI9tC,EAAKzB,EAAIkB,EACrIO,IAAOjC,GAAK,GAAIgD,EAAIgtC,IACpB,IAAIhQ,EAAKj/B,EAAE,KAAK+uC,EAAE,EAClB7vC,EAAI,CAAA,EACJ,QAAS0D,EAAKjC,EAAGsB,EAAEW,EAAInD,CAAC,EAAGmD,GAAM3D,EAAG,CAClC,IAAI4B,EACJ,GAAIrC,EACFqC,EAAK,OAAO,aAAa+B,CAAE,EAAG/B,IAAO,OAASA,EAAK,YAC5CA,EAAK,OAAO+B,CAAE,EAAGq8B,EAAI,CAC5B,IAAIt8B,EAAK7D,EAAI+B,EAAG,OAChB,GAAI8B,EAAK,EAAG,CACV,IAAIpD,EAAI,IAAI,MAAMoD,EAAK,CAAC,EAAE,KAAK,GAAG,EAClCC,EAAK,EAAI/B,EAAK,IAAMtB,EAAIsB,EAAG,MAAM,CAAC,EAAIA,EAAKtB,EAAIsB,CAChD,CACF,CACD3B,EAAE,KAAK2B,CAAE,CACV,CACP,KAAW,CACL3B,EAAI,CAAA,EACJ,QAASF,EAAI,EAAGA,EAAIgB,EAAE,OAAQhB,IAC5BE,EAAE,KAAK,MAAMA,EAAG2vC,GAAG7uC,EAAEhB,CAAC,EAAG,EAAE,CAAC,CAC/B,CACD,QAASA,EAAI,EAAGA,EAAIE,EAAE,OAAQF,IAC5B,QAAS,EAAI,EAAG,EAAI,EAAE,OAAQ,IAAK,CACjC,IAAId,EAAIT,EAAIyB,EAAEF,CAAC,EAAI,EAAE,CAAC,GACrB,CAACtB,GAAKqC,GAAK7B,IAAMF,EAAE,KAAKE,CAAC,CAC3B,CACJ,CACD,OAAOF,CACT,CACA,MAAMkxC,GAAK,KAAO,GAAIC,GAAMrtC,GAAM,CAChC,GAAI,OAAOA,GAAK,SACd,MAAM,IAAI,UAAU,iBAAiB,EACvC,GAAIA,EAAE,OAASotC,GACb,MAAM,IAAI,UAAU,qBAAqB,CAC7C,EAAGE,GAAK,CACN,YAAa,CAAC,uBAAwB,EAAE,EACxC,YAAa,CAAC,gBAAiB,EAAE,EACjC,YAAa,CAAC,cAAe,EAAE,EAC/B,YAAa,CAAC,aAAc,EAAE,EAC9B,YAAa,CAAC,UAAW,EAAE,EAC3B,YAAa,CAAC,UAAW,EAAE,EAC3B,YAAa,CAAC,eAAgB,GAAI,EAAE,EACpC,YAAa,CAAC,UAAW,EAAE,EAC3B,YAAa,CAAC,SAAU,EAAE,EAC1B,YAAa,CAAC,SAAU,EAAE,EAC1B,YAAa,CAAC,wBAAyB,EAAE,EACzC,YAAa,CAAC,UAAW,EAAE,EAC3B,WAAY,CAAC,8BAA+B,EAAE,EAC9C,aAAc,CAAC,YAAa,EAAE,CAChC,EAAGC,GAAMvtC,GAAMA,EAAE,QAAQ,YAAa,MAAM,EAAGwtC,GAAMxtC,GAAMA,EAAE,QAAQ,2BAA4B,MAAM,EAAGytC,GAAMztC,GAAMA,EAAE,KAAK,EAAE,EAAG0tC,GAAK,CAAC1tC,EAAGpE,IAAM,CAC/I,MAAMM,EAAIN,EACV,GAAIoE,EAAE,OAAO9D,CAAC,IAAM,IAClB,MAAM,IAAI,MAAM,2BAA2B,EAC7C,MAAMK,EAAI,CAAA,EAAIZ,EAAI,GAClB,IAAI,EAAIO,EAAI,EAAG,EAAI,GAAIE,EAAI,GAAI6E,EAAI,GAAIvE,EAAI,GAAIuB,EAAI/B,EAAGI,EAAI,GAC1D,EACE,KAAO,EAAI0D,EAAE,QAAU,CACrB,MAAMrC,EAAIqC,EAAE,OAAO,CAAC,EACpB,IAAKrC,IAAM,KAAOA,IAAM,MAAQ,IAAMzB,EAAI,EAAG,CAC3CQ,EAAI,GAAI,IACR,QACD,CACD,GAAIiB,IAAM,KAAO,GAAK,CAACsD,EAAG,CACxBhD,EAAI,EAAI,EACR,KACD,CACD,GAAI,EAAI,GAAIN,IAAM,MAAQ,CAACsD,EAAG,CAC5BA,EAAI,GAAI,IACR,QACD,CACD,GAAItD,IAAM,KAAO,CAACsD,GAChB,SAAW,CAACjE,EAAG,CAACG,EAAGgD,EAAGf,CAAE,CAAC,IAAK,OAAO,QAAQkuC,EAAE,EAC7C,GAAIttC,EAAE,WAAWhD,EAAG,CAAC,EAAG,CACtB,GAAIV,EACF,MAAO,CAAC,KAAM,GAAI0D,EAAE,OAAS9D,EAAG,EAAE,EACpC,GAAKc,EAAE,OAAQoC,EAAKzD,EAAE,KAAKwB,CAAC,EAAIZ,EAAE,KAAKY,CAAC,EAAGf,EAAIA,GAAK+D,EACpD,SAAS,CACV,EAEL,GAAIc,EAAI,GAAI3E,EAAG,CACbqB,EAAIrB,EAAIC,EAAE,KAAKgxC,GAAGjxC,CAAC,EAAI,IAAMixC,GAAG5vC,CAAC,CAAC,EAAIA,IAAMrB,GAAKC,EAAE,KAAKgxC,GAAG5vC,CAAC,CAAC,EAAGrB,EAAI,GAAI,IACxE,QACD,CACD,GAAI0D,EAAE,WAAW,KAAM,EAAI,CAAC,EAAG,CAC7BzD,EAAE,KAAKgxC,GAAG5vC,EAAI,GAAG,CAAC,EAAG,GAAK,EAC1B,QACD,CACD,GAAIqC,EAAE,WAAW,IAAK,EAAI,CAAC,EAAG,CAC5B1D,EAAIqB,EAAG,GAAK,EACZ,QACD,CACDpB,EAAE,KAAKgxC,GAAG5vC,CAAC,CAAC,EAAG,GAChB,CACH,GAAIM,EAAI,EACN,MAAO,CAAC,GAAI,GAAI,EAAG,EAAE,EACvB,GAAI,CAAC1B,EAAE,QAAU,CAACZ,EAAE,OAClB,MAAO,CAAC,KAAM,GAAIqE,EAAE,OAAS9D,EAAG,EAAE,EACpC,GAAIP,EAAE,SAAW,GAAKY,EAAE,SAAW,GAAK,SAAS,KAAKA,EAAE,CAAC,CAAC,GAAK,CAACG,EAAG,CACjE,MAAMiB,EAAIpB,EAAE,CAAC,EAAE,SAAW,EAAIA,EAAE,CAAC,EAAE,MAAM,EAAE,EAAIA,EAAE,CAAC,EAClD,MAAO,CAACixC,GAAG7vC,CAAC,EAAG,GAAIM,EAAI/B,EAAG,EAAE,CAC7B,CACD,MAAMgC,EAAI,KAAOxB,EAAI,IAAM,IAAM+wC,GAAGlxC,CAAC,EAAI,IAAKa,EAAI,KAAOV,EAAI,GAAK,KAAO+wC,GAAG9xC,CAAC,EAAI,IACjF,MAAO,CAACY,EAAE,QAAUZ,EAAE,OAAS,IAAMuC,EAAI,IAAMd,EAAI,IAAMb,EAAE,OAAS2B,EAAId,EAAGhB,EAAG6B,EAAI/B,EAAG,EAAE,CACzF,EAAGyxC,GAAK,CAAC3tC,EAAG,CAAE,qBAAsBpE,EAAI,IAAO,CAAA,IAAOA,EAAIoE,EAAE,QAAQ,iBAAkB,IAAI,EAAIA,EAAE,QAAQ,4BAA6B,MAAM,EAAE,QAAQ,aAAc,IAAI,EAAG4tC,GAAqB,IAAI,IAAI,CAAC,IAAK,IAAK,IAAK,IAAK,GAAG,CAAC,EAAGC,GAAM7tC,GAAM4tC,GAAG,IAAI5tC,CAAC,EAAG6F,GAAK,qBAAsBioC,GAAK,UAAWC,GAAqB,IAAI,IAAI,CAAC,IAAK,GAAG,CAAC,EAAGC,GAAqB,IAAI,IAAI,CAAC,KAAM,GAAG,CAAC,EAAGC,GAAK,IAAI,IAAI,iBAAiB,EAAGC,GAAMluC,GAAMA,EAAE,QAAQ,2BAA4B,MAAM,EAAGmuC,GAAK,OAAQC,GAAKD,GAAK,KAAME,GAAKF,GAAK,KAC7f,IAAI7uC,GAAIiB,GAAIgB,GAAI3D,GAAGoB,GAAGsvC,GAAIC,GAAIC,GAAIhuC,GAAIiuC,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAClE,MAAM3vC,GAAK,KAAM,CACf,YAAY,EAAGnD,EAAG,EAAI,CAAA,EAAI,CACxBqC,GAAG,KAAMowC,EAAE,EACXzvC,GAAE,KAAM,MAAM,EACdX,GAAG,KAAMe,GAAI,MAAM,EACnBf,GAAG,KAAMgC,GAAI,MAAM,EACnBhC,GAAG,KAAMgD,GAAI,EAAE,EACfhD,GAAG,KAAMX,GAAG,CAAA,CAAE,EACdW,GAAG,KAAMS,GAAG,MAAM,EAClBT,GAAG,KAAM+vC,GAAI,MAAM,EACnB/vC,GAAG,KAAMgwC,GAAI,MAAM,EACnBhwC,GAAG,KAAMiwC,GAAI,EAAE,EACfjwC,GAAG,KAAMiC,GAAI,MAAM,EACnBjC,GAAG,KAAMkwC,GAAI,MAAM,EACnBlwC,GAAG,KAAMmwC,GAAI,EAAE,EACf,KAAK,KAAO,EAAG,GAAK5wC,GAAE,KAAMyC,GAAI,EAAE,EAAGzC,GAAE,KAAMkB,GAAG9C,CAAC,EAAG4B,GAAE,KAAMwB,GAAI9C,EAAE,KAAMwC,EAAC,EAAIxC,EAAEA,EAAE,KAAMwC,EAAC,EAAGM,EAAE,EAAI,IAAI,EAAGxB,GAAE,KAAM0C,GAAIhE,EAAE,KAAM8C,EAAE,IAAM,KAAO,EAAI9C,EAAEA,EAAE,KAAM8C,EAAE,EAAGkB,EAAE,CAAC,EAAG1C,GAAE,KAAMywC,GAAI/xC,EAAE,KAAM8C,EAAE,IAAM,KAAO,CAAE,EAAG9C,EAAEA,EAAE,KAAM8C,EAAE,EAAGivC,EAAE,CAAC,EAAG,IAAM,KAAO,CAAC/xC,EAAEA,EAAE,KAAM8C,EAAE,EAAGkvC,EAAE,GAAKhyC,EAAE,KAAM+xC,EAAE,EAAE,KAAK,IAAI,EAAGzwC,GAAE,KAAMwwC,GAAI9xC,EAAE,KAAMwC,EAAC,EAAIxC,EAAEA,EAAE,KAAMwC,EAAC,EAAGpB,EAAC,EAAE,OAAS,CAAC,CAClV,CACD,IAAI,UAAW,CACb,GAAIpB,EAAE,KAAM+D,EAAE,IAAM,OAClB,OAAO/D,EAAE,KAAM+D,EAAE,EACnB,UAAW,KAAK/D,EAAE,KAAMoB,EAAC,EACvB,GAAI,OAAO,GAAK,WAAa,EAAE,MAAQ,EAAE,UACvC,OAAOE,GAAE,KAAMyC,GAAI,EAAE,EACzB,OAAO/D,EAAE,KAAM+D,EAAE,CAClB,CACD,UAAW,CACT,OAAO/D,EAAE,KAAMiyC,EAAE,IAAM,OAASjyC,EAAE,KAAMiyC,EAAE,EAAI,KAAK,KAAO3wC,GAAE,KAAM2wC,GAAI,KAAK,KAAO,IAAMjyC,EAAE,KAAMoB,EAAC,EAAE,IAAK,GAAM,OAAO,CAAC,CAAC,EAAE,KAAK,GAAG,EAAI,GAAG,EAAIE,GAAE,KAAM2wC,GAAIjyC,EAAE,KAAMoB,EAAC,EAAE,IAAK,GAAM,OAAO,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAClM,CACD,QAAQ,EAAG,CACT,UAAW1B,KAAK,EACd,GAAIA,IAAM,GAAI,CACZ,GAAI,OAAOA,GAAK,UAAY,EAAEA,aAAamD,IAAM7C,EAAEN,EAAG8C,EAAC,IAAM,MAC3D,MAAM,IAAI,MAAM,iBAAmB9C,CAAC,EACtCM,EAAE,KAAMoB,EAAC,EAAE,KAAK1B,CAAC,CAClB,CACJ,CACD,QAAS,CACP,IAAIA,EACJ,MAAMN,EAAI,KAAK,OAAS,KAAOY,EAAE,KAAMoB,EAAC,EAAE,MAAK,EAAG,IAAK,GAAM,OAAO,GAAK,SAAW,EAAI,EAAE,OAAQ,CAAA,EAAI,CAAC,KAAK,KAAM,GAAGpB,EAAE,KAAMoB,EAAC,EAAE,IAAK,GAAM,EAAE,OAAQ,CAAA,CAAC,EACtJ,OAAO,KAAK,WAAa,CAAC,KAAK,MAAQhC,EAAE,QAAQ,CAAE,CAAA,EAAG,KAAK,MAAK,IAAO,OAASY,EAAE,KAAM8C,EAAE,GAAK9C,EAAEA,EAAE,KAAM8C,EAAE,EAAGkvC,EAAE,KAAOtyC,EAAIM,EAAE,KAAMwC,EAAC,IAAM,KAAO,OAAS9C,EAAE,QAAU,MAAQN,EAAE,KAAK,CAAA,CAAE,EAAGA,CAC3L,CACD,SAAU,CACR,IAAIM,EACJ,GAAIM,EAAE,KAAM8C,EAAE,IAAM,KAClB,MAAO,GACT,GAAI,GAAGpD,EAAIM,EAAE,KAAMwC,EAAC,IAAM,MAAQ9C,EAAE,WAClC,MAAO,GACT,GAAIM,EAAE,KAAM8xC,EAAE,IAAM,EAClB,MAAO,GACT,MAAM1yC,EAAIY,EAAE,KAAMwC,EAAC,EACnB,QAAS,EAAI,EAAG,EAAIxC,EAAE,KAAM8xC,EAAE,EAAG,IAAK,CACpC,MAAM,EAAI9xC,EAAEZ,EAAGgC,EAAC,EAAE,CAAC,EACnB,GAAI,EAAE,aAAayB,IAAM,EAAE,OAAS,KAClC,MAAO,EACV,CACD,MAAO,EACR,CACD,OAAQ,CACN,IAAInD,EAAGK,EAAGZ,EACV,GAAIa,EAAE,KAAM8C,EAAE,IAAM,QAAUpD,EAAIM,EAAE,KAAMwC,EAAC,IAAM,KAAO,OAAS9C,EAAE,QAAU,IAC3E,MAAO,GACT,GAAI,GAAGK,EAAIC,EAAE,KAAMwC,EAAC,IAAM,MAAQzC,EAAE,SAClC,MAAO,GACT,GAAI,CAAC,KAAK,KACR,OAAQZ,EAAIa,EAAE,KAAMwC,EAAC,IAAM,KAAO,OAASrD,EAAE,QAC/C,MAAMC,EAAIY,EAAE,KAAMwC,EAAC,EAAIxC,EAAEA,EAAE,KAAMwC,EAAC,EAAGpB,EAAC,EAAE,OAAS,EACjD,OAAOpB,EAAE,KAAM8xC,EAAE,IAAM1yC,EAAI,CAC5B,CACD,OAAO,EAAG,CACR,OAAO,GAAK,SAAW,KAAK,KAAK,CAAC,EAAI,KAAK,KAAK,EAAE,MAAM,IAAI,CAAC,CAC9D,CACD,MAAM,EAAG,CACP,MAAMM,EAAI,IAAImD,GAAG,KAAK,KAAM,CAAC,EAC7B,UAAW,KAAK7C,EAAE,KAAMoB,EAAC,EACvB1B,EAAE,OAAO,CAAC,EACZ,OAAOA,CACR,CACD,OAAO,SAAS,EAAGA,EAAI,GAAI,CACzB,IAAIP,EACJ,MAAMY,EAAI,IAAI8C,GAAG,KAAM,OAAQnD,CAAC,EAChC,OAAO83B,GAAGr4B,EAAI0D,GAAIwvC,GAAIC,EAAE,EAAE,KAAKnzC,EAAG,EAAGY,EAAG,EAAGL,CAAC,EAAGK,CAChD,CACD,aAAc,CACZ,GAAI,OAASC,EAAE,KAAM8C,EAAE,EACrB,OAAO9C,EAAE,KAAM8C,EAAE,EAAE,YAAW,EAChC,MAAM,EAAI,KAAK,SAAQ,EAAI,CAACpD,EAAG,EAAG,EAAGS,CAAC,EAAI,KAAK,eAAc,EAC7D,GAAI,EAAE,GAAKH,EAAE,KAAM+D,EAAE,GAAK/D,EAAE,KAAMgE,EAAE,EAAE,QAAU,CAAChE,EAAE,KAAMgE,EAAE,EAAE,iBAAmB,EAAE,YAAa,IAAK,EAAE,eACpG,OAAO,EACT,MAAMpE,GAAKI,EAAE,KAAMgE,EAAE,EAAE,OAAS,IAAM,KAAO7D,EAAI,IAAM,IACvD,OAAO,OAAO,OAAO,IAAI,OAAO,IAAIT,CAAC,IAAKE,CAAC,EAAG,CAC5C,KAAMF,EACN,MAAO,CACb,CAAK,CACF,CACD,gBAAiB,CACf,IAAIP,EACJ,GAAIa,EAAE,KAAM8C,EAAE,IAAM,MAAQ00B,GAAG,KAAM2a,GAAIC,EAAE,EAAE,KAAK,IAAI,EAAG,CAAC,KAAK,KAAM,CACnE,MAAMjyC,EAAI,KAAK,QAAO,GAAM,KAAK,MAAO,EAAER,EAAIK,EAAE,KAAMoB,EAAC,EAAE,IAAKK,GAAM,CAClE,IAAIN,EACJ,KAAM,CAACrB,EAAG4B,EAAGd,EAAGyB,CAAC,EAAI,OAAOZ,GAAK,SAAW+1B,GAAGr2B,EAAI0B,GAAI0vC,GAAIC,EAAE,EAAE,KAAKrxC,EAAGM,EAAGzB,EAAE,KAAM+D,EAAE,EAAG5D,CAAC,EAAIsB,EAAE,eAAc,EAC5G,OAAOH,GAAE,KAAMyC,GAAI/D,EAAE,KAAM+D,EAAE,GAAKnD,CAAC,EAAGU,GAAE,KAAMyD,GAAI/E,EAAE,KAAM+E,EAAE,GAAK1C,CAAC,EAAGvC,CAC7E,CAAO,EAAE,KAAK,EAAE,EACV,IAAIF,EAAI,GACR,GAAI,KAAK,WAAa,OAAOI,EAAE,KAAMoB,EAAC,EAAE,CAAC,GAAK,UAAY,EAAEpB,EAAE,KAAMoB,EAAC,EAAE,SAAW,GAAKowC,GAAG,IAAIxxC,EAAE,KAAMoB,EAAC,EAAE,CAAC,CAAC,GAAI,CAC7G,MAAMtB,EAAIyxC,GAAI7vC,EAAI1B,EAAE,KAAMgE,EAAE,EAAE,KAAOlE,EAAE,IAAIH,EAAE,OAAO,CAAC,CAAC,GAAKA,EAAE,WAAW,KAAK,GAAKG,EAAE,IAAIH,EAAE,OAAO,CAAC,CAAC,GAAKA,EAAE,WAAW,QAAQ,GAAKG,EAAE,IAAIH,EAAE,OAAO,CAAC,CAAC,EAAGiB,EAAI,CAACZ,EAAE,KAAMgE,EAAE,EAAE,KAAOlE,EAAE,IAAIH,EAAE,OAAO,CAAC,CAAC,EAC/LC,EAAI8B,EAAI2H,GAAKzI,EAAI0wC,GAAK,EACvB,CACD,IAAI7sC,EAAI,GACR,OAAO,KAAK,SAAWzE,EAAEA,EAAE,KAAM8C,EAAE,EAAGkvC,EAAE,KAAO7yC,EAAIa,EAAE,KAAMwC,EAAC,IAAM,KAAO,OAASrD,EAAE,QAAU,MAAQsF,EAAI,aAAc,CACtH7E,EAAID,EAAI8E,EACR0sC,GAAGxxC,CAAC,EACJ2B,GAAE,KAAMyC,GAAI,CAAC,CAAC/D,EAAE,KAAM+D,EAAE,CAAC,EACzB/D,EAAE,KAAM+E,EAAE,CAClB,CACK,CACD,MAAM3F,EAAI,KAAK,OAAS,IAAM,YAAc,MAAOM,EAAIM,EAAE,KAAMoB,EAAC,EAAE,IAAKjB,GAAM,CAC3E,GAAI,OAAOA,GAAK,SACd,MAAM,IAAI,MAAM,8BAA8B,EAChD,KAAM,CAACR,EAAGC,EAAG6E,EAAGvE,CAAC,EAAIC,EAAE,iBACvB,OAAOmB,GAAE,KAAMyD,GAAI/E,EAAE,KAAM+E,EAAE,GAAK7E,CAAC,EAAGP,CAC5C,CAAK,EAAE,OAAQQ,GAAM,EAAE,KAAK,QAAO,GAAM,KAAK,MAAO,IAAK,CAAC,CAACA,CAAC,EAAE,KAAK,GAAG,EACnE,GAAI,KAAK,QAAS,GAAI,KAAK,SAAW,CAACT,GAAK,KAAK,OAAS,IAAK,CAC7D,MAAMS,EAAI,KAAK,WACf,OAAOmB,GAAE,KAAMF,GAAG,CAACjB,CAAC,CAAC,EAAG,KAAK,KAAO,KAAMmB,GAAE,KAAMyC,GAAI,MAAM,EAAG,CAAC5D,EAAGgxC,GAAG,KAAK,SAAQ,CAAE,EAAG,GAAI,EAAE,CAC/F,CACD,IAAIpxC,EAAI,GACR,GAAI,KAAK,OAAS,KAAOC,EAAE,KAAMkyC,EAAE,EACjCnyC,GAAK,KAAK,QAAO,GAAM,CAACC,EAAE,KAAMgE,EAAE,EAAE,IAAMstC,GAAK,IAAMO,OAClD,CACH,MAAM1xC,EAAI,KAAK,OAAS,IAAM,MAAQ,KAAK,QAAS,GAAI,CAACH,EAAE,KAAMgE,EAAE,EAAE,IAAMstC,GAAK,IAAMM,GAAK,IAAM,KAAK,OAAS,IAAM,IAAM,IAAI,KAAK,IAAI,GACxI7xC,EAAIX,EAAIM,EAAIS,CACb,CACD,MAAO,CACLJ,EACAoxC,GAAGzxC,CAAC,EACJ4B,GAAE,KAAMyC,GAAI,CAAC,CAAC/D,EAAE,KAAM+D,EAAE,CAAC,EACzB/D,EAAE,KAAM+E,EAAE,CAChB,CACG,CACH,EACA,IAAI0tC,GAAK5vC,GACTC,GAAK,IAAI,QAAWiB,GAAK,IAAI,QAAWgB,GAAK,IAAI,QAAW3D,GAAI,IAAI,QAAWoB,GAAI,IAAI,QAAWsvC,GAAK,IAAI,QAAWC,GAAK,IAAI,QAAWC,GAAK,IAAI,QAAWhuC,GAAK,IAAI,QAAWiuC,GAAK,IAAI,QAAWC,GAAK,IAAI,QAAWC,GAAK,IAAI,QAAWC,GAAK,UAAW,CAC5P,GAAI,OAASpyC,EAAE,KAAM8C,EAAE,EACrB,MAAM,IAAI,MAAM,0BAA0B,EAC5C,GAAI9C,EAAE,KAAMgyC,EAAE,EACZ,OAAO,KACT,KAAK,SAAQ,EAAI1wC,GAAE,KAAM0wC,GAAI,EAAE,EAC/B,IAAI,EACJ,KAAO,EAAIhyC,EAAE,KAAM+xC,EAAE,EAAE,IAAG,GAAM,CAC9B,GAAI,EAAE,OAAS,IACb,SACF,IAAIryC,EAAI,EAAG,EAAIM,EAAEN,EAAG8C,EAAC,EACrB,KAAO,GAAK,CACV,QAAS,EAAIxC,EAAEN,EAAGoyC,EAAE,EAAI,EAAG,CAAC,EAAE,MAAQ,EAAI9xC,EAAE,EAAGoB,EAAC,EAAE,OAAQ,IACxD,UAAWjB,KAAKH,EAAE,EAAGoB,EAAC,EAAG,CACvB,GAAI,OAAOjB,GAAK,SACd,MAAM,IAAI,MAAM,8BAA8B,EAChDA,EAAE,OAAOH,EAAE,EAAGoB,EAAC,EAAE,CAAC,CAAC,CACpB,CACH1B,EAAI,EAAG,EAAIM,EAAEN,EAAG8C,EAAC,CAClB,CACF,CACD,OAAO,IACT,EAAG6vC,GAAK,IAAI,QAAWC,GAAK,SAAS,EAAG5yC,EAAG,EAAG,EAAG,CAC/C,IAAIkB,EAAGyB,EACP,IAAIlC,EAAI,GAAIR,EAAI,GAAI,EAAI,GAAI8E,EAAI,GAChC,GAAI/E,EAAE,OAAS,KAAM,CACnB,IAAIyB,EAAI,EAAGX,EAAI,GACf,KAAOW,EAAI,EAAE,QAAU,CACrB,MAAMR,EAAI,EAAE,OAAOQ,GAAG,EACtB,GAAIhB,GAAKQ,IAAM,KAAM,CACnBR,EAAI,CAACA,EAAGK,GAAKG,EACb,QACD,CACD,GAAIhB,EAAG,CACLwB,IAAM,EAAI,GAAKR,IAAM,KAAOA,IAAM,OAAS8D,EAAI,IAAM9D,IAAM,KAAO,EAAEQ,IAAM,EAAI,GAAKsD,KAAO9E,EAAI,IAAKa,GAAKG,EACxG,QACR,SAAiBA,IAAM,IAAK,CACpBhB,EAAI,GAAI,EAAIwB,EAAGsD,EAAI,GAAIjE,GAAKG,EAC5B,QACD,CACD,GAAI,CAAC,EAAE,OAAS0wC,GAAG1wC,CAAC,GAAK,EAAE,OAAOQ,CAAC,IAAM,IAAK,CAC5CzB,EAAE,KAAKc,CAAC,EAAGA,EAAI,GACf,MAAMmD,EAAI,IAAId,GAAGlC,EAAGjB,CAAC,EACrByB,EAAIq2B,GAAG52B,EAAIiC,GAAIwvC,GAAIC,EAAE,EAAE,KAAK1xC,EAAG,EAAG+C,EAAGxC,EAAG,CAAC,EAAGzB,EAAE,KAAKiE,CAAC,EACpD,QACD,CACDnD,GAAKG,CACN,CACD,OAAOjB,EAAE,KAAKc,CAAC,EAAGW,CACnB,CACD,IAAIjB,EAAI,EAAI,EAAG,EAAI,IAAI2C,GAAG,KAAMnD,CAAC,EACjC,MAAMI,EAAI,CAAA,EACV,IAAI4B,EAAI,GACR,KAAOxB,EAAI,EAAE,QAAU,CACrB,MAAMiB,EAAI,EAAE,OAAOjB,GAAG,EACtB,GAAIC,GAAKgB,IAAM,KAAM,CACnBhB,EAAI,CAACA,EAAGuB,GAAKP,EACb,QACD,CACD,GAAIxB,EAAG,CACLO,IAAM,EAAI,GAAKiB,IAAM,KAAOA,IAAM,OAASsD,EAAI,IAAMtD,IAAM,KAAO,EAAEjB,IAAM,EAAI,GAAKuE,KAAO9E,EAAI,IAAK+B,GAAKP,EACxG,QACN,SAAeA,IAAM,IAAK,CACpBxB,EAAI,GAAI,EAAIO,EAAGuE,EAAI,GAAI/C,GAAKP,EAC5B,QACD,CACD,GAAIkwC,GAAGlwC,CAAC,GAAK,EAAE,OAAOjB,CAAC,IAAM,IAAK,CAChC,EAAE,KAAKwB,CAAC,EAAGA,EAAI,GACf,MAAMlB,EAAI,IAAIqC,GAAG1B,EAAG,CAAC,EACrB,EAAE,KAAKX,CAAC,EAAGN,EAAIs3B,GAAGn1B,EAAIQ,GAAIwvC,GAAIC,EAAE,EAAE,KAAKjwC,EAAG,EAAG7B,EAAGN,EAAG,CAAC,EACpD,QACD,CACD,GAAIiB,IAAM,IAAK,CACb,EAAE,KAAKO,CAAC,EAAGA,EAAI,GAAI5B,EAAE,KAAK,CAAC,EAAG,EAAI,IAAI+C,GAAG,KAAMnD,CAAC,EAChD,QACD,CACD,GAAIyB,IAAM,IACR,OAAOO,IAAM,IAAM1B,EAAEN,EAAG0B,EAAC,EAAE,SAAW,GAAKE,GAAE5B,EAAGwyC,GAAI,EAAE,EAAG,EAAE,KAAKxwC,CAAC,EAAGA,EAAI,GAAIhC,EAAE,KAAK,GAAGI,EAAG,CAAC,EAAGI,EAC/FwB,GAAKP,CACN,CACD,OAAOzB,EAAE,KAAO,KAAM4B,GAAE5B,EAAGqE,GAAI,MAAM,EAAGzC,GAAE5B,EAAG0B,GAAG,CAAC,EAAE,UAAU,EAAI,CAAC,CAAC,CAAC,EAAGlB,CACzE,EAAGqyC,GAAK,IAAI,QAAWC,GAAK,SAAS,EAAG9yC,EAAG,EAAI,GAAI,CACjD,IAAI,EAAI,GAAIS,EAAI,GAAIR,EAAI,GACxB,QAASC,EAAI,EAAGA,EAAI,EAAE,OAAQA,IAAK,CACjC,MAAM6E,EAAI,EAAE,OAAO7E,CAAC,EACpB,GAAI,EAAG,CACL,EAAI,GAAIO,IAAMsxC,GAAG,IAAIhtC,CAAC,EAAI,KAAO,IAAMA,EACvC,QACD,CACD,GAAIA,IAAM,KAAM,CACd7E,IAAM,EAAE,OAAS,EAAIO,GAAK,OAAS,EAAI,GACvC,QACD,CACD,GAAIsE,IAAM,IAAK,CACb,KAAM,CAACvE,EAAGuB,EAAG3B,EAAG4B,CAAC,EAAIwvC,GAAG,EAAGtxC,CAAC,EAC5B,GAAIE,EAAG,CACLK,GAAKD,EAAGP,EAAIA,GAAK8B,EAAG7B,GAAKE,EAAI,EAAGJ,EAAIA,GAAKgC,EACzC,QACD,CACF,CACD,GAAI+C,IAAM,IAAK,CACb,GAAK,IAAM,IAAMtE,GAAK0xC,GAAK1xC,GAAKyxC,GAAIlyC,EAAI,GACxC,QACD,CACD,GAAI+E,IAAM,IAAK,CACbtE,GAAKwxC,GAAIjyC,EAAI,GACb,QACD,CACDS,GAAKuxC,GAAGjtC,CAAC,CACV,CACD,MAAO,CAACtE,EAAGgxC,GAAG,CAAC,EAAG,CAAC,CAACzxC,EAAGC,CAAC,CAC1B,EAAGoC,GAAG0wC,GAAIJ,EAAE,EAAGtwC,GAAG0wC,GAAIF,EAAE,EACxB,MAAMG,GAAK,CAAClvC,EAAG,CAAE,qBAAsBpE,EAAI,EAAI,EAAG,KAAOA,EAAIoE,EAAE,QAAQ,aAAc,MAAM,EAAIA,EAAE,QAAQ,eAAgB,MAAM,EAAGlE,GAAK,CAACkE,EAAGpE,EAAGM,EAAI,CAAA,KAAQmxC,GAAGzxC,CAAC,EAAG,CAACM,EAAE,WAAaN,EAAE,OAAO,CAAC,IAAM,IAAM,GAAK,IAAIuzC,GAAGvzC,EAAGM,CAAC,EAAE,MAAM8D,CAAC,GAAIovC,GAAK,wBAAyBC,GAAMrvC,GAAOpE,GAAM,CAACA,EAAE,WAAW,GAAG,GAAKA,EAAE,SAASoE,CAAC,EAAGsvC,GAAMtvC,GAAOpE,GAAMA,EAAE,SAASoE,CAAC,EAAGuvC,GAAMvvC,IAAOA,EAAIA,EAAE,YAAW,EAAKpE,GAAM,CAACA,EAAE,WAAW,GAAG,GAAKA,EAAE,cAAc,SAASoE,CAAC,GAAIwvC,GAAMxvC,IAAOA,EAAIA,EAAE,YAAW,EAAKpE,GAAMA,EAAE,YAAW,EAAG,SAASoE,CAAC,GAAIyvC,GAAK,aAAcC,GAAM1vC,GAAM,CAACA,EAAE,WAAW,GAAG,GAAKA,EAAE,SAAS,GAAG,EAAG2vC,GAAM3vC,GAAMA,IAAM,KAAOA,IAAM,MAAQA,EAAE,SAAS,GAAG,EAAG4vC,GAAK,UAAWC,GAAM7vC,GAAMA,IAAM,KAAOA,IAAM,MAAQA,EAAE,WAAW,GAAG,EAAG8vC,GAAK,QAASC,GAAM/vC,GAAMA,EAAE,SAAW,GAAK,CAACA,EAAE,WAAW,GAAG,EAAGgwC,GAAMhwC,GAAMA,EAAE,SAAW,GAAKA,IAAM,KAAOA,IAAM,KAAMiwC,GAAK,yBAA0BC,GAAK,CAAC,CAAClwC,EAAGpE,EAAI,EAAE,IAAM,CACl3B,MAAMM,EAAIi0C,GAAG,CAACnwC,CAAC,CAAC,EAChB,OAAOpE,GAAKA,EAAIA,EAAE,YAAa,EAAGW,GAAML,EAAEK,CAAC,GAAKA,EAAE,YAAW,EAAG,SAASX,CAAC,GAAKM,CACjF,EAAGk0C,GAAK,CAAC,CAACpwC,EAAGpE,EAAI,EAAE,IAAM,CACvB,MAAMM,EAAIm0C,GAAG,CAACrwC,CAAC,CAAC,EAChB,OAAOpE,GAAKA,EAAIA,EAAE,YAAa,EAAGW,GAAML,EAAEK,CAAC,GAAKA,EAAE,YAAW,EAAG,SAASX,CAAC,GAAKM,CACjF,EAAGo0C,GAAK,CAAC,CAACtwC,EAAGpE,EAAI,EAAE,IAAM,CACvB,MAAMM,EAAIm0C,GAAG,CAACrwC,CAAC,CAAC,EAChB,OAAOpE,EAAKW,GAAML,EAAEK,CAAC,GAAKA,EAAE,SAASX,CAAC,EAAIM,CAC5C,EAAGq0C,GAAK,CAAC,CAACvwC,EAAGpE,EAAI,EAAE,IAAM,CACvB,MAAMM,EAAIi0C,GAAG,CAACnwC,CAAC,CAAC,EAChB,OAAOpE,EAAKW,GAAML,EAAEK,CAAC,GAAKA,EAAE,SAASX,CAAC,EAAIM,CAC5C,EAAGi0C,GAAK,CAAC,CAACnwC,CAAC,IAAM,CACf,MAAMpE,EAAIoE,EAAE,OACZ,OAAQ9D,GAAMA,EAAE,SAAWN,GAAK,CAACM,EAAE,WAAW,GAAG,CACnD,EAAGm0C,GAAK,CAAC,CAACrwC,CAAC,IAAM,CACf,MAAMpE,EAAIoE,EAAE,OACZ,OAAQ9D,GAAMA,EAAE,SAAWN,GAAKM,IAAM,KAAOA,IAAM,IACrD,EAAGs0C,GAAK,OAAO,SAAW,UAAY,QAAU,OAAO,QAAQ,KAAO,UAAY,QAAQ,KAAO,QAAQ,IAAI,gCAAkC,QAAQ,SAAW,QAASC,GAAK,CAC9K,MAAO,CAAE,IAAK,IAAM,EACpB,MAAO,CAAE,IAAK,GAAK,CACrB,EAAGC,GAAKF,KAAO,QAAUC,GAAG,MAAM,IAAMA,GAAG,MAAM,IACjD30C,GAAG,IAAM40C,GACT,MAAMhxC,GAAK,OAAO,aAAa,EAC/B5D,GAAG,SAAW4D,GACd,MAAMixC,GAAK,OAAQC,GAAKD,GAAK,KAAME,GAAK,0CAA2CC,GAAK,0BAA2BC,GAAK,CAAC/wC,EAAGpE,EAAI,CAAA,IAAQM,GAAMJ,GAAGI,EAAG8D,EAAGpE,CAAC,EACxJE,GAAG,OAASi1C,GACZ,MAAMnxC,GAAK,CAACI,EAAGpE,EAAI,CAAA,IAAO,OAAO,OAAO,CAAE,EAAEoE,EAAGpE,CAAC,EAAGo1C,GAAMhxC,GAAM,CAC7D,GAAI,CAACA,GAAK,OAAOA,GAAK,UAAY,CAAC,OAAO,KAAKA,CAAC,EAAE,OAChD,OAAOlE,GACT,MAAMF,EAAIE,GACV,OAAO,OAAO,OAAO,CAAC,EAAG,EAAGa,EAAI,CAAA,IAAOf,EAAE,EAAG,EAAGgE,GAAGI,EAAGrD,CAAC,CAAC,EAAG,CACxD,UAAW,cAAcf,EAAE,SAAU,CACnC,YAAYD,EAAGgB,EAAI,GAAI,CACrB,MAAMhB,EAAGiE,GAAGI,EAAGrD,CAAC,CAAC,CAClB,CACD,OAAO,SAAShB,EAAG,CACjB,OAAOC,EAAE,SAASgE,GAAGI,EAAGrE,CAAC,CAAC,EAAE,SAC7B,CACF,EACD,IAAK,cAAcC,EAAE,GAAI,CACvB,YAAYD,EAAGgB,EAAGR,EAAI,CAAA,EAAI,CACxB,MAAMR,EAAGgB,EAAGiD,GAAGI,EAAG7D,CAAC,CAAC,CACrB,CACD,OAAO,SAASR,EAAGgB,EAAI,GAAI,CACzB,OAAOf,EAAE,IAAI,SAASD,EAAGiE,GAAGI,EAAGrD,CAAC,CAAC,CAClC,CACF,EACD,SAAU,CAAC,EAAG,EAAI,KAAOf,EAAE,SAAS,EAAGgE,GAAGI,EAAG,CAAC,CAAC,EAC/C,OAAQ,CAAC,EAAG,EAAI,KAAOpE,EAAE,OAAO,EAAGgE,GAAGI,EAAG,CAAC,CAAC,EAC3C,OAAQ,CAAC,EAAG,EAAI,KAAOpE,EAAE,OAAO,EAAGgE,GAAGI,EAAG,CAAC,CAAC,EAC3C,SAAW,GAAMpE,EAAE,SAASgE,GAAGI,EAAG,CAAC,CAAC,EACpC,OAAQ,CAAC,EAAG,EAAI,KAAOpE,EAAE,OAAO,EAAGgE,GAAGI,EAAG,CAAC,CAAC,EAC3C,YAAa,CAAC,EAAG,EAAI,KAAOpE,EAAE,YAAY,EAAGgE,GAAGI,EAAG,CAAC,CAAC,EACrD,MAAO,CAAC,EAAG,EAAGrD,EAAI,CAAA,IAAOf,EAAE,MAAM,EAAG,EAAGgE,GAAGI,EAAGrD,CAAC,CAAC,EAC/C,IAAKf,EAAE,IACP,SAAU8D,EACd,CAAG,CACH,EACA5D,GAAG,SAAWk1C,GACd,MAAMC,GAAK,CAACjxC,EAAGpE,EAAI,CAAE,KAAMyxC,GAAGrtC,CAAC,EAAGpE,EAAE,SAAW,CAAC,mBAAmB,KAAKoE,CAAC,EAAI,CAACA,CAAC,EAAIosC,GAAGpsC,CAAC,GACvFlE,GAAG,YAAcm1C,GACjB,MAAMC,GAAK,CAAClxC,EAAGpE,EAAI,CAAE,IAAK,IAAIuzC,GAAGnvC,EAAGpE,CAAC,EAAE,SACvCE,GAAG,OAASo1C,GACZ,MAAMC,GAAK,CAACnxC,EAAGpE,EAAGM,EAAI,CAAA,IAAO,CAC3B,MAAMK,EAAI,IAAI4yC,GAAGvzC,EAAGM,CAAC,EACrB,OAAO8D,EAAIA,EAAE,OAAQrE,GAAMY,EAAE,MAAMZ,CAAC,CAAC,EAAGY,EAAE,QAAQ,QAAU,CAACyD,EAAE,QAAUA,EAAE,KAAKpE,CAAC,EAAGoE,CACtF,EACAlE,GAAG,MAAQq1C,GACX,MAAMC,GAAK,0BAA2BC,GAAMrxC,GAAMA,EAAE,QAAQ,2BAA4B,MAAM,EAC9F,MAAMmvC,EAAG,CACP,YAAYvzC,EAAGM,EAAI,GAAI,CACrBgD,GAAE,KAAM,SAAS,EACjBA,GAAE,KAAM,KAAK,EACbA,GAAE,KAAM,SAAS,EACjBA,GAAE,KAAM,sBAAsB,EAC9BA,GAAE,KAAM,UAAU,EAClBA,GAAE,KAAM,QAAQ,EAChBA,GAAE,KAAM,SAAS,EACjBA,GAAE,KAAM,OAAO,EACfA,GAAE,KAAM,yBAAyB,EACjCA,GAAE,KAAM,SAAS,EACjBA,GAAE,KAAM,SAAS,EACjBA,GAAE,KAAM,WAAW,EACnBA,GAAE,KAAM,QAAQ,EAChBA,GAAE,KAAM,WAAW,EACnBA,GAAE,KAAM,UAAU,EAClBA,GAAE,KAAM,oBAAoB,EAC5BA,GAAE,KAAM,QAAQ,EAChBmuC,GAAGzxC,CAAC,EAAGM,EAAIA,GAAK,CAAA,EAAI,KAAK,QAAUA,EAAG,KAAK,QAAUN,EAAG,KAAK,SAAWM,EAAE,UAAYs0C,GAAI,KAAK,UAAY,KAAK,WAAa,QAAS,KAAK,qBAAuB,CAAC,CAACt0C,EAAE,sBAAwBA,EAAE,qBAAuB,GAAI,KAAK,uBAAyB,KAAK,QAAU,KAAK,QAAQ,QAAQ,MAAO,GAAG,GAAI,KAAK,wBAA0B,CAAC,CAACA,EAAE,wBAAyB,KAAK,OAAS,KAAM,KAAK,OAAS,GAAI,KAAK,SAAW,CAAC,CAACA,EAAE,SAAU,KAAK,QAAU,GAAI,KAAK,MAAQ,GAAI,KAAK,QAAU,CAAC,CAACA,EAAE,QAAS,KAAK,OAAS,CAAC,CAAC,KAAK,QAAQ,OAAQ,KAAK,mBAAqBA,EAAE,qBAAuB,OAASA,EAAE,mBAAqB,CAAC,EAAE,KAAK,WAAa,KAAK,QAAS,KAAK,QAAU,GAAI,KAAK,UAAY,CAAA,EAAI,KAAK,IAAM,CAAA,EAAI,KAAK,KAAI,CACvsB,CACD,UAAW,CACT,GAAI,KAAK,QAAQ,eAAiB,KAAK,IAAI,OAAS,EAClD,MAAO,GACT,UAAWN,KAAK,KAAK,IACnB,UAAWM,KAAKN,EACd,GAAI,OAAOM,GAAK,SACd,MAAO,GACb,MAAO,EACR,CACD,SAASN,EAAG,CACX,CACD,MAAO,CACL,MAAMA,EAAI,KAAK,QAASM,EAAI,KAAK,QACjC,GAAI,CAACA,EAAE,WAAaN,EAAE,OAAO,CAAC,IAAM,IAAK,CACvC,KAAK,QAAU,GACf,MACD,CACD,GAAI,CAACA,EAAG,CACN,KAAK,MAAQ,GACb,MACD,CACD,KAAK,YAAa,EAAE,KAAK,QAAU,CAAC,GAAG,IAAI,IAAI,KAAK,YAAa,CAAA,CAAC,EAAGM,EAAE,QAAU,KAAK,MAAQ,IAAI,IAAM,QAAQ,MAAM,GAAG,CAAC,GAAI,KAAK,MAAM,KAAK,QAAS,KAAK,OAAO,EACnK,MAAMK,EAAI,KAAK,QAAQ,IAAK,GAAM,KAAK,WAAW,CAAC,CAAC,EACpD,KAAK,UAAY,KAAK,WAAWA,CAAC,EAAG,KAAK,MAAM,KAAK,QAAS,KAAK,SAAS,EAC5E,IAAIZ,EAAI,KAAK,UAAU,IAAI,CAAC,EAAG,EAAGS,IAAM,CACtC,GAAI,KAAK,WAAa,KAAK,mBAAoB,CAC7C,MAAM6E,EAAI,EAAE,CAAC,IAAM,IAAM,EAAE,CAAC,IAAM,KAAO,EAAE,CAAC,IAAM,KAAO,CAACmwC,GAAG,KAAK,EAAE,CAAC,CAAC,IAAM,CAACA,GAAG,KAAK,EAAE,CAAC,CAAC,EAAG10C,EAAI,WAAW,KAAK,EAAE,CAAC,CAAC,EACpH,GAAIuE,EACF,MAAO,CAAC,GAAG,EAAE,MAAM,EAAG,CAAC,EAAG,GAAG,EAAE,MAAM,CAAC,EAAE,IAAKhD,GAAM,KAAK,MAAMA,CAAC,CAAC,CAAC,EACnE,GAAIvB,EACF,MAAO,CAAC,EAAE,CAAC,EAAG,GAAG,EAAE,MAAM,CAAC,EAAE,IAAKuB,GAAM,KAAK,MAAMA,CAAC,CAAC,CAAC,CACxD,CACD,OAAO,EAAE,IAAKgD,GAAM,KAAK,MAAMA,CAAC,CAAC,CACvC,CAAK,EACD,GAAI,KAAK,MAAM,KAAK,QAAStF,CAAC,EAAG,KAAK,IAAMA,EAAE,OAAQ,GAAM,EAAE,QAAQ,EAAE,IAAM,EAAE,EAAG,KAAK,UACtF,QAAS,EAAI,EAAG,EAAI,KAAK,IAAI,OAAQ,IAAK,CACxC,MAAM,EAAI,KAAK,IAAI,CAAC,EACpB,EAAE,CAAC,IAAM,IAAM,EAAE,CAAC,IAAM,IAAM,KAAK,UAAU,CAAC,EAAE,CAAC,IAAM,KAAO,OAAO,EAAE,CAAC,GAAK,UAAY,YAAY,KAAK,EAAE,CAAC,CAAC,IAAM,EAAE,CAAC,EAAI,IAC5H,CACH,KAAK,MAAM,KAAK,QAAS,KAAK,GAAG,CAClC,CACD,WAAWC,EAAG,CACZ,GAAI,KAAK,QAAQ,WACf,QAASW,EAAI,EAAGA,EAAIX,EAAE,OAAQW,IAC5B,QAASZ,EAAI,EAAGA,EAAIC,EAAEW,CAAC,EAAE,OAAQZ,IAC/BC,EAAEW,CAAC,EAAEZ,CAAC,IAAM,OAASC,EAAEW,CAAC,EAAEZ,CAAC,EAAI,KACrC,KAAM,CAAE,kBAAmBO,EAAI,CAAC,EAAK,KAAK,QAC1C,OAAOA,GAAK,GAAKN,EAAI,KAAK,qBAAqBA,CAAC,EAAGA,EAAI,KAAK,sBAAsBA,CAAC,GAAKM,GAAK,EAAIN,EAAI,KAAK,iBAAiBA,CAAC,EAAIA,EAAI,KAAK,0BAA0BA,CAAC,EAAGA,CACxK,CACD,0BAA0BA,EAAG,CAC3B,OAAOA,EAAE,IAAKM,GAAM,CAClB,IAAIK,EAAI,GACR,MAAQA,EAAIL,EAAE,QAAQ,KAAMK,EAAI,CAAC,KAAO,IAAM,CAC5C,IAAIZ,EAAIY,EACR,KAAOL,EAAEP,EAAI,CAAC,IAAM,MAClBA,IACFA,IAAMY,GAAKL,EAAE,OAAOK,EAAGZ,EAAIY,CAAC,CAC7B,CACD,OAAOL,CACb,CAAK,CACF,CACD,iBAAiBN,EAAG,CAClB,OAAOA,EAAE,IAAKM,IAAOA,EAAIA,EAAE,OAAO,CAACK,EAAGZ,IAAM,CAC1C,MAAM,EAAIY,EAAEA,EAAE,OAAS,CAAC,EACxB,OAAOZ,IAAM,MAAQ,IAAM,KAAOY,EAAIZ,IAAM,MAAQ,GAAK,IAAM,MAAQ,IAAM,KAAO,IAAM,MAAQY,EAAE,IAAK,EAAEA,IAAMA,EAAE,KAAKZ,CAAC,EAAGY,EAClI,EAAO,CAAE,CAAA,EAAGL,EAAE,SAAW,EAAI,CAAC,EAAE,EAAIA,EAAE,CACnC,CACD,qBAAqBN,EAAG,CACtB,MAAM,QAAQA,CAAC,IAAMA,EAAI,KAAK,WAAWA,CAAC,GAC1C,IAAIM,EAAI,GACR,EAAG,CACD,GAAIA,EAAI,GAAI,CAAC,KAAK,wBAAyB,CACzC,QAASP,EAAI,EAAGA,EAAIC,EAAE,OAAS,EAAGD,IAAK,CACrC,MAAM,EAAIC,EAAED,CAAC,EACbA,IAAM,GAAK,IAAM,IAAMC,EAAE,CAAC,IAAM,KAAO,IAAM,KAAO,IAAM,MAAQM,EAAI,GAAIN,EAAE,OAAOD,EAAG,CAAC,EAAGA,IAC3F,CACDC,EAAE,CAAC,IAAM,KAAOA,EAAE,SAAW,IAAMA,EAAE,CAAC,IAAM,KAAOA,EAAE,CAAC,IAAM,MAAQM,EAAI,GAAIN,EAAE,IAAG,EAClF,CACD,IAAIW,EAAI,EACR,MAAQA,EAAIX,EAAE,QAAQ,KAAMW,EAAI,CAAC,KAAO,IAAM,CAC5C,MAAMZ,EAAIC,EAAEW,EAAI,CAAC,EACjBZ,GAAKA,IAAM,KAAOA,IAAM,MAAQA,IAAM,OAASO,EAAI,GAAIN,EAAE,OAAOW,EAAI,EAAG,CAAC,EAAGA,GAAK,EACjF,CACF,OAAQL,GACT,OAAON,EAAE,SAAW,EAAI,CAAC,EAAE,EAAIA,CAChC,CACD,qBAAqBA,EAAG,CACtB,IAAIM,EAAI,GACR,EAAG,CACDA,EAAI,GACJ,QAASK,KAAKX,EAAG,CACf,IAAID,EAAI,GACR,MAAQA,EAAIY,EAAE,QAAQ,KAAMZ,EAAI,CAAC,KAAO,IAAM,CAC5C,IAAI,EAAIA,EACR,KAAOY,EAAE,EAAI,CAAC,IAAM,MAClB,IACF,EAAIZ,GAAKY,EAAE,OAAOZ,EAAI,EAAG,EAAIA,CAAC,EAC9B,IAAIS,EAAIG,EAAEZ,EAAI,CAAC,EACf,MAAMsF,EAAI1E,EAAEZ,EAAI,CAAC,EAAGe,EAAIH,EAAEZ,EAAI,CAAC,EAC/B,GAAIS,IAAM,MAAQ,CAAC6E,GAAKA,IAAM,KAAOA,IAAM,MAAQ,CAACvE,GAAKA,IAAM,KAAOA,IAAM,KAC1E,SACFR,EAAI,GAAIK,EAAE,OAAOZ,EAAG,CAAC,EACrB,MAAMsC,EAAI1B,EAAE,MAAM,CAAC,EACnB0B,EAAEtC,CAAC,EAAI,KAAMC,EAAE,KAAKqC,CAAC,EAAGtC,GACzB,CACD,GAAI,CAAC,KAAK,wBAAyB,CACjC,QAAS,EAAI,EAAG,EAAIY,EAAE,OAAS,EAAG,IAAK,CACrC,MAAMH,EAAIG,EAAE,CAAC,EACb,IAAM,GAAKH,IAAM,IAAMG,EAAE,CAAC,IAAM,KAAOH,IAAM,KAAOA,IAAM,MAAQF,EAAI,GAAIK,EAAE,OAAO,EAAG,CAAC,EAAG,IAC3F,CACDA,EAAE,CAAC,IAAM,KAAOA,EAAE,SAAW,IAAMA,EAAE,CAAC,IAAM,KAAOA,EAAE,CAAC,IAAM,MAAQL,EAAI,GAAIK,EAAE,IAAG,EAClF,CACD,IAAI,EAAI,EACR,MAAQ,EAAIA,EAAE,QAAQ,KAAM,EAAI,CAAC,KAAO,IAAM,CAC5C,MAAM,EAAIA,EAAE,EAAI,CAAC,EACjB,GAAI,GAAK,IAAM,KAAO,IAAM,MAAQ,IAAM,KAAM,CAC9CL,EAAI,GACJ,MAAM+E,EAAI,IAAM,GAAK1E,EAAE,EAAI,CAAC,IAAM,KAAO,CAAC,GAAG,EAAI,CAAA,EACjDA,EAAE,OAAO,EAAI,EAAG,EAAG,GAAG0E,CAAC,EAAG1E,EAAE,SAAW,GAAKA,EAAE,KAAK,EAAE,EAAG,GAAK,CAC9D,CACF,CACF,CACF,OAAQL,GACT,OAAON,CACR,CACD,sBAAsBA,EAAG,CACvB,QAASM,EAAI,EAAGA,EAAIN,EAAE,OAAS,EAAGM,IAChC,QAASK,EAAIL,EAAI,EAAGK,EAAIX,EAAE,OAAQW,IAAK,CACrC,MAAMZ,EAAI,KAAK,WAAWC,EAAEM,CAAC,EAAGN,EAAEW,CAAC,EAAG,CAAC,KAAK,uBAAuB,EACnE,CAACZ,IAAMC,EAAEM,CAAC,EAAIP,EAAGC,EAAEW,CAAC,EAAI,CAAA,EACzB,CACH,OAAOX,EAAE,OAAQM,GAAMA,EAAE,MAAM,CAChC,CACD,WAAWN,EAAGM,EAAGK,EAAI,GAAI,CACvB,IAAIZ,EAAI,EAAG,EAAI,EAAG,EAAI,CAAE,EAAES,EAAI,GAC9B,KAAOT,EAAIC,EAAE,QAAU,EAAIM,EAAE,QAC3B,GAAIN,EAAED,CAAC,IAAMO,EAAE,CAAC,EACd,EAAE,KAAKE,IAAM,IAAMF,EAAE,CAAC,EAAIN,EAAED,CAAC,CAAC,EAAGA,IAAK,YAC/BY,GAAKX,EAAED,CAAC,IAAM,MAAQO,EAAE,CAAC,IAAMN,EAAED,EAAI,CAAC,EAC7C,EAAE,KAAKC,EAAED,CAAC,CAAC,EAAGA,YACPY,GAAKL,EAAE,CAAC,IAAM,MAAQN,EAAED,CAAC,IAAMO,EAAE,EAAI,CAAC,EAC7C,EAAE,KAAKA,EAAE,CAAC,CAAC,EAAG,YACPN,EAAED,CAAC,IAAM,KAAOO,EAAE,CAAC,IAAM,KAAK,QAAQ,KAAO,CAACA,EAAE,CAAC,EAAE,WAAW,GAAG,IAAMA,EAAE,CAAC,IAAM,KAAM,CAC7F,GAAIE,IAAM,IACR,MAAO,GACTA,EAAI,IAAK,EAAE,KAAKR,EAAED,CAAC,CAAC,EAAGA,IAAK,GACpC,SAAiBO,EAAE,CAAC,IAAM,KAAON,EAAED,CAAC,IAAM,KAAK,QAAQ,KAAO,CAACC,EAAED,CAAC,EAAE,WAAW,GAAG,IAAMC,EAAED,CAAC,IAAM,KAAM,CAC/F,GAAIS,IAAM,IACR,MAAO,GACTA,EAAI,IAAK,EAAE,KAAKF,EAAE,CAAC,CAAC,EAAGP,IAAK,GAC7B,KACC,OAAO,GACX,OAAOC,EAAE,SAAWM,EAAE,QAAU,CACjC,CACD,aAAc,CACZ,GAAI,KAAK,SACP,OACF,MAAMN,EAAI,KAAK,QACf,IAAIM,EAAI,GAAIK,EAAI,EAChB,QAASZ,EAAI,EAAGA,EAAIC,EAAE,QAAUA,EAAE,OAAOD,CAAC,IAAM,IAAKA,IACnDO,EAAI,CAACA,EAAGK,IACVA,IAAM,KAAK,QAAUX,EAAE,MAAMW,CAAC,GAAI,KAAK,OAASL,CACjD,CACD,SAASN,EAAGM,EAAGK,EAAI,GAAI,CACrB,MAAMZ,EAAI,KAAK,QACf,GAAI,KAAK,UAAW,CAClB,MAAMgC,EAAI/B,EAAE,CAAC,IAAM,IAAMA,EAAE,CAAC,IAAM,IAAMA,EAAE,CAAC,IAAM,KAAO,OAAOA,EAAE,CAAC,GAAK,UAAY,YAAY,KAAKA,EAAE,CAAC,CAAC,EAAGoB,EAAId,EAAE,CAAC,IAAM,IAAMA,EAAE,CAAC,IAAM,IAAMA,EAAE,CAAC,IAAM,KAAO,OAAOA,EAAE,CAAC,GAAK,UAAY,YAAY,KAAKA,EAAE,CAAC,CAAC,EAC7M,GAAIyB,GAAKX,EAAG,CACV,MAAMG,EAAIvB,EAAE,CAAC,EAAGuE,EAAIjE,EAAE,CAAC,EACvBiB,EAAE,YAAa,IAAKgD,EAAE,YAAa,IAAKvE,EAAE,CAAC,EAAIuE,EAChD,SAAUnD,GAAK,OAAOpB,EAAE,CAAC,GAAK,SAAU,CACvC,MAAMuB,EAAIjB,EAAE,CAAC,EAAGiE,EAAIvE,EAAE,CAAC,EACvBuB,EAAE,YAAa,IAAKgD,EAAE,YAAW,IAAOjE,EAAE,CAAC,EAAIiE,EAAGjE,EAAIA,EAAE,MAAM,CAAC,EAChE,SAAUyB,GAAK,OAAOzB,EAAE,CAAC,GAAK,SAAU,CACvC,MAAMiB,EAAIvB,EAAE,CAAC,EACbuB,EAAE,YAAW,IAAOjB,EAAE,CAAC,EAAE,YAAW,IAAOA,EAAE,CAAC,EAAIiB,EAAGvB,EAAIA,EAAE,MAAM,CAAC,EACnE,CACF,CACD,KAAM,CAAE,kBAAmB,EAAI,CAAC,EAAK,KAAK,QAC1C,GAAK,IAAMA,EAAI,KAAK,qBAAqBA,CAAC,GAAI,KAAK,MAAM,WAAY,KAAM,CAAE,KAAMA,EAAG,QAASM,CAAG,CAAA,EAAG,KAAK,MAAM,WAAYN,EAAE,OAAQM,EAAE,MAAM,EAC9I,QAAS,EAAI,EAAGE,EAAI,EAAG6E,EAAIrF,EAAE,OAAQc,EAAIR,EAAE,OAAQ,EAAI+E,GAAK7E,EAAIM,EAAG,IAAKN,IAAK,CAC3E,KAAK,MAAM,eAAe,EAC1B,IAAI6B,EAAI/B,EAAEE,CAAC,EAAGE,EAAIV,EAAE,CAAC,EACrB,GAAI,KAAK,MAAMM,EAAG+B,EAAG3B,CAAC,EAAG2B,IAAM,GAC7B,MAAO,GACT,GAAIA,IAAMyB,GAAI,CACZ,KAAK,MAAM,WAAY,CAACxD,EAAG+B,EAAG3B,CAAC,CAAC,EAChC,IAAI4B,EAAI,EAAGd,EAAIhB,EAAI,EACnB,GAAIgB,IAAMV,EAAG,CACX,IAAK,KAAK,MAAM,eAAe,EAAG,EAAIuE,EAAG,IACvC,GAAIrF,EAAE,CAAC,IAAM,KAAOA,EAAE,CAAC,IAAM,MAAQ,CAACD,EAAE,KAAOC,EAAE,CAAC,EAAE,OAAO,CAAC,IAAM,IAChE,MAAO,GACX,MAAO,EACR,CACD,KAAOsC,EAAI+C,GAAK,CACd,IAAIpC,EAAIjD,EAAEsC,CAAC,EACX,GAAI,KAAK,MAAM;AAAA,gBACRtC,EAAGsC,EAAGhC,EAAGkB,EAAGyB,CAAC,EAAG,KAAK,SAASjD,EAAE,MAAMsC,CAAC,EAAGhC,EAAE,MAAMkB,CAAC,EAAGb,CAAC,EAC5D,OAAO,KAAK,MAAM,wBAAyB2B,EAAG+C,EAAGpC,CAAC,EAAG,GACvD,GAAIA,IAAM,KAAOA,IAAM,MAAQ,CAAClD,EAAE,KAAOkD,EAAE,OAAO,CAAC,IAAM,IAAK,CAC5D,KAAK,MAAM,gBAAiBjD,EAAGsC,EAAGhC,EAAGkB,CAAC,EACtC,KACD,CACD,KAAK,MAAM,0CAA0C,EAAGc,GACzD,CACD,MAAO,CAAC,EAAE3B,IAAM,KAAK,MAAM;AAAA,wBACVX,EAAGsC,EAAGhC,EAAGkB,CAAC,EAAGc,IAAM+C,GACrC,CACD,IAAItD,EACJ,GAAI,OAAOM,GAAK,UAAYN,EAAIrB,IAAM2B,EAAG,KAAK,MAAM,eAAgBA,EAAG3B,EAAGqB,CAAC,IAAMA,EAAIM,EAAE,KAAK3B,CAAC,EAAG,KAAK,MAAM,gBAAiB2B,EAAG3B,EAAGqB,CAAC,GAAI,CAACA,EACtI,MAAO,EACV,CACD,GAAI,IAAMsD,GAAK7E,IAAMM,EACnB,MAAO,GACT,GAAI,IAAMuE,EACR,OAAO1E,EACT,GAAIH,IAAMM,EACR,OAAO,IAAMuE,EAAI,GAAKrF,EAAE,CAAC,IAAM,GACjC,MAAM,IAAI,MAAM,MAAM,CACvB,CACD,aAAc,CACZ,OAAOq1C,GAAG,KAAK,QAAS,KAAK,OAAO,CACrC,CACD,MAAMr1C,EAAG,CACPyxC,GAAGzxC,CAAC,EACJ,MAAMM,EAAI,KAAK,QACf,GAAIN,IAAM,KACR,OAAO8D,GACT,GAAI9D,IAAM,GACR,MAAO,GACT,IAAIW,EAAGZ,EAAI,MACVY,EAAIX,EAAE,MAAMk0C,EAAE,GAAKn0C,EAAIO,EAAE,IAAM8zC,GAAKD,IAAMxzC,EAAIX,EAAE,MAAMwzC,EAAE,GAAKzzC,GAAKO,EAAE,OAASA,EAAE,IAAMszC,GAAKD,GAAKrzC,EAAE,IAAMozC,GAAKD,IAAI9yC,EAAE,CAAC,CAAC,GAAKA,EAAIX,EAAE,MAAMq0C,EAAE,GAAKt0C,GAAKO,EAAE,OAASA,EAAE,IAAMk0C,GAAKF,GAAKh0C,EAAE,IAAMo0C,GAAKC,IAAIh0C,CAAC,GAAKA,EAAIX,EAAE,MAAM6zC,EAAE,GAAK9zC,EAAIO,EAAE,IAAMyzC,GAAKD,IAAMnzC,EAAIX,EAAE,MAAMg0C,EAAE,KAAOj0C,EAAIk0C,IACzQ,MAAM,EAAIZ,GAAG,SAASrzC,EAAG,KAAK,OAAO,EAAE,cACvC,OAAOD,EAAI,OAAO,OAAO,EAAG,CAAE,KAAMA,EAAG,EAAI,CAC5C,CACD,QAAS,CACP,GAAI,KAAK,QAAU,KAAK,SAAW,GACjC,OAAO,KAAK,OACd,MAAMC,EAAI,KAAK,IACf,GAAI,CAACA,EAAE,OACL,OAAO,KAAK,OAAS,GAAI,KAAK,OAChC,MAAMM,EAAI,KAAK,QAASK,EAAIL,EAAE,WAAa00C,GAAK10C,EAAE,IAAM20C,GAAKC,GAAIn1C,EAAI,IAAI,IAAIO,EAAE,OAAS,CAAC,GAAG,EAAI,CAAA,CAAE,EAClG,IAAI,EAAIN,EAAE,IAAKqF,GAAM,CACnB,MAAMvE,EAAIuE,EAAE,IAAKhD,GAAM,CACrB,GAAIA,aAAa,OACf,UAAW3B,KAAK2B,EAAE,MAAM,MAAM,EAAE,EAC9BtC,EAAE,IAAIW,CAAC,EACX,OAAO,OAAO2B,GAAK,SAAWozC,GAAGpzC,CAAC,EAAIA,IAAMyB,GAAKA,GAAKzB,EAAE,IAChE,CAAO,EACD,OAAOvB,EAAE,QAAQ,CAACuB,EAAG3B,IAAM,CACzB,MAAM4B,EAAIxB,EAAEJ,EAAI,CAAC,EAAGc,EAAIV,EAAEJ,EAAI,CAAC,EAC/B2B,IAAMyB,IAAMtC,IAAMsC,KAAOtC,IAAM,OAASc,IAAM,QAAUA,IAAMwB,GAAKhD,EAAEJ,EAAI,CAAC,EAAI,UAAYC,EAAI,QAAU2B,EAAIxB,EAAEJ,CAAC,EAAIC,EAAI2B,IAAM,OAASxB,EAAEJ,EAAI,CAAC,EAAIc,EAAI,UAAYb,EAAI,KAAO2B,IAAMwB,KAAOhD,EAAEJ,EAAI,CAAC,EAAIc,EAAI,aAAeb,EAAI,OAAS2B,EAAGxB,EAAEJ,EAAI,CAAC,EAAIoD,IAC1P,CAAO,EAAGhD,EAAE,OAAQuB,GAAMA,IAAMyB,EAAE,EAAE,KAAK,GAAG,CAC5C,CAAK,EAAE,KAAK,GAAG,EACX,KAAM,CAAC,EAAGtD,CAAC,EAAIR,EAAE,OAAS,EAAI,CAAC,MAAO,GAAG,EAAI,CAAC,GAAI,EAAE,EACpD,EAAI,IAAM,EAAI,EAAIQ,EAAI,IAAK,KAAK,SAAW,EAAI,OAAS,EAAI,QAC5D,GAAI,CACF,KAAK,OAAS,IAAI,OAAO,EAAG,CAAC,GAAGT,CAAC,EAAE,KAAK,EAAE,CAAC,CACjD,MAAY,CACN,KAAK,OAAS,EACf,CACD,OAAO,KAAK,MACb,CACD,WAAWC,EAAG,CACZ,OAAO,KAAK,wBAA0BA,EAAE,MAAM,GAAG,EAAI,KAAK,WAAa,cAAc,KAAKA,CAAC,EAAI,CAAC,GAAI,GAAGA,EAAE,MAAM,KAAK,CAAC,EAAIA,EAAE,MAAM,KAAK,CACvI,CACD,MAAMA,EAAGM,EAAI,KAAK,QAAS,CACzB,GAAI,KAAK,MAAM,QAASN,EAAG,KAAK,OAAO,EAAG,KAAK,QAC7C,MAAO,GACT,GAAI,KAAK,MACP,OAAOA,IAAM,GACf,GAAIA,IAAM,KAAOM,EACf,MAAO,GACT,MAAMK,EAAI,KAAK,QACf,KAAK,YAAcX,EAAIA,EAAE,MAAM,IAAI,EAAE,KAAK,GAAG,GAC7C,MAAMD,EAAI,KAAK,WAAWC,CAAC,EAC3B,KAAK,MAAM,KAAK,QAAS,QAASD,CAAC,EACnC,MAAM,EAAI,KAAK,IACf,KAAK,MAAM,KAAK,QAAS,MAAO,CAAC,EACjC,IAAI,EAAIA,EAAEA,EAAE,OAAS,CAAC,EACtB,GAAI,CAAC,EACH,QAASS,EAAIT,EAAE,OAAS,EAAG,CAAC,GAAKS,GAAK,EAAGA,IACvC,EAAIT,EAAES,CAAC,EACX,QAASA,EAAI,EAAGA,EAAI,EAAE,OAAQA,IAAK,CACjC,MAAM6E,EAAI,EAAE7E,CAAC,EACb,IAAIM,EAAIf,EACR,GAAIY,EAAE,WAAa0E,EAAE,SAAW,IAAMvE,EAAI,CAAC,CAAC,GAAI,KAAK,SAASA,EAAGuE,EAAG/E,CAAC,EACnE,OAAOK,EAAE,WAAa,GAAK,CAAC,KAAK,MACpC,CACD,OAAOA,EAAE,WAAa,GAAK,KAAK,MACjC,CACD,OAAO,SAASX,EAAG,CACjB,OAAOE,GAAG,SAASF,CAAC,EAAE,SACvB,CACH,CACAE,GAAG,IAAMmzC,GACTnzC,GAAG,UAAYqzC,GACfrzC,GAAG,OAASozC,GACZpzC,GAAG,SAAW6xC,GACd,SAAS2D,GAAG,CACV,IAAKtxC,EACL,UAAWpE,EACX,UAAWM,EACX,yBAA0BK,EAC1B,mBAAoBZ,CACtB,EAAG,CACD,MAAO,CACL,MAAO,aACP,UAAWC,EACX,UAAWM,EACX,MAAM,mBAAoB,CACxB,MAAMC,GAAK,MAAMkE,GAAE,QAAQ,MAAM,IAAI9D,CAAC,GAAGA,CAAC,EAC1C,OAAOJ,GAAgB,CACxB,EACD,kBAAkB,EAAG,CACnB,OAAOkE,GAAE,QAAQ,MAAM,IAAI,CAAE,CAAC9D,CAAC,EAAG,CAAC,CAAE,CACtC,EACD,MAAM,kBAAkB,CAAE,GAAI,EAAG,eAAgB,EAAG,gBAAiBH,GAAK,CACxE,IAAI6B,EACJ,MAAMgD,EAAI,MAAM,EAAE,cAAc,uBAC9B,EACA7E,CACR,EAASM,GAAKuB,EAAI,MAAMtC,EAAC,IAAO,KAAOsC,EAAI,GACrC,OAAOgD,EAAE,OAAQ3E,GAAMA,EAAE,SAAW,GAAK,CAAC,CAACI,EAAE,KAAMwB,GAAMpC,GAAGQ,EAAE,MAAQA,EAAE,KAAM4B,CAAC,CAAC,CAAC,CAClF,EACD,MAAM,OAAO,EAAG,EAAG,CACjB,MAAM9B,EAAI,EAAE,OAAO,CAAC6E,EAAGvE,IAAM,CACxB,IAACJ,EAAMc,EAAGyB,EACb,GAAInC,EAAE,SAAW,KACf,MAAM,MAAM,+CAA+C,EAC7D,MAAMuB,EAAI,CACR,SAAUs/B,GAAG7gC,EAAE,QAAUA,EAAE,SAAS,EACpC,UAAW6gC,GAAG7gC,EAAE,SAAS,EACzB,SAAUA,EAAE,QACtB,EACQ,OAAOuB,EAAE,SAAW,IAAWgD,EAAE3E,EAAII,EAAE,KAAK,GAAM,OAASuE,EAAE3E,CAAC,EAAI,CAAE,IAASc,EAAI6D,EAAEvE,EAAE,KAAK,GAAGmC,EAAInC,EAAE,IAAI,GAAM,OAASU,EAAEyB,CAAC,EAAI,CAAE,WAAY,EAAI,GAAGoC,EAAEvE,EAAE,KAAK,EAAEA,EAAE,IAAI,EAAE,WAAW,KAAKuB,CAAC,GAAIgD,CAC3L,EAAE,CAAE,CAAA,EACL,MAAMjB,EAAE,gBAAgB,CAAE,GAAG,EAAG,SAAU5D,CAAC,CAAE,CAC9C,CACL,CACA,CACA,SAASm1C,GAAGvxC,EAAG,CACb,MAAMpE,EAAIkwC,GAAG,CAAE,IAAK9rC,EAAE,IAAK,GAAGA,EAAE,QAAU,CAAA,EAAG9D,EAAIo1C,GAAG,CAAE,IAAKtxC,EAAE,IAAK,GAAGA,EAAE,SAAS,CAAE,EAClF,OAAO6rC,GAAG,CACR,GAAG7rC,EACH,UAAW,CAACpE,EAAGM,CAAC,CACpB,CAAG,CACH,CCzkMA,MAAMs1C,GAAY,CAChB,OAAQ,mCACR,eAAgB,YAClB,ECYMj3B,GAAMC,GAAa,gBAAgB,UAAU,EAEnD,IAAIxC,GAEJ,MAAMy5B,GACJ,0DACIC,GACJ,6DACIC,GAAkC,GAElCC,GAAW,CACf,YAAa,KACb,cAAe,KAEf,QAAQz4B,EAAa,CACbnB,OAAAA,GAAAmB,EAECnB,GAAI,MAAM,WAAY,CAC3B,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,iBAAkB,KAAK,iBAAiB,KAAK,IAAI,CAAA,CAClD,CACH,EAEA,MAAM,MAAsB,CACtB,GAAA,KAAK,aAAe,KACtBuC,GACE,OACA,+BACA,CAAE,UAAW,EAAG,EAChB,OAAA,MAEG,CACL,MAAMs3B,EAAY,SACO,MAAM75B,GAAI,QAAQ,IAAI,iBAAkB,EAAI,GAC1C,GAErBqB,EAAYrB,GAAI,QAAQ,IAAI,aAAc,EAAI,EAE9C,CAAE,QAAAxF,EAAS,QAAAmD,CAAA,EAAYqC,GAAI,MAAM,sBACvC,KAAK,YAAcxF,EAGd,KAAA,cAAgBs/B,GAAiC,CACpD,aAAc,IAAMz4B,CAAA,CACrB,EAMD04B,GAAqC,CACnC,GAAI,KAAK,cACT,QAASF,EACT,qBAAsB,IAAM,GAC5B,4BAA6B,IAAM,GACnC,OAAmB,IAAO,CAC3B,EAEOl8B,IACF4E,IAAAA,MAAAA,GAAA,OAAQ,uBAAwB,KAAM,QAE5C,KAAM,CAAE,uBAAAy3B,GACN,MAAMC,GAAkC,CACtC,UAAAJ,EACA,aAAc,IAAMx4B,EACpB,iBAAkBrB,GAAI,OAAO,UAAU,WAAW,EAClD,YAAaw5B,GAAU,OACvB,eAAgBC,GAChB,oBAAqBC,GACrB,eAAgBC,EAAA,CACjB,EAEH,OAAO,QAAQ,UAAU,YAAaO,GAAS,CACzCA,EAAK,MAAQ,aAEZA,EAAA,UAAU,YAAY,MAAO16B,GAAQ,aACpC,GAAAA,EAAI,SAAW,0BAA2B,CAC5C,MAAMH,EAAW,MAAM26B,EAAuBx6B,EAAI,OAAO,EAEzD06B,EAAK,YAAY,CACf,QAAS,2BACT,QAAS76B,EACT,MAAOG,EAAI,KAAA,CACZ,CACH,CAEI,GAAAA,EAAI,SAAW,WAAY,CAC7B,MAAM26B,EAAWC,GAAuB56B,EAAI,QAAQ,QAAQ,EAC5D,GAAI,CAAC26B,EAAU,OACT,MAAApE,EAAKv2B,EAAI,QAAQ,GAEjB66B,EACJ,OAAMz9B,GAAAC,EAAA,KAAK,gBAAL,YAAAA,EAAoB,eAApB,YAAAD,EAAkC,qBACpC09B,EAAaD,GAAA,YAAAA,EAAgB,KAChCrsC,GAAYA,EAAQ,QAAUmsC,EAAS,UAE1C,GAAI,CAACG,EAAY,OAEX,OAAA3C,GAAAzF,EAAA,KAAK,gBAAL,YAAAA,EAAoB,UAApB,YAAAyF,EAA6B,SAAS,CAC1C,GAAG5B,EACH,UAAWuE,EAAW,EAAA,GAE1B,CAAA,CACD,CAAA,CACF,CACH,CACF,EAEA,MAAM,kBAAoD,CAExD,GADA,MAAM,KAAK,YACP,KAAK,eAAiB,KAAM,MAAM,MAAM,0BAA0B,EACtE,OAAO,KAAK,aACd,CACF,EChIMC,GAAiB,oIACjBC,GAAuB,iKACvBC,GAAY,2DAClB,SAASC,GAAmB9vC,EAAK0E,EAAO,CACtC,GAAI1E,IAAQ,aAAeA,IAAQ,eAAiB0E,GAAS,OAAOA,GAAU,UAAY,cAAeA,EAAO,CAC9GqrC,GAAe/vC,CAAG,EAClB,MACD,CACD,OAAO0E,CACT,CACA,SAASqrC,GAAe/vC,EAAK,CAC3B,QAAQ,KAAK,qBAAqBA,CAAG,uCAAuC,CAC9E,CACA,SAASgwC,GAAMtrC,EAAOgW,EAAU,GAAI,CAClC,GAAI,OAAOhW,GAAU,SACnB,OAAOA,EAET,MAAMurC,EAASvrC,EAAM,OACrB,GAEEA,EAAM,CAAC,IAAM,KAAOA,EAAM,SAAS,GAAG,GAAK,CAACA,EAAM,SAAS,IAAI,EAE/D,OAAOurC,EAAO,MAAM,EAAG,EAAE,EAE3B,GAAIA,EAAO,QAAU,EAAG,CACtB,MAAMC,EAAQD,EAAO,cACrB,GAAIC,IAAU,OACZ,MAAO,GAET,GAAIA,IAAU,QACZ,MAAO,GAET,GAAIA,IAAU,YACZ,OAEF,GAAIA,IAAU,OACZ,OAAO,KAET,GAAIA,IAAU,MACZ,OAAO,OAAO,IAEhB,GAAIA,IAAU,WACZ,OAAO,OAAO,kBAEhB,GAAIA,IAAU,YACZ,OAAO,OAAO,iBAEjB,CACD,GAAI,CAACL,GAAU,KAAKnrC,CAAK,EAAG,CAC1B,GAAIgW,EAAQ,OACV,MAAM,IAAI,YAAY,sBAAsB,EAE9C,OAAOhW,CACR,CACD,GAAI,CACF,GAAIirC,GAAe,KAAKjrC,CAAK,GAAKkrC,GAAqB,KAAKlrC,CAAK,EAAG,CAClE,GAAIgW,EAAQ,OACV,MAAM,IAAI,MAAM,sCAAsC,EAExD,OAAO,KAAK,MAAMhW,EAAOorC,EAAkB,CAC5C,CACD,OAAO,KAAK,MAAMprC,CAAK,CACxB,OAAQwB,EAAO,CACd,GAAIwU,EAAQ,OACV,MAAMxU,EAER,OAAOxB,CACR,CACH,CCuBA,MAAMyrC,GAAU,KACVC,GAAe,KACfC,GAAW,MACXC,GAAW,KAEXC,GAAU,MACVC,GAAe,QACfC,GAAkB,QAElBC,GAAc,QAEdC,GAAe,QAGrB,SAASC,GAAOr5B,EAAM,CACpB,OAAO,UAAU,GAAKA,CAAI,EAAE,QAAQm5B,GAAa,GAAG,CACtD,CAIA,SAASG,GAAiBxxB,EAAO,CAC/B,OAAOuxB,GAAO,OAAOvxB,GAAU,SAAWA,EAAQ,KAAK,UAAUA,CAAK,CAAC,EAAE,QAAQkxB,GAAS,KAAK,EAAE,QAAQI,GAAc,GAAG,EAAE,QAAQR,GAAS,KAAK,EAAE,QAAQC,GAAc,KAAK,EAAE,QAAQK,GAAiB,GAAG,EAAE,QAAQD,GAAc,GAAG,EAAE,QAAQH,GAAU,KAAK,CACnQ,CACA,SAASS,GAAev5B,EAAM,CAC5B,OAAOs5B,GAAiBt5B,CAAI,EAAE,QAAQ+4B,GAAU,KAAK,CACvD,CAOA,SAASS,GAAOx5B,EAAO,GAAI,CACzB,GAAI,CACF,OAAO,mBAAmB,GAAKA,CAAI,CACvC,MAAU,CACN,MAAO,GAAKA,CACb,CACH,CAIA,SAASy5B,GAAez5B,EAAM,CAC5B,OAAOw5B,GAAOx5B,EAAK,QAAQg5B,GAAS,GAAG,CAAC,CAC1C,CACA,SAASU,GAAiB15B,EAAM,CAC9B,OAAOw5B,GAAOx5B,EAAK,QAAQg5B,GAAS,GAAG,CAAC,CAC1C,CAKA,SAASW,GAAWC,EAAmB,GAAI,CACzC,MAAMv/B,EAAS,CAAA,EACXu/B,EAAiB,CAAC,IAAM,MAC1BA,EAAmBA,EAAiB,MAAM,CAAC,GAE7C,UAAWC,KAAaD,EAAiB,MAAM,GAAG,EAAG,CACnD,MAAM73C,EAAI83C,EAAU,MAAM,eAAe,GAAK,CAAA,EAC9C,GAAI93C,EAAE,OAAS,EACb,SAEF,MAAM0G,EAAMgxC,GAAe13C,EAAE,CAAC,CAAC,EAC/B,GAAI0G,IAAQ,aAAeA,IAAQ,cACjC,SAEF,MAAM0E,EAAQusC,GAAiB33C,EAAE,CAAC,GAAK,EAAE,EACrCsY,EAAO5R,CAAG,IAAM,OAClB4R,EAAO5R,CAAG,EAAI0E,EACL,MAAM,QAAQkN,EAAO5R,CAAG,CAAC,EAClC4R,EAAO5R,CAAG,EAAE,KAAK0E,CAAK,EAEtBkN,EAAO5R,CAAG,EAAI,CAAC4R,EAAO5R,CAAG,EAAG0E,CAAK,CAEpC,CACD,OAAOkN,CACT,CACA,SAASy/B,GAAgBrxC,EAAK0E,EAAO,CAInC,OAHI,OAAOA,GAAU,UAAY,OAAOA,GAAU,aAChDA,EAAQ,OAAOA,CAAK,GAEjBA,EAGD,MAAM,QAAQA,CAAK,EACdA,EAAM,IAAKurC,GAAW,GAAGa,GAAe9wC,CAAG,CAAC,IAAI6wC,GAAiBZ,CAAM,CAAC,EAAE,EAAE,KAAK,GAAG,EAEtF,GAAGa,GAAe9wC,CAAG,CAAC,IAAI6wC,GAAiBnsC,CAAK,CAAC,GAL/CosC,GAAe9wC,CAAG,CAM7B,CACA,SAASsxC,GAAe/mB,EAAO,CAC7B,OAAO,OAAO,KAAKA,CAAK,EAAE,OAAQtxB,GAAMsxB,EAAMtxB,CAAC,IAAM,MAAM,EAAE,IAAKA,GAAMo4C,GAAgBp4C,EAAGsxB,EAAMtxB,CAAC,CAAC,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,CAChI,CAEA,MAAMs4C,GAAwB,gCACxBC,GAAiB,+BACjBC,GAA0B,wBAE1BC,GAAoB,eACpBC,GAAwB,SAI9B,SAASC,GAAYC,EAAalvC,EAAO,GAAI,CAI3C,OAHI,OAAOA,GAAS,YAClBA,EAAO,CAAE,eAAgBA,IAEvBA,EAAK,OACA4uC,GAAsB,KAAKM,CAAW,EAExCL,GAAe,KAAKK,CAAW,IAAMlvC,EAAK,eAAiB8uC,GAAwB,KAAKI,CAAW,EAAI,GAChH,CAIA,SAASC,GAAiBzyB,EAAQ,GAAI0yB,EAAyB,CAC7D,OAAKA,EAGEL,GAAkB,KAAKryB,CAAK,EAF1BA,EAAM,SAAS,GAAG,CAG7B,CACA,SAAS2yB,GAAqB3yB,EAAQ,GAAI0yB,EAAyB,CACjE,GAAI,CAACA,EACH,OAAQD,GAAiBzyB,CAAK,EAAIA,EAAM,MAAM,EAAG,EAAE,EAAIA,IAAU,IAEnE,GAAI,CAACyyB,GAAiBzyB,EAAO,EAAI,EAC/B,OAAOA,GAAS,IAElB,IAAIpU,EAAOoU,EACP4yB,EAAW,GACf,MAAMC,EAAgB7yB,EAAM,QAAQ,GAAG,EACnC6yB,GAAiB,IACnBjnC,EAAOoU,EAAM,MAAM,EAAG6yB,CAAa,EACnCD,EAAW5yB,EAAM,MAAM6yB,CAAa,GAEtC,KAAM,CAACC,EAAI,GAAG74C,CAAC,EAAI2R,EAAK,MAAM,GAAG,EAEjC,QADkBknC,EAAG,SAAS,GAAG,EAAIA,EAAG,MAAM,EAAG,EAAE,EAAIA,IAClC,MAAQ74C,EAAE,OAAS,EAAI,IAAIA,EAAE,KAAK,GAAG,CAAC,GAAK,IAAM24C,CACxE,CACA,SAASG,GAAkB/yB,EAAQ,GAAI0yB,EAAyB,CAC9D,GAAI,CAACA,EACH,OAAO1yB,EAAM,SAAS,GAAG,EAAIA,EAAQA,EAAQ,IAE/C,GAAIyyB,GAAiBzyB,EAAO,EAAI,EAC9B,OAAOA,GAAS,IAElB,IAAIpU,EAAOoU,EACP4yB,EAAW,GACf,MAAMC,EAAgB7yB,EAAM,QAAQ,GAAG,EACvC,GAAI6yB,GAAiB,IACnBjnC,EAAOoU,EAAM,MAAM,EAAG6yB,CAAa,EACnCD,EAAW5yB,EAAM,MAAM6yB,CAAa,EAChC,CAACjnC,GACH,OAAOgnC,EAGX,KAAM,CAACE,EAAI,GAAG74C,CAAC,EAAI2R,EAAK,MAAM,GAAG,EACjC,OAAOknC,EAAK,KAAO74C,EAAE,OAAS,EAAI,IAAIA,EAAE,KAAK,GAAG,CAAC,GAAK,IAAM24C,CAC9D,CAaA,SAASI,GAAShzB,EAAOjW,EAAM,CAC7B,GAAIkpC,GAAWlpC,CAAI,GAAKwoC,GAAYvyB,CAAK,EACvC,OAAOA,EAET,MAAMkzB,EAAQP,GAAqB5oC,CAAI,EACvC,OAAIiW,EAAM,WAAWkzB,CAAK,EACjBlzB,EAEFmzB,GAAQD,EAAOlzB,CAAK,CAC7B,CAYA,SAASozB,GAAUpzB,EAAOkL,EAAO,CAC/B,MAAMmoB,EAASC,GAAStzB,CAAK,EACvBuzB,EAAc,CAAE,GAAG1B,GAAWwB,EAAO,MAAM,EAAG,GAAGnoB,GACvD,OAAAmoB,EAAO,OAASpB,GAAesB,CAAW,EACnCC,GAAmBH,CAAM,CAClC,CAIA,SAASJ,GAAWrjC,EAAK,CACvB,MAAO,CAACA,GAAOA,IAAQ,GACzB,CACA,SAAS6jC,GAAc7jC,EAAK,CAC1B,OAAOA,GAAOA,IAAQ,GACxB,CACA,SAASujC,GAAQppC,KAASiW,EAAO,CAC/B,IAAIpQ,EAAM7F,GAAQ,GAClB,UAAW2pC,KAAW1zB,EAAM,OAAQ2zB,GAASF,GAAcE,CAAI,CAAC,EAC9D,GAAI/jC,EAAK,CACP,MAAMgkC,EAAWF,EAAQ,QAAQpB,GAAuB,EAAE,EAC1D1iC,EAAMmjC,GAAkBnjC,CAAG,EAAIgkC,CACrC,MACMhkC,EAAM8jC,EAGV,OAAO9jC,CACT,CAwIA,MAAMikC,GAAmB,OAAO,IAAI,sBAAsB,EAC1D,SAASP,GAAStzB,EAAQ,GAAI8zB,EAAc,CAC1C,MAAMC,EAAqB/zB,EAAM,MAC/B,kDACJ,EACE,GAAI+zB,EAAoB,CACtB,KAAM,CAAG,CAAAC,EAAQC,EAAY,EAAE,EAAIF,EACnC,MAAO,CACL,SAAUC,EAAO,YAAa,EAC9B,SAAUC,EACV,KAAMD,EAASC,EACf,KAAM,GACN,KAAM,GACN,OAAQ,GACR,KAAM,EACZ,CACG,CACD,GAAI,CAAC1B,GAAYvyB,EAAO,CAAE,eAAgB,EAAM,CAAA,EAC9C,OAAO8zB,EAAeR,GAASQ,EAAe9zB,CAAK,EAAIk0B,GAAUl0B,CAAK,EAExE,KAAM,CAAA,CAAG/J,EAAW,GAAIk+B,EAAMC,EAAc,EAAE,EAAIp0B,EAAM,QAAQ,MAAO,GAAG,EAAE,MAAM,2CAA2C,GAAK,CAAA,EAC5H,CAAG,CAAAq0B,EAAO,GAAIzoC,EAAO,EAAE,EAAIwoC,EAAY,MAAM,gBAAgB,GAAK,GAClE,CAAE,SAAAE,EAAU,OAAAC,EAAQ,KAAAC,CAAM,EAAGN,GACjCtoC,EAAK,QAAQ,kBAAmB,EAAE,CACtC,EACE,MAAO,CACL,SAAUqK,EAAS,YAAa,EAChC,KAAMk+B,EAAOA,EAAK,MAAM,EAAG,KAAK,IAAI,EAAGA,EAAK,OAAS,CAAC,CAAC,EAAI,GAC3D,KAAAE,EACA,SAAAC,EACA,OAAAC,EACA,KAAAC,EACA,CAACX,EAAgB,EAAG,CAAC59B,CACzB,CACA,CACA,SAASi+B,GAAUl0B,EAAQ,GAAI,CAC7B,KAAM,CAACs0B,EAAW,GAAIC,EAAS,GAAIC,EAAO,EAAE,GAAKx0B,EAAM,MAAM,0BAA0B,GAAK,CAAA,GAAI,OAAO,CAAC,EACxG,MAAO,CACL,SAAAs0B,EACA,OAAAC,EACA,KAAAC,CACJ,CACA,CAeA,SAAShB,GAAmBH,EAAQ,CAClC,MAAMiB,EAAWjB,EAAO,UAAY,GAC9BkB,EAASlB,EAAO,QAAUA,EAAO,OAAO,WAAW,GAAG,EAAI,GAAK,KAAOA,EAAO,OAAS,GACtFmB,EAAOnB,EAAO,MAAQ,GACtBc,EAAOd,EAAO,KAAOA,EAAO,KAAO,IAAM,GACzCgB,EAAOhB,EAAO,MAAQ,GAE5B,OADcA,EAAO,UAAYA,EAAOQ,EAAgB,GAAKR,EAAO,UAAY,IAAM,KAAO,IAC9Ec,EAAOE,EAAOC,EAAWC,EAASC,CACnD,CC1fA,MAAMC,WAAmB,KAAM,CAC7B,YAAYvzC,EAASoC,EAAM,CACzB,MAAMpC,EAASoC,CAAI,EACnB,KAAK,KAAO,aACRA,GAAA,MAAAA,EAAM,OAAS,CAAC,KAAK,QACvB,KAAK,MAAQA,EAAK,MAErB,CACH,CACA,SAASoxC,GAAiBC,EAAK,eAC7B,MAAM1uC,IAAe2M,EAAA+hC,EAAI,QAAJ,YAAA/hC,EAAW,YAAWD,EAAAgiC,EAAI,QAAJ,YAAAhiC,EAAW,aAAc,GAC9DlN,IAASwiC,EAAA0M,EAAI,UAAJ,YAAA1M,EAAa,WAAUyF,EAAAiH,EAAI,UAAJ,YAAAjH,EAAa,SAAU,MACvD99B,IAAMvR,EAAAs2C,EAAI,UAAJ,YAAAt2C,EAAa,MAAO,OAAOs2C,EAAI,OAAO,GAAK,IACjDC,EAAa,IAAInvC,CAAM,KAAK,KAAK,UAAUmK,CAAG,CAAC,GAC/CilC,EAAYF,EAAI,SAAW,GAAGA,EAAI,SAAS,MAAM,IAAIA,EAAI,SAAS,UAAU,GAAK,gBACjFzzC,EAAU,GAAG0zC,CAAU,KAAKC,CAAS,GAAG5uC,EAAe,IAAIA,CAAY,GAAK,EAAE,GAC9E6uC,EAAa,IAAIL,GACrBvzC,EACAyzC,EAAI,MAAQ,CAAE,MAAOA,EAAI,KAAO,EAAG,MACvC,EACE,UAAWh0C,IAAO,CAAC,UAAW,UAAW,UAAU,EACjD,OAAO,eAAem0C,EAAYn0C,EAAK,CACrC,KAAM,CACJ,OAAOg0C,EAAIh0C,CAAG,CACf,CACP,CAAK,EAEH,SAAW,CAACA,EAAKo0C,CAAM,GAAK,CAC1B,CAAC,OAAQ,OAAO,EAChB,CAAC,SAAU,QAAQ,EACnB,CAAC,aAAc,QAAQ,EACvB,CAAC,aAAc,YAAY,EAC3B,CAAC,gBAAiB,YAAY,CAClC,EACI,OAAO,eAAeD,EAAYn0C,EAAK,CACrC,KAAM,CACJ,OAAOg0C,EAAI,UAAYA,EAAI,SAASI,CAAM,CAC3C,CACP,CAAK,EAEH,OAAOD,CACT,CAEA,MAAME,GAAiB,IAAI,IACzB,OAAO,OAAO,CAAC,QAAS,OAAQ,MAAO,QAAQ,CAAC,CAClD,EACA,SAASC,GAAgBxvC,EAAS,MAAO,CACvC,OAAOuvC,GAAe,IAAIvvC,EAAO,YAAa,CAAA,CAChD,CACA,SAASyvC,GAAmB7vC,EAAO,CACjC,GAAIA,IAAU,OACZ,MAAO,GAET,MAAM,EAAI,OAAOA,EACjB,OAAI,IAAM,UAAY,IAAM,UAAY,IAAM,WAAa,IAAM,KACxD,GAEL,IAAM,SACD,GAEL,MAAM,QAAQA,CAAK,EACd,GAELA,EAAM,OACD,GAEFA,EAAM,aAAeA,EAAM,YAAY,OAAS,UAAY,OAAOA,EAAM,QAAW,UAC7F,CACA,MAAM8vC,GAA4B,IAAI,IAAI,CACxC,YACA,kBACA,oBACA,kBACF,CAAC,EACKC,GAAU,oDAChB,SAASC,GAAmBC,EAAe,GAAI,CAC7C,GAAI,CAACA,EACH,MAAO,OAET,MAAMC,EAAcD,EAAa,MAAM,GAAG,EAAE,MAAO,GAAI,GACvD,OAAIF,GAAQ,KAAKG,CAAW,EACnB,OAELJ,GAAU,IAAII,CAAW,GAAKA,EAAY,WAAW,OAAO,EACvD,OAEF,MACT,CACA,SAASC,GAAkBx1B,EAAOy1B,EAAUC,EAAU,WAAW,QAAS,CACxE,MAAMC,EAAS,CACb,GAAGF,EACH,GAAGz1B,CACP,EAaE,GAZIy1B,GAAA,MAAAA,EAAU,SAAUz1B,GAAA,MAAAA,EAAO,UAC7B21B,EAAO,OAAS,CACd,GAAGF,GAAA,YAAAA,EAAU,OACb,GAAGz1B,GAAA,YAAAA,EAAO,MAChB,GAEMy1B,GAAA,MAAAA,EAAU,QAASz1B,GAAA,MAAAA,EAAO,SAC5B21B,EAAO,MAAQ,CACb,GAAGF,GAAA,YAAAA,EAAU,MACb,GAAGz1B,GAAA,YAAAA,EAAO,KAChB,GAEMy1B,GAAA,MAAAA,EAAU,UAAWz1B,GAAA,MAAAA,EAAO,SAAS,CACvC21B,EAAO,QAAU,IAAID,GAAQD,GAAA,YAAAA,EAAU,UAAW,CAAA,CAAE,EACpD,SAAW,CAAC90C,EAAK0E,CAAK,IAAK,IAAIqwC,GAAQ11B,GAAA,YAAAA,EAAO,UAAW,CAAA,CAAE,EACzD21B,EAAO,QAAQ,IAAIh1C,EAAK0E,CAAK,CAEhC,CACD,OAAOswC,CACT,CAEA,MAAMC,GAAmC,IAAI,IAAI,CAC/C,IAEA,IAEA,IAEA,IAEA,IAEA,IAEA,IAEA,GAEF,CAAC,EACKC,GAAoC,IAAI,IAAI,CAAC,IAAK,IAAK,IAAK,GAAG,CAAC,EACtE,SAASC,GAAYC,EAAgB,GAAI,CACvC,KAAM,CACJ,MAAA1kC,EAAQ,WAAW,MACnB,QAAAqkC,EAAU,WAAW,QACrB,gBAAAM,EAAkB,WAAW,eAC9B,EAAGD,EACJ,eAAe1xC,EAAQ8S,EAAS,CAC9B,MAAM8+B,EAAU9+B,EAAQ,OAASA,EAAQ,MAAM,OAAS,cAAgB,CAACA,EAAQ,QAAQ,SAAW,GACpG,GAAIA,EAAQ,QAAQ,QAAU,IAAS,CAAC8+B,EAAS,CAC/C,IAAIC,EACA,OAAO/+B,EAAQ,QAAQ,OAAU,SACnC++B,EAAU/+B,EAAQ,QAAQ,MAE1B++B,EAAUjB,GAAgB99B,EAAQ,QAAQ,MAAM,EAAI,EAAI,EAE1D,MAAMg/B,EAAeh/B,EAAQ,UAAYA,EAAQ,SAAS,QAAU,IACpE,GAAI++B,EAAU,IAAM,MAAM,QAAQ/+B,EAAQ,QAAQ,gBAAgB,EAAIA,EAAQ,QAAQ,iBAAiB,SAASg/B,CAAY,EAAIP,GAAiB,IAAIO,CAAY,GAAI,CACnK,MAAMC,EAAaj/B,EAAQ,QAAQ,YAAc,EACjD,OAAIi/B,EAAa,GACf,MAAM,IAAI,QAAS1iC,GAAY,WAAWA,EAAS0iC,CAAU,CAAC,EAEzDC,EAAUl/B,EAAQ,QAAS,CAChC,GAAGA,EAAQ,QACX,MAAO++B,EAAU,CAC3B,CAAS,CACF,CACF,CACD,MAAMrvC,EAAQ6tC,GAAiBv9B,CAAO,EACtC,MAAI,MAAM,mBACR,MAAM,kBAAkBtQ,EAAOwvC,CAAS,EAEpCxvC,CACP,CACD,MAAMwvC,EAAY,eAA0BC,EAAUt1B,EAAW,CAAA,EAAI,OACnE,MAAM7J,EAAU,CACd,QAASm/B,EACT,QAASd,GAAkBx0B,EAAU+0B,EAAc,SAAUL,CAAO,EACpE,SAAU,OACV,MAAO,MACb,EACIv+B,EAAQ,QAAQ,QAASvE,EAAAuE,EAAQ,QAAQ,SAAhB,YAAAvE,EAAwB,cAC7CuE,EAAQ,QAAQ,WAClB,MAAMA,EAAQ,QAAQ,UAAUA,CAAO,EAErC,OAAOA,EAAQ,SAAY,WACzBA,EAAQ,QAAQ,UAClBA,EAAQ,QAAU67B,GAAS77B,EAAQ,QAASA,EAAQ,QAAQ,OAAO,IAEjEA,EAAQ,QAAQ,OAASA,EAAQ,QAAQ,UAC3CA,EAAQ,QAAUi8B,GAAUj8B,EAAQ,QAAS,CAC3C,GAAGA,EAAQ,QAAQ,OACnB,GAAGA,EAAQ,QAAQ,KAC7B,CAAS,IAGDA,EAAQ,QAAQ,MAAQ89B,GAAgB99B,EAAQ,QAAQ,MAAM,IAC5D+9B,GAAmB/9B,EAAQ,QAAQ,IAAI,GACzCA,EAAQ,QAAQ,KAAO,OAAOA,EAAQ,QAAQ,MAAS,SAAWA,EAAQ,QAAQ,KAAO,KAAK,UAAUA,EAAQ,QAAQ,IAAI,EAC5HA,EAAQ,QAAQ,QAAU,IAAIu+B,EAAQv+B,EAAQ,QAAQ,SAAW,CAAA,CAAE,EAC9DA,EAAQ,QAAQ,QAAQ,IAAI,cAAc,GAC7CA,EAAQ,QAAQ,QAAQ,IAAI,eAAgB,kBAAkB,EAE3DA,EAAQ,QAAQ,QAAQ,IAAI,QAAQ,GACvCA,EAAQ,QAAQ,QAAQ,IAAI,SAAU,kBAAkB,IAI1D,WAAYA,EAAQ,QAAQ,MAAQ,OAAOA,EAAQ,QAAQ,KAAK,QAAW,YAC3E,OAAOA,EAAQ,QAAQ,KAAK,MAAS,cAE/B,WAAYA,EAAQ,UACxBA,EAAQ,QAAQ,OAAS,UAI/B,IAAIo/B,EACJ,GAAI,CAACp/B,EAAQ,QAAQ,QAAUA,EAAQ,QAAQ,QAAS,CACtD,MAAMq/B,EAAa,IAAIR,EACvBO,EAAe,WACb,IAAMC,EAAW,MAAO,EACxBr/B,EAAQ,QAAQ,OACxB,EACMA,EAAQ,QAAQ,OAASq/B,EAAW,MACrC,CACD,GAAI,CACFr/B,EAAQ,SAAW,MAAM9F,EACvB8F,EAAQ,QACRA,EAAQ,OAChB,CACK,OAAQtQ,EAAO,CACd,OAAAsQ,EAAQ,MAAQtQ,EACZsQ,EAAQ,QAAQ,gBAClB,MAAMA,EAAQ,QAAQ,eAAeA,CAAO,EAEvC,MAAM9S,EAAQ8S,CAAO,CAClC,QAAc,CACJo/B,GACF,aAAaA,CAAY,CAE5B,CAED,GADgBp/B,EAAQ,SAAS,MAAQ,CAAC0+B,GAAkB,IAAI1+B,EAAQ,SAAS,MAAM,GAAKA,EAAQ,QAAQ,SAAW,OAC1G,CACX,MAAMs/B,GAAgBt/B,EAAQ,QAAQ,cAAgB,OAASA,EAAQ,QAAQ,eAAiBk+B,GAAmBl+B,EAAQ,SAAS,QAAQ,IAAI,cAAc,GAAK,EAAE,EACrK,OAAQs/B,EAAY,CAClB,IAAK,OAAQ,CACX,MAAM5rC,EAAO,MAAMsM,EAAQ,SAAS,KAAI,EAClCu/B,EAAgBv/B,EAAQ,QAAQ,eAAiBw5B,GACvDx5B,EAAQ,SAAS,MAAQu/B,EAAc7rC,CAAI,EAC3C,KACD,CACD,IAAK,SAAU,CACbsM,EAAQ,SAAS,MAAQA,EAAQ,SAAS,KAC1C,KACD,CACD,QACEA,EAAQ,SAAS,MAAQ,MAAMA,EAAQ,SAASs/B,CAAY,GAE/D,CACF,CAID,OAHIt/B,EAAQ,QAAQ,YAClB,MAAMA,EAAQ,QAAQ,WAAWA,CAAO,EAEtC,CAACA,EAAQ,QAAQ,qBAAuBA,EAAQ,SAAS,QAAU,KAAOA,EAAQ,SAAS,OAAS,KAClGA,EAAQ,QAAQ,iBAClB,MAAMA,EAAQ,QAAQ,gBAAgBA,CAAO,EAExC,MAAM9S,EAAQ8S,CAAO,GAEvBA,EAAQ,QACnB,EACQw/B,EAAS,eAAuBC,EAASv7B,EAAS,CAEtD,OADU,MAAMg7B,EAAUO,EAASv7B,CAAO,GACjC,KACb,EACE,OAAAs7B,EAAO,IAAMN,EACbM,EAAO,OAAS,IAAI3oC,IAASqD,EAAM,GAAGrD,CAAI,EAC1C2oC,EAAO,OAAS,CAACj9B,EAAiB,CAAA,IAAOo8B,GAAY,CACnD,GAAGC,EACH,SAAU,CACR,GAAGA,EAAc,SACjB,GAAGr8B,CACJ,CACL,CAAG,EACMi9B,CACT,CCnRA,MAAME,GAAc,UAAW,CAC7B,GAAI,OAAO,WAAe,IACxB,OAAO,WAET,GAAI,OAAO,KAAS,IAClB,OAAO,KAET,GAAI,OAAO,OAAW,IACpB,OAAO,OAET,GAAI,OAAO,OAAW,IACpB,OAAO,OAET,MAAM,IAAI,MAAM,gCAAgC,CAClD,IACMxlC,GAAQwlC,GAAY,QAAU,IAAM,QAAQ,OAAO,IAAI,MAAM,yCAAyC,CAAC,GACvGnB,GAAUmB,GAAY,QACtBb,GAAkBa,GAAY,gBAC9BC,GAAShB,GAAY,CAAA,MAAEzkC,GAAO,QAAAqkC,GAAS,gBAAAM,EAAe,CAAE,ECvB9D,IAAI93C,IAAGjE,IAAIA,EAAE,aAAa,eAAeA,EAAE,MAAM,QAAQA,EAAE,MAAM,QAAQA,IAAIiE,IAAG,CAAE,CAAA,EAAEC,IAAGa,IAAIA,EAAE,UAAU,aAAaA,EAAE,aAAa,gBAAgBA,IAAIb,IAAG,CAAA,CAAE,EAAE1B,IAAGlC,IAAIA,EAAE,QAAQ,UAAUA,EAAE,QAAQ,UAAUA,EAAE,IAAI,MAAMA,EAAE,MAAM,QAAQA,EAAE,IAAI,MAAMA,EAAE,SAAS,WAAWA,EAAE,MAAM,QAAQA,IAAIkC,IAAG,CAAA,CAAE,EAAoJf,GAAE,cAAc,KAAK,CAAC,aAAa,CAAC,MAAM,sBAAsB,CAAC,CAAC,EAAET,GAAE,cAAc,KAAK,CAAC,aAAa,CAAC,MAAM,+CAA+C,CAAC,CAAC,EAAEc,GAAE,cAAc,KAAK,CAAC,aAAa,CAAC,MAAM,WAAW,CAAC,CAAC,EAAEyB,IAAEoV,GAAA,cAAgB,KAAK,CAAwC,OAAO,eAAelY,EAAE,CAAC,OAAOA,aAAa,MAAMA,EAAE,UAAUkY,GAAE,QAAQ,EAAE,CAAC,aAAa,CAAC,MAAMA,GAAE,OAAO,CAAC,CAAC,EAAlJmkC,GAAtBnkC,GAA6B,UAAQ,yBAArCA,IAA0K,SAASxY,GAAEF,EAAEQ,EAAE,CAAC,OAAO,OAAO,QAAQR,CAAC,EAAE,QAAQ,CAAC,CAAC8E,EAAE/E,CAAC,IAAIA,EAAE,SAAS,IAAIQ,IAAI,CAAC,MAAMuE,EAAE,UAAUvE,EAAE,UAAU,IAAI,SAASA,EAAE,UAAUA,EAAE,UAAU,IAAI,UAAUA,EAAE,WAAW,SAASC,CAAC,EAAE,CAAC,CAAC,CAAC,SAASc,GAAEtB,EAAE,CAAC,OAAO,IAAI,KAAKA,CAAC,EAAE,YAAa,CAAA,CAAC,SAASV,GAAGU,EAAE,CAAC,IAAIQ,EAAEX,GAAE,OAAO,CAAC,MAAM,EAAE,GAAGG,GAAG,KAAK,OAAOA,EAAE,cAAc,CAAC,EAAE8E,GAAG9E,GAAG,KAAK,OAAOA,EAAE,oBAAoBP,GAAGA,GAAGM,EAAEC,GAAG,KAAK,OAAOA,EAAE,OAAO,SAASO,EAAEd,EAAE,CAAC,OAAOe,EAAE,mBAAmB,CAAC,MAAM,CAAC,QAAQf,EAAE,OAAO,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,eAAeqC,EAAErC,EAAE,CAAC,IAAIoE,EAAE,MAAMrD,EAAE,4BAA4B,CAAC,OAAO,OAAO,MAAM,EAAE,MAAM,CAAC,WAAWf,EAAE,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,KAAKoE,EAAE,KAAK,WAAW,IAAI,KAAKA,EAAE,WAAW,GAAG,EAAE,SAAS,CAAC,CAAC,SAAS3C,EAAEzB,EAAE,CAAC,OAAOe,EAAE,4BAA4B,CAAC,OAAO,OAAO,MAAM,EAAE,MAAM,CAAC,WAAWf,EAAE,UAAU,KAAKA,EAAE,IAAI,CAAC,CAAC,EAAE,MAAMoE,GAAG,CAAC,IAAIzD,EAAE,IAAIZ,GAAGY,EAAEyD,EAAE,WAAW,KAAK,OAAOzD,EAAE,OAAO,MAAMZ,IAAI,IAAI,IAAIuB,GAAEvB,IAAI,IAAI,IAAIgC,GAAEqC,CAAC,CAAC,CAAC,CAAC,SAASxD,EAAEZ,EAAE,CAAC,OAAOe,EAAE,yBAAyB,CAAC,MAAM,CAAC,WAAWf,EAAE,SAAS,CAAC,CAAC,EAAE,MAAMoE,GAAG,CAAC,IAAIrE,EAAE,KAAKA,EAAEqE,EAAE,WAAW,KAAK,OAAOrE,EAAE,UAAU,IAAI,MAAMqE,CAAC,CAAC,CAAC,CAAC,eAAeD,EAAEnE,EAAE,CAAC,OAAOe,EAAE,mBAAmB,CAAC,MAAM,CAAC,IAAIf,EAAE,cAAc,CAAC,CAAC,EAAE,MAAMoE,GAAG,CAAC,IAAIrE,EAAE,OAAOA,EAAEqE,EAAE,WAAW,KAAK,OAAOrE,EAAE,UAAU,IAAI,IAAI8D,GAAEO,CAAC,CAAC,CAAC,CAAC,eAAe5C,EAAExB,EAAE,CAAC,MAAMe,EAAE,0BAA0B,CAAC,OAAO,OAAO,MAAM,EAAE,MAAM,CAAC,IAAIf,EAAE,eAAe,WAAWA,EAAE,iBAAiB,CAAC,CAAC,CAAC,CAAC,eAAekC,EAAElC,EAAE,CAAC,OAAO,MAAMe,EAAE,IAAI,4BAA4B,CAAC,OAAO,OAAO,MAAM,CAAC,IAAIf,EAAE,eAAe,WAAWA,EAAE,SAAS,CAAC,CAAC,EAAE,MAAMD,GAAG,CAAC,IAAIY,EAAE,OAAOA,EAAEZ,EAAE,WAAW,KAAK,OAAOY,EAAE,UAAU,IAAI,IAAIkD,GAAE9D,CAAC,CAAC,GAAG,QAAQ,IAAI,eAAe,GAAG,MAAM,CAAC,eAAewB,EAAEvB,EAAE,CAAC,OAAOe,EAAE,0BAA0B,CAAC,MAAM,CAAC,QAAQf,EAAE,OAAO,KAAK,GAAG,EAAE,OAAOA,EAAE,OAAO,aAAaA,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,eAAe0B,EAAE1B,EAAE,CAAC,OAAOe,EAAE,8BAA8B,CAAC,MAAM,CAAC,SAASf,EAAE,OAAO,KAAK,GAAG,EAAE,OAAOA,EAAE,OAAO,aAAaA,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,eAAeC,EAAED,EAAE,CAAC,IAAIQ,EAAE,GAAG,CAAC,aAAa4D,EAAE,SAASrE,EAAE,aAAaY,EAAE,SAASD,EAAE,WAAWM,CAAC,EAAE,MAAMD,EAAE,4BAA4B,CAAC,MAAM,CAAC,IAAIf,EAAE,eAAe,WAAWA,EAAE,UAAU,WAAW6B,GAAE7B,EAAE,SAAS,EAAE,SAAS6B,GAAE7B,EAAE,OAAO,EAAE,SAASQ,EAAER,EAAE,SAAS,KAAK,OAAOQ,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC,EAAE,MAAMsB,GAAG,CAAC,IAAIK,EAAE,OAAOA,EAAEL,EAAE,WAAW,KAAK,OAAOK,EAAE,UAAU,IAAI,IAAI0B,GAAE/B,CAAC,CAAC,EAAE,MAAM,CAAC,GAAGrB,GAAE2D,EAAE,SAAS,EAAE,GAAG3D,GAAEE,GAAG,GAAG,SAAS,EAAE,GAAGF,GAAEC,GAAG,CAAE,EAAC,KAAK,EAAE,GAAGD,GAAEO,GAAG,CAAA,EAAG,OAAO,EAAE,GAAGP,GAAEV,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC+B,EAAEK,IAAIL,EAAE,UAAUK,EAAE,SAAS,CAAC,CAAC,eAAeR,EAAE3B,EAAE,CAAC,IAAIW,EAAE,GAAG,CAACX,EAAE,MAAM,KAAM,EAAC,CAAC,GAAG,CAAC,SAASU,EAAE,oBAAoBM,EAAE,GAAGR,CAAC,EAAER,EAAE,MAAMM,GAAG,MAAMA,EAAE,MAAM,qCAAqCE,CAAC,EAAE,MAAM,oCAAoC,CAAC,CAAC,GAAG,CAACR,EAAE,UAAU,KAAI,EAAG,CAAC,GAAG,CAAC,SAASU,EAAE,oBAAoBM,EAAE,GAAGR,CAAC,EAAER,EAAE,MAAMM,GAAG,MAAMA,EAAE,MAAM,yCAAyCE,CAAC,EAAE,MAAM,wCAAwC,CAAC,CAAC,IAAI4D,EAAEnD,GAAE,WAAW,KAAK,OAAO,UAAU,SAAS,EAAElB,EAAE,CAAC,OAAOC,EAAE,MAAM,WAAWA,EAAE,UAAU,UAAUsC,KAAI,aAAalB,GAAG,EAAC,YAAYiE,GAAG1E,EAAEyD,EAAE,UAAU,KAAK,OAAOzD,EAAE,IAAI,EAAE,YAAYyD,EAAE,GAAG,KAAK,WAAWpE,EAAE,UAAU,SAASA,EAAE,SAAS,sBAAsBA,EAAE,mBAAmB,EAAE,MAAMe,EAAE,iBAAiB,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKhB,CAAC,CAAC,CAAC,CAAC,eAAesB,EAAErB,EAAE,CAAC,IAAIW,EAAE,GAAG,CAACX,EAAE,MAAM,KAAI,EAAG,CAAC,GAAG,CAAC,SAASU,EAAE,oBAAoBM,EAAE,GAAGR,CAAC,EAAER,EAAE,MAAMM,GAAG,MAAMA,EAAE,MAAM,qCAAqCE,CAAC,EAAE,MAAM,oCAAoC,CAAC,CAAC,GAAG,CAACR,EAAE,UAAU,KAAM,EAAC,CAAC,GAAG,CAAC,SAASU,EAAE,oBAAoBM,EAAE,GAAGR,CAAC,EAAER,EAAE,MAAMM,GAAG,MAAMA,EAAE,MAAM,yCAAyCE,CAAC,EAAE,MAAM,wCAAwC,CAAC,CAAC,IAAI4D,EAAEnD,GAAE,WAAW,KAAK,OAAO,UAAU,SAAS,EAAElB,EAAE,CAAC,OAAOC,EAAE,MAAM,WAAWA,EAAE,UAAU,UAAUsC,GAAC,EAAG,aAAalB,GAAC,EAAG,YAAYiE,GAAG1E,EAAEyD,EAAE,UAAU,KAAK,OAAOzD,EAAE,IAAI,EAAE,YAAYyD,EAAE,GAAG,KAAK,WAAWpE,EAAE,UAAU,SAASA,EAAE,SAAS,sBAAsBA,EAAE,mBAAmB,EAAE,MAAMe,EAAE,wBAAwB,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKhB,CAAC,CAAC,CAAC,CAAC,eAAeiD,EAAEhD,EAAE,CAAC,GAAG,CAACA,EAAE,MAAM,KAAI,EAAG,CAAC,GAAG,CAAC,KAAKD,EAAE,GAAGY,CAAC,EAAEX,EAAE,MAAMM,GAAG,MAAMA,EAAE,MAAM,qCAAqCK,CAAC,EAAE,MAAM,oCAAoC,CAAC,CAAC,GAAG,CAACX,EAAE,UAAU,KAAI,EAAG,CAAC,GAAG,CAAC,KAAKD,EAAE,GAAGY,CAAC,EAAEX,EAAE,MAAMM,GAAG,MAAMA,EAAE,MAAM,yCAAyCK,CAAC,EAAE,MAAM,wCAAwC,CAAC,CAAC,IAAIyD,EAAE,CAAC,OAAOpE,EAAE,MAAM,WAAWA,EAAE,UAAU,UAAUsC,GAAC,EAAG,aAAalB,GAAC,EAAG,YAAYiE,EAAE,KAAK,EAAE,YAAYrF,EAAE,SAAS,WAAWA,EAAE,UAAU,KAAKA,EAAE,IAAI,EAAE,MAAMe,EAAE,qBAAqB,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKqD,CAAC,CAAC,CAAC,CAAC,SAASxC,EAAE5B,EAAE,CAAC,OAAO2B,EAAE,CAAC,MAAM3B,EAAE,MAAM,UAAUA,EAAE,UAAU,SAAS,CAAA,CAAE,CAAC,CAAC,CAAC,SAASa,EAAEb,EAAE,CAAC,OAAOgD,EAAE,CAAC,MAAMhD,EAAE,MAAM,UAAUA,EAAE,UAAU,SAASA,EAAE,QAAQ,CAAC,CAAC,CAAC,SAASiC,EAAEjC,EAAE,CAAC,OAAOe,EAAE,aAAa,CAAC,MAAM,CAAC,WAAWf,EAAE,SAAS,CAAC,CAAC,EAAE,MAAMoE,GAAG,CAAC,IAAIrE,EAAE,OAAOA,EAAEqE,EAAE,WAAW,KAAK,OAAOrE,EAAE,UAAU,IAAI,IAAIqC,GAAEgC,CAAC,CAAC,CAAC,CAAC,SAASlD,EAAElB,EAAE,CAAC,OAAOe,EAAE,kBAAkB,CAAC,MAAM,CAAC,IAAIf,EAAE,cAAc,CAAC,CAAC,EAAE,MAAMoE,GAAG,CAAC,IAAIrE,EAAE,OAAOA,EAAEqE,EAAE,WAAW,KAAK,OAAOrE,EAAE,UAAU,IAAI,IAAI8D,GAAEO,CAAC,CAAC,CAAC,CAAC,eAAepC,EAAEhC,EAAE,CAAC,MAAMe,EAAE,6BAA6B,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKf,CAAC,CAAC,CAAC,CAAC,eAAe6E,EAAE7E,EAAE,CAAC,MAAMe,EAAE,qCAAqC,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKf,CAAC,CAAC,CAAC,CAAC,eAAewC,EAAExC,EAAE,CAAC,MAAMe,EAAE,kCAAkC,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKf,CAAC,CAAC,CAAC,CAAC,eAAeyE,EAAEzE,EAAE,CAAC,MAAMe,EAAE,kCAAkC,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKf,CAAC,CAAC,CAAC,CAAC,eAAe4C,EAAE5C,EAAE,CAAC,IAAIoE,EAAE,CAAC,IAAIpE,EAAE,IAAI,UAAUA,EAAE,QAAQ,EAAE,MAAMe,EAAE,qCAAqC,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKqD,CAAC,CAAC,CAAC,CAAC,eAAeE,EAAEtE,EAAE,CAAC,IAAIoE,EAAE,CAAC,OAAOpE,EAAE,MAAM,WAAWA,EAAE,UAAU,UAAUsC,GAAG,EAAC,aAAalB,GAAG,EAAC,IAAIpB,EAAE,GAAG,EAAE,MAAMe,EAAE,sBAAsBf,EAAE,QAAQ,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKoE,CAAC,CAAC,CAAC,CAAC,eAAejD,EAAEnB,EAAE,CAAC,IAAIoE,EAAE,CAAC,OAAOpE,EAAE,MAAM,aAAaA,EAAE,YAAY,UAAUsC,GAAC,EAAG,QAAQtC,EAAE,OAAO,EAAE,MAAMe,EAAE,mBAAmB,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKqD,CAAC,CAAC,CAAC,CAAC,eAAehB,EAAEpD,EAAE,CAAC,IAAIoE,EAAE,CAAC,OAAOpE,EAAE,MAAM,QAAQA,EAAE,QAAQ,WAAWA,EAAE,UAAU,OAAOA,EAAE,OAAO,aAAaA,EAAE,YAAY,UAAU,KAAK,MAAM,KAAK,IAAG,EAAG,GAAG,CAAC,EAAE,MAAMe,EAAE,2BAA2B,CAAC,OAAO,OAAO,MAAM,EAAE,KAAKqD,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,kBAAkBtD,EAAE,kBAAkBuB,EAAE,oBAAoBZ,EAAE,iBAAiBb,EAAE,0BAA0BsB,EAAE,mBAAmBX,EAAE,mBAAmBG,EAAE,uBAAuByC,EAAE,4BAA4B3C,EAAE,wBAAwBvB,EAAE,eAAe0B,EAAE,gBAAgBN,EAAE,mBAAmB2B,EAAE,aAAapB,EAAE,oBAAoBf,EAAE,gBAAgBoB,EAAE,eAAef,EAAE,aAAac,EAAE,qBAAqB6C,EAAE,gBAAgBrC,EAAE,cAAciC,EAAE,iBAAiB7B,EAAE,gBAAgB0B,EAAE,cAAcnD,EAAE,yBAAyBiC,CAAC,CAAC,CCaziO,MAAMub,GAAMC,GAAa,gBAAgB,cAAc,EAEvD,IAAIxC,GAEJ,MAAMihC,GAAQ,CACZ,eAAgB,yBAClB,EAEMC,GACJ,4CACIC,GACJ,8CAEIC,GAAe,CACnB,QAAQjgC,EAAa,CACbnB,OAAAA,GAAAmB,EAECnB,GAAI,MAAM,eAAgB,CAC/B,KAAM,KAAK,KAAK,KAAK,IAAI,CAAA,CAC1B,CACH,EAEA,MAAO,CACLA,GAAI,OAAO,OAAO,YAChB,UACA,MAAOuV,GAA+B,CAChCA,EAAM,OAAS0rB,GAAM,iBACnB1+B,GAAA,cAAegT,EAAM,IAAI,EAE7B,MAAM,KAAK,oBAEf,CAAA,EAGFvV,GAAI,OAAO,OAAO,OAAOihC,GAAM,eAAgB,CAC7C,gBAAiBpmB,GAAOD,EAAA,CACzB,CACH,EAEA,MAAM,mBAAoB,CACxB,MAAMymB,EAAgB,MAAMrhC,GAAI,SAAS,iBAAiB,EACpDshC,EAAWC,GAA8B,CAC7C,eAAgB,CACd,QAAS,qCACX,CAAA,CACD,EAkCD,MAhCiBC,GAAmC,CAClD,GAAIH,EACJ,QAAS,SAAY,CACnB,MAAMI,EAAgB,MAAMzhC,GAAI,aAAa,IAAI,gBAAgB,EAC3DsB,EAA2B,MAAMtB,GAAI,QAAQ,IACjD,2BACA,EAAA,EAEF,OAAOyhC,GAAiBngC,CAC1B,EACA,SAAU,IAAMogC,GAAS,OACzB,IAAK,GACL,aAAc,IAAM1hC,GAAI,QAAQ,IAAI0hC,GAAS,cAAc,EAC3D,aAAc,IAAM1hC,GAAI,SAAS,IAAI,KAAK,GAAK,OAC/C,OAAmB,KACnB,mBAAoB,IAAMA,GAAI,aAAa,IAAI,sBAAsB,EACrE,IAAKshC,EACL,SAAU,CACR,yBAA0BJ,GAC1B,UAAW,IAAMlhC,GAAI,UAAU,MAAM,yBAAyB,EAC9D,UAAY2hC,GACV3hC,GAAI,UAAU,MAAM,6BAA8B2hC,CAAO,CAC7D,EACA,UAAW,CACT,yBAA0BR,GAC1B,UAAW,IAAMnhC,GAAI,UAAU,MAAM,0BAA0B,EAC/D,UAAY2hC,GACV3hC,GAAI,UAAU,MAAM,8BAA+B2hC,CAAO,EAC5D,mBAAoB,IAAM3hC,GAAI,aAAa,IAAI,mBAAmB,CACpE,CAAA,CACD,EAEc,WACjB,CACF,EC9FA,4GAwCA,MAAM4hC,GAAU,SAAS92C,EAAKukB,EAAU,CAkE/B,IAAA9M,EACGA,EAA8B,UAAU,GAQ5C,OAAO,SAAS,UAAU,MAAS,aAEnC,SAAS,UAAU,KAAO,SAASD,EAAO,CAEtC,IAAIvV,EAA0B,KAE9B,OAAO,UAAW,CACd,OAAOA,EAAK,MAAMuV,EAAM,SAAS,CACpC,CACb,GAQI,IAAIrT,EAAU,SAASqW,EAAQ,CAC3B,OAAO,OAAOA,GAAY,UAAYA,IAAY,MAAQ,OAAOA,EAAQ,QAAW,QAC5F,EAQQu8B,EAAe,SAASv8B,EAAS,CACjC,OAAO,OAAOA,GAAY,UAAYA,IAAY,MAAQ,OAAOA,EAAQ,QAAW,QAC5F,EAQQw8B,EAAa,SAASt3C,EAAI+H,EAAK,CAE/B,GAAI,CACA,OAAO/H,EAAI+H,CAAI,CAClB,MAAU,CACP/H,EAAI+H,CAAI,EAAI8c,CACf,CACT,EAcQ0yB,EAAU,SAAiBC,EAAU,CAYrC,GAVA,KAAK,UAA6B,KAAK,WAKnCA,EAAU,QAAQ,GAAG,EAAI,KACzB,KAAK,UAAyBA,EAAU,OAAO,EAAEA,EAAU,QAAQ,GAAG,CAAC,EACvEA,EAA8BA,EAAU,OAAQA,EAAU,QAAQ,GAAG,EAAE,EAAGA,EAAU,MAAM,GAG1FA,EAAU,QAAQ,GAAG,EAAI,GAAG,CAE5B,IAAIC,EAA0BD,EAAU,MAAM,GAAG,EACjD,KAAK,SAAyB,CAACC,EAAS,CAAC,GAAK,IAAIA,EAAS,CAAC,GAAK,IAAIA,EAAS,CAAC,GAAK,IAAKA,EAAS,CAAC,GAAK,GAAG,EAC3G,KAAK,UAAyB,KAAK,SAAS,KAAK,GAAG,CAEhE,MAEY,KAAK,SAAyB,CAACD,CAAS,EACxC,KAAK,UAAyBA,CAE1C,EAOID,EAAQ,UAAY,CAEhB,WAAkC,YA0BlC,QAAU,SAASC,EAAU,CAEzB,GAAI,KAAK,YAAcA,EACnB,MAAO,GAIX,IAAIE,EAA0B,KAAK,SAC/BC,EAA0BH,EAAU,MAAM,GAAG,EAGjD,GAAIE,EAAU,SAAWC,EAAU,OAC/B,MAAO,GAQX,QALIC,EAA0B,GAC1BC,EAA0B,GAC1BC,EAA2BJ,EAAU,QAAUC,EAAU,OAAUD,EAAU,OAASC,EAAU,OAG3Fx9C,EAAE,EAAEA,EAAE29C,EAAoB39C,IAAI,CAGnC,GAAIu9C,EAAUv9C,CAAC,IAAM,KAAOw9C,EAAUx9C,CAAC,IAAM,KAAOu9C,EAAUv9C,CAAC,IAAMw9C,EAAUx9C,CAAC,EAC5E,MAAO,GAGXy9C,GAA2BF,EAAUv9C,CAAC,IAAM,IAAO,IAAM,IACzD09C,GAA2BF,EAAUx9C,CAAC,IAAM,IAAO,IAAM,GAC5D,CAED,OAAOy9C,GAAeC,CACzB,EAOD,SAAW,UAAU,CACjB,OAAO,KAAK,SACf,CACT,EAOI,IAAIT,EAAS,CAET,SAAkC,CAAE,EACpC,YAAc,CACV,OAA8B,CAAE,EAChC,MAA8B,CAAE,CACnC,EAOD,OAAS,UAAU,CAEd,MAAO,CACJ,MAA0B,KAAK,MAAM,KAAK,IAAI,EAC9C,OAA0B,KAAK,OAAO,KAAK,IAAI,EAC/C,KAA0B,KAAK,KAAK,KAAK,IAAI,EAC7C,QAA0B,KAAK,QAAQ,KAAK,IAAI,EAChD,KAA0B,KAAK,KAAK,KAAK,IAAI,EAC7C,UAA0B,KAAK,UAAU,KAAK,IAAI,EAClD,YAA0B,KAAK,YAAY,KAAK,IAAI,CACtD,CACL,EAiBD,OAAS,UAAU,CAEf,IAAIt8B,EAA0B,KAAK,kBAAkB,MAAM,UAAU,MAAM,KAAK,SAAS,CAAC,EAK1F,GAHA,KAAK,IAAI,SAAU,kBAAmBA,CAAO,EAGzCrW,EAAQqW,EAAQ,OAAO,EACvB,YAAK,KAAKA,EAAQ,KAAK,OAAO,KAAK,IAAI,CAAC,EACjC,KAGX,KAAK,WAAWA,CAAO,CAC1B,EAUD,KAAO,UAAU,CAEb,IAAIA,EAA0B,KAAK,kBAAkB,MAAM,UAAU,MAAM,KAAK,SAAS,CAAC,EAM1F,GALAA,EAAQ,MAAsB,EAE9B,KAAK,IAAI,OAAQ,2BAA4BA,CAAO,EAGhDrW,EAAQqW,EAAQ,OAAO,EACvB,YAAK,KAAKA,EAAQ,KAAK,KAAK,KAAK,IAAI,CAAC,EAC/B,KAGX,KAAK,WAAWA,CAAO,CAC1B,EAaD,KAAO,SAASna,EAAQ,CAEpB,GAAIA,EACA,MAAM,IAAI,MAAM,qCAAqC,EAGzD,IAAIma,EAAU,CACV,QAA0B,KAAK,UAAUna,CAAO,CAChE,EAKY,GAHA,KAAK,IAAI,OAAQ,oBAAqBma,CAAO,EAGzCrW,EAAQqW,EAAQ,OAAO,EACvB,YAAK,KAAKA,EAAQ,KAAK,KAAK,KAAK,IAAI,CAAC,EAC/B,KAGX,KAAK,eAAeA,CAAO,CAC9B,EA8BD,UAAY,UAAU,CAElB,IAAIA,EAA0B,KAAK,qBAAqB,MAAM,UAAU,MAAM,KAAK,SAAS,CAAC,EACzFi9B,EAA0Bj9B,EAAQ,MAEtC,KAAK,IAAI,YAAa,oBAAqBA,CAAO,EAElD,KAAK,YAAYi9B,CAAK,EAAQ,KAAK,YAAYA,CAAK,GAAK,GACzD,KAAK,YAAYA,CAAK,EAAE,KAAKj9B,CAAO,CACvC,EAkBD,YAAc,UAAU,CAEpB,IAAIA,EAA0B,KAAK,uBAAuB,MAAM,UAAU,MAAM,KAAK,SAAS,CAAC,EAG/F,GAAI,CAACA,EAAQ,MAET,YAAK,YAAYA,EAAQ,UAAU,QAAQ,EAC3C,KAAK,YAAYA,EAAQ,UAAU,OAAO,EAEnC,KAGX,IAAIk9B,EAA0Bl9B,EAAQ,UAClCi9B,EAA0Bj9B,EAAQ,MAClCm9B,EAA0B,KAAK,YAAYF,CAAK,EAIpD,GAFA,KAAK,IAAI,cAAe,oBAAsBA,EAAQ,UAAaC,EAAa,OAAQA,EAAY,aAAe,IAAKl9B,CAAO,EAE3HrW,EAAQwzC,CAAW,EAEnB,QAAS99C,EAAE,EAAEA,EAAE89C,EAAY,OAAO99C,KAE1B,CAAC69C,GAAaC,EAAY99C,CAAC,EAAE,YAAc69C,IAC3CC,EAAY,OAAO99C,EAAE,CAAC,CAIrC,EAgBD,QAAU,UAAU,CAEhB,IAAI2gB,EAA0B,KAAK,mBAAmB,MAAM,UAAU,MAAM,KAAK,SAAS,CAAC,EAE3F,GAAIrW,EAAQqW,EAAQ,OAAO,EAAE,CAMzB,IAAIo9B,EAAsBp9B,EAAQ,WAClC,OAAAA,EAAQ,WAAkB,KAG1B,KAAK,KAAKA,EAAQ,KAAK,QAAQ,KAAK,IAAI,EAAEo9B,CAAU,EAE7C,IACV,CAED,IAAIV,EAA0B18B,EAAQ,QAAQ,SAAQ,EAEtD,KAAK,IAAI,UAAW,sBAAsB08B,EAAW18B,CAAO,EAS5D,QAPIna,EAA0Bma,EAAQ,QAClCnS,EAA0BmS,EAAQ,QAClCq9B,EAA0Br9B,EAAQ,UAClCs9B,EAA0B,KAAK,YAAY,OACd,OAAO,KAAK,YAAYz3C,CAAO,CAAC,EAChC,OAAO,KAAK,YAAY,KAAQ,EAExDxG,EAAE,EAAEA,EAAEi+C,EAAU,OAAOj+C,IAAI,CAEhC,GAAIi+C,EAAUj+C,CAAC,EAAE,QAAU,MAAQi+C,EAAUj+C,CAAC,EAAE,MAAQi+C,EAAUj+C,CAAC,EAAE,MAAM,CAEvE,IAAIoJ,EAAmB60C,EAAUj+C,CAAC,EAAE,MACbi+C,EAAUj+C,CAAC,EAAE,QAAQwG,EAAQgI,EAAQwvC,CAAS,EAC9CC,EAAUj+C,CAAC,EAAE,QAAQwG,EAAQgI,CAAO,EAEvDyvC,EAAUj+C,CAAC,EAAE,QAAU,IAAQ,OAAOg+C,GAAc,YACpDA,EAAU50C,CAAM,EAGpB60C,EAAUj+C,CAAC,EAAE,OAAS,CACzB,CAEG,OAAOi+C,EAAUj+C,CAAC,EAAE,OAAU,UAAYi+C,EAAUj+C,CAAC,EAAE,QAAUi+C,EAAUj+C,CAAC,EAAE,OAC9E,KAAK,eAAe2gB,EAAQ3gB,CAAC,CAEpC,CAED,KAAK,IAAI,UAAW,oBAAsBq9C,EAAW18B,CAAO,EAExD,OAAOA,EAAQ,YAAe,YAC9BA,EAAQ,WAAU,CAEzB,EASD,YAAc,SAASna,EAAQ,CAE3B,IAAImT,EAA0B,CAAA,EAE9B,QAAS0jC,KAAa,KAAK,SAEnB,KAAK,SAAS,eAAeA,CAAS,GAAK72C,EAAQ,QAAQ62C,CAAS,IACpE1jC,EAAsBA,EAAS,OAAO,KAAK,SAAS0jC,CAAS,CAAC,GAItE,OAAO1jC,CACV,EAKD,MAAQ,UAAU,CAEd,KAAK,IAAI,QAAS,iBAAiB,EAEnC,KAAK,SAAyB,GAE9B,KAAK,YAAc,CACf,OAA0B,CAAE,EAC5B,MAA0B,CAAE,CAC5C,CACS,EAgBD,KAAO,SAASxJ,EAAK7G,EAAGy0C,EAAW,CAG/B,QAAS/9C,EAAE,EAAEA,EAAEmQ,EAAK,QAAQ,OAAOnQ,IAAI,CAEnC,IAAIk+C,EAAsB,CAAA,EAG1B,QAAS16C,KAAK2M,EAENA,EAAK,eAAe3M,CAAC,GAAKA,IAAM,YAChC06C,EAAS16C,CAAC,EAAQ2M,EAAK3M,CAAC,GAIhC06C,EAAS,QAAiB/tC,EAAK,QAAQnQ,CAAC,EAExCsJ,EAAG40C,CAAQ,CACd,CAEG,OAAOH,GAAe,YACtBA,GAEP,EAOD,WAAa,SAASp9B,EAAQ,CAE1B,IAAI08B,EAA0B18B,EAAQ,QAAQ,SAAQ,EAEvD,KAAK,IAAI,aAAc,sBAAsB08B,EAAU,WAAY,KAAM,OAAO,EAE/E,KAAK,SAASA,CAAS,EAAO,KAAK,SAASA,CAAS,GAAK,GAE1D,KAAK,SAASA,CAAS,EAAE,KAAK,CAC1B,UAA0B18B,EAAQ,QAAQ,UAC1C,QAA0BA,EAAQ,QAClC,MAA0BA,EAAQ,MAClC,MAA2B,OAAOA,EAAQ,OAAU,SAAWA,EAAQ,MAAQ,KAC/E,MAA0B,CAC1C,CAAa,CACJ,EAQD,eAAiB,SAASA,EAAQw9B,EAAW,CAEzC,IAAId,EAA0B18B,EAAQ,QAAQ,SAAQ,EAClDk9B,EAA0Bl9B,EAAQ,QAAQ,UAC1ChH,EAA0B,KAAK,SAEnC,GAAIA,GAAYA,EAAS0jC,CAAS,EAAE,CAEhC,IAAI1qB,EAAkB,wBAA0B0qB,EAAY,WAK5D,GAJA1qB,GAAuBkrB,IAAcl9B,EAAQ,QAAQ,WAAc,OAASk9B,EAAY,aAAe,GAEvG,KAAK,IAAI,iBAAkBlrB,EAAQ,KAAM,OAAO,EAE5C,OAAOwrB,GAAe,SAElBxkC,EAAS0jC,CAAS,EAAEc,CAAU,EAAE,YAAcN,GAC9ClkC,EAAS0jC,CAAS,EAAE,OAAOc,EAAW,CAAC,MAK3C,SAASn+C,EAAE,EAAEA,EAAE2Z,EAAS0jC,CAAS,EAAE,OAAOr9C,IAElC2Z,EAAS0jC,CAAS,EAAEr9C,CAAC,EAAE,YAAc69C,GACrClkC,EAAS0jC,CAAS,EAAE,OAAOr9C,EAAE,CAAC,EAKtC2Z,EAAS0jC,CAAS,EAAE,SAAW,GAC/BF,EAAWxjC,EAAS0jC,CAAS,CAEpC,CACJ,EAWD,kBAAoB,SAAS/pC,EAAK,CAE9B,IAAIqN,EAA0B,CAAA,EAY9B,GAVIu8B,EAAa5pC,EAAK,CAAC,CAAC,EAEpBqN,EAA0BrN,EAAK,CAAC,GAIhCqN,EAAQ,QAAmB,OAAOrN,EAAK,CAAC,GAAM,UAAYhJ,EAAQgJ,EAAK,CAAC,CAAC,EAAKA,EAAK,CAAC,EAAI,KACxFqN,EAAQ,QAAmB,OAAOrN,EAAK,CAAC,GAAM,WAAcA,EAAK,CAAC,EAAI,MAGtE,CAACqN,EAAQ,SAAW,OAAOA,EAAQ,SAAY,WAC/C,MAAM,IAAI,MAAM,0EAA0E,EAG9F,OAAAA,EAAQ,QAAsB,KAAK,UAAUA,EAAQ,OAAO,EAErDA,CACV,EAWD,qBAAuB,SAASrN,EAAK,CAEjC,IAAIqN,EAA0B,CAAA,EAW9B,GATIu8B,EAAa5pC,EAAK,CAAC,CAAC,EAEpBqN,EAA0BrN,EAAK,CAAC,EAIhCqN,EAAQ,QAAmB,OAAOrN,EAAK,CAAC,GAAM,WAAcA,EAAK,CAAC,EAAI,KAGtE,OAAOqN,EAAQ,SAAY,WAC3B,MAAM,IAAI,MAAM,uCAAuC,EAO3D,GAJAA,EAAQ,MAAsBA,EAAQ,OAAS,QAC/CA,EAAQ,MAAsB,KAC9BA,EAAQ,MAAsB,EAE1BA,EAAQ,OAAS,EAAEA,EAAQ,QAAS,CAAE,OAAS,EAAG,MAAQ,CAAC,GAC3D,MAAM,IAAI,MAAMA,EAAQ,MAAM,wCAAwC,EAG1E,OAAOA,CACV,EAWD,uBAAyB,SAASrN,EAAK,CAEnC,IAAIqN,EAA0B,CAAA,EAY9B,GAVIu8B,EAAa5pC,EAAK,CAAC,CAAC,EAEpBqN,EAA0BrN,EAAK,CAAC,GAIhCqN,EAAQ,UAAmB,OAAOrN,EAAK,CAAC,GAAM,SAAYA,EAAK,CAAC,EAAI,KACpEqN,EAAQ,MAAmB,OAAOrN,EAAK,CAAC,GAAM,SAAYA,EAAK,CAAC,EAAI,MAGpEqN,EAAQ,OAAS,EAAEA,EAAQ,QAAS,CAAE,OAAS,EAAG,MAAQ,CAAC,GAC3D,MAAM,IAAI,MAAMA,EAAQ,MAAM,0CAA0C,EAG5E,OAAOA,CACV,EAYD,mBAAqB,SAASrN,EAAK,CAE/B,IAAIqN,EAA0B,CAAA,EAY9B,GAVIu8B,EAAa5pC,EAAK,CAAC,CAAC,EAEpBqN,EAA0BrN,EAAK,CAAC,GAIhCqN,EAAQ,QAAmB,OAAOrN,EAAK,CAAC,GAAM,UAAYhJ,EAAQgJ,EAAK,CAAC,CAAC,EAAKA,EAAK,CAAC,EAAI,KACxFqN,EAAQ,QAAmB,OAAOrN,EAAK,CAAC,EAAM,IAAeA,EAAK,CAAC,EAAI,MAGvE,CAACqN,EAAQ,QACT,MAAM,IAAI,MAAM,wCAAwC,EAG5D,OAAAA,EAAQ,QAAsB,KAAK,UAAUA,EAAQ,OAAO,EAExDA,EAAQ,OAAS,OAAOA,EAAQ,WAAc,aAC9CA,EAAQ,UAAkB,UAAU,IAGjCA,CACV,EAQD,UAAY,SAASna,EAAQ,CAGzB,GAAI8D,EAAQ9D,CAAO,EAAE,CAIjB,QAFI43C,EAAsB,CAAA,EAEjBp+C,EAAE,EAAEA,EAAEwG,EAAQ,OAAOxG,IAEpBwG,EAAQxG,CAAC,YAAao9C,IACxBgB,EAAap+C,CAAC,EAAI,IAAIo9C,EAAQ52C,EAAQxG,CAAC,CAAC,GAIhDwG,EAA0B43C,CAC7B,MAEQ53C,GAAW,EAAEA,aAAmB42C,KAErC52C,EAA0B,IAAI42C,EAAQ52C,CAAO,GAGjD,OAAOA,CACV,EAUD,IAAM,SAASyW,EAASzW,EAAQgI,EAAQ6O,EAAM,CAE1CO,EAAI,oBAAoBX,EAASzW,EAAQgI,EAAQ6O,CAAK,CACzD,EAOD,YAAc,SAASA,EAAM,CAE5B,CACT,EAEI,OAAO4/B,CACX,EAAkB,ECp2BZr/B,GAAMC,GAAa,gBAAgB,cAAc,EAEvD,IAAIxC,GAUJ,MAAMgjC,GAAe,CACnB,SAAU,CAAC,IAAK,GAAI,EAAE,EACtB,iBAAkB,IAKlB,QAAS,SAAU7hC,EAAa,CACxBnB,OAAAA,GAAAmB,EAECnB,GAAI,MAAM,eAAgB,CAC/B,UAAW,KAAK,UAAU,KAAK,IAAI,EACnC,IAAK,KAAK,IAAI,KAAK,IAAI,EACvB,aAAc,KAAK,aAAa,KAAK,IAAI,CAAA,CAC1C,CACH,EAKA,KAAM,SAAUkV,EAAgC,CAC1C3S,GAAA,OAAQ,4BAA6B,KAAM,OAAO,EAEtD,KAAK,aAAa,EAEd,OAAO2S,GAAa,YACbA,GAEb,EACA,WAAY,CACV,OAAO,IAAI,QAASvX,GAAY,KAAK,KAAKA,CAAO,CAAC,CACpD,EAKA,IAAK,UAAY,CACf,OAAO,KAAK,QACd,EAOA,KAAM,SAAUtS,EAA2B,CACrCkX,GAAA,OAAQ,WAAalX,EAAO,eAAe,EAE/C,IAAI43C,EAAO,GACP93C,EAAU,GACV+3C,EAAwB,EAExB73C,IAAS,WACa63C,EAAAljC,GAAI,cAAc,wBAEnCijC,EAAA,kCACP93C,EACE6U,GAAI,OAAO,YAAY,IAAI,qBAAqB,GAChD,mDACO3U,IAAS,UACM63C,EAAAljC,GAAI,WAAW,2BAEhCijC,EAAA,8BACP93C,EACE6U,GAAI,OAAO,YAAY,IAAI,mBAAmB,GAC9C,wDAIF7U,GAAA+3C,EAAwB,GACpB,IAAMljC,GAAI,KAAK,qBAAqBkjC,CAAqB,EACzD,IAAMA,EAAwB,WAEpC,MAAM59B,EAA0D,CAC9D,KAAM,QACN,MAAO,aACP,QAAS29B,EACT,QAAA93C,CAAA,EAGF6U,GAAI,OAAO,aAAa,OAAO,GAAIsF,EAAU69B,GAA2B,CAElEA,GAAkB,MACpB,WAAW,IAAM,CACXnjC,GAAA,OAAO,aAAa,MAAMmjC,CAAc,CAAA,EAC3C,KAAK,gBAAgB,CAAA,CAC3B,CACH,EAOA,MAAO,SAAUC,EAAqB,CAC7B,OAAA,KAAK,SAAS,QAAQA,CAAW,CAC1C,EAOA,aAAc,SAAUlqB,EAAoB,CACtC3W,GAAA,eAAgB,kBAAmB2W,EAAU,OAAO,EAExD,KAAK,SAAWA,EAEhBlZ,GAAI,SAAS,IAAI,CAAE,qBAAsBkZ,CAAU,CAAA,CACrD,EAKA,aAAc,UAAY,CACpB3W,GAAA,eAAgB,mBAAoB,KAAM,OAAO,EAErD,MAAM8gC,EAAuBrjC,GAAI,SAAS,IAAI,sBAAsB,EAEhEqjC,IACF,KAAK,SAAWA,EAEpB,CACF,EC9IY,IAAAC,IAAAA,IACVA,EAAA,IAAM,UACNA,EAAA,OAAS,UACTA,EAAA,MAAQ,UACRA,EAAA,MAAQ,UAJEA,IAAAA,IAAA,CAAA,CAAA,EAOAC,IAAAA,IACVA,EAAA,WAAa,kCACbA,EAAA,QAAU,gCACVA,EAAA,QAAU,8BACVA,EAAA,QAAU,0BACVA,EAAA,QAAU,kCACVA,EAAA,YAAc,mCANJA,IAAAA,IAAA,CAAA,CAAA,EAiBZ,MAAMhhC,GAAM,SACVX,EACAzW,EACAgI,EACA6O,EACA,CACAC,GAAO,IAAI,cAAcL,CAAQ,GAAIzW,EAASgI,EAAS6O,CAAK,CAC9D,EAEO,SAASwhC,IAAa,CAQlB,SAAAC,EACPC,EACAC,EACAC,EACA,CACA,MAAMzhC,EAAOuhC,GAAS,GAChBG,EAAQD,GAAU,OAExBrhC,GAAI,YAAa,gBAAiB,CAAE,KAAAJ,EAAM,UAAAwhC,EAAW,MAAAE,CAAA,EAAS,OAAO,EAEjEF,GACFG,EAAcH,EAAWE,CAAK,EAGhCE,EAAa5hC,EAAM0hC,CAAK,CAC1B,CAOA,SAASG,EAAUH,EAAgB,CACjCA,EAAQA,GAAS,OAEjBE,EAAa,GAAIF,CAAK,CACxB,CAQe,eAAAI,EAAQ54C,EAAiBw4C,EAAgB,CACtDA,EAAQA,GAAS,OAEbthC,GAAA,UAAW,eAAgBlX,EAAM,OAAO,EAExC,MAAM64C,IACR,OAAO,OAAO,QAAQ,CACpB,MAAOL,EACP,KAAM,iCAAA,CACP,EAED,OAAO,OAAO,QAAQ,CACpB,MAAOA,EACP,KAAMx4C,CAAA,CACP,CAEL,CAQS,SAAAy4C,EAAcK,EAAeN,EAAgB,CAChDthC,GAAA,gBAAiB,sBAAuB4hC,EAAO,OAAO,EAE1DN,EAAQA,GAAS,OAEjB,OAAO,OAAO,wBAAwB,CACpC,MAAOA,EACP,MAAAM,CAAA,CACD,CACH,CAQS,SAAAJ,EAAa5hC,EAAc0hC,EAAgB,CAC9CthC,GAAA,eAAgB,qBAAsBJ,EAAM,OAAO,EAIvD0hC,EAAQA,GAAS,OAEjB,OAAO,OAAO,aAAa,CACzB,MAAOA,EACP,KAAA1hC,CAAA,CACD,CACH,CAEA,eAAe+hC,GAAmB,CAGzB,MAAA,EACT,CAEO,MAAA,CACL,UAAAT,EACA,UAAAO,EACA,QAAAC,CAAA,CAEJ,CChIA,MAAMG,GAAmBZ,GAAW,EAC9BjhC,GAAMC,GAAa,gBAAgB,eAAe,EAExD,IAAIxC,GAuCJ,MAAMqkC,GAAgB,CACpB,MAAO,KACP,SAAU,EACV,SAAU,CAAC,EACX,YAAa,GAKb,QAAS,SAAUljC,EAAa,CACxBnB,OAAAA,GAAAmB,EAECnB,GAAI,MAAM,gBAAiB,CAChC,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,UAAW,KAAK,UAAU,KAAK,IAAI,EACnC,SAAU,KAAK,SAAS,KAAK,IAAI,EACjC,SAAU,KAAK,SAAS,KAAK,IAAI,EACjC,eAAgB,KAAK,eAAe,KAAK,IAAI,EAC7C,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,eAAgB,KAAK,eAAe,KAAK,IAAI,EAC7C,cAAe,KAAK,cAAc,KAAK,IAAI,EAC3C,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,sBAAuB,KAAK,sBAAsB,KAAK,IAAI,EAC3D,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,YAAa,KAAK,YAAY,KAAK,IAAI,EACvC,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,iBAAkB,KAAK,iBAAiB,KAAK,IAAI,CAAA,CAClD,CACH,EAOA,KAAM,SAAUkV,EAAoB,CAC9B3S,GAAA,OAAQ,6BAA8B,KAAM,OAAO,EAEvD,KAAK,aAAa,EAEb,KAAA,MAAQ,YAAY,KAAK,KAAK,KAAK,IAAI,EAAG,KAAK,SAAW,GAAI,EACnE,KAAK,YAAc,GAEf,OAAO2S,GAAa,YACbA,IAGXlV,GAAI,OAAO,OACT,0BACA,CAAC7U,EAAiBgI,IAAiB,CAC7BA,EAAQ,QAAQ,uBAAuB,KAAK,aAAa,CAC/D,CAAA,CAEJ,EACA,WAAY,CACV,OAAO,IAAI,QAASwK,GAAY,KAAK,KAAKA,CAAO,CAAC,CACpD,EAOA,aAAc,SAAUub,EAA2B,CACjD,KAAK,SAAWA,EACPA,EAAA,WAAa,KAAK,oBAAoBA,CAAQ,EAEnD3W,GAAA,eAAgB,kBAAmB2W,EAAU,OAAO,EAExDlZ,GAAI,SAAS,IAAI,CAAE,sBAAuBkZ,CAAU,CAAA,CACtD,EASA,oBAAqB,SAAUA,EAA0C,CACvE,IAAIorB,EAAwB,CAAA,EAGxB,OAAAprB,EAAS,YAAc,aACZorB,EAAAtkC,GAAI,WAAW,cAAc,EAAI,EACrC,OAAOkZ,EAAS,UAAc,MAC5BorB,EAAA,CAAC,EAAIprB,EAAS,YAAc,WACvCorB,EAAW,CAAC,EAAIprB,EAAS,UAAU,QAAQ,OAAO,EAAI,GACtDorB,EAAW,CAAC,EAAIprB,EAAS,UAAU,QAAQ,OAAO,EAAI,GACtDorB,EAAW,CAAC,EAAIprB,EAAS,UAAU,QAAQ,OAAO,EAAI,GACtDorB,EAAW,CAAC,EAAIprB,EAAS,UAAU,QAAQ,OAAO,EAAI,GACtDorB,EAAW,CAAC,EAAIprB,EAAS,UAAU,QAAQ,OAAO,EAAI,GAC3CorB,EAAA,CAAC,EAAIprB,EAAS,YAAc,YAGrC3W,GAAA,sBAAuB,0BAA2B+hC,EAAY,OAAO,EAElEA,CACT,EAEA,iBAAkB,SAAUA,EAAuB,CAC7C/hC,GAAA,mBAAoB,uBAAwB+hC,EAAY,OAAO,EAE9D,KAAK,aACR,KAAK,KAAK,IAAM,CACd,KAAK,iBAAiBA,CAAU,CAAA,CACjC,EAGH,KAAK,SAAS,WAAaA,EAEtB,KAAA,aAAa,KAAK,QAAQ,CACjC,EAKA,aAAc,UAAY,CACxB/hC,GAAI,eAAgB,mBAAoB,KAAK,SAAU,OAAO,EAE9D,MAAMgiC,EAAwBvkC,GAAI,SAAS,IAAI,uBAAuB,EAElEukC,IACF,KAAK,SAAWA,EAEpB,EAQA,SAAU,UAAY,CAChB,KAAK,oBACH,KAAK,aACP,KAAK,WAAW,EAET,KAAK,aACd,KAAK,SAAS,EAGV,MAAAC,EAAW,KAAK,oBAEtBjiC,OAAAA,GACE,WACA,4BACAiiC,EAAW,MAAQ,KACnB,OAAA,EAGKA,CACT,EAKA,cAAe,UAAY,CACnB,MAAAC,EAAY,KAAK,eACjBC,EAAiB,KAAK,oBACtBC,EAAkB,KAAK,qBACvB3tB,EAAY,IAAI,KAAK,EAAE,aAAa,EAE1C,GACEytB,IAAc,cACbC,IAAmB1tB,GAAa0tB,IAAmB,OACpDC,IAAoB3tB,EAEb,MAAA,GAGT,MAAMvS,EAAM,IAAI,KAAK,EAAE,OAAO,EACxB6/B,EAAa,KAAK,gBAEpB,OAAAA,EAAW,SAAW,EACjB,GAGFA,EAAW7/B,CAAG,CACvB,EAMA,UAAW,UAAqB,CACxB,MAAAmgC,EAAY,KAAK,eACjBF,EAAiB,KAAK,oBACtBC,EAAkB,KAAK,qBACvB3tB,EAAY,IAAI,KAAK,EAAE,aAAa,EAE1C,GAAI,CAAC,KAAK,iBAAmB2tB,IAAoB3tB,EAU/C,GAAI4tB,IAAc,kBAAmB,CACnC,MAAMC,EAA4B,IAAA,KAChC7tB,EACE,IACA,KAAK,eACL,IACA,KAAK,YAAY,EACjB,IACA,KAAK,aAAa,CAAA,EAItB,GAF+B,IAAI,KAAK,KAAK,cAAgB,CAAA,EAEhC6tB,EACpB,MAAA,EACT,KAEO,OAAA,GAIX,GAAID,IAAc,MAChB,OAAOF,IAAmB1tB,EAC5B,GAAW,KAAK,gBAAiB,CAC/B,GAAI4tB,IAAc,kBAChB,OAAO5kC,GAAI,KAAK,cACd,KAAK,aAAa,EAClB,KAAK,YAAY,EACjB,KAAK,aAAa,CAAA,EAEtB,GAAW4kC,IAAc,6BACvB,MAAO,CAAC,CAAC5kC,GAAI,mBAAmB,yBAAyB,CAE7D,CACO,MAAA,EACT,EAKA,SAAU,UAAY,CACpBA,GAAI,UAAU,MAAM,wBAAyB,CAAE,QAAS,GAAM,EAE9DuC,GAAI,WAAY,2BAA2B,EAE3C,MAAMuiC,EAAY,KAAK,iBAAiB,EACpC9kC,GAAI,KAAK,gBACP,KAAK,aAAa,EAClB,KAAK,YAAY,EACjB,KAAK,aAAa,CAAA,MAEhB,KAER,KAAK,SAAS,WAAa8kC,EAAU,UAAY,KAAK,iBACtD,KAAK,SAAS,eAAqB,IAAA,KAAA,EAAO,eAC1C,KAAK,SAAS,gBAAkB,KAChC,KAAK,SAAS,kBAAoB,GAE7B,KAAA,aAAa,KAAK,QAAQ,EAC/BV,GAAiB,UAAU,CAC7B,EAKA,WAAY,UAAY,CACtBpkC,GAAI,UAAU,MAAM,wBAAyB,CAAE,QAAS,GAAO,EAE/DuC,GAAI,aAAc,6BAA6B,EAE/C,KAAK,SAAS,gBAAsB,IAAA,KAAA,EAAO,eAC3C,KAAK,SAAS,kBAAoB,GAE7B,KAAA,aAAa,KAAK,QAAQ,CACjC,EAKA,UAAW,UAAY,CACjB,GAAA,KAAK,cAAc,IAAM,KACpB,MAAA,GAGH,MAAAiU,MAAc,KAGpB,OAFuB,IAAI,KAAK,KAAK,cAAgB,CAAA,EAE7BA,CAC1B,EAQA,YAAa,SAAUuuB,EAAwBC,EAAwB,CACjE,GAAA,KAAK,SAAS,IAAM,GACf,MAAA,GAKT,OAFkB,KAAK,eAEJ,CACjB,IAAK,MACI,MAAA,GAET,IAAK,mBACH,MAAO,CAACA,EAEV,IAAK,UACH,OAAOD,GAAiB,CAACC,EAE3B,QACS,MAAA,EACX,CACF,EAEA,iBAAkB,UAAY,CACrB,OAAA,KAAK,aAAmB,IAAA,iBACjC,EAEA,sBAAuB,UAAY,CACjC,OAAOhlC,GAAI,KAAK,iBACd,KAAK,aAAa,EAClB,KAAK,YAAY,EACjB,KAAK,aAAa,CAAA,CAEtB,EAEA,aAAc,UAAY,CACjB,OAAA,KAAK,eAAqB,IAAA,WACnC,EAEA,kBAAmB,UAAY,CAC7B,OAAO,OAAO,KAAK,SAAS,kBAAsB,IAC9C,GACA,KAAK,SAAS,iBACpB,EAEA,aAAc,UAAuB,CAC5B,OAAA,KAAK,SAAS,WAAa,EACpC,EAEA,eAAgB,UAAY,CAC1B,OAAO,OAAO,KAAK,SAAS,YAAgB,IACxC,YACA,KAAK,SAAS,WACpB,EAEA,cAAe,UAAY,CAClB,OAAA,OAAO,KAAK,SAAS,WAAe,IACvC,KACA,OAAO,KAAK,SAAS,UAAU,CACrC,EAEA,kBAAmB,UAAY,CAC7B,OAAO,OAAO,KAAK,SAAS,eAAmB,IAC3C,KACA,KAAK,SAAS,cACpB,EAEA,mBAAoB,UAAY,CAC9B,OAAO,OAAO,KAAK,SAAS,gBAAoB,IAC5C,KACA,KAAK,SAAS,eACpB,EAEA,aAAc,UAAY,CACxB,OAAO,OAAO,KAAK,SAAS,UAAc,IACtC,UACA,KAAK,SAAS,SACpB,EAEA,eAAgB,UAAY,CACtB,GAAA,OAAO,KAAK,SAAS,YAAgB,IAAoB,OAAA6a,GACxD,CACG,MAAAoqB,EAAmB,KAAK,SAAS,YAGpC,OAAA,OAAOA,CAAgB,IAAMA,GAC5BA,EAAmB,IAAM,GAC3BA,EAAmBrqB,GAEZ,KAAK,MAAMqqB,EAAmB,EAAE,EAAIrqB,GAC/BqqB,CAChB,CACF,EAEA,aAAc,UAAY,CACxB,OAAO,OAAO,KAAK,SAAS,UAAc,IACtC,MACA,KAAK,SAAS,SACpB,EAEA,aAAc,UAAY,CACjB,OAAA,KAAK,SAAS,WAAa,IACpC,EAEA,YAAa,UAAY,CAChB,OAAA,KAAK,SAAS,UAAY,IACnC,EAEA,aAAc,UAAkB,CACvB,OAAA,KAAK,SAAS,WAAa,IACpC,EAEA,aAAc,UAAY,CACjB,OAAA,KAAK,SAAS,WAAa,IACpC,EAEA,cAAe,UAAuB,CAC7B,OAAA,KAAK,SAAS,YAAc,EACrC,EAEA,KAAM,UAAY,CAChB,GAAI,KAAK,iBAAiB,GAAK,CAAC,KAAK,WAAY,CACzC,MAAAC,EAAsB,KAAK,wBAEjC3iC,GACE,OACA2iC,EAAsB,gCACtB,KACA,OAAA,EAGElC,GAAa,MAAMkC,CAAmB,GACxClC,GAAa,KAAK,SAAS,EAE7B,KAAK,YAAY,CAAA,MACR,KAAK,YACd,KAAK,iBAAiB,EAGjB,MAAA,EACT,EACA,kBAAmB,CACjBhjC,GAAI,WAAW,yBACjB,EACA,YAAa,UAAY,CACjB,MAAA2W,EAAU,KAAK,wBACjBA,EAAU,GAAKA,EAAU,IAC3B3W,GAAI,WAAW,YAAY,KAAK,sBAAA,EAAyB,EAAI,CAEjE,CACF,EC5eMuC,GAAMC,GAAa,gBAAgB,UAAU,EAE7C2iC,GAAgB,IAEtB,IAAInlC,GAEJ,MAAMolC,GAAqB,CACzB,OAAQ,KACR,UAAW,KACX,gBAAiB,KACjB,mBAAoB,KACpB,yBAA0B,KAC1B,kBAAmB,KAEnB,QAAQjkC,EAAa,CACbnB,OAAAA,GAAAmB,EAECnB,GAAI,MAAM,qBAAsB,CACrC,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,eAAgB,KAAK,eAAe,KAAK,IAAI,EAC7C,cAAe,KAAK,cAAc,KAAK,IAAI,EAC3C,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,yBAA0B,KAAK,yBAAyB,KAAK,IAAI,EACjE,yBAA0B,KAAK,yBAAyB,KAAK,IAAI,CAAA,CAClE,CACH,EAEA,MAAM,KACJqlC,EACAC,EACAC,EACAC,EACAC,EACe,CACf,KAAK,UAAYJ,EACjB,KAAK,gBAAkBC,EACvB,KAAK,mBAAqBC,EAC1B,KAAK,yBAA2BC,EAChC,KAAK,kBAAoBC,CAC3B,EAKA,eAAe5rC,EAAa,CAI1B,GAHI,KAAK,QACP,KAAK,cAAc,EAEjB,CAACmG,GAAI,SAAS,IAAI,YAAa,EAAI,EAAG,CACxCuC,GAAI,iBAAkB,4BAA4B,EAClD,MACF,CACAA,GAAI,iBAAkB,oBAAoB,EACrC,KAAA,OAAS,YAAY,SAAY,MAAM,KAAK,KAAK1I,CAAG,EAAGsrC,EAAa,CAC3E,EAKA,eAAgB,CACd5iC,GAAI,gBAAiB,oBAAoB,EACrC,KAAK,QAAQ,cAAc,KAAK,MAA2B,EAC/D,KAAK,OAAS,IAChB,EAMA,MAAM,KAAK1I,EAAa,QAClBgD,EAAA,KAAK,YAAL,MAAAA,EAAA,YACFmD,GAAI,wBAAwB,mBAGxB,MAAA0lC,EAAqB1lC,GAAI,mBAAmB,QAAQ,EAC1D,GAAI0lC,GAAsB,KAClB,MAAA1lC,GAAI,QAAQ,IAAI,CACpB,4BAA6B0lC,EAAmB,YAAc,CAAA,CAC/D,EAEI,KAAA,yBACH7rC,EACA6rC,EAAmB,YACnBA,EAAmB,YAAcA,EAAmB,WAAA,MAEjD,CACL,MAAMC,EAAQ3lC,GAAI,wBAAwB,wBAAwBnG,CAAG,EACrE,GAAI,CAAC8rC,EAAO,OAEZ,MAAM3lC,GAAI,wBAAwB,qBAAqB2lC,EAAM,SAAS,EAEhE,MAAAC,EACJD,EAAM,eAAiBA,EAAM,YAE1B,KAAA,yBACH9rC,EACA8rC,EAAM,YACNC,CAAA,CAEJ,CACF,EAEA,yBACE/rC,EACAgsC,EACAC,EACA,aAUA,GATAvjC,GACE,OACA,iBAAiBsjC,CAAW,qBAAqBC,CAAa,GAC9D,KACA,OAAA,GAGFjpC,EAAA,KAAK,oBAAL,MAAAA,EAAA,UAAyBipC,GAErBA,GAAiB,EAAG,EACtBlpC,EAAA,KAAK,kBAAL,MAAAA,EAAA,UAAuB/C,GACvB,MACF,EAEAq4B,EAAA,KAAK,2BAAL,MAAAA,EAAA,YACAyF,EAAA,KAAK,qBAAL,MAAAA,EAAA,UAA0BmO,EAC5B,EAEA,yBAAyBjsC,EAAa,CAC9B,MAAAksC,EACJ/lC,GAAI,mBAAmB,yBAAyB,EAClD,GAAI+lC,GAAkC,KAC7B,OAAAA,EACF,CACL,MAAMJ,EAAQ3lC,GAAI,wBAAwB,wBAAwBnG,CAAG,EACrE,GAAI8rC,EACK,OAAAA,EAAM,aAAeA,EAAM,cAEtC,CAEO,MAAA,EACT,EAEA,yBAAyB9rC,EAAa,CAC9B,MAAAmsC,EACJhmC,GAAI,mBAAmB,yBAAyB,EAClD,GAAIgmC,GAAkC,KAC7B,OAAAA,EACF,CACL,MAAML,EAAQ3lC,GAAI,wBAAwB,wBAAwBnG,CAAG,EACrE,GAAI8rC,GAAS,KACJ,OAAAA,EAAM,eAAiBA,EAAM,WAExC,CACF,CACF,EC3JA,IAAI3lC,GAOJ,MAAMimC,GAAqB,CACzB,QAAQ9kC,EAAa,CACbnB,OAAAA,GAAAmB,EAECnB,GAAI,MAAM,qBAAsB,CACrC,QAAS,KAAK,QAAQ,KAAK,IAAI,EAC/B,yBAA0B,KAAK,yBAAyB,KAAK,IAAI,EACjE,yBAA0B,KAAK,yBAAyB,KAAK,IAAI,EACjE,iBAAkB,KAAK,iBAAiB,KAAK,IAAI,CAAA,CAClD,CACH,EAMA,SAA4B,CAE1B,GADyBA,GAAI,SAAS,IAAI,oBAAoB,GAAK,GAC7C,CACpB,MAAMkmC,EACJlmC,GAAI,SAAS,IAAI,6BAA6B,GAAK+a,GAAgB,GAC/D8qB,EAAc7lC,GAAI,SAAS,IAAI,6BAA6B,GAAK,EAChE,MAAA,CACL,YAAAkmC,EACA,YAAAL,CAAA,CAEJ,CACO,OAAA,IACT,EAMA,0BAA2B,CACnB,MAAAH,EAAqB,KAAK,UAChC,OAAIA,GAAsB,KACjBA,EAAmB,aAAeA,EAAmB,YAGvD,IACT,EAMA,0BAA2B,CACnB,MAAAA,EAAqB,KAAK,UAChC,OAAIA,GAAsB,KACjBA,EAAmB,YAAcA,EAAmB,YAGtD,IACT,EAMA,MAAM,kBAAmB,CACvB,MAAM1lC,GAAI,QAAQ,IAAI,CAAE,4BAA6B,EAAG,CAC1D,CACF,EC9BgB,SAAAmmC,GACdzuB,EACAC,EACA,CAEE,OAAA9tB,EAAI,OAAO,iBAAiB6tB,EAAeC,CAAe,GAC1D9tB,EAAI,OAAO,gBAAgB6tB,EAAeC,CAAe,CAE7D,CC/CA,MAAMyuB,GAAoB,gBACpBC,GAAwB,YACxBC,GAA8B,iBAC9BC,GAAqB,UAU3B,IAAIvmC,GACAwmC,GAAwB,CAAA,EAE5B,MAAMC,GAA0B,CAC9B,QAAQtlC,EAAa,CACbnB,OAAAA,GAAAmB,EAECnB,GAAI,MAAM,0BAA2B,CAC1C,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,IAAK,KAAK,IAAI,KAAK,IAAI,EACvB,IAAK,KAAK,IAAI,KAAK,IAAI,EACvB,UAAW,KAAK,UAAU,KAAK,IAAI,EACnC,OAAQ,KAAK,OAAO,KAAK,IAAI,EAC7B,eAAgB,KAAK,eAAe,KAAK,IAAI,EAC7C,WAAY,KAAK,WAAW,KAAK,IAAI,EACrC,iBAAkB,KAAK,iBAAiB,KAAK,IAAI,EACjD,qBAAsB,KAAK,qBAAqB,KAAK,IAAI,EACzD,OAAQ,KAAK,OAAO,KAAK,IAAI,EAC7B,YAAa,KAAK,YAAY,KAAK,IAAI,EACvC,wBAAyB,KAAK,wBAAwB,KAAK,IAAI,EAC/D,yBAA0B,KAAK,yBAAyB,KAAK,IAAI,EACjE,QAAS,KAAK,QAAQ,KAAK,IAAI,EAC/B,mBAAoB,KAAK,mBAAmB,KAAK,IAAI,CAAA,CACtD,CACH,EAEA,MAAM,MAAO,CAGX,GAFqBnW,EAAI,SAAS,IAAI,aAAa,IAAM,GAEvC,CAEhB,MAAM68C,EAAsB,CAAC,EADhB,MAAM1mC,GAAI,OAAO,QAAQ,QAAQomC,EAAiB,GAC5BA,EAAiB,EACpD,MAAMpmC,GAAI,QAAQ,UAChBomC,GACA,QACA,CAACM,CAAA,CACH,KACK,CAEL,MAAMA,EAAsB,CAAC,EADhB,MAAM1mC,GAAI,OAAO,QAAQ,SAASomC,EAAiB,GAC7BA,EAAiB,EACpD,MAAMpmC,GAAI,QAAQ,UAChBomC,GACA,OACA,CAACM,CAAA,CAEL,CAEA,KAAK,UAAU,EACf,KAAK,aAAa,CACpB,EAEA,MAAM,WAAY,CAChB,MAAMC,EAAS3mC,GAAI,SAAS,IAAIomC,EAAiB,EACvCI,GAAAG,GAAiB,CAAA,CAC7B,EAMA,MAAM,IACJC,EACAC,EACAC,EACAjB,EACA,CAEA,GADsBW,GAAQ,KAAM/gD,GAAMA,EAAE,WAAamhD,CAAS,GAC7C,KAAW,CAC9B,MAAMG,EAAuB,CAC3B,UAAAH,EACA,eAAgBC,EAChB,SAAAC,EACA,YAAajB,GAA2B,CAAI,EAG9CW,GAAQ,KAAKO,CAAQ,EACrB,MAAM,KAAK,cACPl9C,EAAA,UAAU,MAAM,sBAAsB,CAC5C,CACF,EAMA,KAAM,CACG,OAAA28C,EACT,EAMA,UAAUI,EAAmB,CAC3B,OAAOJ,GAAQ,KAAM/gD,GAAMA,EAAE,WAAamhD,CAAS,CACrD,EAMA,MAAM,OACJI,EACAJ,EACAC,EACAC,EACA,CACA,MAAMG,EAAgBT,GAAQ,KAAM/gD,GAAMA,EAAE,WAAauhD,CAAe,EACpE,OAAOC,EAAkB,MAEzBA,EAAc,WAAaL,GACzB/8C,EAAA,UAAU,MAAM,2BAA2B,EAE7Co9C,EAAc,WAAa,YAC7BA,EAAc,UAAYL,GAExBK,EAAc,gBAAkBJ,GAC9Bh9C,EAAA,UAAU,MAAM,wCAAyC,CAC3D,QAASg9C,EAAU,EAAA,CACpB,EAEHI,EAAc,eAAiBJ,EAC/BI,EAAc,SAAWH,EACzB,MAAM,KAAK,cACb,EAMA,MAAM,eAAeF,EAAmBE,EAAoB,CAC1D,MAAMG,EAAgBT,GAAQ,KAAM/gD,GAAMA,EAAE,WAAamhD,CAAS,EAC9D,OAAOK,EAAkB,MAC7BA,EAAc,SAAWH,EACzB,MAAM,KAAK,cACb,EAOA,MAAM,WAAWF,EAAmBM,EAAiB,CACnD,MAAMD,EAAgBT,GAAQ,KAAM/gD,GAAMA,EAAE,WAAamhD,CAAS,EAClE,GAAI,SAAOK,EAAkB,KACzB,OAAAA,EAAc,SAAS,KAAMxhD,GAAMA,GAAKyhD,CAAO,GAAK,MACxCD,EAAA,SAAS,KAAKC,CAAO,EACnC,MAAM,KAAK,cACJ,IAEF,EACT,EAMA,MAAM,kBAAmB,CACR,KAAK,MACb,QAASvB,GAAWA,EAAM,YAAc,CAAE,EACjD,MAAM,KAAK,cACL,MAAA3lC,GAAI,mBAAmB,kBAC/B,EAMA,MAAM,OAAO4mC,EAAkC,CAC7C,MAAMO,EAAmBX,GAAQ,UAAW/gD,GAAMA,EAAE,WAAamhD,CAAS,EACtEO,EAAmB,KACbX,GAAA,OAAOW,EAAkB,CAAC,EAClC,MAAM,KAAK,cACPt9C,EAAA,UAAU,MAAM,sBAAsB,EAE9C,EAMA,YAAYu9C,EAAgB,CAC1B,OAAAA,EAASA,EAAO,cAEdZ,GAAQ,KAAMb,GACZA,EAAM,SAAS,KAAM0B,GAASlB,GAA2BkB,EAAMD,CAAM,CAAC,CACnE,GAAA,IAET,EAMA,wBAAwBA,EAAgB,CACtC,OAAIA,GAAU,KAAa,MAC3BA,EAASA,EAAO,cACTZ,GAAQ,KAAMb,GACnBA,EAAM,SAAS,KAAM0B,GAASlB,GAA2BkB,EAAMD,CAAM,CAAC,CAAA,EAE1E,EAMA,yBAAyBA,EAAgB,CACvC,OAAOZ,GAAQ,OAAQb,GACrBA,EAAM,SAAS,KAAM0B,GAASlB,GAA2BkB,EAAMD,CAAM,CAAC,CAAA,CAE1E,EAMA,MAAM,SAAU,CACV,GAAA,KAAK,cAAe,CACtB,MAAME,EAActnC,GAAI,SAAS,IAAIqmC,EAAqB,EACtD,IAAAkB,EAA0BvnC,GAAI,SAAS,IACzCsmC,EAAA,EAEEiB,GAA2B,KACHA,EAAAtsB,GACvBssB,EAA0BA,EAA0BxsB,GACzD,IAAI8qB,EAAc,MAAM7lC,GAAI,QAAQ,IAAI,aAAa,EAErD,IADI,MAAM6lC,CAAW,GAAKA,GAAe,QAAoBA,EAAA,GACzDyB,GAAe,KAAM,CACjB,MAAAR,EAAW,OAAO,KAAKQ,CAAW,EACxC,MAAM,KAAK,IACTf,GACAgB,EACAT,EACAjB,CAAA,CAEJ,MACE,MAAM,KAAK,IACTU,GACAgB,EACA,CAAC,EACD1B,CAAA,CAEN,CACF,EAEA,aAAc,CACZ,OAAO7lC,GAAI,SAAS,IAAIomC,EAAiB,GAAK,IAChD,EAMA,MAAM,oBAAqB,CAGzBI,GAAU,CAAA,EACV,MAAMc,EAActnC,GAAI,SAAS,IAAIqmC,EAAqB,EAC1D,GAAIiB,GAAe,KAAM,CACjB,MAAAR,EAAW,OAAO,KAAKQ,CAAW,EACpC,IAAAC,EAA0BvnC,GAAI,SAAS,IACzCsmC,EAAA,EAEEiB,GAA2B,KACHA,EAAAtsB,GACvBssB,EAA0BA,EAA0BxsB,GACzD,MAAM,KAAK,IAAIwrB,GAAoBgB,EAAyBT,EAAU,CAAC,CACzE,CACF,EAEA,MAAM,qBAAqBF,EAAmB,CACtC,MAAAjB,EAAQ,KAAK,UAAUiB,CAAS,EACjCjB,IACLA,EAAM,aAAe,EACrB,MAAM,KAAK,cACb,EAEA,MAAM,aAAc,CACZ,MAAA3lC,GAAI,QAAQ,IAAI,CACpB,cAAewmC,EAAA,CAChB,CACH,EAEA,cAAe,CACb38C,EAAI,OAAO,OACT,0BACA,MAAOsB,EAAiBgI,IAAiB,EACnCA,EAAQ,QAAQ,eAAiBA,EAAQ,QAAQ,eAC/CA,EAAQ,QAAQ,cACdA,EAAQ,cAAgB,GAC1B,MAAM6M,GAAI,QAAQ,UAAUomC,GAAmB,MAAM,EAErD,MAAMpmC,GAAI,QAAQ,UAAUomC,GAAmB,OAAO,GAG1D,KAAK,UAAU,EAEnB,CAAA,CAEJ,CACF,ECjUM7jC,GAAMC,GAAa,gBAAgB,SAAS,EAWlD,MAAqBu/B,EAAQ,CAU3B,YAAYC,EAAmB,CAT/BhB,GAAA,kBAAa,aAEbA,GAAA,gBAA4B,MAC5BA,GAAA,iBAA2B,MAC3BA,GAAA,iBAA2B,MAgBzB,GAVA,KAAK,UAAY,KAAK,WAKlBgB,EAAU,QAAQ,GAAG,EAAI,KAC3B,KAAK,UAAYA,EAAU,OAAO,EAAGA,EAAU,QAAQ,GAAG,CAAC,EAC/CA,EAAAA,EAAU,OAAOA,EAAU,QAAQ,GAAG,EAAI,EAAGA,EAAU,MAAM,GAGvEA,EAAU,QAAQ,GAAG,EAAI,GAAI,CACzB,MAAAC,EAAWD,EAAU,MAAM,GAAG,EACpC,KAAK,SAAW,CACdC,EAAS,CAAC,GAAK,IACfA,EAAS,CAAC,GAAK,IACfA,EAAS,CAAC,GAAK,IACfA,EAAS,CAAC,GAAK,GAAA,EAEjB,KAAK,UAAY,KAAK,SAAS,KAAK,GAAG,CAAA,MAElC,KAAA,SAAW,CAACD,CAAS,EAC1B,KAAK,UAAYA,CAErB,CA0BA,QAAQA,EAAmB,CACrB,GAAA,KAAK,YAAcA,EACrBz/B,OAAAA,GACE,UACA,KAAK,UAAY,YAAcy/B,EAAY,IAC3C,MACA,OAAA,EAGK,GAIT,MAAME,EAAY,KAAK,SACjBC,EAAYH,EAAU,MAAM,GAAG,EAGjC,IAAAE,GAAA,YAAAA,EAAW,UAAWC,EAAU,OAClC5/B,OAAAA,GACE,UACA,KAAK,UAAY,YAAcy/B,EAAY,IAC3C,KACA,OAAA,EAGK,GAGT,IAAII,EAAc,GACdC,EAAc,GAClB,MAAMC,EACJJ,EAAU,QAAUC,EAAU,OAASD,EAAU,OAASC,EAAU,OAGtE,QAASx9C,EAAI,EAAGA,EAAI29C,EAAqB39C,IAAK,CAE5C,GACEu9C,EAAUv9C,CAAC,IAAM,KACjBw9C,EAAUx9C,CAAC,IAAM,KACjBu9C,EAAUv9C,CAAC,IAAMw9C,EAAUx9C,CAAC,EAE5B4d,OAAAA,GACE,UACA,KAAK,UAAY,YAAcy/B,EAAY,IAC3C,KACA,OAAA,EAGK,GAGTI,GAAeF,EAAUv9C,CAAC,IAAM,IAAM,IAAM,IAC5C09C,GAAeF,EAAUx9C,CAAC,IAAM,IAAM,IAAM,GAC9C,CAEA4d,OAAAA,GACE,UACA,KAAK,UAAY,YAAcy/B,EAAY,IAC3CI,GAAeC,EAAc,MAAQ,KACrC,OAAA,EAGKD,GAAeC,CACxB,CAOA,UAAW,CACT,OAAO,KAAK,SACd,CAEA,eAAgB,SACP,QAAAxlC,EAAA,KAAK,WAAL,YAAAA,EAAgB,MAAO,IAAM,MAAOD,EAAA,KAAK,WAAL,YAAAA,EAAgB,EAC7D,CAEA,eAAgB,SACP,QAAAC,EAAA,KAAK,WAAL,YAAAA,EAAgB,MAAO,IAAM,MAAOD,EAAA,KAAK,WAAL,YAAAA,EAAgB,EAC7D,CACF,CCzIA,MAAM2F,GAAMC,GAAa,gBAAgB,YAAY,EAC/C4hC,GAAmBZ,GAAW,EAEpC,IAAIxjC,EAsCJ,MAAMwnC,GAA+B,uBAE/BC,GAAa,CACjB,sBAAuB,GACvB,SAAU,EACV,MAAO,KACP,OAAQ,6BACR,YAAa,sCACb,aAAc,sCACd,cAAe,mDACf,WAAY,KACZ,QAAS,KACT,cAAe,KACf,OAAQ,KACR,UAAW,KAOX,QAAS,SAAUtmC,EAAa,CACxBnB,OAAAA,EAAAmB,EAGCnB,EAAI,MAAM,aAAc,CAC7B,cAAe,KAAK,cAAc,KAAK,IAAI,EAC3C,eAAgB,KAAK,eAAe,KAAK,IAAI,EAC7C,oBAAqB,KAAK,oBAAoB,KAAK,IAAI,EACvD,UAAW,IAAM,KAAK,OACtB,cAAe,IAAM,KAAK,WAC1B,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,kBAAmB,KAAK,kBAAkB,KAAK,IAAI,EACnD,yBAA0B,KAAK,yBAAyB,KAAK,IAAI,EACjE,SAAU,KAAK,SAAS,KAAK,IAAI,EACjC,8BACE,KAAK,8BAA8B,KAAK,IAAI,EAC9C,sBAAuB,KAAK,sBAAsB,KAAK,IAAI,EAC3D,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,cAAe,KAAK,cAAc,KAAK,IAAI,EAC3C,oBAAqB,KAAK,oBAAoB,KAAK,IAAI,EACvD,kBAAmB,KAAK,kBAAkB,KAAK,IAAI,EACnD,YAAa,KAAK,YAAY,KAAK,IAAI,EACvC,UAAW,KAAK,UAAU,KAAK,IAAI,EACnC,wBAAyB,KAAK,wBAAwB,KAAK,IAAI,EAC/D,YAAa,KAAK,YAAY,KAAK,IAAI,EACvC,UAAW,KAAK,UAAU,KAAK,IAAI,EACnC,UAAW,KAAK,UAAU,KAAK,IAAI,EACnC,aAAc,KAAK,aAAa,KAAK,IAAI,EACzC,sBAAuB,KAAK,sBAAsB,KAAK,IAAI,EAC3D,uBAAwB,KAAK,uBAAuB,KAAK,IAAI,CAAA,CAC9D,CACH,EAKA,MAAM,MAAO,CACPuC,GAAA,OAAQ,0BAA2B,KAAM,OAAO,EAEpD,KAAK,gBAAgB,EACrB,MAAM,KAAK,eACX,MAAM,KAAK,mBACX,KAAK,cAAc,EACnB,KAAK,YAAY,EACjB,MAAM,KAAK,mBACX,MAAM,KAAK,oBACX,KAAK,sBAAsB,EAC3B,MAAM,KAAK,gBACX,MAAM,KAAK,oBACX,MAAM,KAAK,mBACX,KAAK,cAAc,EACnB,KAAK,iBAAiB,EACtB,MAAM,KAAK,sBACX,KAAK,iBAAiB,EACtB,MAAM,KAAK,yBACb,EAEA,uBAAwB,CAChB,MAAA8iC,EAAW,IAAM,KAAK,WACtBC,EAAkBzrC,GAAgB,KAAK,SAASA,CAAG,EACnD0rC,EAAqBrC,GACzB,KAAK,YAAYA,CAAqB,EAClCsC,EAA0B,IAAM,KAAK,0BACrCC,EAAoBvC,GACxB,KAAK,iBAAiBA,CAAqB,EAE7CljC,EAAI,mBAAmB,KACrBqlC,EACAC,EACAC,EACAC,EACAC,CAAA,CAEJ,EAKA,MAAM,cAAe,CACb,MAAAzlC,EAAI,SAAS,YAEb,MAAAA,EAAI,QAAQ,UAAU,CAC1B,aACA,qBACA,YACA,kBACA,oBAAA,CACD,EAGDA,EAAI,QAAQ,oBACV,MAAO0nC,EAA8BC,IAAqB,CACpDplC,GAAA,OAAQolC,EAAW,mBAAoBD,CAAO,EAE9C1nC,EAAA,SAAS,QAAQ,IAAM,CACrBA,EAAA,OAAO,QAAQ,0BAA2B,CAC5C,SAAA2nC,EACA,QAAAD,CAAA,CACD,CAAA,CACF,CACH,CAAA,EAGE,KAAK,kBACP,KAAK,yBAAyB,CAElC,EAKA,MAAM,kBAAmB,CACjB,MAAA1nC,EAAI,aAAa,OAGjB,MAAAA,EAAI,OAAO,OAAO,OAAO,gBAAiB,CAAE,gBAAiB,GAAI,EACvEA,EAAI,OAAO,OAAO,YAChB,UACA,MAAOuV,GAA+B,CAChCA,EAAM,OAAS,iBACb,MAAAvV,EAAI,aAAa,SACzB,CAAA,EAEI,MAAAA,EAAI,aAAa,SACzB,EAEA,eAAgB,CACdA,EAAI,UAAU,MAChB,EAEA,aAAc,CACRA,EAAA,QAAQ,KAAK,YAAY,CAC/B,EAEA,MAAM,qBAAsB,CACpB,MAAAA,EAAI,SAAS,OAEnB,OAAO,QAAQ,UAAU,YAAak6B,GAAS,CACzCA,EAAK,MAAQ,uBACVA,EAAA,UAAU,YAAY,MAAO16B,GAAQ,CACpC,GAAAA,EAAI,SAAW,oCAAqC,CACtD,MAAM6hC,EAAgB,MAAMrhC,EAAI,SAAS,iBAAiB,EACpD4nC,EAAW,MAAMvG,EAAc,aAAa,aAChD7hC,EAAI,UACJA,EAAI,OAAA,EAEAqoC,EAAM,MAAMxG,EAAc,QAAQ,QACtC7hC,EAAI,UACJA,EAAI,OAAA,EAEN06B,EAAK,YAAY,CACf,QAAS,qCACT,UAAW16B,EAAI,UACf,QAASA,EAAI,QACb,SAAAooC,EACA,IAAAC,CAAA,CACD,CACH,CAAA,CACD,CACH,CACD,CACH,EAEA,iBAAkB,CAChB,YAAY,IAAM,CAChB7nC,EAAI,OAAO,IAAI,YAAY,OAAYqV,GAAQ,CACxCA,GACDrV,EAAA,OAAO,QAAQ,0BAA2B,CAC5C,MAAOqV,EAAI,GACX,IAAAA,CAAA,CACD,CAAA,CACF,GACA,GAAI,CACT,EAEA,kBAAmB,CACjBrV,EAAI,aAAa,MACnB,EAEA,MAAM,kBAAmB,CACjB,MAAAA,EAAI,aAAa,MACzB,EAKA,MAAM,mBAAoB,CAClB,MAAAA,EAAI,wBAAwB,OAC5B,MAAAA,EAAI,wBAAwB,UAE9B,KAAK,SAAS,IAAM,IACtBA,EAAI,wBAAwB,kBAEhC,EAKA,MAAM,eAAgB,CAChBuC,GAAA,gBAAiB,yBAA0B,KAAM,OAAO,EACtD,MAAAvC,EAAI,oBAAoB,OACxB,MAAAA,EAAI,oBAAoB,SAChC,EAKA,MAAM,mBAAoB,CACpBuC,GAAA,oBAAqB,8BAA+B,KAAM,OAAO,EAErE,MAAM8hC,GAAc,YAChB9hC,GAAA,oBAAqB,6BAA8B,KAAM,OAAO,CACtE,EAKA,MAAM,kBAAmB,CACnBA,GAAA,mBAAoB,4BAA6B,KAAM,OAAO,EAElE,MAAMygC,GAAa,YAEfzgC,GAAA,mBAAoB,2BAA4B,KAAM,OAAO,CACnE,EAEA,iBAAiB2gC,EAA+B,CAC1CF,GAAa,MAAME,CAAqB,GAC1CF,GAAa,KAAK,OAAO,CAE7B,EAKA,eAAgB,CACVzgC,GAAA,gBAAiB,yBAA0B,KAAM,OAAO,EAG5DvC,EAAI,OAAO,UAAU,CACnB,MAAO,GACP,QAAS,MACP7U,EACAgI,EACA+hB,IACG,OACH,SAAS4yB,EACPC,EACA,CAKA,OAJI,OAAO,QAAQ,WACjBxlC,GAAI,gBAAiB,oBAAqB,OAAO,QAAQ,SAAS,EAIlEwlC,GAAiB,MACjB,OAAOA,GAAkB,WAElBA,EAEA,IAAM,EAEjB,CAQA,GANA7yB,EAAW4yB,EAAgB5yB,CAAQ,EAI/B,CAAC/hB,GACD,CAACA,EAAQ,QACT0J,EAAA1J,EAAQ,SAAR,MAAA0J,EAAgB,IAAY,MAAA,GAEhC,MAAMwY,EAAM,MAAMrV,EAAI,OAAO,IAAI,IAAI7M,EAAQ,KAAK,EAMlD,GAHI,CAACkiB,GAGDA,EAAI,SAAW,UAAkB,MAAA,GAErC,MAAMxb,GAAOwb,EAAI,KAAO,GAAKA,EAAI,WAAaA,EAAI,MAAQ,GAGtD,MAAA,2CAA2C,KAAKxb,CAAG,GAEvDmG,EAAI,OAAO,QAAQ,UACjB7M,EAAQ,MACR,CAAE,QAAShI,EAAQ,SAAA,EAAY,QAAAgI,CAAiB,EAChD+hB,CAAA,EAGK,EACT,CAAA,CACD,EAGGlV,EAAA,OAAO,QAAQ,GAAG,YACpB,CACE6gC,EACA7hC,EACAkW,KAEQ2rB,EAAA,QAAUA,EAAQ,SAAW,CAAA,EAC7BA,EAAA,QAAQ,OAAS7hC,GAAU,CAAA,EAG/B,oBAAoB,KAAK6hC,EAAQ,IAAI,GAKrC7hC,EAAO,KACTgB,EAAI,OAAO,QAAQ,CACjB,QAAS6gC,EAAQ,QACjB,QAASA,EAAQ,QACjB,UAAW,OAAO3rB,GAAa,WAAaA,EAAW,IAAM,CAAC,CAAA,CAC/D,EAGI,GACT,EAIElV,EAAA,OAAO,OAAO,wCAAyC,IAAM,CAC/DA,EAAI,OAAO,IAAI,YAAY,OAAYqV,GAAQ,CACxCA,GAEDrV,EAAA,OAAO,QAAQ,0BAA2B,CAC5C,IAAAqV,EACA,MAAOA,EAAI,GACX,UAAW,KAAK,YAAYA,EAAI,KAAO,EAAE,CAAA,CAC1C,CAAA,CACF,CAAA,CACF,EAEDrV,EAAI,OAAO,OAAO,CAChB,QAAS,iCACT,MAAO,GAEP,QAAS,CACP7U,EACAgI,EACA+hB,IACG,CACH,MAAM7V,EAAW,CACf,iBAAkBW,EAAI,mBAAmB,eACvC,KAAK,UACP,CAAA,EAGE,OAAOkV,GAAa,YACtBA,EAAS7V,CAAQ,CAErB,CAAA,CACD,EAEDW,EAAI,OAAO,OAAO,CAChB,QAAS,gCACT,MAAO,GAEP,QAAS,CACP7U,EACAgI,EACA+hB,IACG,CACH,MAAM7V,EAAW,CACf,iBAAkBW,EAAI,mBAAmB,cAAc,CAAA,EAGrD,OAAOkV,GAAa,YACtBA,EAAS7V,CAAQ,CAErB,CAAA,CACD,EAGDW,EAAI,OAAO,UAAU,YACnB,YACCk6B,GAA8B,CACzBA,EAAK,OAAS,SAChB,KAAK,iBAAiBA,CAAI,CAE9B,CAAA,EAGFl6B,EAAI,OAAO,IAAI,YAAY,OAAW,MAAOqV,GAAQ,CAC7C,MAAA,KAAK,iBAAiBA,CAAG,CAAA,CAChC,EAGDrV,EAAI,OAAO,IAAI,YAAY,cAAe,IAAM,CAC9CA,EAAI,OAAO,IAAI,YAAY,OAAW,MAAOqV,GAAQ,CAC7C,MAAA,KAAK,iBAAiBA,CAAG,CAAA,CAChC,CAAA,CACF,EAGDrV,EAAI,OAAO,IAAI,YAAY,YAAa,IAAM,CAC5CA,EAAI,OAAO,IAAI,YAAY,OAAW,MAAOqV,GAAQ,CAC7C,MAAA,KAAK,iBAAiBA,CAAG,CAAA,CAChC,CAAA,CACF,EAGDrV,EAAI,OAAO,IAAI,YAAY,YAAa,IAAM,CAC5CA,EAAI,OAAO,IAAI,YAAY,OAAYqV,GAAQ,CAKzC,OAAOA,EAAQ,KACjBrV,EAAI,mBAAmB,eACzB,CACD,CAAA,CACF,EAGDA,EAAI,OAAO,OAAO,YAAY,YAAa,IAAM,CAC/CA,EAAI,mBAAmB,eAAc,CACtC,EAGDA,EAAI,OAAO,OAAO,YAAY,iBAAkB,IAAM,CACpDA,EAAI,OAAO,IAAI,YAAY,OAAW,MAAOqV,GAAQ,CAC7C,MAAA,KAAK,iBAAiBA,CAAG,CAAA,CAChC,CAAA,CACF,CACH,EAEA,MAAM,YAAYssB,EAA0C,CACpD,MAAA,OAAO,KAAK,OAAO,CAAE,IAAK,KAAK,cAAe,OAAQ,EAAA,CAAM,EAC9Dp/B,GAAA,cAAe,sBAAuBo/B,EAAS,MAAM,EAEzD,KAAM,CAAE,QAASqG,EAAsB,QAASC,GAC9CzlC,GAAa,sBAEf,OAAO,QAAQ,UAAU,YAAa03B,GAAS,CACzCA,EAAK,MAAQ,+BACVA,EAAA,UAAU,YAAY,MAAO16B,GAAQ,CACpCA,EAAI,SAAW,oBACIyoC,GACvB,CACD,CACH,CACD,EAEK,MAAAD,EACNhoC,EAAI,SAAS,IAAI,CAAE,UAAW,EAAM,CAAA,EACpC,MAAM,KAAK,gBACb,EACA,MAAM,UAAU2hC,EAA0C,CAIxD,GAAI,CAACA,EAAQ,gBAAiB,OAE9B,MAAMuG,EAAsB,MAAMloC,EAAI,QAAQ,IAAI,iBAAiB,EAC7DmoC,EAAuC,MAAMnoC,EAAI,QAAQ,IAC7D,oBAAA,EAWEkoC,IAAgBvG,EAAQ,kBACtBwG,IAAuB,QAAUA,IAAuB,IACzC/D,GAAA,UAAU,MAAOd,GAAW,KAAK,EAGpDtjC,EAAI,QAAQ,IAAI,CACd,UAAW,GACX,gBAAiB2hC,EAAQ,eAAA,CAC1B,EAEL,EACA,MAAM,gBAAiB,CACjBp/B,GAAA,iBAAkB,gCAAiC,OAAW,MAAM,EAElE,MAAAvC,EAAI,QAAQ,IAAI,CAAE,CAACwnC,EAA4B,EAAG,KAAK,IAAI,CAAA,CAAG,EAC9D,MAAAxnC,EAAI,OAAO,IAAI,OAAO,CAC1B,IAAK,KAAK,eAAe,EACzB,OAAQ,EAAA,CACT,CACH,EACA,MAAM,yBAA0B,CAC1BuC,GAAA,iBAAkB,kBAAmB,OAAW,MAAM,EAEpD,MAAA6lC,EAAmB,MAAM,KAAK,iCAEpCpoC,EAAI,OAAO,IAAI,YAAY,YAAa,MAAOqV,GAAyB,CAClE,GAAA,KAAK,MAAQ+yB,EAAmBxtB,GAAQ,OAExCrY,GAAA,iBAAkB,gBAAiB8S,EAAK,OAAO,EAEnD,MAAMgzB,EAAgBroC,EAAI,aAAa,IAAI,eAAe,EACpDsoC,EACJ,MAAMtoC,EAAI,aAAa,sBAAsB,EACzCuoC,EACH,MAAMvoC,EAAI,QAAQ,IAAIwnC,EAA4B,GAAM,EACrDgB,EAAa,KAAK,IAAI,GAAKD,EAAqBF,EAClD,CAACC,GAAyBE,IACtB,MAAAxoC,EAAI,UAAU,MAAM,mCAAmC,EAC7D,MAAM,KAAK,iBACb,CACD,CACH,EAEA,kBAAmB,CACjBA,EAAI,OAAO,UAAU,gBAAgB,KAAK,YAAY,CACxD,EAOA,iBAAiBk6B,EAA2B,CACtC33B,GAAA,mBAAoB,kBAAmB23B,EAAM,OAAO,EAExD,KAAK,UAAYA,EAEZA,EAAA,UAAU,YAAY,MAAO1vC,GAAQ,CACxC,MAAMW,EAAU,IAAI42C,GAAQv3C,EAAI,OAAO,EAEnC,GAAAW,EAAQ,QAAQ,wBAAwB,EAAG,CACvC,MAAAy7C,EAAYp8C,EAAI,QAAQ,UACxB48C,EAAS58C,EAAI,QAAQ,OACrBuD,EAAS,MAAMiS,EAAI,wBAAwB,WAC/C4mC,EACAQ,CAAA,EAGFlN,EAAK,YAAY,CACf,QAAS,2BAA6B/uC,EAAQ,cAAc,EAC5D,QAAS,CACP,QAAS4C,CACX,CAAA,CACD,EAGD,MAAM,KAAK,SAASvD,EAAI,QAAQ,MAAM,CACxC,CAEI,GAAAW,EAAQ,QAAQ,wBAAwB,EAAG,CAC7C,MAAMi8C,EAAS,CAAC58C,EAAI,QAAQ,MAAM,EAC5BuD,EAAS,MAAMiS,EAAI,oBAAoB,IAAIonC,CAAM,EAEvDlN,EAAK,YAAY,CACf,QAAS,2BAA6B/uC,EAAQ,cAAc,EAC5D,QAAS,CACP,QAAS4C,CACX,CAAA,CACD,EAGD,MAAM,KAAK,SAASvD,EAAI,QAAQ,MAAM,CACxC,CAEI,GAAAW,EAAQ,QAAQ,4BAA4B,EAAG,CAC3C,KAAA,CAAE,MAAAmE,CAAM,EAAI9E,EAAI,QACtB,KAAK,aAAa8E,CAAK,EACvB4qC,EAAK,YAAY,CACf,QAAS,qBACT,QAAS,CACP,MAAO,KAAK,UAAU,CACxB,CAAA,CACD,EAEDl6B,EAAI,OAAO,IAAI,YAAY,OAAW,MAAOqV,GAAQ,CAC7C,MAAA,KAAK,iBAAiBA,CAAG,CAAA,CAChC,CACH,CAEO,MAAA,EAAA,CACR,EAEI6kB,EAAA,aAAa,YAAY,IAAM,CAClC,KAAK,UAAY,IAAA,CAClB,EAED,KAAK,wBAAwB,CAC/B,EAKA,wBAAyB,UAAY,CAC/Bl6B,EAAA,OAAO,QAAQ,2BAA4B,CAC7C,MAAO,KAAK,cACZ,aAAc,KAAK,gBAAgB,CAAA,CACpC,EAEG,KAAK,WACP,KAAK,UAAU,YAAY,CACzB,QAAS,2BACT,QAAS,CACP,aAAc,KAAK,gBAAgB,CACrC,CAAA,CACD,CAEL,EAOA,iBAAkB,eAAgBqV,EAAkC,CAC9D,GAAA,OAAOA,EAAQ,IACjB,OAGE9S,GAAA,mBAAoB,oBAAqB8S,CAAG,EAEhD,KAAK,WAAaA,EAAI,IACtB,KAAK,cAAgBA,EAAI,GACnB,MAAA,KAAK,SAASA,EAAI,GAAG,EAE3B,MAAMozB,EAAc,KAAK,YAAYpzB,EAAI,GAAG,EAExCrV,EAAA,OAAO,QAAQ,0BAA2B,CAC5C,IAAAqV,EACA,MAAOA,EAAI,GACX,UAAWozB,CAAA,CACZ,CACH,EAOA,SAAU,eAAgB5uC,EAAc,CAEpCA,EAAA,OAAOA,EAAQ,KACd,OAAOA,GAAQ,UAAYA,EAAI,SAAW,EACvC,KAAK,WACLA,EAEF0I,GAAA,WAAY,iBAAkB1I,CAAG,EAEjC,KAAK,SAAS,IAAM,IACtBmG,EAAI,wBAAwB,mBAG9BA,EAAI,mBAAmB,gBAEnB,KAAK,YAAYnG,CAAG,GACtBmG,EAAI,OAAO,IAAI,YAAY,OAAYqV,GAAQ,CACxC,KAAA,aAAaA,EAAKkuB,GAAU,OAAO,CAAA,CACzC,EAEG,KAAK,WAAW1pC,CAAG,EACrB,KAAK,SAASA,CAAG,EAEbmG,EAAA,mBAAmB,eAAenG,CAAG,GAGrBmG,EAAI,oBAAoB,SAASnG,CAAG,EAExDmG,EAAI,OAAO,IAAI,YAAY,OAAYqV,GAAQ,CACxC,KAAA,aAAaA,EAAKkuB,GAAU,OAAO,CAAA,CACzC,EAEDvjC,EAAI,OAAO,IAAI,YAAY,OAAYqV,GAAQ,CACxC,KAAA,aAAaA,EAAKkuB,GAAU,OAAO,CAAA,CACzC,CAGP,EAEA,aAAaluB,EAAkC1nB,EAAyB,CAClE0nB,IACE,KAAK,YACHgvB,GAAc,SAAS,EACzBD,GAAiB,QAAQb,GAAU,QAASluB,EAAI,EAAE,EAC9B+uB,GAAA,QAAQz2C,EAAc0nB,EAAI,EAAE,EAElD+uB,GAAiB,QAAQb,GAAU,YAAaluB,EAAI,EAAE,EAG5D,EAKA,WAAY,SAAUxb,EAAa,CACjC,OACEmG,EAAI,mBAAmB,yBAAyBnG,CAAG,GACnDwqC,GAAc,UAElB,EAQA,eAAgB,SAAU+C,EAAgB,CACxC,OACEA,IAAW,MACX,OAAOA,EAAW,KAClBA,EAAO,SAAW,EAEX,GAILA,EAAO,QAAQ,KAAK,WAAW,IAAM,GAKrCA,EAAO,QAAQ,UAAU,GAAK,GAMhCA,EAAO,QAAQ,QAAQ,GAAK,GAC5BA,EAAO,QAAQ,QAAQ,EAAIA,EAAO,QAAQ,KAAK,IAC9CA,EAAO,QAAQ,IAAI,EAAI,IAAMA,EAAO,QAAQ,UAAU,EAAI,GAM/D,EAOA,YAAa,SAAUA,EAA0B,CAU3C,GATA,CAAC,KAAK,UAAU,GAChB,KAAK,eAAeA,CAAO,GAI3BA,IAAW,MAAQ,OAAOA,EAAW,KAAeA,IAAW,IAI/D,KAAK,SAAS,IAAM,GACf,MAAA,GAGT,MAAMrC,EAAgB/kC,EAAI,wBAAwB,YAAYonC,CAAM,EAC9DpC,EAAgBhlC,EAAI,oBAAoB,SAASonC,CAAM,EACvDsB,EAA6BrE,GAAc,YAC/CU,EACAC,CAAA,EAUE,GARqBhlC,EAAI,SAAS,IAAI,oBAAoB,GAEtC,CAACglC,GAErB0D,GAIA3D,GAAiB,CAACC,EACb,MAAA,GAGT,GAAID,GAAiBC,EAAe,CAClC,MAAM2D,EACJ3oC,EAAI,wBAAwB,wBAAwBonC,CAAM,EACtDwB,GACJD,GAAA,YAAAA,EAAc,SAAS,KAAMtB,GAC3BrnC,EAAI,OAAO,iBAAiBqnC,EAAMD,CAAM,KACrC,GAEDyB,EADgB7oC,EAAI,oBAAoB,SAASonC,CAAM,EACtBA,EAAS,GAG5C,OAAAwB,IAAmBxB,GAAUyB,IAAmBzB,EAC3C,GAILwB,IAAmBxB,GAAUyB,IAAmBzB,EAC3C,GAKFlwB,GAAa,iBAAiB2xB,EAAgBD,CAAc,CACrE,CAEA,OACE5D,GACCX,GAAc,SAAS,GAAK,CAACqE,EAEvB,EAIX,EAOA,SAAU,UAAY,CACpB,IAAIrD,EAAW,GACT,MAAAruB,MAAgB,KAClB,IAAA8xB,EAAe9xB,EAAU,UACzB+xB,EAAiB/oC,EAAI,SAAS,IAAI,gBAAgB,EAClDgpC,EAAY,KAAK,eASrB,GANI,OAAO,KAAKA,CAAS,IACXA,EAAA,QACZ,KAAK,aAAaA,CAAS,GAK3B,OAAOD,EAAmB,KAC1BA,IAAmB,MACnBA,IAAmB,GACnB,CACM,MAAAE,EAAaD,EAAU,MAAM,GAAG,EAChCE,EAAY,KAAK,MAAMD,EAAW,CAAC,CAAC,EACpCE,EAAW,KAAK,MAAMF,EAAW,CAAC,CAAC,EAKzCF,EAH+B,IAAA,KAC7B/xB,EAAU,aAAiB,EAAA,IAAMkyB,EAAY,IAAMC,CAAA,EAEjB,UAEpC,KAAK,qBAAqBH,CAAS,CACrC,CAEiB,OAAAD,EAAA,KAAK,MAAMA,CAAc,EAC3BD,EAAA,KAAK,MAAMA,CAAY,EAElCA,EAAeC,IACN1D,EAAA,GAEX,KAAK,qBAAqB2D,CAAS,GAG9B3D,CACT,EAKA,YAAa,SACXnC,EACAkG,EAAyB,GACzB,CACA,IAAI3F,EAAY,GACZU,EACE,MAAAkF,EAAe,KAAK,MAAMnG,CAAqB,EAC/CoG,EAAgBD,EAAa,WAE/BD,GAA0BC,GAAgB,IAChC5F,EAAA,GACZU,EAAQb,GAAW,OACV+F,GAAgB,IACb5F,EAAA,GACZU,EAAQb,GAAW,KACV+F,GAAgB,KACb5F,EAAA,GACZU,EAAQb,GAAW,QAGjBG,EACeW,GAAA,UACfkF,EACAnF,EACA,KAAK,eAAiB,MAAA,EAGxB,KAAK,UAAU,CAEnB,EAEA,WAAY,CACOC,GAAA,UAAU,KAAK,eAAiB,MAAS,CAC5D,EAKA,SAAU,SAAUvqC,EAAsB,CACpC,OAAA0I,GAAA,WAAY,eAAgB,KAAM,MAAM,EAE5CvC,EAAI,mBAAmB,gBAKvBA,EAAI,OAAO,OAAO,eAAgBupC,GAAqC,CACjE,OAAOA,EAAc,KACvBvpC,EAAI,OAAO,IAAI,eAAeupC,EAAU,GAAKn0B,GAAS,CACpD,UAAWo0B,KAAQp0B,EACb,GAAAA,EAAKo0B,CAAI,EAAE,YAEX,GAAAxpC,EAAI,mBAAmB,yBAAyBnG,CAAG,GAClDwqC,GAAc,YAAc,CAACA,GAAc,eAC5C,CAEA,MAAMoF,EAAYzpC,EAAI,SAAS,IAAI,qBAAqB,GAAK,GAC7DA,EAAI,OAAO,IAAI,OAAOoV,EAAKo0B,CAAI,EAAE,GAAK,CACpC,IACE,KAAK,YACL,yBACA,mBAAmBC,CAAS,CAAA,CAC/B,CAAA,MAIDpF,GAAc,SAAA,GACdA,GAAc,aAAa,GAEvBrkC,EAAA,OAAO,QAAQ,gCAAiC,CAClD,MAAOoV,EAAKo0B,CAAI,EAAE,GAClB,UAAWnF,GAAc,aAAa,CAAA,CACvC,CAGP,CACD,CACH,CACD,EAEM,EACT,EAMA,yBAA0B,UAAoB,CAC5C,OAAOrkC,EAAI,mBAAmB,yBAAyB,KAAK,UAAW,CACzE,EAOA,gBAAiB,UAAgC,CAC/C,SAAS0pC,GAA0B,CACjC,MAAM9C,EAAY,UACZjB,EAAQ97C,EAAI,wBAAwB,UAAU+8C,CAAS,EACtD,MAAA,CACL,UAAAA,EACA,KAAM1rB,GAAK,wBACTyqB,EAAM,eAAiBA,EAAM,WAC/B,EACA,QAAS,EAAA,CAEb,CAGI,GAAA97C,EAAI,cAAc,WAAY,CAC1B,MAAA8/C,EAAoB9/C,EAAI,cAAc,cAAc,EAC1D,GAAI8/C,EAAmB,CACrB,MAAMzE,GAAuByE,EAAoB,KAAK,IAAA,GAAShvB,GACxD,MAAA,CACL,UAAW9wB,EAAI,OAAO,YAAY,IAAI,SAAS,EAC/C,KAAMqxB,GAAK,wBAAwBgqB,CAAmB,EACtD,QAAS,EAAA,CAEb,CACF,CAEM,MAAA0E,EAAW5pC,EAAI,mBAAmB,QAAQ,EAChD,GAAI4pC,GAAY,KACP,MAAA,CACL,UAAW,KACX,KAAM1uB,GAAK,wBACT0uB,EAAS,YAAcA,EAAS,WAClC,EACA,QAAS,EAAA,EAIb,GAAI,KAAK,YAAc,MAAQ,KAAK,YAAc,GAChD,OAAOF,EAAwB,EAG3B,MAAA/D,EAAQ3lC,EAAI,wBAAwB,wBACxC,KAAK,UAAA,EAEP,OAAI2lC,GAAS,KAAkB+D,EAAwB,EAChD,CACL,UAAW/D,EAAM,UACjB,KAAMzqB,GAAK,wBACTyqB,EAAM,eAAiBA,EAAM,WAC/B,EACA,QAAS,EAAA,CAEb,EAOA,cAAe,UAAY,CACnB,MAAA7hC,MAAW,KACXgD,EAAQhD,EAAK,SAAA,EAAa,EAC1BW,EAAMX,EAAK,UAGV,OAFMA,EAAK,cAEJ,IAAMgD,EAAQ,IAAMrC,CACpC,EAOA,cAAe,SAAU6/B,EAA4B,CACnD,IAAIuF,EAAmB,KAOnBvF,EAAW,SAAW,EACLuF,EAAA,OAEAA,EAAAvF,EAAW,KAAK,GAAG,EAGpC/hC,GAAA,gBAAiB,sBAAuB+hC,CAAU,EAEtDtkC,EAAI,SAAS,IAAI,CAAE,WAAY6pC,CAAkB,CAAA,EACjD7pC,EAAI,cAAc,iBAAiB,KAAK,cAAc,EAAI,CAAc,CAC1E,EAOA,cAAe,SACb8pC,EAA0B,GACJ,CACtB,MAAMD,EAAmB7pC,EAAI,SAAS,IAAI,YAAY,EAGtD,GAAI6pC,IAAqB,OACvB,MAAO,GAIT,GACE,OAAOA,EAAqB,KAC5BA,IAAqB,MACrBA,EAAiB,SAAW,EAEvB,YAAA,cAAc,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,CAAC,EAEjC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAI7B,GACE,OAAOA,GAAqB,UAC5BA,EAAiB,QAAQ,GAAG,IAAM,GAE3B,MAAA,CAAC,OAAOA,CAAgB,CAAC,EAG5B,MAAAE,EAAqBF,EAAiB,MAAM,GAAG,EAC/CG,EAA4B,CAAA,EAGlC,QAASrlD,EAAI,EAAGA,EAAIolD,EAAmB,OAAQplD,IAC7CqlD,EAAgBrlD,CAAC,EAAI,OAAOolD,EAAmBplD,CAAC,CAAC,EAGnD,OAAOmlD,EACH,KAAK,yBAAyBE,CAAe,EAC7CA,CACN,EASA,yBAA0B,SAAU1F,EAAiC,CACnE,MAAM2F,EAAiC,CAAA,EAIvC,QAAStlD,EAAI,EAAGA,EAAI2/C,EAAW,OAAQ3/C,IAAK,CACpC,MAAAulD,EAAW5F,EAAW3/C,CAAC,EAE7BslD,EAAoBC,CAAQ,EAAI,EAClC,CAGA,QAAS/hD,EAAI,EAAGA,EAAI,EAAGA,IACrB8hD,EAAoB9hD,CAAC,EAAI8hD,EAAoB9hD,CAAC,GAAK,GAG9C,OAAA8hD,CACT,EAKA,YAAa,UAAY,CAEjB,MAAAE,MADW,OACK,SAChB7F,EAAa,KAAK,gBAExB,OACE,OAAOA,EAAe,KACtBA,IAAe,MACfA,EAAW,SAAW,EAEf,GAGFA,EAAW,QAAQ6F,CAAQ,CACpC,EAQA,eAAgB,SAAUC,EAAmBC,EAAiB,CAC5D9nC,GAAI,iBAAkB,uBAAwB,CAC5C,UAAA6nC,EACA,QAAAC,CAAA,CACD,EAEDrqC,EAAI,SAAS,IAAI,CAAE,YAAaoqC,EAAY,IAAMC,EAAS,CAC7D,EAUA,eAAgB,UAAyB,CACvC,IAAID,EAA8B,GAC9BC,EAA4B,GAC1B,MAAAC,EAAoB,KAAK,sBAG/B,GAAIA,IAAsB,GAAO,CAC/B,MAAMC,EAAmBD,OACH,OACa,UAIdC,EAAiB,WACpC,KAAK,mCAELH,EAAYG,EAAiB,UAC7BF,EAAUE,EAAiB,QAE3B,KAAK,sBAAsB,EACtB,KAAA,eAAeH,EAAWC,CAAO,EAE1C,CAGI,GAAAD,IAAc,IAASC,IAAY,GAAO,CAC5C,IAAIG,EAAcxqC,EAAI,SAAS,IAAI,aAAa,GAI9C,OAAOwqC,EAAgB,KACvBA,IAAgB,MAChBA,IAAgB,MAEX,KAAA,eAAe,QAAS,OAAO,EAEtBA,EAAAxqC,EAAI,SAAS,IAAI,aAAa,GAGxC,MAAAyqC,EAAmBD,EAAY,MAAM,GAAG,EAE9CJ,EAAYK,EAAiB,CAAC,EAC9BJ,EAAUI,EAAiB,CAAC,CAC9B,CAEM,MAAAC,EAAcN,EAAqB,MAAM,GAAG,EAC5CO,EAAYN,EAAmB,MAAM,GAAG,EAEvC,MAAA,CACL,UAAAD,EACA,QAAAC,EACA,UAAWK,EAAW,CAAC,EACvB,SAAUA,EAAW,CAAC,EACtB,aAAc,SAASA,EAAW,CAAC,EAAG,EAAE,EACxC,YAAa,SAASA,EAAW,CAAC,EAAG,EAAE,EACvC,QAASC,EAAS,CAAC,EACnB,OAAQA,EAAS,CAAC,EAClB,WAAY,SAASA,EAAS,CAAC,EAAG,EAAE,EACpC,UAAW,SAASA,EAAS,CAAC,EAAG,EAAE,CAAA,CAEvC,EAOA,aAAc,UAAY,CAClB,MAAAH,EAAc,KAAK,iBAEnB1mC,MAAW,KACX8mC,EAAY9mC,EAAK,WACjB+mC,EAAW/mC,EAAK,aAEtB,OAAI,KAAK,iBAAiB0mC,CAAW,IAAM,GAEvC,KAAK,UACHI,EACAC,EACAL,EAAY,aACZA,EAAY,YACZ,GACA,KAEF,KAAK,UACHI,EACAC,EACA,EACA,EACAL,EAAY,WACZA,EAAY,SAAA,EAIT,KAAK,UACVI,EACAC,EACAL,EAAY,aACZA,EAAY,YACZA,EAAY,WACZA,EAAY,SAAA,CAGlB,EAYA,UAAW,SACTM,EACAC,EACAC,EACAC,EACAC,EACAC,EACA,CACI,OAAAL,EAAWE,GAAaF,EAAWI,EAC9B,GAGLJ,IAAaE,GAAaF,IAAaI,EAClCH,GAAWE,GAAYF,GAAWI,EAGvCL,IAAaE,GAAaD,GAAWE,GAIrCH,IAAaI,GAAWH,GAAWI,CAKzC,EAQA,iBAAkB,SAAUX,EAAmC,CAC7D,OACEA,EAAY,eAAiBA,EAAY,YACzCA,EAAY,aAAeA,EAAY,UAEhC,GACEA,EAAY,aAAeA,EAAY,UAKpD,EAYA,oBAAqB,SAAUJ,EAAmBC,EAAiB,CAIjE,MAAME,MAHgB,OACM,UAAYvqC,EAAI,KAAK,oBAAoB,EAAE,EAElC,IAAMoqC,EAAY,IAAMC,EAEzD9nC,GAAA,sBAAuB,6BAA8BgoC,CAAgB,EAEzEvqC,EAAI,SAAS,IAAI,CAAE,iBAAAuqC,CAAoC,CAAA,CACzD,EAMA,oBAAqB,UAAwC,CAC3D,MAAMA,EAAmBvqC,EAAI,SAAS,IAAI,kBAAkB,EAE5D,GACE,OAAOuqC,EAAqB,KAC5BA,IAAqB,MACrBA,IAAqB,GAEd,MAAA,GAGH,MAAAa,EAAwBb,EAAiB,MAAM,GAAG,EAEjD,MAAA,CACL,UAAW,SAASa,EAAsB,CAAC,CAAC,EAC5C,UAAWA,EAAsB,CAAC,EAClC,QAASA,EAAsB,CAAC,CAAA,CAEpC,EAKA,sBAAuB,UAAY,CACjC7oC,GAAI,wBAAyB,6BAA6B,EAEtDvC,EAAA,SAAS,OAAO,kBAAkB,CACxC,EASA,SAAU,UAAY,CAChB,OAAAqkC,GAAc,SAAS,IAAM,GACxB,GAGF,KAAK,gBAAkB,IAAQ,KAAK,aAAmB,IAAA,EAChE,EAEA,UAAW,UAAY,CACrB,OAAOrkC,EAAI,SAAS,IAAI,YAAa,EAAI,CAC3C,EAEA,aAAc,SAAU1Q,EAAyB,CAC/C,GAAIA,IAAU,GAAO,CA0Cf,GAzCA,CAAC,QAAQzF,EAAI,OAAO,YAAY,IAAI,YAAY,CAAC,GASjD,CAAC,QAAQA,EAAI,OAAO,YAAY,IAAI,mBAAmB,CAAC,GAIxD,CAAC,QAAQA,EAAI,OAAO,YAAY,IAAI,mBAAmB,CAAC,GAIxD,CAAC,QAAQA,EAAI,OAAO,YAAY,IAAI,mBAAmB,CAAC,GAIxD,CAAC,QAAQA,EAAI,OAAO,YAAY,IAAI,mBAAmB,CAAC,GAIxD,CAAC,QAAQA,EAAI,OAAO,YAAY,IAAI,mBAAmB,CAAC,GAIxD,CAAC,QAAQA,EAAI,OAAO,YAAY,IAAI,mBAAmB,CAAC,GAIxD,CAAC,QAAQA,EAAI,OAAO,YAAY,IAAI,mBAAmB,CAAC,GAIxD,CAAC,QAAQA,EAAI,OAAO,YAAY,IAAI,mBAAmB,CAAC,GAIxD,CAAC,QAAQA,EAAI,OAAO,YAAY,IAAI,qBAAqB,CAAC,EACrD,MAAA,GAGT,MAAMA,EAAI,OAAO,YAAY,IAAI,mBAAmB,CAAC,CACvD,CAEAmW,OAAAA,EAAI,SAAS,IAAI,CAAE,UAAW1Q,CAAO,CAAA,EACrC,KAAK,SAAS,EACd0Q,EAAI,UAAU,MAAM1Q,EAAQ,sBAAwB,uBAAuB,EACpE,EACT,EAEA,sBAAuB,UAAY,CACjC,OAAO0Q,EAAI,SAAS,IAAI,wBAAyB,EAAI,CACvD,EAEA,uBAAwB,SAAU1Q,EAAgB,CAChD0Q,EAAI,SAAS,IAAI,CAAE,sBAAuB1Q,CAAO,CAAA,CACnD,EAOA,qBAAsB,SAAU05C,EAAmB,CAC3C,MAAAC,EAAaD,EAAU,MAAM,GAAG,EAChCE,EAAY,SAASD,EAAW,CAAC,EAAG,EAAE,EACtCE,EAAW,SAASF,EAAW,CAAC,EAAG,EAAE,EAKrCoC,EAHqB,IAAA,SACrB,KAAK,EAAE,eAAiB,IAAMnC,EAAY,IAAMC,CAAA,EAEb,QAAA,EAAY,MAErD5mC,GACE,uBACA,gCAAkC8oC,CAAA,EAGpCrrC,EAAI,SAAS,IAAI,CAAE,eAAgBqrC,CAAmB,CAAA,CACxD,EAOA,aAAc,SAAUrC,EAAmB,CACrCzmC,GAAA,eAAgB,0BAA4BymC,CAAS,EAEzDhpC,EAAI,SAAS,IAAI,CAAE,UAAAgpC,CAAsB,CAAA,CAC3C,EAUA,aAAc,UAAY,CACxB,IAAIA,EAAYhpC,EAAI,SAAS,IAAI,WAAW,EACtC,MAAAsrC,EAAiB,KAAK,oBACtBC,EAAmB,QAGzB,GAAID,IAAmB,GAAO,CAEtB,MAAAE,MADgB,OACa,UAC7BC,EAAoBH,GAIxBE,EAAmBC,EAAkB,WACrC,KAAK,mCAELzC,EAAYyC,EAAkB,UAE9B,KAAK,oBAAoB,EACzB,KAAK,aAAazC,CAAS,EAC3B,KAAK,qBAAqBA,CAAS,EAEvC,CAEA,OACE,OAAOA,EAAc,KACrBA,IAAc,MACdA,IAAc,MAEd,KAAK,aAAauC,CAAgB,EAEtBvC,EAAAuC,EAEZ,KAAK,qBAAqBvC,CAAS,GAG9BA,CACT,EAWA,kBAAmB,SAAUA,EAAmB,CAIxC,MAAAsC,MAHgB,OACM,UAAYtrC,EAAI,KAAK,oBAAoB,EAAE,EAEpC,IAAMgpC,EAErCzmC,GAAA,oBAAqB,6BAA+B+oC,CAAc,EAEtEtrC,EAAI,SAAS,IAAI,CAAE,eAAAsrC,CAAgC,CAAA,CACrD,EAKA,kBAAmB,UAAsC,CACvD,MAAMA,EAAiBtrC,EAAI,SAAS,IAAI,gBAAgB,EAEpD,GAAAkC,GAAM,QAAQopC,CAAc,EACvB,MAAA,GAGH,MAAAI,EAAsBJ,EAAe,MAAM,GAAG,EAE7C,MAAA,CACL,UAAWI,EAAoB,CAAC,EAChC,UAAWA,EAAoB,CAAC,CAAA,CAEpC,EAKA,oBAAqB,UAAY,CAC/BnpC,GAAI,sBAAuB,2BAA2B,EAElDvC,EAAA,SAAS,OAAO,gBAAgB,CACtC,EAEA,eAAgB,UAAY,CAC1B,OAAO,OAAOA,EAAI,SAAS,IAAI,kBAAkB,GAAM,QACzD,EAEA,MAAM,gCAAiC,CACrC,IAAI6c,EAAK,MAAM7c,EAAI,QAAQ,IAAI,6BAA6B,EACxD,OAAA,OAAO6c,GAAO,WAChBA,EAAK,KAAK,MACV,MAAM7c,EAAI,QAAQ,IAAI,CAAE,4BAA6B6c,EAAI,GAEpDA,CACT,EAEA,eAAgB,UAAoB,CAC3B,OAAA1c,GAAQ,QAAQ,OAAO,cAAc,CAC9C,EAEA,sBAAuB,UAAY,CACjC,MAAMgoC,EAAqBnoC,EAAI,SAAS,IAAI,oBAAoB,EAEzD,OAAAmoC,IAAuB,IAAQA,IAAuB,MAC/D,EAEA,yBAA0B,UAAY,CAC9B,MAAArkC,MAAW,KAEjB9D,EAAI,SAAS,IAAI,CAAE,iBAAkB8D,EAAK,eAAgB,EAE1DA,EAAK,WAAWA,EAAK,WAAW,EAAI,KAAK,qBAAqB,EAE9DvB,GACE,2BACA,uCAAyCuB,EAAK,QAAQ,CAAA,EAGxD9D,EAAI,SAAS,IAAI,CAAE,gCAAiC8D,EAAK,UAAW,CACtE,EAEA,8BAA+B,UAAY,CACnC,MAAAkT,MAAgB,KAGf,OAFYhX,EAAI,SAAS,IAAI,iCAAiC,EAEjDgX,EAAU,SAChC,EAMA,aAAc,SAAU20B,EAAe,CACrCppC,GAAI,eAAgB,iBAAiB,EAErC,MAAMqpC,EAAUD,EAAI,qBAClB,GAAA,EAGF,QAAShnD,EAAI,EAAGA,EAAIinD,EAAQ,OAAQjnD,IAC9BinD,EAAQjnD,CAAC,EAAE,SAAWinD,EAAQjnD,CAAC,EAAE,QAAQ,OAC3CinD,EAAQjnD,CAAC,EAAE,UAAYqb,EAAI,OAAO,YAAY,IAC5C4rC,EAAQjnD,CAAC,EAAE,QAAQ,IAAA,EAI3B,CACF,EAOA,MAAM,UAAU,QAAU,SAAU+Q,EAAiB,CACnD,UAAW9K,KAAO,KAChB,GAAI,KAAK,eAAeA,CAAG,GAAK,KAAKA,CAAG,GAAK8K,EACpC,MAAA,GAIJ,MAAA,EACT,ECvsDA,MAAMm2C,GAA2B,YAC3BC,GAAuB,eAE7B,IAAI9rC,GACA+rC,GAAsB,CAAA,ECW1B,MAAMC,GAAiB,CACrBniD,EACAmqB,GACAc,GACAzY,GACA2Y,GACAgB,GACAkB,GACA1U,GACA4V,GACAxuB,GACAyuB,GACAS,GACAiB,GACA4B,GACAie,GACAwH,GACAQ,GACAoB,GACAqB,GACAoC,GACAR,GACAb,GD/B0B,CAC1B,QAAQjkC,EAAa,CACb,OAAAnB,GAAAmB,EAECnB,GAAI,MAAM,sBAAuB,CACtC,KAAM,KAAK,KAAK,KAAK,IAAI,EACzB,IAAK,KAAK,IAAI,KAAK,IAAI,EACvB,OAAQ,KAAK,OAAO,KAAK,IAAI,EAC7B,SAAU,KAAK,SAAS,KAAK,IAAI,EACjC,OAAQ,KAAK,OAAO,KAAK,IAAI,EAC7B,QAAS,KAAK,QAAQ,KAAK,IAAI,EAC/B,gBAAiB,KAAK,gBAAgB,KAAK,IAAI,CAAA,CAChD,CACH,EAEA,MAAM,MAAO,CAGX,GAFsB,MAAMnW,EAAI,SAAS,IAAI,aAAa,IAAO,GAE/C,CAEhB,MAAM68C,EAAsB,CAAC,EADhB,MAAM1mC,GAAI,OAAO,QAAQ,QAAQ8rC,EAAoB,GAC/BA,EAAoB,EACvD,MAAMjiD,EAAI,QAAQ,UAChBiiD,GACA,QACA,CAACpF,CAAA,CACH,KACK,CAEL,MAAMA,EAAsB,CAAC,EADhB,MAAM1mC,GAAI,OAAO,QAAQ,SAAS8rC,EAAoB,GAChCA,EAAoB,EACvD,MAAMjiD,EAAI,QAAQ,UAChBiiD,GACA,OACA,CAACpF,CAAA,CAEL,CAEA,KAAK,aAAa,EAClB,KAAK,aAAa,CACpB,EAEA,cAAe,CACb,MAAMI,EAAW9mC,GAAI,SAAS,IAAI8rC,EAAoB,EAC1CC,GAAAjF,GAAmB,CAAA,CACjC,EAOA,MAAM,IAAIA,EAAoB,CAC5B,IAAImF,EAAU,GACd,QAASj6C,EAAQ,EAAGA,EAAQ80C,EAAS,OAAQ90C,IAAS,CAC9C,MAAAk1C,EAAUJ,EAAS90C,CAAK,EAC1Bk1C,GAAW6E,GAAU,KAAMtmD,GAAMA,GAAKyhD,CAAO,GAAK,OAC1C+E,EAAA,GACVF,GAAU,KAAK7E,CAAO,EACtB,MAAM,KAAK,cAEf,CAEO,OAAA+E,CACT,EAMA,QAAS,CACA,OAAAF,EACT,EAMA,MAAM,OAAO7E,EAAgC,CAC3C,MAAMgF,EAAcH,GAAU,UAAWtmD,GAAMA,GAAKyhD,CAAO,EACvDgF,EAAc,KACNH,GAAA,OAAOG,EAAa,CAAC,EAC/B,MAAM,KAAK,cAEf,EAMA,SAAS9E,EAAgB,CACvB,OAAIA,GAAU,KAAa,IAE3BA,EAASA,EAAO,cAEd2E,GAAU,KAAM7E,GACdf,GAA2Be,EAASE,CAAM,CACvC,GAAA,KAET,EAKA,MAAM,SAAU,CACV,GAAA,KAAK,cAAe,CACtB,MAAME,EAActnC,GAAI,SAAS,IAAI6rC,EAAwB,EAC7D,GAAIvE,GAAe,KAAM,CACjB,MAAAR,EAAW,OAAO,KAAKQ,CAAW,EAClC,MAAA,KAAK,IAAIR,CAAQ,CACzB,CACF,CACF,EAEA,aAAc,CACZ,OAAO9mC,GAAI,SAAS,IAAI8rC,EAAoB,GAAK,IACnD,EAMA,MAAM,iBAAkB,CAEtBC,GAAY,CAAA,EACZ,MAAMzE,EAActnC,GAAI,SAAS,IAAI6rC,EAAwB,EAC7D,GAAIvE,GAAe,KAAM,CACjB,MAAAR,EAAW,OAAO,KAAKQ,CAAW,EAClC,MAAA,KAAK,IAAIR,CAAQ,CACzB,CACF,EAEA,MAAM,aAAc,CACZ,MAAA9mC,GAAI,QAAQ,IAAI,CACpB,CAAC8rC,EAAoB,EAAGC,EAAA,CACzB,CACH,EAEA,cAAe,CACbliD,EAAI,OAAO,OACT,0BACA,MAAOsB,EAAiBgI,IAAiB,EACnCA,EAAQ,QAAQ,cAAgBA,EAAQ,QAAQ,eAC9CA,EAAQ,QAAQ,cACdA,EAAQ,cAAgB,GAC1B,MAAM6M,GAAI,QAAQ,UAAU8rC,GAAsB,MAAM,EAExD,MAAM9rC,GAAI,QAAQ,UAAU8rC,GAAsB,OAAO,GAI7D,KAAK,aAAa,EAEtB,CAAA,CAEJ,CACF,ECzHErE,EACF,EAQA59C,EAAI,MAAM,CACR,MAAOA,EAAI,MAAM,KAAKA,CAAG,EACzB,OAAA+3C,EACF,CAAC,EAMD,QAASj9C,EAAI,EAAGA,EAAIqnD,GAAQ,OAAQrnD,IAAK,CACjC,MAAAwnD,EAAYH,GAAQrnD,CAAC,EAGzB,OAAOwnD,GAAc,UACrBA,IAAc,MACd,OAAOA,EAAU,SAAY,YAE7BA,EAAU,QAAQtiD,CAAG,CAEzB,CAWAmqB,GAAU,QAAQnqB,CAAG,EACrBwS,GAAQ,QAAQxS,CAAG,ECzFnB,MAAMuiD,GAAO,CAEZ,UACA,WACA,eACA,YACA,UACA,SAGA,WAAW,aAIX,WAAW,eACX,WAAW,WACZ,EAEE,OAAO,OAAO,EACd,IACAC,GAAe,CAACA,EAAY,KAAMA,CAAW,CAC/C,EAIAC,GAF0B,IAAI,IAAIF,EAAI,ECrB/B,MAAMG,WAAiB,KAAM,CAGnC,YAAYphD,EAAS,CACpB,MAAMohD,GAAS,qBAAqBphD,CAAO,CAAC,EAH7C61C,GAAA,YAAO,WAIN,CAED,OAAO,qBAAqB71C,EAAS,CACpC,GAAI,CACH,OAAO,KAAK,UAAUA,CAAO,CAChC,MAAU,CACP,OAAO,OAAOA,CAAO,CACrB,CACD,CACF,CAEA,MAAMqhD,GAAmB,CACxB,CACC,SAAU,OACV,WAAY,EACZ,EACD,CACC,SAAU,UACV,WAAY,EACZ,EACD,CACC,SAAU,QACV,WAAY,EACZ,EACD,CACC,SAAU,OACV,WAAY,EACZ,EACD,CACC,SAAU,QACV,WAAY,EACZ,CACF,EAEMC,GAAkB,IAAI,QAEtBC,GAASjzB,GAAQ,CACtBgzB,GAAgB,IAAIhzB,CAAI,EACxB,MAAMkzB,EAAOlzB,EAAK,SAClB,OAAAgzB,GAAgB,OAAOhzB,CAAI,EACpBkzB,CACR,EAEMC,GAAsBx/C,GAAQy/C,GAAkB,IAAIz/C,CAAI,GAAK,MAG7D0/C,GAAkB,CAAC,CACxB,KAAArzB,EACA,KAAAxjB,EACA,GAAAujB,EACA,gBAAAuzB,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,UAAA3wC,CACD,IAAM,CACL,GAAI,CAACid,EACJ,GAAI,MAAM,QAAQC,CAAI,EACrBD,EAAK,CAAA,UACK,CAACjd,GAAa4wC,GAAY1zB,CAAI,EAAG,CAC3C,MAAM2zB,EAAQR,GAAoBnzB,EAAK,IAAI,EAC3CD,EAAK,IAAI4zB,CACZ,MACG5zB,EAAK,CAAA,EAMP,GAFAvjB,EAAK,KAAKwjB,CAAI,EAEVwzB,GAASD,EACZ,OAAOxzB,EAGR,GAAI0zB,GAAa,OAAOzzB,EAAK,QAAW,YAAc,CAACgzB,GAAgB,IAAIhzB,CAAI,EAC9E,OAAOizB,GAAOjzB,CAAI,EAGnB,MAAM4zB,EAA0B/9C,GAASw9C,GAAgB,CACxD,KAAMx9C,EACN,KAAM,CAAC,GAAG2G,CAAI,EACd,gBAAA82C,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,UAAA3wC,CACF,CAAE,EAED,SAAW,CAAC3R,EAAK0E,CAAK,IAAK,OAAO,QAAQmqB,CAAI,EAAG,CAChD,GAAInqB,GAASA,aAAiB,YAAcA,EAAM,YAAY,OAAS,SAAU,CAChFkqB,EAAG5uB,CAAG,EAAI,kBACV,QACA,CAGD,GAAI0E,IAAU,MAAQ,OAAOA,GAAU,UAAY,OAAOA,EAAM,MAAS,WAAY,CACpFkqB,EAAG5uB,CAAG,EAAI,kBACV,QACA,CAED,GAAI,OAAO0E,GAAU,WAIrB,IAAI,CAACA,GAAS,OAAOA,GAAU,SAAU,CAExC,GAAI,CACHkqB,EAAG5uB,CAAG,EAAI0E,CACV,MAAO,CAAE,CAEV,QACA,CAED,GAAI,CAAC2G,EAAK,SAASwjB,EAAK7uB,CAAG,CAAC,EAAG,CAC9BqiD,IACAzzB,EAAG5uB,CAAG,EAAIyiD,EAAwB5zB,EAAK7uB,CAAG,CAAC,EAE3C,QACA,CAED4uB,EAAG5uB,CAAG,EAAI,aACV,CAED,SAAW,CAAC,SAAA0iD,EAAU,WAAAC,CAAU,IAAKf,GAChC,OAAO/yB,EAAK6zB,CAAQ,EAAM,KAAe7zB,EAAK6zB,CAAQ,IAAM,MAC/D,OAAO,eAAe9zB,EAAI8zB,EAAU,CACnC,MAAOH,GAAY1zB,EAAK6zB,CAAQ,CAAC,EAAID,EAAwB5zB,EAAK6zB,CAAQ,CAAC,EAAI7zB,EAAK6zB,CAAQ,EAC5F,WAAYP,EAAkB,GAAOQ,EACrC,aAAc,GACd,SAAU,EACd,CAAI,EAIH,OAAO/zB,CACR,EAEO,SAASg0B,GAAel+C,EAAOgW,EAAU,GAAI,CACnD,KAAM,CACL,SAAA0nC,EAAW,OAAO,kBAClB,UAAAE,EAAY,EACZ,EAAG5nC,EAEJ,OAAI,OAAOhW,GAAU,UAAYA,IAAU,KACnCw9C,GAAgB,CACtB,KAAMx9C,EACN,KAAM,CAAE,EACR,gBAAiB,GACjB,SAAA09C,EACA,MAAO,EACP,UAAAE,EACA,UAAW,EACd,CAAG,EAIE,OAAO59C,GAAU,WAGb,cAAcA,EAAM,MAAQ,WAAW,IAGxCA,CACR,CAEO,SAASm+C,GAAiBn+C,EAAOgW,EAAU,GAAI,CACrD,KAAM,CAAC,SAAA0nC,EAAW,OAAO,iBAAiB,EAAI1nC,EAE9C,GAAIhW,aAAiB,MACpB,OAAOA,EAGR,GAAIo+C,GAA+Bp+C,CAAK,EAAG,CAC1C,MAAM89C,EAAQR,GAAoBt9C,EAAM,IAAI,EAC5C,OAAOw9C,GAAgB,CACtB,KAAMx9C,EACN,KAAM,CAAE,EACR,GAAI,IAAI89C,EACR,SAAAJ,EACA,MAAO,EACP,UAAW,EACd,CAAG,CACD,CAED,OAAO,IAAIT,GAASj9C,CAAK,CAC1B,CAEO,SAAS69C,GAAY79C,EAAO,CAClC,MAAO,EAAQA,GACZ,OAAOA,GAAU,UACjB,SAAUA,GACV,YAAaA,GACb,UAAWA,CACf,CAEA,SAASo+C,GAA+Bp+C,EAAO,CAC9C,MAAO,EAAQA,GACZ,OAAOA,GAAU,UACjB,YAAaA,GACb,CAAC,MAAM,QAAQA,CAAK,CACxB,CC9MA,IAAIq+C,GAAY,OAAO,eACnBC,GAAa,OAAO,iBACpBC,GAAoB,OAAO,0BAC3BC,GAAsB,OAAO,sBAC7BC,GAAe,OAAO,UAAU,eAChCC,GAAe,OAAO,UAAU,qBAChCC,GAAkB,CAACzjD,EAAKI,EAAK0E,IAAU1E,KAAOJ,EAAMmjD,GAAUnjD,EAAKI,EAAK,CAAE,WAAY,GAAM,aAAc,GAAM,SAAU,GAAM,MAAA0E,CAAO,CAAA,EAAI9E,EAAII,CAAG,EAAI0E,EACtJ4+C,GAAiB,CAAC/pD,EAAGe,IAAM,CAC7B,QAASqN,KAAQrN,IAAMA,EAAI,CAAA,GACrB6oD,GAAa,KAAK7oD,EAAGqN,CAAI,GAC3B07C,GAAgB9pD,EAAGoO,EAAMrN,EAAEqN,CAAI,CAAC,EACpC,GAAIu7C,GACF,QAASv7C,KAAQu7C,GAAoB5oD,CAAC,EAChC8oD,GAAa,KAAK9oD,EAAGqN,CAAI,GAC3B07C,GAAgB9pD,EAAGoO,EAAMrN,EAAEqN,CAAI,CAAC,EAEtC,OAAOpO,CACT,EACIgqD,GAAgB,CAAChqD,EAAGe,IAAM0oD,GAAWzpD,EAAG0pD,GAAkB3oD,CAAC,CAAC,EAa5DkpD,GAAU,CAACC,EAAQC,EAAaC,IAC3B,IAAI,QAAQ,CAAC5wC,EAASC,IAAW,CACtC,IAAI4wC,EAAal/C,GAAU,CACzB,GAAI,CACFm/C,EAAKF,EAAU,KAAKj/C,CAAK,CAAC,CAC3B,OAAQ1L,EAAG,CACVga,EAAOha,CAAC,CACT,CACP,EACQ8qD,EAAYp/C,GAAU,CACxB,GAAI,CACFm/C,EAAKF,EAAU,MAAMj/C,CAAK,CAAC,CAC5B,OAAQ1L,EAAG,CACVga,EAAOha,CAAC,CACT,CACP,EACQ6qD,EAAQhpD,GAAMA,EAAE,KAAOkY,EAAQlY,EAAE,KAAK,EAAI,QAAQ,QAAQA,EAAE,KAAK,EAAE,KAAK+oD,EAAWE,CAAQ,EAC/FD,GAAMF,EAAYA,EAAU,MAAMF,EAAQC,CAAW,GAAG,KAAI,CAAE,CAClE,CAAG,EAKH,SAASK,GAAwBljD,EAAQ,CACvC,IAAImjD,EACAC,EAAmB,CAAA,EACvB,SAASC,GAAsB,CACzB,OAAO,QAAQD,CAAgB,EAAE,SAAW,IAC9CD,GAAsB,MAAgBA,EAAkB,EACxDA,EAAqB,OAExB,CACD,IAAIG,EAAQ,KAAK,MAAM,KAAK,OAAM,EAAK,GAAG,EAC1C,SAASC,GAAY,CACnB,OAAOD,GACR,CACD,MAAO,CACL,YAAY1jD,EAAMyJ,KAASmD,EAAM,CAC/B,OAAOm2C,GAAQ,KAAM,KAAM,WAAa,CACtC,IAAIa,EAAKryC,EACT,MAAMzR,EAAU,CACd,GAAI6jD,EAAW,EACf,KAAA3jD,EACA,KAAAyJ,EACA,UAAW,KAAK,IAAK,CAC/B,GACSm6C,EAAMxjD,EAAO,SAAW,MAAgBwjD,EAAI,MAAM,+BAA+B9jD,EAAQ,EAAE,OAAkBA,EAAS,GAAG8M,CAAI,EAC9H,MAAMoH,EAAW,MAAM5T,EAAO,YAAYN,EAAS,GAAG8M,CAAI,EACpD,CAAE,IAAAmK,EAAK,IAAAzT,CAAK,EAAG0Q,GAA8B,CAAE,IAAK,IAAI,MAAM,aAAa,CAAC,EAElF,IADCzC,EAAKnR,EAAO,SAAW,MAAgBmR,EAAG,MAAM,+BAA+BzR,EAAQ,EAAE,OAAkB,CAAE,IAAAiX,EAAK,IAAAzT,CAAG,CAAE,EACpHA,GAAO,KACT,MAAM8+C,GAAiB9+C,CAAG,EAC5B,OAAOyT,CACf,CAAO,CACF,EACD,UAAU/W,EAAM6jD,EAAY,CAC1B,IAAID,EAAKryC,EAAIs1B,EAgCb,GA/BI0c,GAAsB,QACvBK,EAAMxjD,EAAO,SAAW,MAAgBwjD,EAAI,MAC3C,gBAAgB5jD,CAAI,qDAC9B,EACQujD,EAAqBnjD,EAAO,gBAAiBN,GAAY,CACvD,IAAIgkD,EAAKC,EACT,GAAI,OAAOjkD,EAAQ,MAAQ,UAAY,OAAOA,EAAQ,WAAc,SAAU,CAC5E,MAAMwD,EAAM,MACV,+FAA+F,KAAK,UAClGxD,CAChB,CAAe,EACf,EACY,MAACgkD,EAAM1jD,EAAO,SAAW,MAAgB0jD,EAAI,MAAMxgD,CAAG,EAChDA,CACP,EACAygD,EAAM3jD,GAAU,KAAO,OAASA,EAAO,SAAW,MAAgB2jD,EAAI,MAAM,+BAAgCjkD,CAAO,EACpH,MAAMiP,EAAWy0C,EAAiB1jD,EAAQ,IAAI,EAC9C,GAAIiP,GAAY,KACd,OACF,MAAMgI,EAAMhI,EAASjP,CAAO,EAC5B,OAAO,QAAQ,QAAQiX,CAAG,EAAE,KAAMitC,GAAS,CACzC,IAAIC,EACJ,OAACA,EAAM7jD,GAAU,KAAO,OAASA,EAAO,SAAW,MAAgB6jD,EAAI,MAAM,6BAA6BnkD,EAAQ,EAAE,OAAkB,CAAE,IAAKkkD,CAAI,CAAE,EAC5I,CAAE,IAAKA,EAC1B,CAAW,EAAE,MAAO1gD,GAAQ,CAChB,IAAI2gD,EACJ,OAACA,EAAM7jD,GAAU,KAAO,OAASA,EAAO,SAAW,MAAgB6jD,EAAI,MAAM,6BAA6BnkD,EAAQ,EAAE,OAAkB,CAAE,IAAAwD,CAAG,CAAE,EACtI,CAAE,IAAK6+C,GAAe7+C,CAAG,CAAC,CAC7C,CAAW,CACX,CAAS,GAECkgD,EAAiBxjD,CAAI,GAAK,KAAM,CAClC,MAAMsD,EAAM,MACV,sEAAsEtD,CAAI,EACpF,EACQ,MAACuR,EAAKnR,EAAO,SAAW,MAAgBmR,EAAG,MAAMjO,CAAG,EAC9CA,CACP,CACD,OAAAkgD,EAAiBxjD,CAAI,EAAI6jD,GACxBhd,EAAKzmC,EAAO,SAAW,MAAgBymC,EAAG,IAAI,kCAAkC7mC,CAAI,EAAE,EAChF,IAAM,CACX,OAAOwjD,EAAiBxjD,CAAI,EAC5ByjD,GACR,CACK,EACD,oBAAqB,CACnB,OAAO,KAAKD,CAAgB,EAAE,QAASxjD,GAAS,CAC9C,OAAOwjD,EAAiBxjD,CAAI,CACpC,CAAO,EACDyjD,GACD,CACL,CACA,CCpIA,SAASS,GAAyB9jD,EAAQ,CACxC,OAAOkjD,GAAwBR,GAAcD,GAAe,CAAE,EAAEziD,CAAM,EAAG,CACvE,YAAYN,EAASqkD,EAAO,CAC1B,OAAIA,GAAS,KACJrvC,GAAQ,QAAQ,YAAYhV,CAAO,EACrCgV,GAAQ,KAAK,YAAYqvC,EAAOrkD,CAAO,CAC/C,EACD,gBAAgBskD,EAAgB,CAC9B,MAAMr1C,EAAW,CAACjP,EAAS6T,IAEhBywC,EADL,OAAOtkD,GAAY,SACCgjD,GAAcD,GAAe,CAAA,EAAI/iD,CAAO,EAAG,CAAE,OAAA6T,CAAQ,CAAA,EAErD7T,CAFsD,EAIhF,OAAAgV,GAAQ,QAAQ,UAAU,YAAY/F,CAAQ,EACvC,IAAM+F,GAAQ,QAAQ,UAAU,eAAe/F,CAAQ,CAC/D,CACF,CAAA,CAAC,CACJ;;;;;GCjBA,IAAAs1C,GAAiB,SAAkB1gD,EAAK,CACtC,OAAOA,GAAO,MAAQ,OAAOA,GAAQ,UAAY,MAAM,QAAQA,CAAG,IAAM,EAC1E;;;;;GCJA,MAAM2gD,GAAWC,GAEjB,IAAAC,GAAiB,SAAS/lD,EAAQ+L,EAAMyP,EAAS,CAK/C,GAJKqqC,GAASrqC,CAAO,IACnBA,EAAU,CAAE,QAASA,IAGnB,CAACwqC,GAAchmD,CAAM,EACvB,OAAO,OAAOwb,EAAQ,QAAY,IAAcA,EAAQ,QAAUxb,EAGhE,OAAO+L,GAAS,WAClBA,EAAO,OAAOA,CAAI,GAGpB,MAAM5G,EAAU,MAAM,QAAQ4G,CAAI,EAC5Bk6C,EAAW,OAAOl6C,GAAS,SAC3Bm6C,EAAY1qC,EAAQ,WAAa,IACjC2qC,EAAW3qC,EAAQ,WAAa,OAAO0qC,GAAc,SAAWA,EAAY,KAElF,GAAI,CAACD,GAAY,CAAC9gD,EAChB,OAAOnF,EAGT,GAAIimD,GAAYl6C,KAAQ/L,EACtB,OAAOma,GAAQpO,EAAM/L,EAAQwb,CAAO,EAAIxb,EAAO+L,CAAI,EAAIyP,EAAQ,QAGjE,IAAI4qC,EAAOjhD,EAAU4G,EAAOs6C,GAAMt6C,EAAMm6C,EAAW1qC,CAAO,EACtDjb,EAAM6lD,EAAK,OACXE,EAAM,EAEV,EAAG,CACD,IAAI79C,EAAO29C,EAAKE,CAAG,EAKnB,IAJI,OAAO79C,GAAS,WAClBA,EAAO,OAAOA,CAAI,GAGbA,GAAQA,EAAK,MAAM,EAAE,IAAM,MAChCA,EAAO89C,GAAK,CAAC99C,EAAK,MAAM,EAAG,EAAE,EAAG29C,EAAK,EAAEE,CAAG,GAAK,EAAE,EAAGH,EAAU3qC,CAAO,EAGvE,GAAI/S,KAAQzI,EAAQ,CAClB,GAAI,CAACma,GAAQ1R,EAAMzI,EAAQwb,CAAO,EAChC,OAAOA,EAAQ,QAGjBxb,EAASA,EAAOyI,CAAI,CAC1B,KAAW,CACL,IAAI+9C,EAAU,GACV/rD,EAAI6rD,EAAM,EAEd,KAAO7rD,EAAI8F,GAGT,GAFAkI,EAAO89C,GAAK,CAAC99C,EAAM29C,EAAK3rD,GAAG,CAAC,EAAG0rD,EAAU3qC,CAAO,EAE3CgrC,EAAU/9C,KAAQzI,EAAS,CAC9B,GAAI,CAACma,GAAQ1R,EAAMzI,EAAQwb,CAAO,EAChC,OAAOA,EAAQ,QAGjBxb,EAASA,EAAOyI,CAAI,EACpB69C,EAAM7rD,EAAI,EACV,KACD,CAGH,GAAI,CAAC+rD,EACH,OAAOhrC,EAAQ,OAElB,CACF,OAAQ,EAAE8qC,EAAM/lD,GAAOylD,GAAchmD,CAAM,GAE5C,OAAIsmD,IAAQ/lD,EACHP,EAGFwb,EAAQ,OACjB,EAEA,SAAS+qC,GAAKH,EAAMD,EAAU3qC,EAAS,CACrC,OAAI,OAAOA,EAAQ,MAAS,WACnBA,EAAQ,KAAK4qC,CAAI,EAEnBA,EAAK,CAAC,EAAID,EAAWC,EAAK,CAAC,CACpC,CAEA,SAASC,GAAMt6C,EAAMm6C,EAAW1qC,EAAS,CACvC,OAAI,OAAOA,EAAQ,OAAU,WACpBA,EAAQ,MAAMzP,CAAI,EAEpBA,EAAK,MAAMm6C,CAAS,CAC7B,CAEA,SAAS/rC,GAAQrZ,EAAKd,EAAQwb,EAAS,CACrC,OAAI,OAAOA,EAAQ,SAAY,WACtBA,EAAQ,QAAQ1a,EAAKd,CAAM,EAE7B,EACT,CAEA,SAASgmD,GAAc9gD,EAAK,CAC1B,OAAO2gD,GAAS3gD,CAAG,GAAK,MAAM,QAAQA,CAAG,GAAK,OAAOA,GAAQ,UAC/D,iBC7GA,IAAIo/C,GAAU,CAACC,EAAQC,EAAaC,IAC3B,IAAI,QAAQ,CAAC5wC,EAASC,IAAW,CACtC,IAAI4wC,EAAal/C,GAAU,CACzB,GAAI,CACFm/C,EAAKF,EAAU,KAAKj/C,CAAK,CAAC,CAC3B,OAAQ1L,EAAG,CACVga,EAAOha,CAAC,CACT,CACP,EACQ8qD,EAAYp/C,GAAU,CACxB,GAAI,CACFm/C,EAAKF,EAAU,MAAMj/C,CAAK,CAAC,CAC5B,OAAQ1L,EAAG,CACVga,EAAOha,CAAC,CACT,CACP,EACQ6qD,EAAQhpD,GAAMA,EAAE,KAAOkY,EAAQlY,EAAE,KAAK,EAAI,QAAQ,QAAQA,EAAE,KAAK,EAAE,KAAK+oD,EAAWE,CAAQ,EAC/FD,GAAMF,EAAYA,EAAU,MAAMF,EAAQC,CAAW,GAAG,KAAI,CAAE,CAClE,CAAG,EAKH,SAASiC,IAAe,CACtB,GAAI,CAACC,GAAuB,EAC1B,MAAO,GACT,MAAMC,EAAWtwC,GAAQ,QAAQ,YAAW,EAC5C,OAAKswC,EAAS,WAEPA,EAAS,mBAAqB,EAAIC,GAA2B,EAAGC,GAAgB,EAD9E,EAEX,CACA,SAASH,IAAwB,CAC/B,IAAI3zC,EACJ,MAAO,CAAC,GAAGA,EAAKsD,GAAQ,UAAY,MAAgBtD,EAAG,GACzD,CACA,IAAI+zC,GAAkC,CACpC,kCACF,EACA,SAASD,IAAmB,CAC1B,OAAO,OAAO,OAAW,KAAeC,GAAgC,SAAS,SAAS,QAAQ,CACpG,CACA,SAASF,IAA4B,CACnC,OAAO,OAAO,OAAW,GAC3B,CAKA,SAASG,GAAmBzjD,EAAM0jD,EAAMrlD,EAAQ,CAC9C,IAAIslD,EACJ,MAAMC,EAAa,iBAAiB5jD,CAAI,GAClC,CAAE,UAAA6jD,EAAW,YAAAC,CAAa,EAAG3B,GAAyB9jD,CAAM,EAClE,SAAS0lD,EAAYt7C,EAAM,CACzB,MAAMu7C,EAAU,IAAM,CAC1B,EACUC,EAAQ,IAAI,MAAMD,EAAS,CAC/B,MAAME,EAASC,EAAUt5C,EAAM,CAC7B,OAAOm2C,GAAQ,KAAM,KAAM,WAAa,CAKtC,OAJY,MAAM8C,EAAYF,EAAY,CACxC,KAAAn7C,EACA,KAAAoC,CACZ,CAAW,CAEX,CAAS,CACF,EACD,IAAInO,EAAQ0nD,EAAchzC,EAAU,CAClC,OAAIgzC,IAAiB,WAAa,OAAOA,GAAiB,SACjD,QAAQ,IAAI1nD,EAAQ0nD,EAAchzC,CAAQ,EAE5C2yC,EAAYt7C,GAAQ,KAAO27C,EAAe,GAAG37C,CAAI,IAAI27C,CAAY,EAAE,CAC3E,CACP,CAAK,EACD,OAAAH,EAAM,QAAU,GACTA,CACR,CACD,MAAO,CACL,YAA4Bp5C,EAAM,CAChC,OAAA84C,EAAUD,EAAK,GAAG74C,CAAI,EACtBg5C,EAAUD,EAAY,CAAC,CAAE,KAAAl8C,KAAW,CAClC,MAAMpF,EAASoF,EAAK,MAAQ,KAAOi8C,EAAUz9C,GAAIy9C,GAA4B,CAAE,EAAEj8C,EAAK,IAAI,EAC1F,GAAIpF,EACF,OAAO,QAAQ,QAAQA,EAAO,KAAKqhD,CAAO,EAAE,GAAGj8C,EAAK,IAAI,CAAC,CACnE,CAAO,EACMi8C,CACR,EACD,UAAsB,CACpB,GAAI,CAACR,GAAc,EACjB,OAAOY,EAAW,EACpB,GAAIJ,GAAW,KACb,MAAM,MACJ,gCAAgC3jD,CAAI,mGAC9C,EAEM,OAAO2jD,CACR,CACL,CACA,CC7Fa,KAAA,CAACU,GAAsBC,EAAmB,EAAIb,GACzD,gBACA,IACSc,GAAqB,CAC1B,eAAgB,CACd,QAAS,qCACX,CAAA,CACD,CAEL,ECTMC,GAAc/nD,EAAI,OAAO,UAAU,MAAO,EACzC,SAASgoD,IAAsB,CAEpChoD,EAAI,OAAO,QAAQ,GAAG,YAAY,SAAUg3C,EAAS7hC,EAAQkW,EAAU,CACrE,OAAA2rB,EAAQ,QAAUA,EAAQ,SAAW,CAAE,EACvCA,EAAQ,QAAQ,OAAS7hC,GAAU,CAAE,EAGhCA,EAAO,KACVnV,EAAI,OAAO,QAAQ,CACjB,QAASg3C,EAAQ,QACjB,QAASA,EAAQ,QACjB,UAAW,OAAO3rB,GAAa,WAAaA,EAAW,UAAY,CAAE,CAC7E,CAAO,EAGI,EACX,CAAG,EAGDrrB,EAAI,OAAO,UAAU,CACnB,MAAO,GAEP,QAAS,SAAUsB,EAASgI,EAAS+hB,EAAU,CAC7C/hB,EAAUA,GAAW,CAAE,EAEvB,SAAS20C,EAAgB5yB,EAAU,CASjC,OARI,OAAO,QAAQ,WACjBjT,GAAO,IACL,uCACA,oBACA,OAAO,QAAQ,SAChB,EAGCiT,GAAY,MAAa,OAAOA,GAAa,WACxC,IAAMA,EAEN,IAAM,EAEhB,CAED,OAAAA,EAAW4yB,EAAgB5yB,CAAQ,GAG/B,CAAC/hB,EAAQ,QAAUA,EAAQ,OAAO,KAAOy+C,KAC3C/nD,EAAI,OAAO,QAAQ,KACjB,KACA,CAAE,QAASsB,EAAQ,SAAQ,EAAI,QAASgI,CAAS,EACjD,KACA+hB,CACD,EAGI,EACR,CACL,CAAG,CACH,CClDA,IAAI48B,GAEJ,MAAM5X,GAAO,OAAO,QAAQ,QAAQ,CAAE,KAAM,YAAa,EACzD2X,KAEAhoD,EAAI,OAAO,OACT,4BACA,SAAUsB,EAAiBgI,EAAc,CACvC2+C,GAAgB3+C,EAAQ,IAAI,GAC9B,CACF,EAEA,MAAM29C,GAAO,SAAY,CACvB,MAAMzvC,EAAY,MAAMxX,EAAI,QAAQ,IAAI,YAAY,EAE3CkoD,GACP,CACE,aAAc,IAAMloD,EAAI,QAAQ,IAAI,aAAc,EAAI,EACtD,wBAA0BsB,GAAY,CAE9B,MAAA6mD,EAAW,KAAK,SACtB,OAAA9X,GAAK,YAAY,CACf,QAAS,0BACT,QAAS/uC,EACT,MAAO6mD,CAAA,CACR,EACM,IAAI,QAAS5vC,GAAQ,CAC1B,MAAMhI,EAAW,CAAC,CAChB,QAAAjP,EACA,QAAAgI,EACA,MAAA8+C,CAAA,IAKI,CACA9mD,IAAY,4BAA8B6mD,IAAaC,IACpD/X,GAAA,UAAU,eAAe9/B,CAAQ,EACtCgI,EAAIjP,CAAO,EACb,EAEG+mC,GAAA,UAAU,YAAY9/B,CAAQ,CAAA,CACpC,CACH,EACA,OAAmB,KACnB,qBAAsB,GACtB,kBAAmB,kCACnB,aAAe27B,GAAO,CACpBmE,GAAK,YAAY,CACf,QAAS,WACT,QAAS,CACP,SAAU4X,GACV,GAAA/b,CACF,CAAA,CACD,CACH,CACF,EACA,CACE,IAAK2b,GAAoB,EACzB,MAAOhQ,GAAS,OAChB,UAAArgC,EACA,mBAAoB,MAAMxX,EAAI,aAAa,IAAI,oBAAoB,EACnE,UAAUqoD,EAAKC,EAAW,CAM1B,CACF,CAAA,CAEJ,GAEE,SAAY,CACN,MAAAtoD,EAAI,QAAQ,YACZ,MAAAA,EAAI,aAAa,OACvB,MAAMgwC,EAAY,MAAMhwC,EAAI,mBAAmB,SAAS,UAAU,EAElEoY,GAAO,IAAI,YAAa,sBAAwB43B,EAAW,OAAW,MAAM,EACxEA,GAAgBiX,IACtB,GAAG","x_google_ignoreList":[0,2,4,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,57,60,61,62,63,64,78,79,80,81,82,83,84]}