{"version":3,"file":"onboarding.js","sources":["../../../src/components/Onboarding/onboarding.tpl?raw","../../../src/components/Onboarding/OnboardingView.js","../../../src/components/Onboarding/OnboardingModel.js","../../../src/components/Onboarding/OnboardingController.js","../../../src/components/Onboarding/main.js"],"sourcesContent":["export default \"<div class=\\\"bg-black bg-opacity-50 flex fixed inset-0 w-full h-full\\\">\\n    <div class=\\\"onboarding m-auto bg-base-100 overflow-hidden flex flex-col rounded-xl\\\">\\n\\n        <div class=\\\"flex-1 overflow-y-auto\\\">\\n            <div class=\\\"p-4 flex flex-col gap-4\\\">\\n                <!-- Existing User Header -->\\n                <div class=\\\"flex flex-col gap-4\\\" id=\\\"existingUserHeader\\\">\\n                    <div class=\\\"image-container flex items-center justify-center p-4 gap-4 rounded bg-neutral\\\">\\n                        <img class=\\\"logo-sf\\\" src=\\\"{{extensionURL}}common/img/logo.svg\\\" />\\n                        <iconify-icon width=\\\"32\\\" class=\\\"text-base-content/70 mt-1\\\" icon=\\\"fa:handshake-o\\\"></iconify-icon>\\n                        <img class=\\\"logo-st\\\" src=\\\"{{extensionURL}}common/img/sensortower-logo.svg\\\"/>\\n                    </div>\\n                    <p class=\\\"text-base-content\\\" data-i18n=\\\"onboardingExistingUserMessage\\\"></p>\\n                    <div class=\\\"flex flex-wrap gap-2\\\">\\n                        <div class=\\\"chip chip-accent\\\" data-i18n=\\\"featureDailyReports\\\"></div>\\n                        <div class=\\\"chip chip-secondary\\\" data-i18n=\\\"featureFocusSchedules\\\"></div>\\n                        <div class=\\\"chip chip-info\\\" data-i18n=\\\"featureModernizedUI\\\"></div>\\n                        <div class=\\\"chip chip-warning\\\" data-i18n=\\\"featureDistractingCategories\\\"></div>\\n                    </div>\\n\\n                    <!-- Trusted By Alert -->\\n                    <div class=\\\"alert alert-info\\\">\\n                        <iconify-icon width=\\\"30\\\" class=\\\"ml-2\\\" icon=\\\"mdi:check-decagram\\\"></iconify-icon>\\n                        <p class=\\\"alert-title flex-1 font-medium\\\" data-i18n=\\\"trusted22mlnUsers\\\"></p>\\n                    </div>\\n                </div>\\n\\n                <!-- New User Header -->\\n                <div class=\\\"flex flex-col gap-4\\\" id=\\\"newUserHeader\\\">\\n                    <div class=\\\"image-container flex items-center justify-center p-4 gap-4 rounded bg-neutral\\\">\\n                        <img class=\\\"logo-sf\\\" src=\\\"{{extensionURL}}common/img/logo.svg\\\" />\\n                    </div>\\n                    <h1 class=\\\"text-base-content font-bold text-lg\\\" data-i18n=\\\"onboardingNewUserTitle\\\"></h1>\\n                    <p class=\\\"text-base-content\\\" data-i18n=\\\"onboardingNewUserMessage\\\"></p>\\n                </div>\\n\\n                <!-- Confirm Privacy Policy Header -->\\n                <div class=\\\"flex flex-col gap-4\\\" id=\\\"confirmPrivacyPolicyHeader\\\">\\n                    <div class=\\\"image-container flex items-center justify-center p-4 gap-4 rounded bg-neutral\\\">\\n                        <img class=\\\"logo-sf\\\" src=\\\"{{extensionURL}}common/img/logo.svg\\\" />\\n                    </div>\\n                    <h1 class=\\\"text-base-content font-bold text-lg\\\" data-i18n=\\\"onboardingConfirmTitle\\\"></h1>\\n                    <p class=\\\"text-base-content\\\" data-i18n=\\\"onboardingConfirmMessage\\\"></p>\\n                    <div class=\\\"flex flex-wrap gap-2\\\">\\n                        <div class=\\\"chip chip-accent\\\" data-i18n=\\\"featureDailyReports\\\"></div>\\n                        <div class=\\\"chip chip-warning\\\" data-i18n=\\\"featureDistractingCategories\\\"></div>\\n                    </div>\\n                </div>\\n\\n                <!-- Form Checkboxes -->\\n                <div class=\\\"flex flex-col gap-2 px-4\\\">\\n\\n                    <!-- Age -->\\n                    <div class=\\\"age-row flex gap-4 items-center\\\" id=\\\"ageCheckbox\\\">\\n                        <div class=\\\"flex items-start gap-3\\\">\\n                            <input class=\\\"mt-1.5\\\" type=\\\"checkbox\\\" id=\\\"isAge18\\\" checked=\\\"{{is18OrOlder}}\\\" data-analytics-toggle=\\\"TOGGLE_ONBOARDING_AGE\\\"></input>\\n                            <label class=\\\"cursor-pointer\\\" for=\\\"isAge18\\\">\\n                                <span data-i18n=\\\"iAm\\\"></span>\\n                                <span data-i18n=\\\"ageOver18\\\" id=\\\"ageOver18\\\"></span>\\n                            </label>\\n                        </div>\\n                        <select class=\\\"select select-bordered select-xs\\\" name=\\\"age\\\" id=\\\"ageSelect\\\">\\n                            <option value=\\\"under13\\\" data-i18n=\\\"ageUnder13\\\"></option>\\n                            <option value=\\\"14\\\">14</option>\\n                            <option value=\\\"15\\\">15</option>\\n                            <option value=\\\"16\\\">16</option>\\n                            <option value=\\\"17\\\">17</option>\\n                        </select>\\n                    </div>\\n                    <p class=\\\"p-l-checkbox ml-6 mb-2\\\" data-i18n=\\\"under18Message\\\" id=\\\"under18Message\\\"></p>\\n\\n\\n                    <!-- Terms of Service -->\\n                    <div class=\\\"flex items-start gap-3\\\" id=\\\"acceptedToSCheckbox\\\">\\n                        <input class=\\\"mt-1.5\\\" type=\\\"checkbox\\\" id=\\\"hasAcceptedToS\\\" checked=\\\"{{hasAcceptedToS}}\\\" data-analytics-toggle=\\\"TOGGLE_ONBOARDING_TOS\\\"></input>\\n                        <label class=\\\"cursor-pointer\\\" for=\\\"hasAcceptedToS\\\" data-i18n=\\\"acceptStayFocusdToS\\\"></label>\\n                    </div>\\n                    <p class=\\\"text-error p-l-checkbox ml-6 mb-2\\\" data-i18n=\\\"declineToSMessage\\\" id=\\\"declineToSMessage\\\"></p>\\n\\n\\n                    <!-- Privacy Policy -->\\n                    <div class=\\\"flex items-start gap-3\\\" id=\\\"acceptedPrivacyPolicyCheckbox\\\">\\n                        <input class=\\\"mt-1.5\\\" type=\\\"checkbox\\\" id=\\\"hasAcceptedPrivacyPolicy\\\" checked=\\\"{{hasAcceptedPrivacyPolicy}}\\\" data-analytics-toggle=\\\"TOGGLE_ONBOARDING_PRIVACY_POLICY\\\"></input>\\n                        <label class=\\\"cursor-pointer\\\" for=\\\"hasAcceptedPrivacyPolicy\\\" data-i18n=\\\"acceptStayFocusdPolicy\\\"></label>\\n                    </div>\\n                    <div class=\\\"text-sm p-l-checkbox ml-6\\\" id=\\\"privacyPolicySummary\\\">\\n                        <p class=\\\"text-base-content\\\" data-i18n=\\\"privatePolicyTitle\\\"></p>\\n                        <ul list>\\n                            <li><span class=\\\"text-base-content\\\" data-i18n=\\\"privatePolicyProps1\\\"></span></li>\\n                            <li><span class=\\\"text-base-content\\\" data-i18n=\\\"privatePolicyProps2\\\"></span></li>\\n                            <li><span class=\\\"text-base-content\\\" data-i18n=\\\"privatePolicyProps3\\\"></span></li>\\n                            <li><span class=\\\"text-base-content\\\" data-i18n=\\\"privatePolicyProps4\\\"></span></li>\\n                            <li><span class=\\\"text-base-content\\\" data-i18n=\\\"privatePolicyProps5\\\"></span></li>\\n                        </ul>\\n                    </div>\\n\\n                </div>\\n            </div>\\n        </div>\\n\\n        <!-- Buttons -->\\n        <div class=\\\"px-4 py-2 w-full border-solid border-t-neutral-focus border-t bg-base-100 flex gap-2 shrink-0\\\">\\n            <button class=\\\"btn btn-ghost inline-block\\\" data-i18n=\\\"decline\\\" id=\\\"btnDecline\\\"></button>\\n            <div class=\\\"flex-1\\\"></div>\\n            <button class=\\\"btn btn-outline btn-primary\\\" data-i18n=\\\"askLater\\\" id=\\\"btnAskLater\\\"></button>\\n            <button class=\\\"btn btn-primary\\\" data-i18n=\\\"continue\\\" id=\\\"btnContinue\\\"></button>\\n            <button class=\\\"btn btn-primary\\\" data-i18n=\\\"continue\\\" id=\\\"btnAccept\\\"></button>\\n        </div>\\n\\n    </div>\\n</div>\\n\"","import API from '~/core/CoreAPI'\nimport PubSub from 'dropletjs.pubsub'\nimport Brightline from 'brightline.js'\nimport onboardingTpl from './onboarding.tpl?raw'\nimport Browser from 'webextension-polyfill'\n\nvar log = API.Utils.createScopedLog('OnboardingView')\n\nconst CSS_HIDDEN = 'hidden'\nconst CSS_LINE_THROUGH = 'line-through'\n\nexport default class OnboardingView {\n  model = null\n\n  /**\n   * @param {OnboardingModel} model instance\n   */\n  constructor(model) {\n    log('constructor', 'Constructing OnboardingView', null, 'DEBUG')\n    this.model = model\n  }\n\n  init() {\n    log('init', 'Initializing view', null, 'DEBUG')\n    document.body.innerHTML = this.render()\n\n    API.StayFocusd.localizeHTML(document)\n    this.bindUIHandlers()\n    this.rerender()\n  }\n\n  /**\n   * Renders the template for the first time.\n   */\n  render() {\n    log('render', 'Rendering view')\n    var template = new Brightline(onboardingTpl)\n\n    template.set('referrer', this.model.referrer)\n    template.set('isExistingUser', this.model.isExistingUser)\n    template.set('isModal', this.model.isModal)\n    template.set('modalPosition', this.model.modalPosition)\n    template.set('hasAcceptedToS', this.model.hasAcceptedToS)\n    template.set(\n      'hasAcceptedPrivacyPolicy',\n      this.model.hasAcceptedPrivacyPolicy,\n    )\n    template.set('is18OrOlder', this.model.is18OrOlder)\n    template.set('age', this.model.age)\n\n    template.set('extensionURL', Browser.runtime.getURL('/'))\n\n    return template.render()\n  }\n\n  /**\n   * Adds event listeners and publishes events for the controller to listen to.\n   */\n  bindUIHandlers() {\n    log('bindUIHandlers', 'Binding UI handlers', null, 'TRACE')\n    document.querySelectorAll('.btn').forEach((btn) => {\n      btn.addEventListener('click', () => {\n        PubSub.publish('OnboardingView.button.clicked', { id: btn.id })\n      })\n    })\n    document.querySelectorAll('input[type=\"checkbox\"]').forEach((checkbox) => {\n      checkbox.addEventListener('click', (e) => {\n        PubSub.publish('OnboardingView.checkbox.checked', {\n          id: checkbox.id,\n          isChecked: e.target.checked,\n        })\n      })\n    })\n    document.querySelectorAll('select').forEach((select) => {\n      select.addEventListener('change', (e) => {\n        PubSub.publish('OnboardingView.select.changed', {\n          id: select.id,\n          value: e.target.value,\n        })\n      })\n    })\n\n    API.Analytics.bindHtmlEvents()\n  }\n\n  /**\n   * Update the UI to show the latest values inside the model.\n   */\n  rerender() {\n    const {\n      hasAcceptedToS,\n      hasAcceptedPrivacyPolicy,\n      is18OrOlder,\n      age,\n      isExistingUser,\n      confirmationCount,\n      isConfirmingPrivacy,\n    } = this.model\n\n    const ui = isConfirmingPrivacy\n      ? 'confirm'\n      : isExistingUser\n      ? 'existing'\n      : 'new'\n\n    // Text Sections\n    this.setVisible('newUserHeader', ui === 'new')\n    this.setVisible('existingUserHeader', ui === 'existing')\n    this.setVisible('confirmPrivacyPolicyHeader', ui === 'confirm')\n\n    // Age Checkbox\n    this.setVisible('ageCheckbox', ui !== 'confirm')\n    this.setVisible('ageOver18', is18OrOlder)\n\n    this.setChecked('isAge18', is18OrOlder)\n\n    this.setVisible('ageUnder18Checkbox', !is18OrOlder)\n\n    this.setVisible('ageSelect', !is18OrOlder)\n    this.setValue('ageSelect', age)\n\n    // ToS Checkbox\n    this.setVisible('acceptedToSCheckbox', ui !== 'confirm')\n    this.setDisabled('acceptedToSCheckbox', !is18OrOlder)\n    this.setCrossOut('acceptedToSCheckbox', !is18OrOlder)\n\n    this.setChecked('hasAcceptedToS', is18OrOlder && hasAcceptedToS)\n    this.setDisabled('hasAcceptedToS', !is18OrOlder)\n\n    this.setVisible('declineToSMessage', !hasAcceptedToS && is18OrOlder)\n\n    // Privacy Policy Checkbox\n    this.setVisible('acceptedPrivacyPolicyCheckbox', true)\n    this.setDisabled('acceptedPrivacyPolicyCheckbox', !is18OrOlder)\n    this.setCrossOut('acceptedPrivacyPolicyCheckbox', !is18OrOlder)\n\n    this.setChecked(\n      'hasAcceptedPrivacyPolicy',\n      is18OrOlder && hasAcceptedPrivacyPolicy,\n    )\n    this.setDisabled('hasAcceptedPrivacyPolicy', !is18OrOlder)\n\n    this.setVisible('under18Message', !is18OrOlder)\n\n    this.setVisible('privacyPolicySummary', is18OrOlder)\n\n    // Buttons\n    this.setVisible('btnDecline', ui === 'confirm' && confirmationCount >= 2)\n    this.setVisible('btnAskLater', ui === 'confirm' && confirmationCount < 2)\n    this.setVisible('btnContinue', !is18OrOlder)\n    this.setVisible('btnAccept', is18OrOlder)\n    this.setDisabled(\n      'btnAccept',\n      !hasAcceptedToS || (ui === 'confirm' && !hasAcceptedPrivacyPolicy),\n    )\n  }\n\n  // UI Helpers\n\n  setVisible(id, isVisible) {\n    const element = document.getElementById(id)\n    if (!element) return\n\n    if (isVisible) element.classList.remove(CSS_HIDDEN)\n    else element.classList.add(CSS_HIDDEN)\n  }\n  setCrossOut(id, isCrossedOut) {\n    const element = document.getElementById(id)\n    if (!element) return\n\n    if (isCrossedOut) element.classList.add(CSS_LINE_THROUGH)\n    else element.classList.remove(CSS_LINE_THROUGH)\n  }\n  setDisabled(id, isDisabled) {\n    const element = document.getElementById(id)\n    if (!element) return\n\n    if (isDisabled) element.setAttribute('disabled', 'true')\n    else delete element.removeAttribute('disabled')\n  }\n  setChecked(id, isChecked) {\n    const element = document.getElementById(id)\n    if (!element) return\n\n    element.checked = isChecked\n  }\n  setValue(id, value) {\n    const element = document.getElementById(id)\n    if (!element) return\n\n    if (value != null) element.value = value\n    else element.removeAttribute('value')\n  }\n}\n","import API from '~/core/CoreAPI'\n\nconst log = API.Utils.createScopedLog('OnboardingModel')\n\nexport default class OnboardingModel {\n  referrer = null\n  hasAcceptedToS = null\n  hasAcceptedPrivacyPolicy = null\n  is18OrOlder = null\n  age = null\n  isExistingUser = null\n  explicitlyDeclinedPrivacyPolicy = null\n  shownCount = null\n  confirmationCount = null\n\n  constructor() {\n    log('constructor', 'Constructing OnboardingModel', null, 'DEBUG')\n    const queryParams = new URL(window.location.href).searchParams\n    this.referrer = queryParams.get('referrer')\n\n    this.isExistingUser = !API.Settings.get('isNewUser')\n    this.hasAcceptedToS = API.Settings.get('hasAcceptedToS') ?? true\n    this.hasAcceptedPrivacyPolicy =\n      API.Settings.get('hasAcceptedPrivacyPolicy') ?? true\n    this.is18OrOlder = API.Settings.get('is18OrOlder') ?? true\n    this.age = API.Settings.get('age')\n    this.explicitlyDeclinedPrivacyPolicy = API.Settings.get(\n      'explicitlyDeclinedPrivacyPolicy',\n    )\n\n    if (this.isConfirmingPrivacy) {\n      // Default to true if we're returning to confirm the user's privacy decision.\n      this.hasAcceptedPrivacyPolicy = true\n    }\n  }\n\n  async init() {\n    log('init', 'Initializing model', null, 'DEBUG')\n    this.shownCount = await API.Requirements.getOnboardingShownCount()\n    this.confirmationCount = await API.Requirements.getConfirmationCount()\n  }\n\n  /**\n   * If the user has already accepted the ToS, but declined the PP, we are just confirming\n   * their privacy policy decision.\n   *\n   * We're using the persisted values from the settings not the model's values because those\n   * default to true, and this is based off decisions that the user made, not defaults.\n   */\n  get isConfirmingPrivacy() {\n    return (\n      API.Settings.get('hasAcceptedToS') !== false &&\n      API.Settings.get('hasAcceptedPrivacyPolicy') === false\n    )\n  }\n\n  async incrementConfirmationCount() {\n    await API.Requirements.incrementConfirmationCount()\n    this.confirmationCount++\n  }\n}\n","import API from '~/core/CoreAPI'\nimport { DAY } from '~/core/Time'\nimport PubSub from 'dropletjs.pubsub'\nimport View from './OnboardingView'\nimport Model from './OnboardingModel'\n\nconst log = API.Utils.createScopedLog('OnboardingController')\n\nexport default class OnboardingController {\n  view = null\n  model = null\n\n  constructor() {\n    log('constructor', 'Constructing OnboardingController', null, 'DEBUG')\n    this.model = new Model()\n    this.view = new View(this.model)\n  }\n\n  async init() {\n    log('init', 'Initializing controller', null, 'DEBUG')\n    this.addListeners()\n\n    await API.Requirements.incrementOnboardingShownCount()\n\n    await this.model.init()\n    this.view.init()\n\n    this.event('ONBOARDING_STARTED', { referrer: this.model.referrer })\n  }\n\n  addListeners() {\n    log('addListeners', 'Adding listeners', null, 'TRACE')\n    PubSub.listen('OnboardingView.button.clicked', (_, { id }) => {\n      switch (id) {\n        case 'btnAskLater':\n          return this.onClickAskLater()\n        case 'btnContinue':\n          return this.onClickContinue()\n        case 'btnDecline':\n          return this.onClickDecline()\n        case 'btnAccept':\n          return this.onClickAccept()\n      }\n    })\n    PubSub.listen('OnboardingView.checkbox.checked', (_, { id, isChecked }) => {\n      switch (id) {\n        case 'isAge18':\n          return this.onIs18OrOlderChecked(isChecked)\n        case 'hasAcceptedToS':\n          return this.onAcceptToSChecked(isChecked)\n        case 'hasAcceptedPrivacyPolicy':\n          return this.onAcceptPrivacyPolicyChecked(isChecked)\n      }\n    })\n    PubSub.listen('OnboardingView.select.changed', (_, { id, value }) => {\n      switch (id) {\n        case 'ageSelect':\n          return this.onChangeAge(value)\n      }\n    })\n  }\n\n  /**\n   * Send a message to the iframe's parent window telling it to dismiss and hide the UI.\n   */\n  dismiss() {\n    window.parent.postMessage('OnboardingOverlay.dismiss', '*')\n  }\n\n  /**\n   * Saves the current selections (acceptance and age) to settings.\n   */\n  async saveModel() {\n    await API.Settings.setAsync({\n      is18OrOlder: this.model.is18OrOlder,\n      age: this.model.age,\n      hasAcceptedToS: this.model.hasAcceptedToS,\n      hasAcceptedPrivacyPolicy: this.model.hasAcceptedPrivacyPolicy,\n      explicitlyDeclinedPrivacyPolicy:\n        this.model.explicitlyDeclinedPrivacyPolicy,\n    })\n  }\n\n  async declineOnboarding() {\n    this.model.hasAcceptedPrivacyPolicy = false\n    this.model.explicitlyDeclinedPrivacyPolicy = true\n\n    await this.saveModel()\n    await this.event('ONBOARDING_COMPLETE', { acceptedAll: false })\n    this.dismiss()\n  }\n\n  // Click Events\n\n  async onClickContinue() {\n    await this.event('CLICK_ONBOARDING_CONTINUE')\n    await this.declineOnboarding()\n  }\n  async onClickDecline() {\n    await this.event('CLICK_ONBOARDING_DECLINE')\n    await this.model.incrementConfirmationCount()\n    await this.declineOnboarding()\n  }\n  async onClickAskLater() {\n    await this.event('CLICK_ONBOARDING_ASK_LATER')\n    await this.model.incrementConfirmationCount()\n    await API.Requirements.setPromptAgainAt(Date.now() + 3 * DAY)\n    this.dismiss()\n  }\n  async onClickAccept() {\n    // Always save the users selected options when pressing \"accept\"\n    await this.saveModel()\n    if (this.model.hasAcceptedPrivacyPolicy) {\n      await this.event('ONBOARDING_ACCEPTED_ALL')\n      await this.event('ONBOARDING_COMPLETE', { acceptedAll: true })\n    }\n\n    if (this.model.isConfirmingPrivacy) {\n      // If they declined the privacy policy, we need to rerender to make them confirm\n      // their decision. Reset the checkbox to checked\n      await this.event('CLICK_ONBOARDING_ACCEPT_CONFIRM_PRIVACY')\n      this.model.hasAcceptedPrivacyPolicy = true\n      this.view.rerender()\n    } else {\n      // Otherwise simply note that onboarding was completed and dismiss\n      await this.event('CLICK_ONBOARDING_ACCEPT_TOS')\n      this.dismiss()\n    }\n  }\n\n  // Select Events\n\n  onChangeAge(newAge) {\n    this.model.age = newAge === 'under13' ? null : Number(newAge)\n    this.view.rerender()\n  }\n\n  // Checkbox Events\n\n  onIs18OrOlderChecked(isChecked) {\n    this.model.is18OrOlder = isChecked\n    this.model.hasAcceptedToS = isChecked\n    this.model.hasAcceptedPrivacyPolicy = isChecked\n    this.model.age = isChecked ? null : 17\n    this.view.rerender()\n  }\n  onAcceptToSChecked(isChecked) {\n    this.model.hasAcceptedToS = isChecked\n    this.view.rerender()\n  }\n  onAcceptPrivacyPolicyChecked(isChecked) {\n    this.model.hasAcceptedPrivacyPolicy = isChecked\n    this.view.rerender()\n  }\n\n  /**\n   * Report an event to amplitude with some default properties.\n   * @param {string} event The event name.\n   * @param {object} properties Additional properties to include.\n   */\n  async event(event, properties) {\n    try {\n      await API.Analytics.event(event, {\n        shownCount: this.model.shownCount,\n        confirmationCount: this.model.confirmationCount,\n        isConfirmingPrivacy: this.model.isConfirmingPrivacy,\n        ...properties,\n      })\n    } catch (err) {\n      // We don't care if this fails\n    }\n  }\n}\n","import API from '~/core/CoreAPI'\nimport $ from 'jquery'\nimport OnboardingController from './OnboardingController'\nimport 'iconify-icon'\nasync function initOnboarding() {\n  await API.Settings.initAsync()\n\n  await Promise.all([\n    API.Bugsnag.init('onboarding'),\n    API.RemoteConfig.init(),\n    API.Analytics.init(),\n  ])\n\n  const controller = new OnboardingController()\n\n  $(document).ready(function () {\n    controller.init()\n  })\n}\n\ninitOnboarding().catch((err) => {\n  API.Bugsnag.notify(err)\n})\n"],"names":["onboardingTpl","log","API","CSS_HIDDEN","CSS_LINE_THROUGH","OnboardingView","model","__publicField","template","Brightline","Browser","btn","PubSub","checkbox","e","select","hasAcceptedToS","hasAcceptedPrivacyPolicy","is18OrOlder","age","isExistingUser","confirmationCount","isConfirmingPrivacy","ui","id","isVisible","element","isCrossedOut","isDisabled","isChecked","value","OnboardingModel","queryParams","OnboardingController","Model","View","_","DAY","newAge","event","properties","initOnboarding","controller","$","err"],"mappings":"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"}