define(["core/Logger","core/vendor/jquery.min","core/vendor/Brightline.min","core/CoreAPI","core/vendor/text!components/InfoBar/infoBar.tpl"],function(Logger,$,Brightline,API,infoBarTpl){return class{model=null;init(){this.model.isHidden()||this.inject()}render(){var template=new Brightline(infoBarTpl);return template.set("extensionURL",API.Chrome.Extension.getURL("/")),template.set("hideForever",API.Chrome.Translation.get("hideForever")),template.set("hideOnce",API.Chrome.Translation.get("hideOnce")),template.render()}inject(){$("body").prepend(this.render()),this.bindUIHandlers()}bindUIHandlers(){var self=this;$(document).on("click","#StayFocusd-infobar-hide",function(){self.hide()}),$(document).on("click","#StayFocusd-infobar-never-show",function(){self.hide(),self.model.setHidden(!0)})}show(msgType){this.model.isHidden()||($("#StayFocusd-infobar-msg").html(this.model.getMessage(msgType)),$("#StayFocusd-infobar").css("color","#ffffff"),$("#StayFocusd-infobar").slideDown("fast"))}hide(){this.model.isHidden()||$("#StayFocusd-infobar").slideUp("fast")}}});