define(["core/Logger","core/CoreAPI","components/List/ListController"],function(Logger,API,ListController){return class extends ListController{addListeners(){super.addListeners();var self=this;API.PubSub.listen("*.checkbox.toggle.STALKER_OPTION",function(){self.toggleStalkerOption()}),API.PubSub.listen("*.data.load.SUGGESTED_SITES",function(){self.loadSuggestedSitesList()})}toggleStalkerOption(){var isOutgoingLinksOptionActive=API.StayFocusd.isOutgoingLinksOptionActive();API.Settings.set({countdownForOutgoingLinks:!isOutgoingLinksOptionActive})}loadSuggestedSitesList(){var self=this;$.ajax({type:"GET",url:API.StayFocusd.getAPIURL()+"/SiteList/suggestions/black.json",data:null,success:function(response){response="string"==typeof response?JSON.parse(response):response;if(0===response.count||void 0===response.data)return alert(API.Chrome.Translation.get("errorLoadingSuggestedSites")),!1;API.PubSub.publish(self.getClassName()+".data.loaded.SUGGESTED_SITES",response)},error:function(){return alert(API.Chrome.Translation.get("errorLoadingSuggestedSites")),!1}})}}});