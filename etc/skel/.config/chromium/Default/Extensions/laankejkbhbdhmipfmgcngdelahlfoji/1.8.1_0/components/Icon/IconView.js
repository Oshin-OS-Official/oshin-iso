define(["core/Logger","core/CoreAPI"],function(Logger,API){return class{model=null;color={RED:"#FF0000",YELLOW:"#FDD017",GREEN:"#009933"};icon={ONBOARDING:"common/img/eye_19x19_blue_red_dot.png",ALLOWED:"common/img/eye_19x19_green.png",BLOCKED:"common/img/eye_19x19_red.png",DEFAULT:"common/img/eye_19x19_blue.png",NUCLEAR:"common/img/eye_19x19_nuclear.png"};showBadge(text,color,tabID){text=text||"",tabID=tabID||null,(color=this.getColor(color))&&this.setBadgeColor(color,tabID),this.setBadgeText(text,tabID),this.model.badgeVisible=!0}hideBadge(tabID){tabID=tabID||null,this.model.badgeVisible=!1,this.setBadgeText("",tabID)}async setIcon(type,tabID){tabID=tabID||null,await this.isOnboardingIcon()?API.Chrome.Icon.setURL({tabId:tabID,path:this.getIconURL("ONBOARDING")}):API.Chrome.Icon.setURL({tabId:tabID,path:this.getIconURL(type)})}setBadgeColor(color,tabID){API.Chrome.Icon.setBadgeColor({tabId:tabID=tabID||null,color:color})}setBadgeText(text,tabID){API.Chrome.Icon.setBadgeText({tabId:tabID=tabID||null,text:text})}getColor(colorName){return"string"==typeof colorName&&this.color[colorName.toUpperCase()]||null}getIconURL(type){return this.icon[(type="string"==typeof type&&type?type:"DEFAULT").toUpperCase()]}async isOnboardingIcon(){return!await API.Requirements.isOnboardingCompleted()}}});