define(["core/CoreAPI","components/OnboardingOverlay/OnboardingOverlayView","components/OnboardingOverlay/OnboardingOverlayModel"],function(API,View,Model){return class{view=null;model=null;constructor(){this.model=new Model,this.view=new View}async init(){await Promise.all([API.Settings.initAsync(),API.Requirements.init()]),this.mountView()}async mountView(){var referrer=location.hostname+location.pathname;!this.isOptionsPage()&&!this.isBlockedPage()||await API.Requirements.isOnboardingCompleted()||this.view.init(referrer)}isExtensionPage(){return location.hostname===API.Chrome.Extension.getID()}isOptionsPage(){return this.isExtensionPage()&&"/options.html"===location.pathname}isBlockedPage(){return location.hostname.endsWith("stayfocusd.com")}}});