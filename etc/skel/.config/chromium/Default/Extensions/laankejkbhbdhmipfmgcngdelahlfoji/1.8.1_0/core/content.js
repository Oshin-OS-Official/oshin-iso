requirejs.config({baseUrl:chrome.extension.getURL("/"),waitSeconds:60}),requirejs(["core/Logger","core/vendor/jquery.min","core/SmartBomb","core/ReferrerMonitor"],function(Logger,$,SmartBomb,ReferrerMonitor){API.Settings.init(function(){var extensionID=API.Chrome.Extension.getID();API.Chrome.Message.on.addListener(function(request,sender,callback){return request.payload=request.payload||{},request.payload.sender=sender||{},sender.tab||API.PubSub.publish({message:request.message,payload:request.payload,onPublish:"function"==typeof callback?callback:function(){}}),!0}),API.PubSub.subscribe({async:!0,handler:function(message,payload,callback){return callback="function"==typeof callback?callback:function(){return!0},(payload=payload||{}).sender&&payload.sender.id===extensionID||API.Chrome.Message.send(null,{message:message.toString(),payload:payload},null,callback),!0}}),$(window).scroll(function(){$("#StayFocusd-still-there").css("top",$(this).scrollTop()+"px"),$("#StayFocusd-infobar").css("top",$(this).scrollTop()+"px")}),$(document).ready(function(){ReferrerMonitor.init(),SmartBomb.init(),API.Component.load({name:"ActivityMonitor",instance:"activityMonitor",view:"overlay",onLoaded:function(component){component.controller.init()}}),API.Component.load({name:"InfoBar",instance:"infoBar",onLoaded:function(component){component.controller.init()}}),API.Component.load({name:"OnboardingOverlay",instance:"onboardingOverlay",onLoaded(component){component.controller.init()}}),API.Component.load({name:"BlockedPageOnboardingRequiredOverlay",instance:"blockedPageOnboardingRequiredOverlay",onLoaded(component){component.controller.init()}}),location.href.startsWith("https://www.stayfocusd.com")&&require(["components/UsageSummary/UsageSummaryController"],Controller=>{(new Controller).init()})})})});