define(["core/CoreAPI","core/vendor/Brightline.min","core/vendor/DropletJS.PubSub.min","core/vendor/text!components/Prompt/PromptReview/template.html"],(API,Brightline,PubSub,promptReviewTpl)=>{var log=API.Utils.createScopedLog("PromptReviewView");return class{constructor(){log("construct","Constructing PromptReviewView",null,"DEBUG")}init(){log("init","Initializing view",null,"DEBUG");var html=new Brightline(promptReviewTpl).render();this.isOptionsPage()?(document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",html),document.getElementById("promptingReview").classList.add("fixed-bottom-block")):(document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",html),document.getElementById("promptingReview").classList.add("fixed-bottom-block-popup")),API.StayFocusd.localizeHTML(document),this.bindUIHandlers()}isExtensionPage(){return location.hostname===API.Chrome.Extension.getID()}isOptionsPage(){return this.isExtensionPage()&&"/options.html"===location.pathname}closePrompting(){document.getElementById("promptingReview").classList.add("hidden")}bindUIHandlers(){log("bindUIHandlers","Binding UI handlers",null,"TRACE"),document.getElementById("btnOpenStore").addEventListener("click",()=>{PubSub.publish("PromptReview.openStore"),this.closePrompting()}),document.getElementById("closePromptingReview").addEventListener("click",()=>{this.closePrompting(),PubSub.publish("PromptReview.close")}),API.Analytics.bindHtmlEvents()}}});