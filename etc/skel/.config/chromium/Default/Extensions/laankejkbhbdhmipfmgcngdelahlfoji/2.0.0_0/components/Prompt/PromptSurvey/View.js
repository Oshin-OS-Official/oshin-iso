define(["core/CoreAPI","core/vendor/Brightline.min","core/vendor/DropletJS.PubSub.min","core/vendor/text!components/Prompt/PromptSurvey/template.html"],(API,Brightline,PubSub,promptSurveyTpl)=>{var log=API.Utils.createScopedLog("PromptSurveyView");return class{constructor(){log("construct","Constructing PromptSurveyView",null,"DEBUG")}init(){log("init","Initializing view",null,"DEBUG");var html=new Brightline(promptSurveyTpl).render();document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",html),document.getElementById("promptingSurvey").classList.add("fixed-bottom-block-popup"),API.StayFocusd.localizeHTML(document),this.bindUIHandlers()}closePrompting(){document.getElementById("promptingSurvey").classList.add("hidden")}bindUIHandlers(){log("bindUIHandlers","Binding UI handlers",null,"TRACE"),document.getElementById("linkOpenSurvey").addEventListener("click",()=>{PubSub.publish("PromptSurvey.openSurvey"),this.closePrompting()}),document.getElementById("closePromptingSurvey").addEventListener("click",()=>{this.closePrompting(),PubSub.publish("PromptSurvey.close")}),API.Analytics.bindHtmlEvents()}}});