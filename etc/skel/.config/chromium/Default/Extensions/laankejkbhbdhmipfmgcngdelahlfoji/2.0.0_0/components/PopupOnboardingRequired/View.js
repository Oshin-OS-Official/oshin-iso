define(["core/CoreAPI","core/vendor/Brightline.min","core/vendor/DropletJS.PubSub.min","core/vendor/text!components/PopupOnboardingRequired/template.html"],(API,Brightline,PubSub,popupOnboardingRequiredTpl)=>{var log=API.Utils.createScopedLog("PopupOnboardingRequiredView");return class{constructor(){log("constructor","Constructing PopupOnboardingRequiredView",null,"DEBUG")}init(){log("init","Initializing view",null,"DEBUG");var template=new Brightline(popupOnboardingRequiredTpl),template=(document.body.innerHTML+=template.render(),API.Settings.get("hasAcceptedToS"));this.setVisible("tosMessage",!template),this.setVisible("privacyPolicyMessage",template),API.StayFocusd.localizeHTML(document),this.bindUIHandlers()}setVisible(id,isVisible){id=document.getElementById(id);id&&(isVisible?id.classList.remove("hidden"):id.classList.add("hidden"))}bindUIHandlers(){log("bindUIHandlers","Binding UI handlers",null,"TRACE"),document.querySelectorAll(".btn").forEach(btn=>{btn.addEventListener("click",()=>{PubSub.publish("PopupOnboardingRequired.button.clicked",{id:btn.id})})}),API.Analytics.bindHtmlEvents()}}});