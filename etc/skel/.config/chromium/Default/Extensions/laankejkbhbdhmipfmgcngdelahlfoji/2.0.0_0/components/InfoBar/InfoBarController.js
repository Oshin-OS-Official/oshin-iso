define(["core/Logger","core/CoreAPI"],function(Logger,API){function log(originator,funcName,message,payload,level){Logger.log(originator+"."+funcName,message,payload,level)}return class{view=null;model=null;init(){log(this.originator,"init","Initializing controller",null,"DEBUG"),this.addListeners(),this.view.init()}addListeners(){log(this.originator,"addListeners","Adding listeners",null,"TRACE");var self=this;API.PubSub.listen("*.countdown.started.BLOCKED_BY_REFERRER",function(message,payload){self.model.hasBeenShown(payload.url,"BLOCKED_BY_REFERRER")||(self.view.show("BLOCKED_BY_REFERRER"),self.model.setShown(payload.url,"BLOCKED_BY_REFERRER"))})}}});