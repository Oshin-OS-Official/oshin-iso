define(["core/Logger","core/CoreAPI"],function(Logger,API){function log(originator,funcName,message,payload,level){Logger.log(originator+"."+funcName,message,payload,level)}return class{hidden=null;infoBarShown={BLOCKED_BY_REFERRER:{}};isHidden(){return null===this.hidden&&(this.hidden=!0===API.Settings.get("hideInfoBar")),!0===this.hidden}setHidden(hidden){log(this.originator,"setHidden","Setting InfoBar to hidden"),API.Settings.set({hideInfoBar:hidden}),this.hidden=hidden}hasBeenShown(url,msgType){url=encodeURIComponent(url);return!0===this.infoBarShown[msgType][url]}setShown(url,msgType){url=encodeURIComponent(url);this.infoBarShown[msgType][url]=!0}getMessage(msgType){if(log(this.originator,"getMessage","Getting message: "+msgType,null,"DEBUG"),"BLOCKED_BY_REFERRER"===msgType)return API.Chrome.Translation.get("infoBarBlockedByReferrer")}}});