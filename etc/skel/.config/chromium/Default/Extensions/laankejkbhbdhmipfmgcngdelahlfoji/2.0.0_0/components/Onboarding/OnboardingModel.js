define(["core/CoreAPI"],function(API){var log=API.Utils.createScopedLog("OnboardingModel");return class{referrer=null;hasAcceptedToS=null;hasAcceptedPrivacyPolicy=null;is18OrOlder=null;age=null;isExistingUser=null;explicitlyDeclinedPrivacyPolicy=null;shownCount=null;confirmationCount=null;constructor(){log("constructor","Constructing OnboardingModel",null,"DEBUG");var queryParams=new URL(window.location.href).searchParams;this.referrer=queryParams.get("referrer"),this.isExistingUser=!API.Settings.get("isNewUser"),this.hasAcceptedToS=API.Settings.get("hasAcceptedToS")??!0,this.hasAcceptedPrivacyPolicy=API.Settings.get("hasAcceptedPrivacyPolicy")??!0,this.is18OrOlder=API.Settings.get("is18OrOlder")??!0,this.age=API.Settings.get("age"),this.explicitlyDeclinedPrivacyPolicy=API.Settings.get("explicitlyDeclinedPrivacyPolicy"),this.isConfirmingPrivacy&&(this.hasAcceptedPrivacyPolicy=!0)}async init(){log("init","Initializing model",null,"DEBUG"),this.shownCount=await API.Requirements.getOnboardingShownCount(),this.confirmationCount=await API.Requirements.getConfirmationCount()}get isConfirmingPrivacy(){return!1!==API.Settings.get("hasAcceptedToS")&&!1===API.Settings.get("hasAcceptedPrivacyPolicy")}async incrementConfirmationCount(){await API.Requirements.incrementConfirmationCount(),this.confirmationCount++}}});