define(["core/Logger","core/ObjectUtils"],function(Logger,ObjectUtils){var mixins,mixinTemp;return mixins={},mixinTemp=null,mixin({mixin:mixin}),mixins;function mixin(){var level,funcName,message,payload,args=Array.prototype.slice.call(arguments),name="",mixinObj=null;if(0===args.length)throw new TypeError("Mixin has no arguments");funcName="mixin",message="Adding mixin to API",payload=args,level="DEBUG",Logger.log("API."+funcName,message,payload,level),2===args.length&&"string"==typeof args[0]?(name=args[0],"object"==typeof args[1]&&null!==args[1]?mixinObj=args[1]:"function"==typeof args[1]&&(mixinObj=args[1]()),mixinObj&&(-1<name.indexOf(".")?(message=(funcName=name.split(".")).pop(),payload={},mixinTemp=mixinTemp||ObjectUtils.lookup(name,mixins),payload[message]=mixinTemp?ObjectUtils.merge(mixinTemp,mixinObj,!0):mixinObj,mixin(funcName.join("."),payload)):(name in mixins?mixins[name]=ObjectUtils.merge(mixins[name],mixinObj):mixins[name]=mixinObj,mixinTemp=null))):1===args.length&&"object"==typeof args[0]&&null!==args[0]?mixins=ObjectUtils.merge(mixins,args[0]):1===args.length&&"function"==typeof args[0]&&"object"==typeof(mixinObj=args[0]())&&null!==mixinObj&&(mixins=ObjectUtils.merge(mixins,mixinObj))}});